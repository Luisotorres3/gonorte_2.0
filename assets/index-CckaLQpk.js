(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Dj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c0={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2;function Ij(){if(u2)return Nu;u2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Nu.Fragment=e,Nu.jsx=n,Nu.jsxs=n,Nu}var d2;function Mj(){return d2||(d2=1,c0.exports=Ij()),c0.exports}var c=Mj(),u0={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2;function Oj(){if(h2)return Je;h2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function O(F,ne,pe){this.props=F,this.context=ne,this.refs=j,this.updater=pe||T}O.prototype.isReactComponent={},O.prototype.setState=function(F,ne){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ne,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=O.prototype;function z(F,ne,pe){this.props=F,this.context=ne,this.refs=j,this.updater=pe||T}var L=z.prototype=new M;L.constructor=z,_(L,O.prototype),L.isPureReactComponent=!0;var q=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function P(F,ne,pe,oe,Te,De){return pe=De.ref,{$$typeof:t,type:F,key:ne,ref:pe!==void 0?pe:null,props:De}}function N(F,ne){return P(F.type,ne,void 0,void 0,void 0,F.props)}function S(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function I(F){var ne={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return ne[pe]})}var B=/\/+/g;function $(F,ne){return typeof F=="object"&&F!==null&&F.key!=null?I(""+F.key):ne.toString(36)}function U(){}function ye(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(ne){F.status==="pending"&&(F.status="fulfilled",F.value=ne)},function(ne){F.status==="pending"&&(F.status="rejected",F.reason=ne)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ke(F,ne,pe,oe,Te){var De=typeof F;(De==="undefined"||De==="boolean")&&(F=null);var Pe=!1;if(F===null)Pe=!0;else switch(De){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(F.$$typeof){case t:case e:Pe=!0;break;case x:return Pe=F._init,ke(Pe(F._payload),ne,pe,oe,Te)}}if(Pe)return Te=Te(F),Pe=oe===""?"."+$(F,0):oe,q(Te)?(pe="",Pe!=null&&(pe=Pe.replace(B,"$&/")+"/"),ke(Te,ne,pe,"",function(Qe){return Qe})):Te!=null&&(S(Te)&&(Te=N(Te,pe+(Te.key==null||F&&F.key===Te.key?"":(""+Te.key).replace(B,"$&/")+"/")+Pe)),ne.push(Te)),1;Pe=0;var At=oe===""?".":oe+":";if(q(F))for(var le=0;le<F.length;le++)oe=F[le],De=At+$(oe,le),Pe+=ke(oe,ne,pe,De,Te);else if(le=b(F),typeof le=="function")for(F=le.call(F),le=0;!(oe=F.next()).done;)oe=oe.value,De=At+$(oe,le++),Pe+=ke(oe,ne,pe,De,Te);else if(De==="object"){if(typeof F.then=="function")return ke(ye(F),ne,pe,oe,Te);throw ne=String(F),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function Y(F,ne,pe){if(F==null)return F;var oe=[],Te=0;return ke(F,oe,"","",function(De){return ne.call(pe,De,Te++)}),oe}function ie(F){if(F._status===-1){var ne=F._result;ne=ne(),ne.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=ne)}if(F._status===1)return F._result.default;throw F._result}var te=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ve(){}return Je.Children={map:Y,forEach:function(F,ne,pe){Y(F,function(){ne.apply(this,arguments)},pe)},count:function(F){var ne=0;return Y(F,function(){ne++}),ne},toArray:function(F){return Y(F,function(ne){return ne})||[]},only:function(F){if(!S(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Je.Component=O,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=z,Je.StrictMode=r,Je.Suspense=f,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Je.__COMPILER_RUNTIME={__proto__:null,c:function(F){return V.H.useMemoCache(F)}},Je.cache=function(F){return function(){return F.apply(null,arguments)}},Je.cloneElement=function(F,ne,pe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var oe=_({},F.props),Te=F.key,De=void 0;if(ne!=null)for(Pe in ne.ref!==void 0&&(De=void 0),ne.key!==void 0&&(Te=""+ne.key),ne)!D.call(ne,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ne.ref===void 0||(oe[Pe]=ne[Pe]);var Pe=arguments.length-2;if(Pe===1)oe.children=pe;else if(1<Pe){for(var At=Array(Pe),le=0;le<Pe;le++)At[le]=arguments[le+2];oe.children=At}return P(F.type,Te,void 0,void 0,De,oe)},Je.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Je.createElement=function(F,ne,pe){var oe,Te={},De=null;if(ne!=null)for(oe in ne.key!==void 0&&(De=""+ne.key),ne)D.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Te[oe]=ne[oe]);var Pe=arguments.length-2;if(Pe===1)Te.children=pe;else if(1<Pe){for(var At=Array(Pe),le=0;le<Pe;le++)At[le]=arguments[le+2];Te.children=At}if(F&&F.defaultProps)for(oe in Pe=F.defaultProps,Pe)Te[oe]===void 0&&(Te[oe]=Pe[oe]);return P(F,De,void 0,void 0,null,Te)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(F){return{$$typeof:d,render:F}},Je.isValidElement=S,Je.lazy=function(F){return{$$typeof:x,_payload:{_status:-1,_result:F},_init:ie}},Je.memo=function(F,ne){return{$$typeof:m,type:F,compare:ne===void 0?null:ne}},Je.startTransition=function(F){var ne=V.T,pe={};V.T=pe;try{var oe=F(),Te=V.S;Te!==null&&Te(pe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ve,te)}catch(De){te(De)}finally{V.T=ne}},Je.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Je.use=function(F){return V.H.use(F)},Je.useActionState=function(F,ne,pe){return V.H.useActionState(F,ne,pe)},Je.useCallback=function(F,ne){return V.H.useCallback(F,ne)},Je.useContext=function(F){return V.H.useContext(F)},Je.useDebugValue=function(){},Je.useDeferredValue=function(F,ne){return V.H.useDeferredValue(F,ne)},Je.useEffect=function(F,ne,pe){var oe=V.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(F,ne)},Je.useId=function(){return V.H.useId()},Je.useImperativeHandle=function(F,ne,pe){return V.H.useImperativeHandle(F,ne,pe)},Je.useInsertionEffect=function(F,ne){return V.H.useInsertionEffect(F,ne)},Je.useLayoutEffect=function(F,ne){return V.H.useLayoutEffect(F,ne)},Je.useMemo=function(F,ne){return V.H.useMemo(F,ne)},Je.useOptimistic=function(F,ne){return V.H.useOptimistic(F,ne)},Je.useReducer=function(F,ne,pe){return V.H.useReducer(F,ne,pe)},Je.useRef=function(F){return V.H.useRef(F)},Je.useState=function(F){return V.H.useState(F)},Je.useSyncExternalStore=function(F,ne,pe){return V.H.useSyncExternalStore(F,ne,pe)},Je.useTransition=function(){return V.H.useTransition()},Je.version="19.1.0",Je}var f2;function ry(){return f2||(f2=1,u0.exports=Oj()),u0.exports}var C=ry();const Cs=Dj(C);var d0={exports:{}},Au={},h0={exports:{}},f0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2;function Lj(){return m2||(m2=1,function(t){function e(Y,ie){var te=Y.length;Y.push(ie);e:for(;0<te;){var ve=te-1>>>1,F=Y[ve];if(0<i(F,ie))Y[ve]=ie,Y[te]=F,te=ve;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ie=Y[0],te=Y.pop();if(te!==ie){Y[0]=te;e:for(var ve=0,F=Y.length,ne=F>>>1;ve<ne;){var pe=2*(ve+1)-1,oe=Y[pe],Te=pe+1,De=Y[Te];if(0>i(oe,te))Te<F&&0>i(De,oe)?(Y[ve]=De,Y[Te]=te,ve=Te):(Y[ve]=oe,Y[pe]=te,ve=pe);else if(Te<F&&0>i(De,te))Y[ve]=De,Y[Te]=te,ve=Te;else break e}}return ie}function i(Y,ie){var te=Y.sortIndex-ie.sortIndex;return te!==0?te:Y.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],m=[],x=1,v=null,b=3,T=!1,_=!1,j=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function q(Y){for(var ie=n(m);ie!==null;){if(ie.callback===null)r(m);else if(ie.startTime<=Y)r(m),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=n(m)}}function V(Y){if(j=!1,q(Y),!_)if(n(f)!==null)_=!0,D||(D=!0,$());else{var ie=n(m);ie!==null&&ke(V,ie.startTime-Y)}}var D=!1,P=-1,N=5,S=-1;function I(){return O?!0:!(t.unstable_now()-S<N)}function B(){if(O=!1,D){var Y=t.unstable_now();S=Y;var ie=!0;try{e:{_=!1,j&&(j=!1,z(P),P=-1),T=!0;var te=b;try{t:{for(q(Y),v=n(f);v!==null&&!(v.expirationTime>Y&&I());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,b=v.priorityLevel;var F=ve(v.expirationTime<=Y);if(Y=t.unstable_now(),typeof F=="function"){v.callback=F,q(Y),ie=!0;break t}v===n(f)&&r(f),q(Y)}else r(f);v=n(f)}if(v!==null)ie=!0;else{var ne=n(m);ne!==null&&ke(V,ne.startTime-Y),ie=!1}}break e}finally{v=null,b=te,T=!1}ie=void 0}}finally{ie?$():D=!1}}}var $;if(typeof L=="function")$=function(){L(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ye=U.port2;U.port1.onmessage=B,$=function(){ye.postMessage(null)}}else $=function(){M(B,0)};function ke(Y,ie){P=M(function(){Y(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var te=b;b=ie;try{return Y()}finally{b=te}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var te=b;b=Y;try{return ie()}finally{b=te}},t.unstable_scheduleCallback=function(Y,ie,te){var ve=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ve+te:ve):te=ve,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=te+F,Y={id:x++,callback:ie,priorityLevel:Y,startTime:te,expirationTime:F,sortIndex:-1},te>ve?(Y.sortIndex=te,e(m,Y),n(f)===null&&Y===n(m)&&(j?(z(P),P=-1):j=!0,ke(V,te-ve))):(Y.sortIndex=F,e(f,Y),_||T||(_=!0,D||(D=!0,$()))),Y},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(Y){var ie=b;return function(){var te=b;b=ie;try{return Y.apply(this,arguments)}finally{b=te}}}}(f0)),f0}var p2;function Vj(){return p2||(p2=1,h0.exports=Lj()),h0.exports}var m0={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function Uj(){if(g2)return Bn;g2=1;var t=ry();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:f,containerInfo:m,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bn.createPortal=function(f,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,x)},Bn.flushSync=function(f){var m=u.T,x=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=x,r.d.f()}},Bn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Bn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Bn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var x=m.as,v=d(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:T}):x==="script"&&r.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Bn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Bn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=d(x,m.crossOrigin);r.d.L(f,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Bn.preloadModule=function(f,m){if(typeof f=="string")if(m){var x=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Bn.requestFormReset=function(f){r.d.r(f)},Bn.unstable_batchedUpdates=function(f,m){return f(m)},Bn.useFormState=function(f,m,x){return u.H.useFormState(f,m,x)},Bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Bn.version="19.1.0",Bn}var x2;function v_(){if(x2)return m0.exports;x2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m0.exports=Uj(),m0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function zj(){if(y2)return Au;y2=1;var t=Vj(),e=ry(),n=v_();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function u(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var l=a,h=s;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return d(g),a;if(y===h)return d(g),s;y=y.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=y;else{for(var E=!1,A=g.child;A;){if(A===l){E=!0,l=g,h=y;break}if(A===h){E=!0,h=g,l=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===l){E=!0,l=y,h=g;break}if(A===h){E=!0,h=y,l=g;break}A=A.sibling}if(!E)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function ye(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case O:return"Profiler";case j:return"StrictMode";case V:return"Suspense";case D:return"SuspenseList";case S:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case L:return(a.displayName||"Context")+".Provider";case z:return(a._context.displayName||"Context")+".Consumer";case q:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return s=a.displayName||null,s!==null?s:ye(a.type)||"Memo";case N:s=a._payload,a=a._init;try{return ye(a(s))}catch{}}return null}var ke=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ve=[],F=-1;function ne(a){return{current:a}}function pe(a){0>F||(a.current=ve[F],ve[F]=null,F--)}function oe(a,s){F++,ve[F]=a.current,a.current=s}var Te=ne(null),De=ne(null),Pe=ne(null),At=ne(null);function le(a,s){switch(oe(Pe,s),oe(De,a),oe(Te,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?Vw(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=Vw(s),a=Uw(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}pe(Te),oe(Te,a)}function Qe(){pe(Te),pe(De),pe(Pe)}function we(a){a.memoizedState!==null&&oe(At,a);var s=Te.current,l=Uw(s,a.type);s!==l&&(oe(De,a),oe(Te,l))}function ue(a){De.current===a&&(pe(Te),pe(De)),At.current===a&&(pe(At),Tu._currentValue=te)}var Oe=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,Ct=t.unstable_cancelCallback,It=t.unstable_shouldYield,Bi=t.unstable_requestPaint,An=t.unstable_now,ia=t.unstable_getCurrentPriorityLevel,sa=t.unstable_ImmediatePriority,qi=t.unstable_UserBlockingPriority,Ja=t.unstable_NormalPriority,oa=t.unstable_LowPriority,Pr=t.unstable_IdlePriority,Hi=t.log,Gi=t.unstable_setDisableYieldValue,wt=null,tt=null;function Un(a){if(typeof Hi=="function"&&Gi(a),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(wt,a)}catch{}}var on=Math.clz32?Math.clz32:Ta,nl=Math.log,Dr=Math.LN2;function Ta(a){return a>>>=0,a===0?32:31-(nl(a)/Dr|0)|0}var ka=256,Ea=4194304;function pr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ei(a,s,l){var h=a.pendingLanes;if(h===0)return 0;var g=0,y=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var A=h&134217727;return A!==0?(h=A&~y,h!==0?g=pr(h):(E&=A,E!==0?g=pr(E):l||(l=A&~a,l!==0&&(g=pr(l))))):(A=h&~y,A!==0?g=pr(A):E!==0?g=pr(E):l||(l=h&~a,l!==0&&(g=pr(l)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:g}function Ir(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function $i(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var a=ka;return ka<<=1,(ka&4194048)===0&&(ka=256),a}function Zs(){var a=Ea;return Ea<<=1,(Ea&62914560)===0&&(Ea=4194304),a}function Mr(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function la(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ki(a,s,l,h,g,y){var E=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var A=a.entanglements,H=a.expirationTimes,ee=a.hiddenUpdates;for(l=E&~l;0<l;){var ce=31-on(l),fe=1<<ce;A[ce]=0,H[ce]=-1;var re=ee[ce];if(re!==null)for(ee[ce]=null,ce=0;ce<re.length;ce++){var ae=re[ce];ae!==null&&(ae.lane&=-536870913)}l&=~fe}h!==0&&Yn(a,h,0),y!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=y&~(E&~s))}function Yn(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var h=31-on(s);a.entangledLanes|=s,a.entanglements[h]=a.entanglements[h]|1073741824|l&4194090}function _a(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var h=31-on(l),g=1<<h;g&s|a[h]&s&&(a[h]|=s),l&=~g}}function Sa(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Yi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function G(){var a=ie.p;return a!==0?a:(a=window.event,a===void 0?32:a2(a.type))}function X(a,s){var l=ie.p;try{return ie.p=a,s()}finally{ie.p=l}}var J=Math.random().toString(36).slice(2),he="__reactFiber$"+J,xe="__reactProps$"+J,Ee="__reactContainer$"+J,Ve="__reactEvents$"+J,Ne="__reactListeners$"+J,je="__reactHandles$"+J,Ie="__reactResources$"+J,Ue="__reactMarker$"+J;function Re(a){delete a[he],delete a[xe],delete a[Ve],delete a[Ne],delete a[je]}function Fe(a){var s=a[he];if(s)return s;for(var l=a.parentNode;l;){if(s=l[Ee]||l[he]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=qw(a);a!==null;){if(l=a[he])return l;a=qw(a)}return s}a=l,l=a.parentNode}return null}function ot(a){if(a=a[he]||a[Ee]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function kt(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function vt(a){var s=a[Ie];return s||(s=a[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ft(a){a[Ue]=!0}var at=new Set,Or={};function pn(a,s){Qn(a,s),Qn(a+"Capture",s)}function Qn(a,s){for(Or[a]=s,a=0;a<s.length;a++)at.add(s[a])}var Cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Na={},gr={};function Qi(a){return Oe.call(gr,a)?!0:Oe.call(Na,a)?!1:Cn.test(a)?gr[a]=!0:(Na[a]=!0,!1)}function zn(a,s,l){if(Qi(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function Xn(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function Ke(a,s,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+h)}}var ln,xr;function ar(a){if(ln===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ln=s&&s[1]||"",xr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ln+a+xr}var Aa=!1;function Mt(a,s){if(!a||Aa)return"";Aa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ae){var re=ae}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(ae){re=ae}a.call(fe.prototype)}}else{try{throw Error()}catch(ae){re=ae}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ae){if(ae&&re&&typeof ae.stack=="string")return[ae.stack,re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),E=y[0],A=y[1];if(E&&A){var H=E.split(`
`),ee=A.split(`
`);for(g=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(h===H.length||g===ee.length)for(h=H.length-1,g=ee.length-1;1<=h&&0<=g&&H[h]!==ee[g];)g--;for(;1<=h&&0<=g;h--,g--)if(H[h]!==ee[g]){if(h!==1||g!==1)do if(h--,g--,0>g||H[h]!==ee[g]){var ce=`
`+H[h].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=h&&0<=g);break}}}finally{Aa=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?ar(l):""}function Lr(a){switch(a.tag){case 26:case 27:case 5:return ar(a.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return Mt(a.type,!1);case 11:return Mt(a.type.render,!1);case 1:return Mt(a.type,!0);case 31:return ar("Activity");default:return""}}function ni(a){try{var s="";do s+=Lr(a),a=a.return;while(a);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function jn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function jc(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fp(a){var s=jc(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),h=""+a[s];if(!a.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return g.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(a,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function rl(a){a._valueTracker||(a._valueTracker=fp(a))}function Rc(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return a&&(h=jc(a)?a.checked?"true":"false":a.value),a=h,a!==l?(s.setValue(a),!0):!1}function Js(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var mp=/[\n"\\]/g;function cn(a){return a.replace(mp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yr(a,s,l,h,g,y,E,A){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),s!=null?E==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+jn(s)):a.value!==""+jn(s)&&(a.value=""+jn(s)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),s!=null?Xi(a,E,jn(s)):l!=null?Xi(a,E,jn(l)):h!=null&&a.removeAttribute("value"),g==null&&y!=null&&(a.defaultChecked=!!y),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+jn(A):a.removeAttribute("name")}function eo(a,s,l,h,g,y,E,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+jn(l):"",s=s!=null?""+jn(s):l,A||s===a.value||(a.value=s),a.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=A?a.checked:!!h,a.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E)}function Xi(a,s,l){s==="number"&&Js(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function ri(a,s,l,h){if(a=a.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<a.length;l++)g=s.hasOwnProperty("$"+a[l].value),a[l].selected!==g&&(a[l].selected=g),g&&h&&(a[l].defaultSelected=!0)}else{for(l=""+jn(l),s=null,g=0;g<a.length;g++){if(a[g].value===l){a[g].selected=!0,h&&(a[g].defaultSelected=!0);return}s!==null||a[g].disabled||(s=a[g])}s!==null&&(s.selected=!0)}}function jt(a,s,l){if(s!=null&&(s=""+jn(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+jn(l):""}function to(a,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(ke(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=jn(s),a.defaultValue=l,h=a.textContent,h===l&&h!==""&&h!==null&&(a.value=h)}function Vr(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var no=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zd(a,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":h?a.setProperty(s,l):typeof l!="number"||l===0||no.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function Pc(a,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&l[g]!==h&&Zd(a,g,h)}else for(var y in s)s.hasOwnProperty(y)&&Zd(a,y,s[y])}function Dc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(a){return gp.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ai=null;function Ur(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ii=null,si=null;function Ic(a){var s=ot(a);if(s&&(a=s.stateNode)){var l=a[xe]||null;e:switch(a=s.stateNode,s.type){case"input":if(yr(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+cn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==a&&h.form===a.form){var g=h[xe]||null;if(!g)throw Error(r(90));yr(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===a.form&&Rc(h)}break e;case"textarea":jt(a,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ri(a,!!l.multiple,s,!1)}}}var Ca=!1;function Jd(a,s,l){if(Ca)return a(s,l);Ca=!0;try{var h=a(s);return h}finally{if(Ca=!1,(ii!==null||si!==null)&&($h(),ii&&(s=ii,a=si,si=ii=null,Ic(s),a)))for(s=0;s<a.length;s++)Ic(a[s])}}function ro(a,s){var l=a.stateNode;if(l===null)return null;var h=l[xe]||null;if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(ca)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){zr=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{zr=!1}var ja=null,Wi=null,oi=null;function Mc(){if(oi)return oi;var a,s=Wi,l=s.length,h,g="value"in ja?ja.value:ja.textContent,y=g.length;for(a=0;a<l&&s[a]===g[a];a++);var E=l-a;for(h=1;h<=E&&s[l-h]===g[y-h];h++);return oi=g.slice(a,1<h?1-h:void 0)}function Ra(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Pa(){return!0}function Oc(){return!1}function Tn(a){function s(l,h,g,y,E){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(l=a[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Pa:Oc,this.isPropagationStopped=Oc,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),s}var Et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Tn(Et),io=x({},Et,{view:0,detail:0}),eh=Tn(io),sl,ol,Da,so=x({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Da&&(Da&&a.type==="mousemove"?(sl=a.screenX-Da.screenX,ol=a.screenY-Da.screenY):ol=sl=0,Da=a),sl)},movementY:function(a){return"movementY"in a?a.movementY:ol}}),Fr=Tn(so),th=x({},so,{dataTransfer:0}),xp=Tn(th),oo=x({},io,{relatedTarget:0}),ll=Tn(oo),Lc=x({},Et,{animationName:0,elapsedTime:0,pseudoElement:0}),cl=Tn(Lc),nh=x({},Et,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ul=Tn(nh),yp=x({},Et,{data:0}),Vc=Tn(yp),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uc(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=ah[a])?!!s[a]:!1}function co(){return Uc}var ih=x({},io,{key:function(a){if(a.key){var s=lo[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Ra(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?rh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(a){return a.type==="keypress"?Ra(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ra(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),dl=Tn(ih),sh=x({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=Tn(sh),li=x({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),oh=Tn(li),lh=x({},Et,{propertyName:0,elapsedTime:0,pseudoElement:0}),ch=Tn(lh),uh=x({},so,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),hl=Tn(uh),Wn=x({},Et,{newState:0,oldState:0}),dh=Tn(Wn),hh=[9,13,27,32],Ia=ca&&"CompositionEvent"in window,p=null;ca&&"documentMode"in document&&(p=document.documentMode);var w=ca&&"TextEvent"in window&&!p,k=ca&&(!Ia||p&&8<p&&11>=p),R=" ",W=!1;function se(a,s){switch(a){case"keyup":return hh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var pt=!1;function gn(a,s){switch(a){case"compositionend":return be(s);case"keypress":return s.which!==32?null:(W=!0,R);case"textInput":return a=s.data,a===R&&W?null:a;default:return null}}function gt(a,s){if(pt)return a==="compositionend"||!Ia&&se(a,s)?(a=Mc(),oi=Wi=ja=null,pt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return k&&s.locale!=="ko"?null:s.data;default:return null}}var kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!kn[a.type]:s==="textarea"}function ci(a,s,l,h){ii?si?si.push(h):si=[h]:ii=h,s=Zh(s,"onChange"),0<s.length&&(l=new il("onChange","change",null,l,h),a.push({event:l,listeners:s}))}var Rn=null,Ma=null;function Fc(a){Dw(a,0)}function fh(a){var s=kt(a);if(Rc(s))return a}function eb(a,s){if(a==="change")return s}var tb=!1;if(ca){var vp;if(ca){var bp="oninput"in document;if(!bp){var nb=document.createElement("div");nb.setAttribute("oninput","return;"),bp=typeof nb.oninput=="function"}vp=bp}else vp=!1;tb=vp&&(!document.documentMode||9<document.documentMode)}function rb(){Rn&&(Rn.detachEvent("onpropertychange",ab),Ma=Rn=null)}function ab(a){if(a.propertyName==="value"&&fh(Ma)){var s=[];ci(s,Ma,a,Ur(a)),Jd(Fc,s)}}function c6(a,s,l){a==="focusin"?(rb(),Rn=s,Ma=l,Rn.attachEvent("onpropertychange",ab)):a==="focusout"&&rb()}function u6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return fh(Ma)}function d6(a,s){if(a==="click")return fh(s)}function h6(a,s){if(a==="input"||a==="change")return fh(s)}function f6(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var vr=typeof Object.is=="function"?Object.is:f6;function Bc(a,s){if(vr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Oe.call(s,g)||!vr(a[g],s[g]))return!1}return!0}function ib(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function sb(a,s){var l=ib(a);a=0;for(var h;l;){if(l.nodeType===3){if(h=a+l.textContent.length,a<=s&&h>=s)return{node:l,offset:s-a};a=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ib(l)}}function ob(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?ob(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function lb(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Js(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)a=s.contentWindow;else break;s=Js(a.document)}return s}function wp(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var m6=ca&&"documentMode"in document&&11>=document.documentMode,fl=null,Tp=null,qc=null,kp=!1;function cb(a,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;kp||fl==null||fl!==Js(h)||(h=fl,"selectionStart"in h&&wp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),qc&&Bc(qc,h)||(qc=h,h=Zh(Tp,"onSelect"),0<h.length&&(s=new il("onSelect","select",null,s,l),a.push({event:s,listeners:h}),s.target=fl)))}function uo(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var ml={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionrun:uo("Transition","TransitionRun"),transitionstart:uo("Transition","TransitionStart"),transitioncancel:uo("Transition","TransitionCancel"),transitionend:uo("Transition","TransitionEnd")},Ep={},ub={};ca&&(ub=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function ho(a){if(Ep[a])return Ep[a];if(!ml[a])return a;var s=ml[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in ub)return Ep[a]=s[l];return a}var db=ho("animationend"),hb=ho("animationiteration"),fb=ho("animationstart"),p6=ho("transitionrun"),g6=ho("transitionstart"),x6=ho("transitioncancel"),mb=ho("transitionend"),pb=new Map,_p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_p.push("scrollEnd");function ua(a,s){pb.set(a,s),pn(s,[a])}var gb=new WeakMap;function Br(a,s){if(typeof a=="object"&&a!==null){var l=gb.get(a);return l!==void 0?l:(s={value:a,source:s,stack:ni(s)},gb.set(a,s),s)}return{value:a,source:s,stack:ni(s)}}var qr=[],pl=0,Sp=0;function mh(){for(var a=pl,s=Sp=pl=0;s<a;){var l=qr[s];qr[s++]=null;var h=qr[s];qr[s++]=null;var g=qr[s];qr[s++]=null;var y=qr[s];if(qr[s++]=null,h!==null&&g!==null){var E=h.pending;E===null?g.next=g:(g.next=E.next,E.next=g),h.pending=g}y!==0&&xb(l,g,y)}}function ph(a,s,l,h){qr[pl++]=a,qr[pl++]=s,qr[pl++]=l,qr[pl++]=h,Sp|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Np(a,s,l,h){return ph(a,s,l,h),gh(a)}function gl(a,s){return ph(a,null,null,s),gh(a)}function xb(a,s,l){a.lanes|=l;var h=a.alternate;h!==null&&(h.lanes|=l);for(var g=!1,y=a.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(g=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,g&&s!==null&&(g=31-on(l),a=y.hiddenUpdates,h=a[g],h===null?a[g]=[s]:h.push(s),s.lane=l|536870912),y):null}function gh(a){if(50<mu)throw mu=0,Dg=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var xl={};function y6(a,s,l,h){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(a,s,l,h){return new y6(a,s,l,h)}function Ap(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ui(a,s){var l=a.alternate;return l===null?(l=br(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function yb(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function xh(a,s,l,h,g,y){var E=0;if(h=a,typeof a=="function")Ap(a)&&(E=1);else if(typeof a=="string")E=bj(a,l,Te.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case S:return a=br(31,l,s,g),a.elementType=S,a.lanes=y,a;case _:return fo(l.children,g,y,s);case j:E=8,g|=24;break;case O:return a=br(12,l,s,g|2),a.elementType=O,a.lanes=y,a;case V:return a=br(13,l,s,g),a.elementType=V,a.lanes=y,a;case D:return a=br(19,l,s,g),a.elementType=D,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:case L:E=10;break e;case z:E=9;break e;case q:E=11;break e;case P:E=14;break e;case N:E=16,h=null;break e}E=29,l=Error(r(130,a===null?"null":typeof a,"")),h=null}return s=br(E,l,s,g),s.elementType=a,s.type=h,s.lanes=y,s}function fo(a,s,l,h){return a=br(7,a,h,s),a.lanes=l,a}function Cp(a,s,l){return a=br(6,a,null,s),a.lanes=l,a}function jp(a,s,l){return s=br(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var yl=[],vl=0,yh=null,vh=0,Hr=[],Gr=0,mo=null,di=1,hi="";function po(a,s){yl[vl++]=vh,yl[vl++]=yh,yh=a,vh=s}function vb(a,s,l){Hr[Gr++]=di,Hr[Gr++]=hi,Hr[Gr++]=mo,mo=a;var h=di;a=hi;var g=32-on(h)-1;h&=~(1<<g),l+=1;var y=32-on(s)+g;if(30<y){var E=g-g%5;y=(h&(1<<E)-1).toString(32),h>>=E,g-=E,di=1<<32-on(s)+g|l<<g|h,hi=y+a}else di=1<<y|l<<g|h,hi=a}function Rp(a){a.return!==null&&(po(a,1),vb(a,1,0))}function Pp(a){for(;a===yh;)yh=yl[--vl],yl[vl]=null,vh=yl[--vl],yl[vl]=null;for(;a===mo;)mo=Hr[--Gr],Hr[Gr]=null,hi=Hr[--Gr],Hr[Gr]=null,di=Hr[--Gr],Hr[Gr]=null}var Zn=null,Qt=null,Tt=!1,go=null,Oa=!1,Dp=Error(r(519));function xo(a){var s=Error(r(418,""));throw $c(Br(s,a)),Dp}function bb(a){var s=a.stateNode,l=a.type,h=a.memoizedProps;switch(s[he]=a,s[xe]=h,l){case"dialog":ct("cancel",s),ct("close",s);break;case"iframe":case"object":case"embed":ct("load",s);break;case"video":case"audio":for(l=0;l<gu.length;l++)ct(gu[l],s);break;case"source":ct("error",s);break;case"img":case"image":case"link":ct("error",s),ct("load",s);break;case"details":ct("toggle",s);break;case"input":ct("invalid",s),eo(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),rl(s);break;case"select":ct("invalid",s);break;case"textarea":ct("invalid",s),to(s,h.value,h.defaultValue,h.children),rl(s)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||Lw(s.textContent,l)?(h.popover!=null&&(ct("beforetoggle",s),ct("toggle",s)),h.onScroll!=null&&ct("scroll",s),h.onScrollEnd!=null&&ct("scrollend",s),h.onClick!=null&&(s.onclick=Jh),s=!0):s=!1,s||xo(a)}function wb(a){for(Zn=a.return;Zn;)switch(Zn.tag){case 5:case 13:Oa=!1;return;case 27:case 3:Oa=!0;return;default:Zn=Zn.return}}function Hc(a){if(a!==Zn)return!1;if(!Tt)return wb(a),Tt=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Qg(a.type,a.memoizedProps)),l=!l),l&&Qt&&xo(a),wb(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(s===0){Qt=ha(a.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;a=a.nextSibling}Qt=null}}else s===27?(s=Qt,fs(a.type)?(a=Jg,Jg=null,Qt=a):Qt=s):Qt=Zn?ha(a.stateNode.nextSibling):null;return!0}function Gc(){Qt=Zn=null,Tt=!1}function Tb(){var a=go;return a!==null&&(or===null?or=a:or.push.apply(or,a),go=null),a}function $c(a){go===null?go=[a]:go.push(a)}var Ip=ne(null),yo=null,fi=null;function Zi(a,s,l){oe(Ip,s._currentValue),s._currentValue=l}function mi(a){a._currentValue=Ip.current,pe(Ip)}function Mp(a,s,l){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===l)break;a=a.return}}function Op(a,s,l,h){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=g;for(var H=0;H<s.length;H++)if(A.context===s[H]){y.lanes|=l,A=y.alternate,A!==null&&(A.lanes|=l),Mp(y.return,l,a),h||(E=null);break e}y=A.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(r(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),Mp(E,l,a),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===a){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Kc(a,s,l,h){a=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=g.type;vr(g.pendingProps.value,E.value)||(a!==null?a.push(A):a=[A])}}else if(g===At.current){if(E=g.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(Tu):a=[Tu])}g=g.return}a!==null&&Op(s,a,l,h),s.flags|=262144}function bh(a){for(a=a.firstContext;a!==null;){if(!vr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function vo(a){yo=a,fi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Fn(a){return kb(yo,a)}function wh(a,s){return yo===null&&vo(a),kb(a,s)}function kb(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},fi===null){if(a===null)throw Error(r(308));fi=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else fi=fi.next=s;return l}var v6=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,h){a.push(h)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},b6=t.unstable_scheduleCallback,w6=t.unstable_NormalPriority,yn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lp(){return{controller:new v6,data:new Map,refCount:0}}function Yc(a){a.refCount--,a.refCount===0&&b6(w6,function(){a.controller.abort()})}var Qc=null,Vp=0,bl=0,wl=null;function T6(a,s){if(Qc===null){var l=Qc=[];Vp=0,bl=zg(),wl={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Vp++,s.then(Eb,Eb),s}function Eb(){if(--Vp===0&&Qc!==null){wl!==null&&(wl.status="fulfilled");var a=Qc;Qc=null,bl=0,wl=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function k6(a,s){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return a.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var _b=Y.S;Y.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&T6(a,s),_b!==null&&_b(a,s)};var bo=ne(null);function Up(){var a=bo.current;return a!==null?a:Lt.pooledCache}function Th(a,s){s===null?oe(bo,bo.current):oe(bo,s.pool)}function Sb(){var a=Up();return a===null?null:{parent:yn._currentValue,pool:a}}var Xc=Error(r(460)),Nb=Error(r(474)),kh=Error(r(542)),zp={then:function(){}};function Ab(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Eh(){}function Cb(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(Eh,Eh),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Rb(a),a;default:if(typeof s.status=="string")s.then(Eh,Eh);else{if(a=Lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Rb(a),a}throw Wc=s,Xc}}var Wc=null;function jb(){if(Wc===null)throw Error(r(459));var a=Wc;return Wc=null,a}function Rb(a){if(a===Xc||a===kh)throw Error(r(483))}var Ji=!1;function Fp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function es(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ts(a,s,l){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(St&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=gh(a),xb(a,null,l),s}return ph(a,h,s,l),gh(a)}function Zc(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=a.pendingLanes,l|=h,s.lanes=l,_a(a,l)}}function qp(a,s){var l=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?g=y=s:y=y.next=s}else g=y=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var Hp=!1;function Jc(){if(Hp){var a=wl;if(a!==null)throw a}}function eu(a,s,l,h){Hp=!1;var g=a.updateQueue;Ji=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var H=A,ee=H.next;H.next=null,E===null?y=ee:E.next=ee,E=H;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,A=ce.lastBaseUpdate,A!==E&&(A===null?ce.firstBaseUpdate=ee:A.next=ee,ce.lastBaseUpdate=H))}if(y!==null){var fe=g.baseState;E=0,ce=ee=H=null,A=y;do{var re=A.lane&-536870913,ae=re!==A.lane;if(ae?(xt&re)===re:(h&re)===re){re!==0&&re===bl&&(Hp=!0),ce!==null&&(ce=ce.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ge=a,ze=A;re=s;var Dt=l;switch(ze.tag){case 1:if(Ge=ze.payload,typeof Ge=="function"){fe=Ge.call(Dt,fe,re);break e}fe=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=ze.payload,re=typeof Ge=="function"?Ge.call(Dt,fe,re):Ge,re==null)break e;fe=x({},fe,re);break e;case 2:Ji=!0}}re=A.callback,re!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=g.callbacks,ae===null?g.callbacks=[re]:ae.push(re))}else ae={lane:re,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ce===null?(ee=ce=ae,H=fe):ce=ce.next=ae,E|=re;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;ae=A,A=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);ce===null&&(H=fe),g.baseState=H,g.firstBaseUpdate=ee,g.lastBaseUpdate=ce,y===null&&(g.shared.lanes=0),cs|=E,a.lanes=E,a.memoizedState=fe}}function Pb(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Db(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Pb(l[a],s)}var Tl=ne(null),_h=ne(0);function Ib(a,s){a=wi,oe(_h,a),oe(Tl,s),wi=a|s.baseLanes}function Gp(){oe(_h,wi),oe(Tl,Tl.current)}function $p(){wi=_h.current,pe(Tl),pe(_h)}var ns=0,nt=null,Rt=null,un=null,Sh=!1,kl=!1,wo=!1,Nh=0,tu=0,El=null,E6=0;function nn(){throw Error(r(321))}function Kp(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!vr(a[l],s[l]))return!1;return!0}function Yp(a,s,l,h,g,y){return ns=y,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=a===null||a.memoizedState===null?x1:y1,wo=!1,y=l(h,g),wo=!1,kl&&(y=Ob(s,l,h,g)),Mb(a),y}function Mb(a){Y.H=Dh;var s=Rt!==null&&Rt.next!==null;if(ns=0,un=Rt=nt=null,Sh=!1,tu=0,El=null,s)throw Error(r(300));a===null||En||(a=a.dependencies,a!==null&&bh(a)&&(En=!0))}function Ob(a,s,l,h){nt=a;var g=0;do{if(kl&&(El=null),tu=0,kl=!1,25<=g)throw Error(r(301));if(g+=1,un=Rt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=R6,y=s(l,h)}while(kl);return y}function _6(){var a=Y.H,s=a.useState()[0];return s=typeof s.then=="function"?nu(s):s,a=a.useState()[0],(Rt!==null?Rt.memoizedState:null)!==a&&(nt.flags|=1024),s}function Qp(){var a=Nh!==0;return Nh=0,a}function Xp(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function Wp(a){if(Sh){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Sh=!1}ns=0,un=Rt=nt=null,kl=!1,tu=Nh=0,El=null}function ir(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?nt.memoizedState=un=a:un=un.next=a,un}function dn(){if(Rt===null){var a=nt.alternate;a=a!==null?a.memoizedState:null}else a=Rt.next;var s=un===null?nt.memoizedState:un.next;if(s!==null)un=s,Rt=a;else{if(a===null)throw nt.alternate===null?Error(r(467)):Error(r(310));Rt=a,a={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},un===null?nt.memoizedState=un=a:un=un.next=a}return un}function Zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nu(a){var s=tu;return tu+=1,El===null&&(El=[]),a=Cb(El,a,s),s=nt,(un===null?s.memoizedState:un.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?x1:y1),a}function Ah(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nu(a);if(a.$$typeof===L)return Fn(a)}throw Error(r(438,String(a)))}function Jp(a){var s=null,l=nt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=nt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Zp(),nt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),h=0;h<a;h++)l[h]=I;return s.index++,l}function pi(a,s){return typeof s=="function"?s(a):s}function Ch(a){var s=dn();return eg(s,Rt,a)}function eg(a,s,l){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=a.baseQueue,y=h.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}s.baseQueue=g=y,h.pending=null}if(y=a.baseState,g===null)a.memoizedState=y;else{s=g.next;var A=E=null,H=null,ee=s,ce=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(xt&fe)===fe:(ns&fe)===fe){var re=ee.revertLane;if(re===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===bl&&(ce=!0);else if((ns&re)===re){ee=ee.next,re===bl&&(ce=!0);continue}else fe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(A=H=fe,E=y):H=H.next=fe,nt.lanes|=re,cs|=re;fe=ee.action,wo&&l(y,fe),y=ee.hasEagerState?ee.eagerState:l(y,fe)}else re={lane:fe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(A=H=re,E=y):H=H.next=re,nt.lanes|=fe,cs|=fe;ee=ee.next}while(ee!==null&&ee!==s);if(H===null?E=y:H.next=A,!vr(y,a.memoizedState)&&(En=!0,ce&&(l=wl,l!==null)))throw l;a.memoizedState=y,a.baseState=E,a.baseQueue=H,h.lastRenderedState=y}return g===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function tg(a){var s=dn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=l.dispatch,g=l.pending,y=s.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do y=a(y,E.action),E=E.next;while(E!==g);vr(y,s.memoizedState)||(En=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Lb(a,s,l){var h=nt,g=dn(),y=Tt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var E=!vr((Rt||g).memoizedState,l);E&&(g.memoizedState=l,En=!0),g=g.queue;var A=zb.bind(null,h,g,a);if(ru(2048,8,A,[a]),g.getSnapshot!==s||E||un!==null&&un.memoizedState.tag&1){if(h.flags|=2048,_l(9,jh(),Ub.bind(null,h,g,l,s),null),Lt===null)throw Error(r(349));y||(ns&124)!==0||Vb(h,s,l)}return l}function Vb(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=nt.updateQueue,s===null?(s=Zp(),nt.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function Ub(a,s,l,h){s.value=l,s.getSnapshot=h,Fb(s)&&Bb(a)}function zb(a,s,l){return l(function(){Fb(s)&&Bb(a)})}function Fb(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!vr(a,l)}catch{return!0}}function Bb(a){var s=gl(a,2);s!==null&&_r(s,a,2)}function ng(a){var s=ir();if(typeof a=="function"){var l=a;if(a=l(),wo){Un(!0);try{l()}finally{Un(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:a},s}function qb(a,s,l,h){return a.baseState=l,eg(a,Rt,typeof h=="function"?h:pi)}function S6(a,s,l,h,g){if(Ph(a))throw Error(r(485));if(a=s.action,a!==null){var y={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};Y.T!==null?l(!0):y.isTransition=!1,h(y),l=s.pending,l===null?(y.next=s.pending=y,Hb(s,y)):(y.next=l.next,s.pending=l.next=y)}}function Hb(a,s){var l=s.action,h=s.payload,g=a.state;if(s.isTransition){var y=Y.T,E={};Y.T=E;try{var A=l(g,h),H=Y.S;H!==null&&H(E,A),Gb(a,s,A)}catch(ee){rg(a,s,ee)}finally{Y.T=y}}else try{y=l(g,h),Gb(a,s,y)}catch(ee){rg(a,s,ee)}}function Gb(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){$b(a,s,h)},function(h){return rg(a,s,h)}):$b(a,s,l)}function $b(a,s,l){s.status="fulfilled",s.value=l,Kb(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,Hb(a,l)))}function rg(a,s,l){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,Kb(s),s=s.next;while(s!==h)}a.action=null}function Kb(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Yb(a,s){return s}function Qb(a,s){if(Tt){var l=Lt.formState;if(l!==null){e:{var h=nt;if(Tt){if(Qt){t:{for(var g=Qt,y=Oa;g.nodeType!==8;){if(!y){g=null;break t}if(g=ha(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Qt=ha(g.nextSibling),h=g.data==="F!";break e}}xo(h)}h=!1}h&&(s=l[0])}}return l=ir(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yb,lastRenderedState:s},l.queue=h,l=m1.bind(null,nt,h),h.dispatch=l,h=ng(!1),y=lg.bind(null,nt,!1,h.queue),h=ir(),g={state:s,dispatch:null,action:a,pending:null},h.queue=g,l=S6.bind(null,nt,g,y,l),g.dispatch=l,h.memoizedState=a,[s,l,!1]}function Xb(a){var s=dn();return Wb(s,Rt,a)}function Wb(a,s,l){if(s=eg(a,s,Yb)[0],a=Ch(pi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=nu(s)}catch(E){throw E===Xc?kh:E}else h=s;s=dn();var g=s.queue,y=g.dispatch;return l!==s.memoizedState&&(nt.flags|=2048,_l(9,jh(),N6.bind(null,g,l),null)),[h,y,a]}function N6(a,s){a.action=s}function Zb(a){var s=dn(),l=Rt;if(l!==null)return Wb(s,l,a);dn(),s=s.memoizedState,l=dn();var h=l.queue.dispatch;return l.memoizedState=a,[s,h,!1]}function _l(a,s,l,h){return a={tag:a,create:l,deps:h,inst:s,next:null},s=nt.updateQueue,s===null&&(s=Zp(),nt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(h=l.next,l.next=a,a.next=h,s.lastEffect=a),a}function jh(){return{destroy:void 0,resource:void 0}}function Jb(){return dn().memoizedState}function Rh(a,s,l,h){var g=ir();h=h===void 0?null:h,nt.flags|=a,g.memoizedState=_l(1|s,jh(),l,h)}function ru(a,s,l,h){var g=dn();h=h===void 0?null:h;var y=g.memoizedState.inst;Rt!==null&&h!==null&&Kp(h,Rt.memoizedState.deps)?g.memoizedState=_l(s,y,l,h):(nt.flags|=a,g.memoizedState=_l(1|s,y,l,h))}function e1(a,s){Rh(8390656,8,a,s)}function t1(a,s){ru(2048,8,a,s)}function n1(a,s){return ru(4,2,a,s)}function r1(a,s){return ru(4,4,a,s)}function a1(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function i1(a,s,l){l=l!=null?l.concat([a]):null,ru(4,4,a1.bind(null,s,a),l)}function ag(){}function s1(a,s){var l=dn();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&Kp(s,h[1])?h[0]:(l.memoizedState=[a,s],a)}function o1(a,s){var l=dn();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&Kp(s,h[1]))return h[0];if(h=a(),wo){Un(!0);try{a()}finally{Un(!1)}}return l.memoizedState=[h,s],h}function ig(a,s,l){return l===void 0||(ns&1073741824)!==0?a.memoizedState=s:(a.memoizedState=l,a=uw(),nt.lanes|=a,cs|=a,l)}function l1(a,s,l,h){return vr(l,s)?l:Tl.current!==null?(a=ig(a,l,h),vr(a,s)||(En=!0),a):(ns&42)===0?(En=!0,a.memoizedState=l):(a=uw(),nt.lanes|=a,cs|=a,s)}function c1(a,s,l,h,g){var y=ie.p;ie.p=y!==0&&8>y?y:8;var E=Y.T,A={};Y.T=A,lg(a,!1,s,l);try{var H=g(),ee=Y.S;if(ee!==null&&ee(A,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ce=k6(H,h);au(a,s,ce,Er(a))}else au(a,s,h,Er(a))}catch(fe){au(a,s,{then:function(){},status:"rejected",reason:fe},Er())}finally{ie.p=y,Y.T=E}}function A6(){}function sg(a,s,l,h){if(a.tag!==5)throw Error(r(476));var g=u1(a).queue;c1(a,g,s,te,l===null?A6:function(){return d1(a),l(h)})}function u1(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:te},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function d1(a){var s=u1(a).next.queue;au(a,s,{},Er())}function og(){return Fn(Tu)}function h1(){return dn().memoizedState}function f1(){return dn().memoizedState}function C6(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=Er();a=es(l);var h=ts(s,a,l);h!==null&&(_r(h,s,l),Zc(h,s,l)),s={cache:Lp()},a.payload=s;return}s=s.return}}function j6(a,s,l){var h=Er();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ph(a)?p1(s,l):(l=Np(a,s,l,h),l!==null&&(_r(l,a,h),g1(l,s,h)))}function m1(a,s,l){var h=Er();au(a,s,l,h)}function au(a,s,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ph(a))p1(s,g);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,A=y(E,l);if(g.hasEagerState=!0,g.eagerState=A,vr(A,E))return ph(a,s,g,0),Lt===null&&mh(),!1}catch{}finally{}if(l=Np(a,s,g,h),l!==null)return _r(l,a,h),g1(l,s,h),!0}return!1}function lg(a,s,l,h){if(h={lane:2,revertLane:zg(),action:h,hasEagerState:!1,eagerState:null,next:null},Ph(a)){if(s)throw Error(r(479))}else s=Np(a,l,h,2),s!==null&&_r(s,a,2)}function Ph(a){var s=a.alternate;return a===nt||s!==null&&s===nt}function p1(a,s){kl=Sh=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function g1(a,s,l){if((l&4194048)!==0){var h=s.lanes;h&=a.pendingLanes,l|=h,s.lanes=l,_a(a,l)}}var Dh={readContext:Fn,use:Ah,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn},x1={readContext:Fn,use:Ah,useCallback:function(a,s){return ir().memoizedState=[a,s===void 0?null:s],a},useContext:Fn,useEffect:e1,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,Rh(4194308,4,a1.bind(null,s,a),l)},useLayoutEffect:function(a,s){return Rh(4194308,4,a,s)},useInsertionEffect:function(a,s){Rh(4,2,a,s)},useMemo:function(a,s){var l=ir();s=s===void 0?null:s;var h=a();if(wo){Un(!0);try{a()}finally{Un(!1)}}return l.memoizedState=[h,s],h},useReducer:function(a,s,l){var h=ir();if(l!==void 0){var g=l(s);if(wo){Un(!0);try{l(s)}finally{Un(!1)}}}else g=s;return h.memoizedState=h.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},h.queue=a,a=a.dispatch=j6.bind(null,nt,a),[h.memoizedState,a]},useRef:function(a){var s=ir();return a={current:a},s.memoizedState=a},useState:function(a){a=ng(a);var s=a.queue,l=m1.bind(null,nt,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:ag,useDeferredValue:function(a,s){var l=ir();return ig(l,a,s)},useTransition:function(){var a=ng(!1);return a=c1.bind(null,nt,a.queue,!0,!1),ir().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var h=nt,g=ir();if(Tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Lt===null)throw Error(r(349));(xt&124)!==0||Vb(h,s,l)}g.memoizedState=l;var y={value:l,getSnapshot:s};return g.queue=y,e1(zb.bind(null,h,y,a),[a]),h.flags|=2048,_l(9,jh(),Ub.bind(null,h,y,l,s),null),l},useId:function(){var a=ir(),s=Lt.identifierPrefix;if(Tt){var l=hi,h=di;l=(h&~(1<<32-on(h)-1)).toString(32)+l,s="«"+s+"R"+l,l=Nh++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=E6++,s="«"+s+"r"+l.toString(32)+"»";return a.memoizedState=s},useHostTransitionStatus:og,useFormState:Qb,useActionState:Qb,useOptimistic:function(a){var s=ir();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=lg.bind(null,nt,!0,l),l.dispatch=s,[a,s]},useMemoCache:Jp,useCacheRefresh:function(){return ir().memoizedState=C6.bind(null,nt)}},y1={readContext:Fn,use:Ah,useCallback:s1,useContext:Fn,useEffect:t1,useImperativeHandle:i1,useInsertionEffect:n1,useLayoutEffect:r1,useMemo:o1,useReducer:Ch,useRef:Jb,useState:function(){return Ch(pi)},useDebugValue:ag,useDeferredValue:function(a,s){var l=dn();return l1(l,Rt.memoizedState,a,s)},useTransition:function(){var a=Ch(pi)[0],s=dn().memoizedState;return[typeof a=="boolean"?a:nu(a),s]},useSyncExternalStore:Lb,useId:h1,useHostTransitionStatus:og,useFormState:Xb,useActionState:Xb,useOptimistic:function(a,s){var l=dn();return qb(l,Rt,a,s)},useMemoCache:Jp,useCacheRefresh:f1},R6={readContext:Fn,use:Ah,useCallback:s1,useContext:Fn,useEffect:t1,useImperativeHandle:i1,useInsertionEffect:n1,useLayoutEffect:r1,useMemo:o1,useReducer:tg,useRef:Jb,useState:function(){return tg(pi)},useDebugValue:ag,useDeferredValue:function(a,s){var l=dn();return Rt===null?ig(l,a,s):l1(l,Rt.memoizedState,a,s)},useTransition:function(){var a=tg(pi)[0],s=dn().memoizedState;return[typeof a=="boolean"?a:nu(a),s]},useSyncExternalStore:Lb,useId:h1,useHostTransitionStatus:og,useFormState:Zb,useActionState:Zb,useOptimistic:function(a,s){var l=dn();return Rt!==null?qb(l,Rt,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:Jp,useCacheRefresh:f1},Sl=null,iu=0;function Ih(a){var s=iu;return iu+=1,Sl===null&&(Sl=[]),Cb(Sl,a,s)}function su(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Mh(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function v1(a){var s=a._init;return s(a._payload)}function b1(a){function s(Q,K){if(a){var Z=Q.deletions;Z===null?(Q.deletions=[K],Q.flags|=16):Z.push(K)}}function l(Q,K){if(!a)return null;for(;K!==null;)s(Q,K),K=K.sibling;return null}function h(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function g(Q,K){return Q=ui(Q,K),Q.index=0,Q.sibling=null,Q}function y(Q,K,Z){return Q.index=Z,a?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<K?(Q.flags|=67108866,K):Z):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function E(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function A(Q,K,Z,de){return K===null||K.tag!==6?(K=Cp(Z,Q.mode,de),K.return=Q,K):(K=g(K,Z),K.return=Q,K)}function H(Q,K,Z,de){var Ce=Z.type;return Ce===_?ce(Q,K,Z.props.children,de,Z.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===N&&v1(Ce)===K.type)?(K=g(K,Z.props),su(K,Z),K.return=Q,K):(K=xh(Z.type,Z.key,Z.props,null,Q.mode,de),su(K,Z),K.return=Q,K)}function ee(Q,K,Z,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=jp(Z,Q.mode,de),K.return=Q,K):(K=g(K,Z.children||[]),K.return=Q,K)}function ce(Q,K,Z,de,Ce){return K===null||K.tag!==7?(K=fo(Z,Q.mode,de,Ce),K.return=Q,K):(K=g(K,Z),K.return=Q,K)}function fe(Q,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Cp(""+K,Q.mode,Z),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return Z=xh(K.type,K.key,K.props,null,Q.mode,Z),su(Z,K),Z.return=Q,Z;case T:return K=jp(K,Q.mode,Z),K.return=Q,K;case N:var de=K._init;return K=de(K._payload),fe(Q,K,Z)}if(ke(K)||$(K))return K=fo(K,Q.mode,Z,null),K.return=Q,K;if(typeof K.then=="function")return fe(Q,Ih(K),Z);if(K.$$typeof===L)return fe(Q,wh(Q,K),Z);Mh(Q,K)}return null}function re(Q,K,Z,de){var Ce=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ce!==null?null:A(Q,K,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Ce?H(Q,K,Z,de):null;case T:return Z.key===Ce?ee(Q,K,Z,de):null;case N:return Ce=Z._init,Z=Ce(Z._payload),re(Q,K,Z,de)}if(ke(Z)||$(Z))return Ce!==null?null:ce(Q,K,Z,de,null);if(typeof Z.then=="function")return re(Q,K,Ih(Z),de);if(Z.$$typeof===L)return re(Q,K,wh(Q,Z),de);Mh(Q,Z)}return null}function ae(Q,K,Z,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Q=Q.get(Z)||null,A(K,Q,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return Q=Q.get(de.key===null?Z:de.key)||null,H(K,Q,de,Ce);case T:return Q=Q.get(de.key===null?Z:de.key)||null,ee(K,Q,de,Ce);case N:var it=de._init;return de=it(de._payload),ae(Q,K,Z,de,Ce)}if(ke(de)||$(de))return Q=Q.get(Z)||null,ce(K,Q,de,Ce,null);if(typeof de.then=="function")return ae(Q,K,Z,Ih(de),Ce);if(de.$$typeof===L)return ae(Q,K,Z,wh(K,de),Ce);Mh(K,de)}return null}function Ge(Q,K,Z,de){for(var Ce=null,it=null,Me=K,Be=K=0,Sn=null;Me!==null&&Be<Z.length;Be++){Me.index>Be?(Sn=Me,Me=null):Sn=Me.sibling;var bt=re(Q,Me,Z[Be],de);if(bt===null){Me===null&&(Me=Sn);break}a&&Me&&bt.alternate===null&&s(Q,Me),K=y(bt,K,Be),it===null?Ce=bt:it.sibling=bt,it=bt,Me=Sn}if(Be===Z.length)return l(Q,Me),Tt&&po(Q,Be),Ce;if(Me===null){for(;Be<Z.length;Be++)Me=fe(Q,Z[Be],de),Me!==null&&(K=y(Me,K,Be),it===null?Ce=Me:it.sibling=Me,it=Me);return Tt&&po(Q,Be),Ce}for(Me=h(Me);Be<Z.length;Be++)Sn=ae(Me,Q,Be,Z[Be],de),Sn!==null&&(a&&Sn.alternate!==null&&Me.delete(Sn.key===null?Be:Sn.key),K=y(Sn,K,Be),it===null?Ce=Sn:it.sibling=Sn,it=Sn);return a&&Me.forEach(function(ys){return s(Q,ys)}),Tt&&po(Q,Be),Ce}function ze(Q,K,Z,de){if(Z==null)throw Error(r(151));for(var Ce=null,it=null,Me=K,Be=K=0,Sn=null,bt=Z.next();Me!==null&&!bt.done;Be++,bt=Z.next()){Me.index>Be?(Sn=Me,Me=null):Sn=Me.sibling;var ys=re(Q,Me,bt.value,de);if(ys===null){Me===null&&(Me=Sn);break}a&&Me&&ys.alternate===null&&s(Q,Me),K=y(ys,K,Be),it===null?Ce=ys:it.sibling=ys,it=ys,Me=Sn}if(bt.done)return l(Q,Me),Tt&&po(Q,Be),Ce;if(Me===null){for(;!bt.done;Be++,bt=Z.next())bt=fe(Q,bt.value,de),bt!==null&&(K=y(bt,K,Be),it===null?Ce=bt:it.sibling=bt,it=bt);return Tt&&po(Q,Be),Ce}for(Me=h(Me);!bt.done;Be++,bt=Z.next())bt=ae(Me,Q,Be,bt.value,de),bt!==null&&(a&&bt.alternate!==null&&Me.delete(bt.key===null?Be:bt.key),K=y(bt,K,Be),it===null?Ce=bt:it.sibling=bt,it=bt);return a&&Me.forEach(function(Pj){return s(Q,Pj)}),Tt&&po(Q,Be),Ce}function Dt(Q,K,Z,de){if(typeof Z=="object"&&Z!==null&&Z.type===_&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Ce=Z.key;K!==null;){if(K.key===Ce){if(Ce=Z.type,Ce===_){if(K.tag===7){l(Q,K.sibling),de=g(K,Z.props.children),de.return=Q,Q=de;break e}}else if(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===N&&v1(Ce)===K.type){l(Q,K.sibling),de=g(K,Z.props),su(de,Z),de.return=Q,Q=de;break e}l(Q,K);break}else s(Q,K);K=K.sibling}Z.type===_?(de=fo(Z.props.children,Q.mode,de,Z.key),de.return=Q,Q=de):(de=xh(Z.type,Z.key,Z.props,null,Q.mode,de),su(de,Z),de.return=Q,Q=de)}return E(Q);case T:e:{for(Ce=Z.key;K!==null;){if(K.key===Ce)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){l(Q,K.sibling),de=g(K,Z.children||[]),de.return=Q,Q=de;break e}else{l(Q,K);break}else s(Q,K);K=K.sibling}de=jp(Z,Q.mode,de),de.return=Q,Q=de}return E(Q);case N:return Ce=Z._init,Z=Ce(Z._payload),Dt(Q,K,Z,de)}if(ke(Z))return Ge(Q,K,Z,de);if($(Z)){if(Ce=$(Z),typeof Ce!="function")throw Error(r(150));return Z=Ce.call(Z),ze(Q,K,Z,de)}if(typeof Z.then=="function")return Dt(Q,K,Ih(Z),de);if(Z.$$typeof===L)return Dt(Q,K,wh(Q,Z),de);Mh(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(l(Q,K.sibling),de=g(K,Z),de.return=Q,Q=de):(l(Q,K),de=Cp(Z,Q.mode,de),de.return=Q,Q=de),E(Q)):l(Q,K)}return function(Q,K,Z,de){try{iu=0;var Ce=Dt(Q,K,Z,de);return Sl=null,Ce}catch(Me){if(Me===Xc||Me===kh)throw Me;var it=br(29,Me,null,Q.mode);return it.lanes=de,it.return=Q,it}finally{}}}var Nl=b1(!0),w1=b1(!1),$r=ne(null),La=null;function rs(a){var s=a.alternate;oe(vn,vn.current&1),oe($r,a),La===null&&(s===null||Tl.current!==null||s.memoizedState!==null)&&(La=a)}function T1(a){if(a.tag===22){if(oe(vn,vn.current),oe($r,a),La===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(La=a)}}else as()}function as(){oe(vn,vn.current),oe($r,$r.current)}function gi(a){pe($r),La===a&&(La=null),pe(vn)}var vn=ne(0);function Oh(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Zg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function cg(a,s,l,h){s=a.memoizedState,l=l(h,s),l=l==null?s:x({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var ug={enqueueSetState:function(a,s,l){a=a._reactInternals;var h=Er(),g=es(h);g.payload=s,l!=null&&(g.callback=l),s=ts(a,g,h),s!==null&&(_r(s,a,h),Zc(s,a,h))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var h=Er(),g=es(h);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ts(a,g,h),s!==null&&(_r(s,a,h),Zc(s,a,h))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=Er(),h=es(l);h.tag=2,s!=null&&(h.callback=s),s=ts(a,h,l),s!==null&&(_r(s,a,l),Zc(s,a,l))}};function k1(a,s,l,h,g,y,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!Bc(l,h)||!Bc(g,y):!0}function E1(a,s,l,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==a&&ug.enqueueReplaceState(s,s.state,null)}function To(a,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(a=a.defaultProps){l===s&&(l=x({},l));for(var g in a)l[g]===void 0&&(l[g]=a[g])}return l}var Lh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function _1(a){Lh(a)}function S1(a){console.error(a)}function N1(a){Lh(a)}function Vh(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function A1(a,s,l){try{var h=a.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function dg(a,s,l){return l=es(l),l.tag=3,l.payload={element:null},l.callback=function(){Vh(a,s)},l}function C1(a){return a=es(a),a.tag=3,a}function j1(a,s,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;a.payload=function(){return g(y)},a.callback=function(){A1(s,l,h)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){A1(s,l,h),typeof g!="function"&&(us===null?us=new Set([this]):us.add(this));var A=h.stack;this.componentDidCatch(h.value,{componentStack:A!==null?A:""})})}function P6(a,s,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Kc(s,l,g,!0),l=$r.current,l!==null){switch(l.tag){case 13:return La===null?Mg():l.alternate===null&&Xt===0&&(Xt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===zp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),Lg(a,h,g)),!1;case 22:return l.flags|=65536,h===zp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),Lg(a,h,g)),!1}throw Error(r(435,l.tag))}return Lg(a,h,g),Mg(),!1}if(Tt)return s=$r.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==Dp&&(a=Error(r(422),{cause:h}),$c(Br(a,l)))):(h!==Dp&&(s=Error(r(423),{cause:h}),$c(Br(s,l))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,h=Br(h,l),g=dg(a.stateNode,h,g),qp(a,g),Xt!==4&&(Xt=2)),!1;var y=Error(r(520),{cause:h});if(y=Br(y,l),fu===null?fu=[y]:fu.push(y),Xt!==4&&(Xt=2),s===null)return!0;h=Br(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=g&-g,l.lanes|=a,a=dg(l.stateNode,h,a),qp(l,a),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(us===null||!us.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=C1(g),j1(g,a,l,h),qp(l,g),!1}l=l.return}while(l!==null);return!1}var R1=Error(r(461)),En=!1;function Pn(a,s,l,h){s.child=a===null?w1(s,null,l,h):Nl(s,a.child,l,h)}function P1(a,s,l,h,g){l=l.render;var y=s.ref;if("ref"in h){var E={};for(var A in h)A!=="ref"&&(E[A]=h[A])}else E=h;return vo(s),h=Yp(a,s,l,E,y,g),A=Qp(),a!==null&&!En?(Xp(a,s,g),xi(a,s,g)):(Tt&&A&&Rp(s),s.flags|=1,Pn(a,s,h,g),s.child)}function D1(a,s,l,h,g){if(a===null){var y=l.type;return typeof y=="function"&&!Ap(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,I1(a,s,y,h,g)):(a=xh(l.type,null,h,s,s.mode,g),a.ref=s.ref,a.return=s,s.child=a)}if(y=a.child,!vg(a,g)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Bc,l(E,h)&&a.ref===s.ref)return xi(a,s,g)}return s.flags|=1,a=ui(y,h),a.ref=s.ref,a.return=s,s.child=a}function I1(a,s,l,h,g){if(a!==null){var y=a.memoizedProps;if(Bc(y,h)&&a.ref===s.ref)if(En=!1,s.pendingProps=h=y,vg(a,g))(a.flags&131072)!==0&&(En=!0);else return s.lanes=a.lanes,xi(a,s,g)}return hg(a,s,l,h,g)}function M1(a,s,l){var h=s.pendingProps,g=h.children,y=a!==null?a.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=y!==null?y.baseLanes|l:l,a!==null){for(g=s.child=a.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;s.childLanes=y&~h}else s.childLanes=0,s.child=null;return O1(a,s,h,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Th(s,y!==null?y.cachePool:null),y!==null?Ib(s,y):Gp(),T1(s);else return s.lanes=s.childLanes=536870912,O1(a,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(Th(s,y.cachePool),Ib(s,y),as(),s.memoizedState=null):(a!==null&&Th(s,null),Gp(),as());return Pn(a,s,g,l),s.child}function O1(a,s,l,h){var g=Up();return g=g===null?null:{parent:yn._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},a!==null&&Th(s,null),Gp(),T1(s),a!==null&&Kc(a,s,h,!0),null}function Uh(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function hg(a,s,l,h,g){return vo(s),l=Yp(a,s,l,h,void 0,g),h=Qp(),a!==null&&!En?(Xp(a,s,g),xi(a,s,g)):(Tt&&h&&Rp(s),s.flags|=1,Pn(a,s,l,g),s.child)}function L1(a,s,l,h,g,y){return vo(s),s.updateQueue=null,l=Ob(s,h,l,g),Mb(a),h=Qp(),a!==null&&!En?(Xp(a,s,y),xi(a,s,y)):(Tt&&h&&Rp(s),s.flags|=1,Pn(a,s,l,y),s.child)}function V1(a,s,l,h,g){if(vo(s),s.stateNode===null){var y=xl,E=l.contextType;typeof E=="object"&&E!==null&&(y=Fn(E)),y=new l(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ug,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},Fp(s),E=l.contextType,y.context=typeof E=="object"&&E!==null?Fn(E):xl,y.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(cg(s,l,E,h),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&ug.enqueueReplaceState(y,y.state,null),eu(s,h,y,g),Jc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(a===null){y=s.stateNode;var A=s.memoizedProps,H=To(l,A);y.props=H;var ee=y.context,ce=l.contextType;E=xl,typeof ce=="object"&&ce!==null&&(E=Fn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||ee!==E)&&E1(s,y,h,E),Ji=!1;var re=s.memoizedState;y.state=re,eu(s,h,y,g),Jc(),ee=s.memoizedState,A||re!==ee||Ji?(typeof fe=="function"&&(cg(s,l,fe,h),ee=s.memoizedState),(H=Ji||k1(s,l,H,h,re,ee,E))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=ee),y.props=h,y.state=ee,y.context=E,h=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,Bp(a,s),E=s.memoizedProps,ce=To(l,E),y.props=ce,fe=s.pendingProps,re=y.context,ee=l.contextType,H=xl,typeof ee=="object"&&ee!==null&&(H=Fn(ee)),A=l.getDerivedStateFromProps,(ee=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==fe||re!==H)&&E1(s,y,h,H),Ji=!1,re=s.memoizedState,y.state=re,eu(s,h,y,g),Jc();var ae=s.memoizedState;E!==fe||re!==ae||Ji||a!==null&&a.dependencies!==null&&bh(a.dependencies)?(typeof A=="function"&&(cg(s,l,A,h),ae=s.memoizedState),(ce=Ji||k1(s,l,ce,h,re,ae,H)||a!==null&&a.dependencies!==null&&bh(a.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,ae,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,ae,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ae),y.props=h,y.state=ae,y.context=H,h=ce):(typeof y.componentDidUpdate!="function"||E===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),h=!1)}return y=h,Uh(a,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,a!==null&&h?(s.child=Nl(s,a.child,null,g),s.child=Nl(s,null,l,g)):Pn(a,s,l,g),s.memoizedState=y.state,a=s.child):a=xi(a,s,g),a}function U1(a,s,l,h){return Gc(),s.flags|=256,Pn(a,s,l,h),s.child}var fg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mg(a){return{baseLanes:a,cachePool:Sb()}}function pg(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=Kr),a}function z1(a,s,l){var h=s.pendingProps,g=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=a!==null&&a.memoizedState===null?!1:(vn.current&2)!==0),E&&(g=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,a===null){if(Tt){if(g?rs(s):as(),Tt){var A=Qt,H;if(H=A){e:{for(H=A,A=Oa;H.nodeType!==8;){if(!A){A=null;break e}if(H=ha(H.nextSibling),H===null){A=null;break e}}A=H}A!==null?(s.memoizedState={dehydrated:A,treeContext:mo!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},H=br(18,null,null,0),H.stateNode=A,H.return=s,s.child=H,Zn=s,Qt=null,H=!0):H=!1}H||xo(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Zg(A)?s.lanes=32:s.lanes=536870912,null;gi(s)}return A=h.children,h=h.fallback,g?(as(),g=s.mode,A=zh({mode:"hidden",children:A},g),h=fo(h,g,l,null),A.return=s,h.return=s,A.sibling=h,s.child=A,g=s.child,g.memoizedState=mg(l),g.childLanes=pg(a,E,l),s.memoizedState=fg,h):(rs(s),gg(s,A))}if(H=a.memoizedState,H!==null&&(A=H.dehydrated,A!==null)){if(y)s.flags&256?(rs(s),s.flags&=-257,s=xg(a,s,l)):s.memoizedState!==null?(as(),s.child=a.child,s.flags|=128,s=null):(as(),g=h.fallback,A=s.mode,h=zh({mode:"visible",children:h.children},A),g=fo(g,A,l,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,Nl(s,a.child,null,l),h=s.child,h.memoizedState=mg(l),h.childLanes=pg(a,E,l),s.memoizedState=fg,s=g);else if(rs(s),Zg(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var ee=E.dgst;E=ee,h=Error(r(419)),h.stack="",h.digest=E,$c({value:h,source:null,stack:null}),s=xg(a,s,l)}else if(En||Kc(a,s,l,!1),E=(l&a.childLanes)!==0,En||E){if(E=Lt,E!==null&&(h=l&-l,h=(h&42)!==0?1:Sa(h),h=(h&(E.suspendedLanes|l))!==0?0:h,h!==0&&h!==H.retryLane))throw H.retryLane=h,gl(a,h),_r(E,a,h),R1;A.data==="$?"||Mg(),s=xg(a,s,l)}else A.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=H.treeContext,Qt=ha(A.nextSibling),Zn=s,Tt=!0,go=null,Oa=!1,a!==null&&(Hr[Gr++]=di,Hr[Gr++]=hi,Hr[Gr++]=mo,di=a.id,hi=a.overflow,mo=s),s=gg(s,h.children),s.flags|=4096);return s}return g?(as(),g=h.fallback,A=s.mode,H=a.child,ee=H.sibling,h=ui(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,ee!==null?g=ui(ee,g):(g=fo(g,A,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,A=a.child.memoizedState,A===null?A=mg(l):(H=A.cachePool,H!==null?(ee=yn._currentValue,H=H.parent!==ee?{parent:ee,pool:ee}:H):H=Sb(),A={baseLanes:A.baseLanes|l,cachePool:H}),g.memoizedState=A,g.childLanes=pg(a,E,l),s.memoizedState=fg,h):(rs(s),l=a.child,a=l.sibling,l=ui(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,a!==null&&(E=s.deletions,E===null?(s.deletions=[a],s.flags|=16):E.push(a)),s.child=l,s.memoizedState=null,l)}function gg(a,s){return s=zh({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function zh(a,s){return a=br(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function xg(a,s,l){return Nl(s,a.child,null,l),a=gg(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function F1(a,s,l){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),Mp(a.return,s,l)}function yg(a,s,l,h,g){var y=a.memoizedState;y===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=g)}function B1(a,s,l){var h=s.pendingProps,g=h.revealOrder,y=h.tail;if(Pn(a,s,h.children,l),h=vn.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&F1(a,l,s);else if(a.tag===19)F1(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}switch(oe(vn,h),g){case"forwards":for(l=s.child,g=null;l!==null;)a=l.alternate,a!==null&&Oh(a)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),yg(s,!1,g,l,y);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(a=g.alternate,a!==null&&Oh(a)===null){s.child=g;break}a=g.sibling,g.sibling=l,l=g,g=a}yg(s,!0,l,null,y);break;case"together":yg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xi(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),cs|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(Kc(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,l=ui(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=ui(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function vg(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&bh(a)))}function D6(a,s,l){switch(s.tag){case 3:le(s,s.stateNode.containerInfo),Zi(s,yn,a.memoizedState.cache),Gc();break;case 27:case 5:we(s);break;case 4:le(s,s.stateNode.containerInfo);break;case 10:Zi(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(rs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?z1(a,s,l):(rs(s),a=xi(a,s,l),a!==null?a.sibling:null);rs(s);break;case 19:var g=(a.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Kc(a,s,l,!1),h=(l&s.childLanes)!==0),g){if(h)return B1(a,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),oe(vn,vn.current),h)break;return null;case 22:case 23:return s.lanes=0,M1(a,s,l);case 24:Zi(s,yn,a.memoizedState.cache)}return xi(a,s,l)}function q1(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)En=!0;else{if(!vg(a,l)&&(s.flags&128)===0)return En=!1,D6(a,s,l);En=(a.flags&131072)!==0}else En=!1,Tt&&(s.flags&1048576)!==0&&vb(s,vh,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")Ap(h)?(a=To(h,a),s.tag=1,s=V1(null,s,h,a,l)):(s.tag=0,s=hg(null,s,h,a,l));else{if(h!=null){if(g=h.$$typeof,g===q){s.tag=11,s=P1(null,s,h,a,l);break e}else if(g===P){s.tag=14,s=D1(null,s,h,a,l);break e}}throw s=ye(h)||h,Error(r(306,s,""))}}return s;case 0:return hg(a,s,s.type,s.pendingProps,l);case 1:return h=s.type,g=To(h,s.pendingProps),V1(a,s,h,g,l);case 3:e:{if(le(s,s.stateNode.containerInfo),a===null)throw Error(r(387));h=s.pendingProps;var y=s.memoizedState;g=y.element,Bp(a,s),eu(s,h,null,l);var E=s.memoizedState;if(h=E.cache,Zi(s,yn,h),h!==y.cache&&Op(s,[yn],l,!0),Jc(),h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=U1(a,s,h,l);break e}else if(h!==g){g=Br(Error(r(424)),s),$c(g),s=U1(a,s,h,l);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Qt=ha(a.firstChild),Zn=s,Tt=!0,go=null,Oa=!0,l=w1(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Gc(),h===g){s=xi(a,s,l);break e}Pn(a,s,h,l)}s=s.child}return s;case 26:return Uh(a,s),a===null?(l=Kw(s.type,null,s.pendingProps,null))?s.memoizedState=l:Tt||(l=s.type,a=s.pendingProps,h=ef(Pe.current).createElement(l),h[he]=s,h[xe]=a,In(h,l,a),ft(h),s.stateNode=h):s.memoizedState=Kw(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return we(s),a===null&&Tt&&(h=s.stateNode=Hw(s.type,s.pendingProps,Pe.current),Zn=s,Oa=!0,g=Qt,fs(s.type)?(Jg=g,Qt=ha(h.firstChild)):Qt=g),Pn(a,s,s.pendingProps.children,l),Uh(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Tt&&((g=h=Qt)&&(h=oj(h,s.type,s.pendingProps,Oa),h!==null?(s.stateNode=h,Zn=s,Qt=ha(h.firstChild),Oa=!1,g=!0):g=!1),g||xo(s)),we(s),g=s.type,y=s.pendingProps,E=a!==null?a.memoizedProps:null,h=y.children,Qg(g,y)?h=null:E!==null&&Qg(g,E)&&(s.flags|=32),s.memoizedState!==null&&(g=Yp(a,s,_6,null,null,l),Tu._currentValue=g),Uh(a,s),Pn(a,s,h,l),s.child;case 6:return a===null&&Tt&&((a=l=Qt)&&(l=lj(l,s.pendingProps,Oa),l!==null?(s.stateNode=l,Zn=s,Qt=null,a=!0):a=!1),a||xo(s)),null;case 13:return z1(a,s,l);case 4:return le(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=Nl(s,null,h,l):Pn(a,s,h,l),s.child;case 11:return P1(a,s,s.type,s.pendingProps,l);case 7:return Pn(a,s,s.pendingProps,l),s.child;case 8:return Pn(a,s,s.pendingProps.children,l),s.child;case 12:return Pn(a,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,Zi(s,s.type,h.value),Pn(a,s,h.children,l),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,vo(s),g=Fn(g),h=h(g),s.flags|=1,Pn(a,s,h,l),s.child;case 14:return D1(a,s,s.type,s.pendingProps,l);case 15:return I1(a,s,s.type,s.pendingProps,l);case 19:return B1(a,s,l);case 31:return h=s.pendingProps,l=s.mode,h={mode:h.mode,children:h.children},a===null?(l=zh(h,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=ui(a.child,h),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return M1(a,s,l);case 24:return vo(s),h=Fn(yn),a===null?(g=Up(),g===null&&(g=Lt,y=Lp(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),s.memoizedState={parent:h,cache:g},Fp(s),Zi(s,yn,g)):((a.lanes&l)!==0&&(Bp(a,s),eu(s,null,null,l),Jc()),g=a.memoizedState,y=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Zi(s,yn,h)):(h=y.cache,Zi(s,yn,h),h!==g.cache&&Op(s,[yn],l,!0))),Pn(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function yi(a){a.flags|=4}function H1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Zw(s)){if(s=$r.current,s!==null&&((xt&4194048)===xt?La!==null:(xt&62914560)!==xt&&(xt&536870912)===0||s!==La))throw Wc=zp,Nb;a.flags|=8192}}function Fh(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Zs():536870912,a.lanes|=s,Rl|=s)}function ou(a,s){if(!Tt)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Ht(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,h=0;if(s)for(var g=a.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=h,a.childLanes=l,s}function I6(a,s,l){var h=s.pendingProps;switch(Pp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return Ht(s),null;case 3:return l=s.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),mi(yn),Qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Hc(s)?yi(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Tb())),Ht(s),null;case 26:return l=s.memoizedState,a===null?(yi(s),l!==null?(Ht(s),H1(s,l)):(Ht(s),s.flags&=-16777217)):l?l!==a.memoizedState?(yi(s),Ht(s),H1(s,l)):(Ht(s),s.flags&=-16777217):(a.memoizedProps!==h&&yi(s),Ht(s),s.flags&=-16777217),null;case 27:ue(s),l=Pe.current;var g=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==h&&yi(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Ht(s),null}a=Te.current,Hc(s)?bb(s):(a=Hw(g,h,l),s.stateNode=a,yi(s))}return Ht(s),null;case 5:if(ue(s),l=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&yi(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Ht(s),null}if(a=Te.current,Hc(s))bb(s);else{switch(g=ef(Pe.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?a.multiple=!0:h.size&&(a.size=h.size);break;default:a=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}a[he]=s,a[xe]=h;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=a;e:switch(In(a,l,h),l){case"button":case"input":case"select":case"textarea":a=!!h.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&yi(s)}}return Ht(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==h&&yi(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(a=Pe.current,Hc(s)){if(a=s.stateNode,l=s.memoizedProps,h=null,g=Zn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}a[he]=s,a=!!(a.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Lw(a.nodeValue,l)),a||xo(s)}else a=ef(a).createTextNode(h),a[he]=s,s.stateNode=a}return Ht(s),null;case 13:if(h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Hc(s),h!==null&&h.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[he]=s}else Gc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ht(s),g=!1}else g=Tb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(gi(s),s):(gi(s),null)}if(gi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=h!==null,a=a!==null&&a.memoizedState!==null,l){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return l!==a&&l&&(s.child.flags|=8192),Fh(s,s.updateQueue),Ht(s),null;case 4:return Qe(),a===null&&Hg(s.stateNode.containerInfo),Ht(s),null;case 10:return mi(s.type),Ht(s),null;case 19:if(pe(vn),g=s.memoizedState,g===null)return Ht(s),null;if(h=(s.flags&128)!==0,y=g.rendering,y===null)if(h)ou(g,!1);else{if(Xt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(y=Oh(a),y!==null){for(s.flags|=128,ou(g,!1),a=y.updateQueue,s.updateQueue=a,Fh(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)yb(l,a),l=l.sibling;return oe(vn,vn.current&1|2),s.child}a=a.sibling}g.tail!==null&&An()>Hh&&(s.flags|=128,h=!0,ou(g,!1),s.lanes=4194304)}else{if(!h)if(a=Oh(y),a!==null){if(s.flags|=128,h=!0,a=a.updateQueue,s.updateQueue=a,Fh(s,a),ou(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Tt)return Ht(s),null}else 2*An()-g.renderingStartTime>Hh&&l!==536870912&&(s.flags|=128,h=!0,ou(g,!1),s.lanes=4194304);g.isBackwards?(y.sibling=s.child,s.child=y):(a=g.last,a!==null?a.sibling=y:s.child=y,g.last=y)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=An(),s.sibling=null,a=vn.current,oe(vn,h?a&1|2:a&1),s):(Ht(s),null);case 22:case 23:return gi(s),$p(),h=s.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),l=s.updateQueue,l!==null&&Fh(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),a!==null&&pe(bo),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),mi(yn),Ht(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function M6(a,s){switch(Pp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return mi(yn),Qe(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return ue(s),null;case 13:if(gi(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Gc()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return pe(vn),null;case 4:return Qe(),null;case 10:return mi(s.type),null;case 22:case 23:return gi(s),$p(),a!==null&&pe(bo),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return mi(yn),null;case 25:return null;default:return null}}function G1(a,s){switch(Pp(s),s.tag){case 3:mi(yn),Qe();break;case 26:case 27:case 5:ue(s);break;case 4:Qe();break;case 13:gi(s);break;case 19:pe(vn);break;case 10:mi(s.type);break;case 22:case 23:gi(s),$p(),a!==null&&pe(bo);break;case 24:mi(yn)}}function lu(a,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&a)===a){h=void 0;var y=l.create,E=l.inst;h=y(),E.destroy=h}l=l.next}while(l!==g)}}catch(A){Ot(s,s.return,A)}}function is(a,s,l){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&a)===a){var E=h.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,g=s;var H=l,ee=A;try{ee()}catch(ce){Ot(g,H,ce)}}}h=h.next}while(h!==y)}}catch(ce){Ot(s,s.return,ce)}}function $1(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{Db(s,l)}catch(h){Ot(a,a.return,h)}}}function K1(a,s,l){l.props=To(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(h){Ot(a,s,h)}}function cu(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof l=="function"?a.refCleanup=l(h):l.current=h}}catch(g){Ot(a,s,g)}}function Va(a,s){var l=a.ref,h=a.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Ot(a,s,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ot(a,s,g)}else l.current=null}function Y1(a){var s=a.type,l=a.memoizedProps,h=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Ot(a,a.return,g)}}function bg(a,s,l){try{var h=a.stateNode;nj(h,a.type,l,s),h[xe]=s}catch(g){Ot(a,a.return,g)}}function Q1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&fs(a.type)||a.tag===4}function wg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Q1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&fs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Tg(a,s,l){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Jh));else if(h!==4&&(h===27&&fs(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(Tg(a,s,l),a=a.sibling;a!==null;)Tg(a,s,l),a=a.sibling}function Bh(a,s,l){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(h!==4&&(h===27&&fs(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(Bh(a,s,l),a=a.sibling;a!==null;)Bh(a,s,l),a=a.sibling}function X1(a){var s=a.stateNode,l=a.memoizedProps;try{for(var h=a.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);In(s,h,l),s[he]=a,s[xe]=l}catch(y){Ot(a,a.return,y)}}var vi=!1,rn=!1,kg=!1,W1=typeof WeakSet=="function"?WeakSet:Set,_n=null;function O6(a,s){if(a=a.containerInfo,Kg=of,a=lb(a),wp(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,A=-1,H=-1,ee=0,ce=0,fe=a,re=null;t:for(;;){for(var ae;fe!==l||g!==0&&fe.nodeType!==3||(A=E+g),fe!==y||h!==0&&fe.nodeType!==3||(H=E+h),fe.nodeType===3&&(E+=fe.nodeValue.length),(ae=fe.firstChild)!==null;)re=fe,fe=ae;for(;;){if(fe===a)break t;if(re===l&&++ee===g&&(A=E),re===y&&++ce===h&&(H=E),(ae=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=ae}l=A===-1||H===-1?null:{start:A,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yg={focusedElem:a,selectionRange:l},of=!1,_n=s;_n!==null;)if(s=_n,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,_n=a;else for(;_n!==null;){switch(s=_n,y=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,l=s,g=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var Ge=To(l.type,g,l.elementType===l.type);a=h.getSnapshotBeforeUpdate(Ge,y),h.__reactInternalSnapshotBeforeUpdate=a}catch(ze){Ot(l,l.return,ze)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)Wg(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Wg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,_n=a;break}_n=s.return}}function Z1(a,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:ss(a,l),h&4&&lu(5,l);break;case 1:if(ss(a,l),h&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(E){Ot(l,l.return,E)}else{var g=To(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(g,s,a.__reactInternalSnapshotBeforeUpdate)}catch(E){Ot(l,l.return,E)}}h&64&&$1(l),h&512&&cu(l,l.return);break;case 3:if(ss(a,l),h&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Db(a,s)}catch(E){Ot(l,l.return,E)}}break;case 27:s===null&&h&4&&X1(l);case 26:case 5:ss(a,l),s===null&&h&4&&Y1(l),h&512&&cu(l,l.return);break;case 12:ss(a,l);break;case 13:ss(a,l),h&4&&tw(a,l),h&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=G6.bind(null,l),cj(a,l))));break;case 22:if(h=l.memoizedState!==null||vi,!h){s=s!==null&&s.memoizedState!==null||rn,g=vi;var y=rn;vi=h,(rn=s)&&!y?os(a,l,(l.subtreeFlags&8772)!==0):ss(a,l),vi=g,rn=y}break;case 30:break;default:ss(a,l)}}function J1(a){var s=a.alternate;s!==null&&(a.alternate=null,J1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Re(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Bt=null,sr=!1;function bi(a,s,l){for(l=l.child;l!==null;)ew(a,s,l),l=l.sibling}function ew(a,s,l){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(wt,l)}catch{}switch(l.tag){case 26:rn||Va(l,s),bi(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:rn||Va(l,s);var h=Bt,g=sr;fs(l.type)&&(Bt=l.stateNode,sr=!1),bi(a,s,l),yu(l.stateNode),Bt=h,sr=g;break;case 5:rn||Va(l,s);case 6:if(h=Bt,g=sr,Bt=null,bi(a,s,l),Bt=h,sr=g,Bt!==null)if(sr)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(l.stateNode)}catch(y){Ot(l,s,y)}else try{Bt.removeChild(l.stateNode)}catch(y){Ot(l,s,y)}break;case 18:Bt!==null&&(sr?(a=Bt,Bw(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Su(a)):Bw(Bt,l.stateNode));break;case 4:h=Bt,g=sr,Bt=l.stateNode.containerInfo,sr=!0,bi(a,s,l),Bt=h,sr=g;break;case 0:case 11:case 14:case 15:rn||is(2,l,s),rn||is(4,l,s),bi(a,s,l);break;case 1:rn||(Va(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&K1(l,s,h)),bi(a,s,l);break;case 21:bi(a,s,l);break;case 22:rn=(h=rn)||l.memoizedState!==null,bi(a,s,l),rn=h;break;default:bi(a,s,l)}}function tw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Su(a)}catch(l){Ot(s,s.return,l)}}function L6(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new W1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new W1),s;default:throw Error(r(435,a.tag))}}function Eg(a,s){var l=L6(a);s.forEach(function(h){var g=$6.bind(null,a,h);l.has(h)||(l.add(h),h.then(g,g))})}function wr(a,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],y=a,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(fs(A.type)){Bt=A.stateNode,sr=!1;break e}break;case 5:Bt=A.stateNode,sr=!1;break e;case 3:case 4:Bt=A.stateNode.containerInfo,sr=!0;break e}A=A.return}if(Bt===null)throw Error(r(160));ew(y,E,g),Bt=null,sr=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)nw(s,a),s=s.sibling}var da=null;function nw(a,s){var l=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:wr(s,a),Tr(a),h&4&&(is(3,a,a.return),lu(3,a),is(5,a,a.return));break;case 1:wr(s,a),Tr(a),h&512&&(rn||l===null||Va(l,l.return)),h&64&&vi&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=da;if(wr(s,a),Tr(a),h&512&&(rn||l===null||Va(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=a.memoizedState,l===null)if(h===null)if(a.stateNode===null){e:{h=a.type,l=a.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ue]||y[he]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),In(y,h,l),y[he]=a,ft(y),h=y;break e;case"link":var E=Xw("link","href",g).get(h+(l.href||""));if(E){for(var A=0;A<E.length;A++)if(y=E[A],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(A,1);break t}}y=g.createElement(h),In(y,h,l),g.head.appendChild(y);break;case"meta":if(E=Xw("meta","content",g).get(h+(l.content||""))){for(A=0;A<E.length;A++)if(y=E[A],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(A,1);break t}}y=g.createElement(h),In(y,h,l),g.head.appendChild(y);break;default:throw Error(r(468,h))}y[he]=a,ft(y),h=y}a.stateNode=h}else Ww(g,a.type,a.stateNode);else a.stateNode=Qw(g,h,a.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?Ww(g,a.type,a.stateNode):Qw(g,h,a.memoizedProps)):h===null&&a.stateNode!==null&&bg(a,a.memoizedProps,l.memoizedProps)}break;case 27:wr(s,a),Tr(a),h&512&&(rn||l===null||Va(l,l.return)),l!==null&&h&4&&bg(a,a.memoizedProps,l.memoizedProps);break;case 5:if(wr(s,a),Tr(a),h&512&&(rn||l===null||Va(l,l.return)),a.flags&32){g=a.stateNode;try{Vr(g,"")}catch(ae){Ot(a,a.return,ae)}}h&4&&a.stateNode!=null&&(g=a.memoizedProps,bg(a,g,l!==null?l.memoizedProps:g)),h&1024&&(kg=!0);break;case 6:if(wr(s,a),Tr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,l=a.stateNode;try{l.nodeValue=h}catch(ae){Ot(a,a.return,ae)}}break;case 3:if(rf=null,g=da,da=tf(s.containerInfo),wr(s,a),da=g,Tr(a),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Su(s.containerInfo)}catch(ae){Ot(a,a.return,ae)}kg&&(kg=!1,rw(a));break;case 4:h=da,da=tf(a.stateNode.containerInfo),wr(s,a),Tr(a),da=h;break;case 12:wr(s,a),Tr(a);break;case 13:wr(s,a),Tr(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jg=An()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Eg(a,h)));break;case 22:g=a.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,ee=vi,ce=rn;if(vi=ee||g,rn=ce||H,wr(s,a),rn=ce,vi=ee,Tr(a),h&8192)e:for(s=a.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||H||vi||rn||ko(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){H=l=s;try{if(y=H.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=H.stateNode;var fe=H.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;A.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ae){Ot(H,H.return,ae)}}}else if(s.tag===6){if(l===null){H=s;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(ae){Ot(H,H.return,ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=a.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Eg(a,l))));break;case 19:wr(s,a),Tr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Eg(a,h)));break;case 30:break;case 21:break;default:wr(s,a),Tr(a)}}function Tr(a){var s=a.flags;if(s&2){try{for(var l,h=a.return;h!==null;){if(Q1(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=wg(a);Bh(a,y,g);break;case 5:var E=l.stateNode;l.flags&32&&(Vr(E,""),l.flags&=-33);var A=wg(a);Bh(a,A,E);break;case 3:case 4:var H=l.stateNode.containerInfo,ee=wg(a);Tg(a,ee,H);break;default:throw Error(r(161))}}catch(ce){Ot(a,a.return,ce)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function rw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;rw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function ss(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Z1(a,s.alternate,s),s=s.sibling}function ko(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:is(4,s,s.return),ko(s);break;case 1:Va(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&K1(s,s.return,l),ko(s);break;case 27:yu(s.stateNode);case 26:case 5:Va(s,s.return),ko(s);break;case 22:s.memoizedState===null&&ko(s);break;case 30:ko(s);break;default:ko(s)}a=a.sibling}}function os(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=a,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:os(g,y,l),lu(4,y);break;case 1:if(os(g,y,l),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){Ot(h,h.return,ee)}if(h=y,g=h.updateQueue,g!==null){var A=h.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)Pb(H[g],A)}catch(ee){Ot(h,h.return,ee)}}l&&E&64&&$1(y),cu(y,y.return);break;case 27:X1(y);case 26:case 5:os(g,y,l),l&&h===null&&E&4&&Y1(y),cu(y,y.return);break;case 12:os(g,y,l);break;case 13:os(g,y,l),l&&E&4&&tw(g,y);break;case 22:y.memoizedState===null&&os(g,y,l),cu(y,y.return);break;case 30:break;default:os(g,y,l)}s=s.sibling}}function _g(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&Yc(l))}function Sg(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Yc(a))}function Ua(a,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)aw(a,s,l,h),s=s.sibling}function aw(a,s,l,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ua(a,s,l,h),g&2048&&lu(9,s);break;case 1:Ua(a,s,l,h);break;case 3:Ua(a,s,l,h),g&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Yc(a)));break;case 12:if(g&2048){Ua(a,s,l,h),a=s.stateNode;try{var y=s.memoizedProps,E=y.id,A=y.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){Ot(s,s.return,H)}}else Ua(a,s,l,h);break;case 13:Ua(a,s,l,h);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?Ua(a,s,l,h):uu(a,s):y._visibility&2?Ua(a,s,l,h):(y._visibility|=2,Al(a,s,l,h,(s.subtreeFlags&10256)!==0)),g&2048&&_g(E,s);break;case 24:Ua(a,s,l,h),g&2048&&Sg(s.alternate,s);break;default:Ua(a,s,l,h)}}function Al(a,s,l,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=a,E=s,A=l,H=h,ee=E.flags;switch(E.tag){case 0:case 11:case 15:Al(y,E,A,H,g),lu(8,E);break;case 23:break;case 22:var ce=E.stateNode;E.memoizedState!==null?ce._visibility&2?Al(y,E,A,H,g):uu(y,E):(ce._visibility|=2,Al(y,E,A,H,g)),g&&ee&2048&&_g(E.alternate,E);break;case 24:Al(y,E,A,H,g),g&&ee&2048&&Sg(E.alternate,E);break;default:Al(y,E,A,H,g)}s=s.sibling}}function uu(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,h=s,g=h.flags;switch(h.tag){case 22:uu(l,h),g&2048&&_g(h.alternate,h);break;case 24:uu(l,h),g&2048&&Sg(h.alternate,h);break;default:uu(l,h)}s=s.sibling}}var du=8192;function Cl(a){if(a.subtreeFlags&du)for(a=a.child;a!==null;)iw(a),a=a.sibling}function iw(a){switch(a.tag){case 26:Cl(a),a.flags&du&&a.memoizedState!==null&&Tj(da,a.memoizedState,a.memoizedProps);break;case 5:Cl(a);break;case 3:case 4:var s=da;da=tf(a.stateNode.containerInfo),Cl(a),da=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=du,du=16777216,Cl(a),du=s):Cl(a));break;default:Cl(a)}}function sw(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function hu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];_n=h,lw(h,a)}sw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ow(a),a=a.sibling}function ow(a){switch(a.tag){case 0:case 11:case 15:hu(a),a.flags&2048&&is(9,a,a.return);break;case 3:hu(a);break;case 12:hu(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,qh(a)):hu(a);break;default:hu(a)}}function qh(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];_n=h,lw(h,a)}sw(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:is(8,s,s.return),qh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,qh(s));break;default:qh(s)}a=a.sibling}}function lw(a,s){for(;_n!==null;){var l=_n;switch(l.tag){case 0:case 11:case 15:is(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Yc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,_n=h;else e:for(l=a;_n!==null;){h=_n;var g=h.sibling,y=h.return;if(J1(h),h===l){_n=null;break e}if(g!==null){g.return=y,_n=g;break e}_n=y}}}var V6={getCacheForType:function(a){var s=Fn(yn),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l}},U6=typeof WeakMap=="function"?WeakMap:Map,St=0,Lt=null,lt=null,xt=0,Nt=0,kr=null,ls=!1,jl=!1,Ng=!1,wi=0,Xt=0,cs=0,Eo=0,Ag=0,Kr=0,Rl=0,fu=null,or=null,Cg=!1,jg=0,Hh=1/0,Gh=null,us=null,Dn=0,ds=null,Pl=null,Dl=0,Rg=0,Pg=null,cw=null,mu=0,Dg=null;function Er(){if((St&2)!==0&&xt!==0)return xt&-xt;if(Y.T!==null){var a=bl;return a!==0?a:zg()}return G()}function uw(){Kr===0&&(Kr=(xt&536870912)===0||Tt?ti():536870912);var a=$r.current;return a!==null&&(a.flags|=32),Kr}function _r(a,s,l){(a===Lt&&(Nt===2||Nt===9)||a.cancelPendingCommit!==null)&&(Il(a,0),hs(a,xt,Kr,!1)),la(a,l),((St&2)===0||a!==Lt)&&(a===Lt&&((St&2)===0&&(Eo|=l),Xt===4&&hs(a,xt,Kr,!1)),za(a))}function dw(a,s,l){if((St&6)!==0)throw Error(r(327));var h=!l&&(s&124)===0&&(s&a.expiredLanes)===0||Ir(a,s),g=h?B6(a,s):Og(a,s,!0),y=h;do{if(g===0){jl&&!h&&hs(a,s,0,!1);break}else{if(l=a.current.alternate,y&&!z6(l)){g=Og(a,s,!1),y=!1;continue}if(g===2){if(y=s,a.errorRecoveryDisabledLanes&y)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=a;g=fu;var H=A.current.memoizedState.isDehydrated;if(H&&(Il(A,E).flags|=256),E=Og(A,E,!1),E!==2){if(Ng&&!H){A.errorRecoveryDisabledLanes|=y,Eo|=y,g=4;break e}y=or,or=g,y!==null&&(or===null?or=y:or.push.apply(or,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){Il(a,0),hs(a,s,0,!0);break}e:{switch(h=a,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:hs(h,s,Kr,!ls);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=jg+300-An(),10<g)){if(hs(h,s,Kr,!ls),ei(h,0,!0)!==0)break e;h.timeoutHandle=zw(hw.bind(null,h,l,or,Gh,Cg,s,Kr,Eo,Rl,ls,y,2,-0,0),g);break e}hw(h,l,or,Gh,Cg,s,Kr,Eo,Rl,ls,y,0,-0,0)}}break}while(!0);za(a)}function hw(a,s,l,h,g,y,E,A,H,ee,ce,fe,re,ae){if(a.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(wu={stylesheets:null,count:0,unsuspend:wj},iw(s),fe=kj(),fe!==null)){a.cancelPendingCommit=fe(vw.bind(null,a,s,y,l,h,g,E,A,H,ce,1,re,ae)),hs(a,y,E,!ee);return}vw(a,s,y,l,h,g,E,A,H)}function z6(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!vr(y(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hs(a,s,l,h){s&=~Ag,s&=~Eo,a.suspendedLanes|=s,a.pingedLanes&=~s,h&&(a.warmLanes|=s),h=a.expirationTimes;for(var g=s;0<g;){var y=31-on(g),E=1<<y;h[y]=-1,g&=~E}l!==0&&Yn(a,l,s)}function $h(){return(St&6)===0?(pu(0),!1):!0}function Ig(){if(lt!==null){if(Nt===0)var a=lt.return;else a=lt,fi=yo=null,Wp(a),Sl=null,iu=0,a=lt;for(;a!==null;)G1(a.alternate,a),a=a.return;lt=null}}function Il(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,aj(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Ig(),Lt=a,lt=l=ui(a.current,null),xt=s,Nt=0,kr=null,ls=!1,jl=Ir(a,s),Ng=!1,Rl=Kr=Ag=Eo=cs=Xt=0,or=fu=null,Cg=!1,(s&8)!==0&&(s|=s&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=s;0<h;){var g=31-on(h),y=1<<g;s|=a[g],h&=~y}return wi=s,mh(),l}function fw(a,s){nt=null,Y.H=Dh,s===Xc||s===kh?(s=jb(),Nt=3):s===Nb?(s=jb(),Nt=4):Nt=s===R1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,kr=s,lt===null&&(Xt=1,Vh(a,Br(s,a.current)))}function mw(){var a=Y.H;return Y.H=Dh,a===null?Dh:a}function pw(){var a=Y.A;return Y.A=V6,a}function Mg(){Xt=4,ls||(xt&4194048)!==xt&&$r.current!==null||(jl=!0),(cs&134217727)===0&&(Eo&134217727)===0||Lt===null||hs(Lt,xt,Kr,!1)}function Og(a,s,l){var h=St;St|=2;var g=mw(),y=pw();(Lt!==a||xt!==s)&&(Gh=null,Il(a,s)),s=!1;var E=Xt;e:do try{if(Nt!==0&&lt!==null){var A=lt,H=kr;switch(Nt){case 8:Ig(),E=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(s=!0);var ee=Nt;if(Nt=0,kr=null,Ml(a,A,H,ee),l&&jl){E=0;break e}break;default:ee=Nt,Nt=0,kr=null,Ml(a,A,H,ee)}}F6(),E=Xt;break}catch(ce){fw(a,ce)}while(!0);return s&&a.shellSuspendCounter++,fi=yo=null,St=h,Y.H=g,Y.A=y,lt===null&&(Lt=null,xt=0,mh()),E}function F6(){for(;lt!==null;)gw(lt)}function B6(a,s){var l=St;St|=2;var h=mw(),g=pw();Lt!==a||xt!==s?(Gh=null,Hh=An()+500,Il(a,s)):jl=Ir(a,s);e:do try{if(Nt!==0&&lt!==null){s=lt;var y=kr;t:switch(Nt){case 1:Nt=0,kr=null,Ml(a,s,y,1);break;case 2:case 9:if(Ab(y)){Nt=0,kr=null,xw(s);break}s=function(){Nt!==2&&Nt!==9||Lt!==a||(Nt=7),za(a)},y.then(s,s);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:Ab(y)?(Nt=0,kr=null,xw(s)):(Nt=0,kr=null,Ml(a,s,y,7));break;case 5:var E=null;switch(lt.tag){case 26:E=lt.memoizedState;case 5:case 27:var A=lt;if(!E||Zw(E)){Nt=0,kr=null;var H=A.sibling;if(H!==null)lt=H;else{var ee=A.return;ee!==null?(lt=ee,Kh(ee)):lt=null}break t}}Nt=0,kr=null,Ml(a,s,y,5);break;case 6:Nt=0,kr=null,Ml(a,s,y,6);break;case 8:Ig(),Xt=6;break e;default:throw Error(r(462))}}q6();break}catch(ce){fw(a,ce)}while(!0);return fi=yo=null,Y.H=h,Y.A=g,St=l,lt!==null?0:(Lt=null,xt=0,mh(),Xt)}function q6(){for(;lt!==null&&!It();)gw(lt)}function gw(a){var s=q1(a.alternate,a,wi);a.memoizedProps=a.pendingProps,s===null?Kh(a):lt=s}function xw(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=L1(l,s,s.pendingProps,s.type,void 0,xt);break;case 11:s=L1(l,s,s.pendingProps,s.type.render,s.ref,xt);break;case 5:Wp(s);default:G1(l,s),s=lt=yb(s,wi),s=q1(l,s,wi)}a.memoizedProps=a.pendingProps,s===null?Kh(a):lt=s}function Ml(a,s,l,h){fi=yo=null,Wp(s),Sl=null,iu=0;var g=s.return;try{if(P6(a,g,s,l,xt)){Xt=1,Vh(a,Br(l,a.current)),lt=null;return}}catch(y){if(g!==null)throw lt=g,y;Xt=1,Vh(a,Br(l,a.current)),lt=null;return}s.flags&32768?(Tt||h===1?a=!0:jl||(xt&536870912)!==0?a=!1:(ls=a=!0,(h===2||h===9||h===3||h===6)&&(h=$r.current,h!==null&&h.tag===13&&(h.flags|=16384))),yw(s,a)):Kh(s)}function Kh(a){var s=a;do{if((s.flags&32768)!==0){yw(s,ls);return}a=s.return;var l=I6(s.alternate,s,wi);if(l!==null){lt=l;return}if(s=s.sibling,s!==null){lt=s;return}lt=s=a}while(s!==null);Xt===0&&(Xt=5)}function yw(a,s){do{var l=M6(a.alternate,a);if(l!==null){l.flags&=32767,lt=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){lt=a;return}lt=a=l}while(a!==null);Xt=6,lt=null}function vw(a,s,l,h,g,y,E,A,H){a.cancelPendingCommit=null;do Yh();while(Dn!==0);if((St&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Sp,Ki(a,l,y,E,A,H),a===Lt&&(lt=Lt=null,xt=0),Pl=s,ds=a,Dl=l,Rg=y,Pg=g,cw=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,K6(Ja,function(){return Ew(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,g=ie.p,ie.p=2,E=St,St|=4;try{O6(a,s,l)}finally{St=E,ie.p=g,Y.T=h}}Dn=1,bw(),ww(),Tw()}}function bw(){if(Dn===1){Dn=0;var a=ds,s=Pl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var h=ie.p;ie.p=2;var g=St;St|=4;try{nw(s,a);var y=Yg,E=lb(a.containerInfo),A=y.focusedElem,H=y.selectionRange;if(E!==A&&A&&A.ownerDocument&&ob(A.ownerDocument.documentElement,A)){if(H!==null&&wp(A)){var ee=H.start,ce=H.end;if(ce===void 0&&(ce=ee),"selectionStart"in A)A.selectionStart=ee,A.selectionEnd=Math.min(ce,A.value.length);else{var fe=A.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var ae=re.getSelection(),Ge=A.textContent.length,ze=Math.min(H.start,Ge),Dt=H.end===void 0?ze:Math.min(H.end,Ge);!ae.extend&&ze>Dt&&(E=Dt,Dt=ze,ze=E);var Q=sb(A,ze),K=sb(A,Dt);if(Q&&K&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==K.node||ae.focusOffset!==K.offset)){var Z=fe.createRange();Z.setStart(Q.node,Q.offset),ae.removeAllRanges(),ze>Dt?(ae.addRange(Z),ae.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ae.addRange(Z))}}}}for(fe=[],ae=A;ae=ae.parentNode;)ae.nodeType===1&&fe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<fe.length;A++){var de=fe[A];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}of=!!Kg,Yg=Kg=null}finally{St=g,ie.p=h,Y.T=l}}a.current=s,Dn=2}}function ww(){if(Dn===2){Dn=0;var a=ds,s=Pl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var h=ie.p;ie.p=2;var g=St;St|=4;try{Z1(a,s.alternate,s)}finally{St=g,ie.p=h,Y.T=l}}Dn=3}}function Tw(){if(Dn===4||Dn===3){Dn=0,Bi();var a=ds,s=Pl,l=Dl,h=cw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dn=5:(Dn=0,Pl=ds=null,kw(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(us=null),Yi(l),s=s.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(wt,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=Y.T,g=ie.p,ie.p=2,Y.T=null;try{for(var y=a.onRecoverableError,E=0;E<h.length;E++){var A=h[E];y(A.value,{componentStack:A.stack})}}finally{Y.T=s,ie.p=g}}(Dl&3)!==0&&Yh(),za(a),g=a.pendingLanes,(l&4194090)!==0&&(g&42)!==0?a===Dg?mu++:(mu=0,Dg=a):mu=0,pu(0)}}function kw(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Yc(s)))}function Yh(a){return bw(),ww(),Tw(),Ew()}function Ew(){if(Dn!==5)return!1;var a=ds,s=Rg;Rg=0;var l=Yi(Dl),h=Y.T,g=ie.p;try{ie.p=32>l?32:l,Y.T=null,l=Pg,Pg=null;var y=ds,E=Dl;if(Dn=0,Pl=ds=null,Dl=0,(St&6)!==0)throw Error(r(331));var A=St;if(St|=4,ow(y.current),aw(y,y.current,E,l),St=A,pu(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(wt,y)}catch{}return!0}finally{ie.p=g,Y.T=h,kw(a,s)}}function _w(a,s,l){s=Br(l,s),s=dg(a.stateNode,s,2),a=ts(a,s,2),a!==null&&(la(a,2),za(a))}function Ot(a,s,l){if(a.tag===3)_w(a,a,l);else for(;s!==null;){if(s.tag===3){_w(s,a,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(us===null||!us.has(h))){a=Br(l,a),l=C1(2),h=ts(s,l,2),h!==null&&(j1(l,h,s,a),la(h,2),za(h));break}}s=s.return}}function Lg(a,s,l){var h=a.pingCache;if(h===null){h=a.pingCache=new U6;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(Ng=!0,g.add(l),a=H6.bind(null,a,s,l),s.then(a,a))}function H6(a,s,l){var h=a.pingCache;h!==null&&h.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Lt===a&&(xt&l)===l&&(Xt===4||Xt===3&&(xt&62914560)===xt&&300>An()-jg?(St&2)===0&&Il(a,0):Ag|=l,Rl===xt&&(Rl=0)),za(a)}function Sw(a,s){s===0&&(s=Zs()),a=gl(a,s),a!==null&&(la(a,s),za(a))}function G6(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),Sw(a,l)}function $6(a,s){var l=0;switch(a.tag){case 13:var h=a.stateNode,g=a.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Sw(a,l)}function K6(a,s){return et(a,s)}var Qh=null,Ol=null,Vg=!1,Xh=!1,Ug=!1,_o=0;function za(a){a!==Ol&&a.next===null&&(Ol===null?Qh=Ol=a:Ol=Ol.next=a),Xh=!0,Vg||(Vg=!0,Q6())}function pu(a,s){if(!Ug&&Xh){Ug=!0;do for(var l=!1,h=Qh;h!==null;){if(a!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var E=h.suspendedLanes,A=h.pingedLanes;y=(1<<31-on(42|a)+1)-1,y&=g&~(E&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,jw(h,y))}else y=xt,y=ei(h,h===Lt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Ir(h,y)||(l=!0,jw(h,y));h=h.next}while(l);Ug=!1}}function Y6(){Nw()}function Nw(){Xh=Vg=!1;var a=0;_o!==0&&(rj()&&(a=_o),_o=0);for(var s=An(),l=null,h=Qh;h!==null;){var g=h.next,y=Aw(h,s);y===0?(h.next=null,l===null?Qh=g:l.next=g,g===null&&(Ol=l)):(l=h,(a!==0||(y&3)!==0)&&(Xh=!0)),h=g}pu(a)}function Aw(a,s){for(var l=a.suspendedLanes,h=a.pingedLanes,g=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var E=31-on(y),A=1<<E,H=g[E];H===-1?((A&l)===0||(A&h)!==0)&&(g[E]=$i(A,s)):H<=s&&(a.expiredLanes|=A),y&=~A}if(s=Lt,l=xt,l=ei(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,l===0||a===s&&(Nt===2||Nt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Ct(h),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Ir(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(h!==null&&Ct(h),Yi(l)){case 2:case 8:l=qi;break;case 32:l=Ja;break;case 268435456:l=Pr;break;default:l=Ja}return h=Cw.bind(null,a),l=et(l,h),a.callbackPriority=s,a.callbackNode=l,s}return h!==null&&h!==null&&Ct(h),a.callbackPriority=2,a.callbackNode=null,2}function Cw(a,s){if(Dn!==0&&Dn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Yh()&&a.callbackNode!==l)return null;var h=xt;return h=ei(a,a===Lt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(dw(a,h,s),Aw(a,An()),a.callbackNode!=null&&a.callbackNode===l?Cw.bind(null,a):null)}function jw(a,s){if(Yh())return null;dw(a,s,!0)}function Q6(){ij(function(){(St&6)!==0?et(sa,Y6):Nw()})}function zg(){return _o===0&&(_o=ti()),_o}function Rw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:al(""+a)}function Pw(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function X6(a,s,l,h,g){if(s==="submit"&&l&&l.stateNode===g){var y=Rw((g[xe]||null).action),E=h.submitter;E&&(s=(s=E[xe]||null)?Rw(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var A=new il("action","action",null,h,g);a.push({event:A,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(_o!==0){var H=E?Pw(g,E):new FormData(g);sg(l,{pending:!0,data:H,method:g.method,action:y},null,H)}}else typeof y=="function"&&(A.preventDefault(),H=E?Pw(g,E):new FormData(g),sg(l,{pending:!0,data:H,method:g.method,action:y},y,H))},currentTarget:g}]})}}for(var Fg=0;Fg<_p.length;Fg++){var Bg=_p[Fg],W6=Bg.toLowerCase(),Z6=Bg[0].toUpperCase()+Bg.slice(1);ua(W6,"on"+Z6)}ua(db,"onAnimationEnd"),ua(hb,"onAnimationIteration"),ua(fb,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(p6,"onTransitionRun"),ua(g6,"onTransitionStart"),ua(x6,"onTransitionCancel"),ua(mb,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function Dw(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var h=a[l],g=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var A=h[E],H=A.instance,ee=A.currentTarget;if(A=A.listener,H!==y&&g.isPropagationStopped())break e;y=A,g.currentTarget=ee;try{y(g)}catch(ce){Lh(ce)}g.currentTarget=null,y=H}else for(E=0;E<h.length;E++){if(A=h[E],H=A.instance,ee=A.currentTarget,A=A.listener,H!==y&&g.isPropagationStopped())break e;y=A,g.currentTarget=ee;try{y(g)}catch(ce){Lh(ce)}g.currentTarget=null,y=H}}}}function ct(a,s){var l=s[Ve];l===void 0&&(l=s[Ve]=new Set);var h=a+"__bubble";l.has(h)||(Iw(s,a,2,!1),l.add(h))}function qg(a,s,l){var h=0;s&&(h|=4),Iw(l,a,h,s)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function Hg(a){if(!a[Wh]){a[Wh]=!0,at.forEach(function(l){l!=="selectionchange"&&(J6.has(l)||qg(l,!1,a),qg(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Wh]||(s[Wh]=!0,qg("selectionchange",!1,s))}}function Iw(a,s,l,h){switch(a2(s)){case 2:var g=Sj;break;case 8:g=Nj;break;default:g=a0}l=g.bind(null,s,l,a),g=void 0,!zr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?a.addEventListener(s,l,{capture:!0,passive:g}):a.addEventListener(s,l,!0):g!==void 0?a.addEventListener(s,l,{passive:g}):a.addEventListener(s,l,!1)}function Gg(a,s,l,h,g){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var A=h.stateNode.containerInfo;if(A===g)break;if(E===4)for(E=h.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;A!==null;){if(E=Fe(A),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){h=y=E;continue e}A=A.parentNode}}h=h.return}Jd(function(){var ee=y,ce=Ur(l),fe=[];e:{var re=pb.get(a);if(re!==void 0){var ae=il,Ge=a;switch(a){case"keypress":if(Ra(l)===0)break e;case"keydown":case"keyup":ae=dl;break;case"focusin":Ge="focus",ae=ll;break;case"focusout":Ge="blur",ae=ll;break;case"beforeblur":case"afterblur":ae=ll;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=oh;break;case db:case hb:case fb:ae=cl;break;case mb:ae=ch;break;case"scroll":case"scrollend":ae=eh;break;case"wheel":ae=hl;break;case"copy":case"cut":case"paste":ae=ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=zc;break;case"toggle":case"beforetoggle":ae=dh}var ze=(s&4)!==0,Dt=!ze&&(a==="scroll"||a==="scrollend"),Q=ze?re!==null?re+"Capture":null:re;ze=[];for(var K=ee,Z;K!==null;){var de=K;if(Z=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Z===null||Q===null||(de=ro(K,Q),de!=null&&ze.push(xu(K,de,Z))),Dt)break;K=K.return}0<ze.length&&(re=new ae(re,Ge,null,l,ce),fe.push({event:re,listeners:ze}))}}if((s&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",re&&l!==ai&&(Ge=l.relatedTarget||l.fromElement)&&(Fe(Ge)||Ge[Ee]))break e;if((ae||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,ae?(Ge=l.relatedTarget||l.toElement,ae=ee,Ge=Ge?Fe(Ge):null,Ge!==null&&(Dt=o(Ge),ze=Ge.tag,Ge!==Dt||ze!==5&&ze!==27&&ze!==6)&&(Ge=null)):(ae=null,Ge=ee),ae!==Ge)){if(ze=Fr,de="onMouseLeave",Q="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(ze=zc,de="onPointerLeave",Q="onPointerEnter",K="pointer"),Dt=ae==null?re:kt(ae),Z=Ge==null?re:kt(Ge),re=new ze(de,K+"leave",ae,l,ce),re.target=Dt,re.relatedTarget=Z,de=null,Fe(ce)===ee&&(ze=new ze(Q,K+"enter",Ge,l,ce),ze.target=Z,ze.relatedTarget=Dt,de=ze),Dt=de,ae&&Ge)t:{for(ze=ae,Q=Ge,K=0,Z=ze;Z;Z=Ll(Z))K++;for(Z=0,de=Q;de;de=Ll(de))Z++;for(;0<K-Z;)ze=Ll(ze),K--;for(;0<Z-K;)Q=Ll(Q),Z--;for(;K--;){if(ze===Q||Q!==null&&ze===Q.alternate)break t;ze=Ll(ze),Q=Ll(Q)}ze=null}else ze=null;ae!==null&&Mw(fe,re,ae,ze,!1),Ge!==null&&Dt!==null&&Mw(fe,Dt,Ge,ze,!0)}}e:{if(re=ee?kt(ee):window,ae=re.nodeName&&re.nodeName.toLowerCase(),ae==="select"||ae==="input"&&re.type==="file")var Ce=eb;else if(xn(re))if(tb)Ce=h6;else{Ce=u6;var it=c6}else ae=re.nodeName,!ae||ae.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&Dc(ee.elementType)&&(Ce=eb):Ce=d6;if(Ce&&(Ce=Ce(a,ee))){ci(fe,Ce,l,ce);break e}it&&it(a,re,ee),a==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&Xi(re,"number",re.value)}switch(it=ee?kt(ee):window,a){case"focusin":(xn(it)||it.contentEditable==="true")&&(fl=it,Tp=ee,qc=null);break;case"focusout":qc=Tp=fl=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,cb(fe,l,ce);break;case"selectionchange":if(m6)break;case"keydown":case"keyup":cb(fe,l,ce)}var Me;if(Ia)e:{switch(a){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else pt?se(a,l)&&(Be="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(k&&l.locale!=="ko"&&(pt||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&pt&&(Me=Mc()):(ja=ce,Wi="value"in ja?ja.value:ja.textContent,pt=!0)),it=Zh(ee,Be),0<it.length&&(Be=new Vc(Be,a,null,l,ce),fe.push({event:Be,listeners:it}),Me?Be.data=Me:(Me=be(l),Me!==null&&(Be.data=Me)))),(Me=w?gn(a,l):gt(a,l))&&(Be=Zh(ee,"onBeforeInput"),0<Be.length&&(it=new Vc("onBeforeInput","beforeinput",null,l,ce),fe.push({event:it,listeners:Be}),it.data=Me)),X6(fe,a,ee,l,ce)}Dw(fe,s)})}function xu(a,s,l){return{instance:a,listener:s,currentTarget:l}}function Zh(a,s){for(var l=s+"Capture",h=[];a!==null;){var g=a,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ro(a,l),g!=null&&h.unshift(xu(a,g,y)),g=ro(a,s),g!=null&&h.push(xu(a,g,y))),a.tag===3)return h;a=a.return}return[]}function Ll(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Mw(a,s,l,h,g){for(var y=s._reactName,E=[];l!==null&&l!==h;){var A=l,H=A.alternate,ee=A.stateNode;if(A=A.tag,H!==null&&H===h)break;A!==5&&A!==26&&A!==27||ee===null||(H=ee,g?(ee=ro(l,y),ee!=null&&E.unshift(xu(l,ee,H))):g||(ee=ro(l,y),ee!=null&&E.push(xu(l,ee,H)))),l=l.return}E.length!==0&&a.push({event:s,listeners:E})}var ej=/\r\n?/g,tj=/\u0000|\uFFFD/g;function Ow(a){return(typeof a=="string"?a:""+a).replace(ej,`
`).replace(tj,"")}function Lw(a,s){return s=Ow(s),Ow(a)===s}function Jh(){}function Pt(a,s,l,h,g,y){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Vr(a,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Vr(a,""+h);break;case"className":Xn(a,"class",h);break;case"tabIndex":Xn(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(a,l,h);break;case"style":Pc(a,h,y);break;case"data":if(s!=="object"){Xn(a,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(l);break}h=al(""+h),a.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Pt(a,s,"name",g.name,g,null),Pt(a,s,"formEncType",g.formEncType,g,null),Pt(a,s,"formMethod",g.formMethod,g,null),Pt(a,s,"formTarget",g.formTarget,g,null)):(Pt(a,s,"encType",g.encType,g,null),Pt(a,s,"method",g.method,g,null),Pt(a,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(l);break}h=al(""+h),a.setAttribute(l,h);break;case"onClick":h!=null&&(a.onclick=Jh);break;case"onScroll":h!=null&&ct("scroll",a);break;case"onScrollEnd":h!=null&&ct("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}l=al(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(l,""+h):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":h===!0?a.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(l,h):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(l,h):a.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(l):a.setAttribute(l,h);break;case"popover":ct("beforetoggle",a),ct("toggle",a),zn(a,"popover",h);break;case"xlinkActuate":Ke(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ke(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ke(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ke(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ke(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ke(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ke(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ke(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ke(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":zn(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=pp.get(l)||l,zn(a,l,h))}}function $g(a,s,l,h,g,y){switch(l){case"style":Pc(a,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"children":typeof h=="string"?Vr(a,h):(typeof h=="number"||typeof h=="bigint")&&Vr(a,""+h);break;case"onScroll":h!=null&&ct("scroll",a);break;case"onScrollEnd":h!=null&&ct("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),y=a[xe]||null,y=y!=null?y[l]:null,typeof y=="function"&&a.removeEventListener(s,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,h,g);break e}l in a?a[l]=h:h===!0?a.setAttribute(l,""):zn(a,l,h)}}}function In(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",a),ct("load",a);var h=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pt(a,s,y,E,l,null)}}g&&Pt(a,s,"srcSet",l.srcSet,l,null),h&&Pt(a,s,"src",l.src,l,null);return;case"input":ct("invalid",a);var A=y=E=g=null,H=null,ee=null;for(h in l)if(l.hasOwnProperty(h)){var ce=l[h];if(ce!=null)switch(h){case"name":g=ce;break;case"type":E=ce;break;case"checked":H=ce;break;case"defaultChecked":ee=ce;break;case"value":y=ce;break;case"defaultValue":A=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:Pt(a,s,h,ce,l,null)}}eo(a,y,A,H,ee,E,g,!1),rl(a);return;case"select":ct("invalid",a),h=E=y=null;for(g in l)if(l.hasOwnProperty(g)&&(A=l[g],A!=null))switch(g){case"value":y=A;break;case"defaultValue":E=A;break;case"multiple":h=A;default:Pt(a,s,g,A,l,null)}s=y,l=E,a.multiple=!!h,s!=null?ri(a,!!h,s,!1):l!=null&&ri(a,!!h,l,!0);return;case"textarea":ct("invalid",a),y=g=h=null;for(E in l)if(l.hasOwnProperty(E)&&(A=l[E],A!=null))switch(E){case"value":h=A;break;case"defaultValue":g=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Pt(a,s,E,A,l,null)}to(a,h,g,y),rl(a);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(h=l[H],h!=null))switch(H){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Pt(a,s,H,h,l,null)}return;case"dialog":ct("beforetoggle",a),ct("toggle",a),ct("cancel",a),ct("close",a);break;case"iframe":case"object":ct("load",a);break;case"video":case"audio":for(h=0;h<gu.length;h++)ct(gu[h],a);break;case"image":ct("error",a),ct("load",a);break;case"details":ct("toggle",a);break;case"embed":case"source":case"link":ct("error",a),ct("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(h=l[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pt(a,s,ee,h,l,null)}return;default:if(Dc(s)){for(ce in l)l.hasOwnProperty(ce)&&(h=l[ce],h!==void 0&&$g(a,s,ce,h,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(h=l[A],h!=null&&Pt(a,s,A,h,l,null))}function nj(a,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,A=null,H=null,ee=null,ce=null;for(ae in l){var fe=l[ae];if(l.hasOwnProperty(ae)&&fe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":H=fe;default:h.hasOwnProperty(ae)||Pt(a,s,ae,null,h,fe)}}for(var re in h){var ae=h[re];if(fe=l[re],h.hasOwnProperty(re)&&(ae!=null||fe!=null))switch(re){case"type":y=ae;break;case"name":g=ae;break;case"checked":ee=ae;break;case"defaultChecked":ce=ae;break;case"value":E=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:ae!==fe&&Pt(a,s,re,ae,h,fe)}}yr(a,E,A,H,ee,ce,y,g);return;case"select":ae=E=A=re=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":ae=H;default:h.hasOwnProperty(y)||Pt(a,s,y,null,h,H)}for(g in h)if(y=h[g],H=l[g],h.hasOwnProperty(g)&&(y!=null||H!=null))switch(g){case"value":re=y;break;case"defaultValue":A=y;break;case"multiple":E=y;default:y!==H&&Pt(a,s,g,y,h,H)}s=A,l=E,h=ae,re!=null?ri(a,!!l,re,!1):!!h!=!!l&&(s!=null?ri(a,!!l,s,!0):ri(a,!!l,l?[]:"",!1));return;case"textarea":ae=re=null;for(A in l)if(g=l[A],l.hasOwnProperty(A)&&g!=null&&!h.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Pt(a,s,A,null,h,g)}for(E in h)if(g=h[E],y=l[E],h.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":re=g;break;case"defaultValue":ae=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Pt(a,s,E,g,h,y)}jt(a,re,ae);return;case"option":for(var Ge in l)if(re=l[Ge],l.hasOwnProperty(Ge)&&re!=null&&!h.hasOwnProperty(Ge))switch(Ge){case"selected":a.selected=!1;break;default:Pt(a,s,Ge,null,h,re)}for(H in h)if(re=h[H],ae=l[H],h.hasOwnProperty(H)&&re!==ae&&(re!=null||ae!=null))switch(H){case"selected":a.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Pt(a,s,H,re,h,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)re=l[ze],l.hasOwnProperty(ze)&&re!=null&&!h.hasOwnProperty(ze)&&Pt(a,s,ze,null,h,re);for(ee in h)if(re=h[ee],ae=l[ee],h.hasOwnProperty(ee)&&re!==ae&&(re!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Pt(a,s,ee,re,h,ae)}return;default:if(Dc(s)){for(var Dt in l)re=l[Dt],l.hasOwnProperty(Dt)&&re!==void 0&&!h.hasOwnProperty(Dt)&&$g(a,s,Dt,void 0,h,re);for(ce in h)re=h[ce],ae=l[ce],!h.hasOwnProperty(ce)||re===ae||re===void 0&&ae===void 0||$g(a,s,ce,re,h,ae);return}}for(var Q in l)re=l[Q],l.hasOwnProperty(Q)&&re!=null&&!h.hasOwnProperty(Q)&&Pt(a,s,Q,null,h,re);for(fe in h)re=h[fe],ae=l[fe],!h.hasOwnProperty(fe)||re===ae||re==null&&ae==null||Pt(a,s,fe,re,h,ae)}var Kg=null,Yg=null;function ef(a){return a.nodeType===9?a:a.ownerDocument}function Vw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uw(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Qg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xg=null;function rj(){var a=window.event;return a&&a.type==="popstate"?a===Xg?!1:(Xg=a,!0):(Xg=null,!1)}var zw=typeof setTimeout=="function"?setTimeout:void 0,aj=typeof clearTimeout=="function"?clearTimeout:void 0,Fw=typeof Promise=="function"?Promise:void 0,ij=typeof queueMicrotask=="function"?queueMicrotask:typeof Fw<"u"?function(a){return Fw.resolve(null).then(a).catch(sj)}:zw;function sj(a){setTimeout(function(){throw a})}function fs(a){return a==="head"}function Bw(a,s){var l=s,h=0,g=0;do{var y=l.nextSibling;if(a.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<h&&8>h){l=h;var E=a.ownerDocument;if(l&1&&yu(E.documentElement),l&2&&yu(E.body),l&4)for(l=E.head,yu(l),E=l.firstChild;E;){var A=E.nextSibling,H=E.nodeName;E[Ue]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=A}}if(g===0){a.removeChild(y),Su(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=y}while(l);Su(s)}function Wg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wg(l),Re(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function oj(a,s,l,h){for(;a.nodeType===1;){var g=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Ue])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=ha(a.nextSibling),a===null)break}return null}function lj(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=ha(a.nextSibling),a===null))return null;return a}function Zg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function cj(a,s){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function ha(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var Jg=null;function qw(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return a;s--}else l==="/$"&&s++}a=a.previousSibling}return null}function Hw(a,s,l){switch(s=ef(l),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function yu(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Re(a)}var Yr=new Map,Gw=new Set;function tf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ti=ie.d;ie.d={f:uj,r:dj,D:hj,C:fj,L:mj,m:pj,X:xj,S:gj,M:yj};function uj(){var a=Ti.f(),s=$h();return a||s}function dj(a){var s=ot(a);s!==null&&s.tag===5&&s.type==="form"?d1(s):Ti.r(a)}var Vl=typeof document>"u"?null:document;function $w(a,s,l){var h=Vl;if(h&&typeof s=="string"&&s){var g=cn(s);g='link[rel="'+a+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Gw.has(g)||(Gw.add(g),a={rel:a,crossOrigin:l,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),In(s,"link",a),ft(s),h.head.appendChild(s)))}}function hj(a){Ti.D(a),$w("dns-prefetch",a,null)}function fj(a,s){Ti.C(a,s),$w("preconnect",a,s)}function mj(a,s,l){Ti.L(a,s,l);var h=Vl;if(h&&a&&s){var g='link[rel="preload"][as="'+cn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+cn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+cn(l.imageSizes)+'"]')):g+='[href="'+cn(a)+'"]';var y=g;switch(s){case"style":y=Ul(a);break;case"script":y=zl(a)}Yr.has(y)||(a=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),Yr.set(y,a),h.querySelector(g)!==null||s==="style"&&h.querySelector(vu(y))||s==="script"&&h.querySelector(bu(y))||(s=h.createElement("link"),In(s,"link",a),ft(s),h.head.appendChild(s)))}}function pj(a,s){Ti.m(a,s);var l=Vl;if(l&&a){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+cn(h)+'"][href="'+cn(a)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=zl(a)}if(!Yr.has(y)&&(a=x({rel:"modulepreload",href:a},s),Yr.set(y,a),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bu(y)))return}h=l.createElement("link"),In(h,"link",a),ft(h),l.head.appendChild(h)}}}function gj(a,s,l){Ti.S(a,s,l);var h=Vl;if(h&&a){var g=vt(h).hoistableStyles,y=Ul(a);s=s||"default";var E=g.get(y);if(!E){var A={loading:0,preload:null};if(E=h.querySelector(vu(y)))A.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":s},l),(l=Yr.get(y))&&e0(a,l);var H=E=h.createElement("link");ft(H),In(H,"link",a),H._p=new Promise(function(ee,ce){H.onload=ee,H.onerror=ce}),H.addEventListener("load",function(){A.loading|=1}),H.addEventListener("error",function(){A.loading|=2}),A.loading|=4,nf(E,s,h)}E={type:"stylesheet",instance:E,count:1,state:A},g.set(y,E)}}}function xj(a,s){Ti.X(a,s);var l=Vl;if(l&&a){var h=vt(l).hoistableScripts,g=zl(a),y=h.get(g);y||(y=l.querySelector(bu(g)),y||(a=x({src:a,async:!0},s),(s=Yr.get(g))&&t0(a,s),y=l.createElement("script"),ft(y),In(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function yj(a,s){Ti.M(a,s);var l=Vl;if(l&&a){var h=vt(l).hoistableScripts,g=zl(a),y=h.get(g);y||(y=l.querySelector(bu(g)),y||(a=x({src:a,async:!0,type:"module"},s),(s=Yr.get(g))&&t0(a,s),y=l.createElement("script"),ft(y),In(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Kw(a,s,l,h){var g=(g=Pe.current)?tf(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Ul(l.href),l=vt(g).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Ul(l.href);var y=vt(g).hoistableStyles,E=y.get(a);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,E),(y=g.querySelector(vu(a)))&&!y._p&&(E.instance=y,E.state.loading=5),Yr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Yr.set(a,l),y||vj(g,a,l,E.state))),s&&h===null)throw Error(r(528,""));return E}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=zl(l),l=vt(g).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ul(a){return'href="'+cn(a)+'"'}function vu(a){return'link[rel="stylesheet"]['+a+"]"}function Yw(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function vj(a,s,l,h){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=a.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),In(s,"link",l),ft(s),a.head.appendChild(s))}function zl(a){return'[src="'+cn(a)+'"]'}function bu(a){return"script[async]"+a}function Qw(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=a.querySelector('style[data-href~="'+cn(l.href)+'"]');if(h)return s.instance=h,ft(h),h;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),ft(h),In(h,"style",g),nf(h,l.precedence,a),s.instance=h;case"stylesheet":g=Ul(l.href);var y=a.querySelector(vu(g));if(y)return s.state.loading|=4,s.instance=y,ft(y),y;h=Yw(l),(g=Yr.get(g))&&e0(h,g),y=(a.ownerDocument||a).createElement("link"),ft(y);var E=y;return E._p=new Promise(function(A,H){E.onload=A,E.onerror=H}),In(y,"link",h),s.state.loading|=4,nf(y,l.precedence,a),s.instance=y;case"script":return y=zl(l.src),(g=a.querySelector(bu(y)))?(s.instance=g,ft(g),g):(h=l,(g=Yr.get(y))&&(h=x({},l),t0(h,g)),a=a.ownerDocument||a,g=a.createElement("script"),ft(g),In(g,"link",h),a.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,nf(h,l.precedence,a));return s.instance}function nf(a,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,E=0;E<h.length;E++){var A=h[E];if(A.dataset.precedence===s)y=A;else if(y!==g)break}y?y.parentNode.insertBefore(a,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function e0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function t0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var rf=null;function Xw(a,s,l){if(rf===null){var h=new Map,g=rf=new Map;g.set(l,h)}else g=rf,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(a))return h;for(h.set(a,null),l=l.getElementsByTagName(a),g=0;g<l.length;g++){var y=l[g];if(!(y[Ue]||y[he]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=a+E;var A=h.get(E);A?A.push(y):h.set(E,[y])}}return h}function Ww(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function bj(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Zw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var wu=null;function wj(){}function Tj(a,s,l){if(wu===null)throw Error(r(475));var h=wu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Ul(l.href),y=a.querySelector(vu(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(h.count++,h=af.bind(h),a.then(h,h)),s.state.loading|=4,s.instance=y,ft(y);return}y=a.ownerDocument||a,l=Yw(l),(g=Yr.get(g))&&e0(l,g),y=y.createElement("link"),ft(y);var E=y;E._p=new Promise(function(A,H){E.onload=A,E.onerror=H}),In(y,"link",l),s.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=af.bind(h),a.addEventListener("load",s),a.addEventListener("error",s))}}function kj(){if(wu===null)throw Error(r(475));var a=wu;return a.stylesheets&&a.count===0&&n0(a,a.stylesheets),0<a.count?function(s){var l=setTimeout(function(){if(a.stylesheets&&n0(a,a.stylesheets),a.unsuspend){var h=a.unsuspend;a.unsuspend=null,h()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(l)}}:null}function af(){if(this.count--,this.count===0){if(this.stylesheets)n0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var sf=null;function n0(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,sf=new Map,s.forEach(Ej,a),sf=null,af.call(a))}function Ej(a,s){if(!(s.state.loading&4)){var l=sf.get(a);if(l)var h=l.get(null);else{l=new Map,sf.set(a,l);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),h=E)}h&&l.set(null,h)}g=s.instance,E=g.getAttribute("data-precedence"),y=l.get(E)||h,y===h&&l.set(null,g),l.set(E,g),this.count++,h=af.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),s.state.loading|=4}}var Tu={$$typeof:L,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function _j(a,s,l,h,g,y,E,A){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Jw(a,s,l,h,g,y,E,A,H,ee,ce,fe){return a=new _j(a,s,l,E,A,H,ee,fe),s=1,y===!0&&(s|=24),y=br(3,null,null,s),a.current=y,y.stateNode=a,s=Lp(),s.refCount++,a.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:s},Fp(y),a}function e2(a){return a?(a=xl,a):xl}function t2(a,s,l,h,g,y){g=e2(g),h.context===null?h.context=g:h.pendingContext=g,h=es(s),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=ts(a,h,s),l!==null&&(_r(l,a,s),Zc(l,a,s))}function n2(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function r0(a,s){n2(a,s),(a=a.alternate)&&n2(a,s)}function r2(a){if(a.tag===13){var s=gl(a,67108864);s!==null&&_r(s,a,67108864),r0(a,67108864)}}var of=!0;function Sj(a,s,l,h){var g=Y.T;Y.T=null;var y=ie.p;try{ie.p=2,a0(a,s,l,h)}finally{ie.p=y,Y.T=g}}function Nj(a,s,l,h){var g=Y.T;Y.T=null;var y=ie.p;try{ie.p=8,a0(a,s,l,h)}finally{ie.p=y,Y.T=g}}function a0(a,s,l,h){if(of){var g=i0(h);if(g===null)Gg(a,s,h,lf,l),i2(a,h);else if(Cj(g,a,s,l,h))h.stopPropagation();else if(i2(a,h),s&4&&-1<Aj.indexOf(a)){for(;g!==null;){var y=ot(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=pr(y.pendingLanes);if(E!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var H=1<<31-on(E);A.entanglements[1]|=H,E&=~H}za(y),(St&6)===0&&(Hh=An()+500,pu(0))}}break;case 13:A=gl(y,2),A!==null&&_r(A,y,2),$h(),r0(y,2)}if(y=i0(h),y===null&&Gg(a,s,h,lf,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else Gg(a,s,h,null,l)}}function i0(a){return a=Ur(a),s0(a)}var lf=null;function s0(a){if(lf=null,a=Fe(a),a!==null){var s=o(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=u(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return lf=a,null}function a2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case sa:return 2;case qi:return 8;case Ja:case oa:return 32;case Pr:return 268435456;default:return 32}default:return 32}}var o0=!1,ms=null,ps=null,gs=null,ku=new Map,Eu=new Map,xs=[],Aj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i2(a,s){switch(a){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":ku.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(s.pointerId)}}function _u(a,s,l,h,g,y){return a===null||a.nativeEvent!==y?(a={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},s!==null&&(s=ot(s),s!==null&&r2(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),a)}function Cj(a,s,l,h,g){switch(s){case"focusin":return ms=_u(ms,a,s,l,h,g),!0;case"dragenter":return ps=_u(ps,a,s,l,h,g),!0;case"mouseover":return gs=_u(gs,a,s,l,h,g),!0;case"pointerover":var y=g.pointerId;return ku.set(y,_u(ku.get(y)||null,a,s,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Eu.set(y,_u(Eu.get(y)||null,a,s,l,h,g)),!0}return!1}function s2(a){var s=Fe(a.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){a.blockedOn=s,X(a.priority,function(){if(l.tag===13){var h=Er();h=Sa(h);var g=gl(l,h);g!==null&&_r(g,l,h),r0(l,h)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function cf(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=i0(a.nativeEvent);if(l===null){l=a.nativeEvent;var h=new l.constructor(l.type,l);ai=h,l.target.dispatchEvent(h),ai=null}else return s=ot(l),s!==null&&r2(s),a.blockedOn=l,!1;s.shift()}return!0}function o2(a,s,l){cf(a)&&l.delete(s)}function jj(){o0=!1,ms!==null&&cf(ms)&&(ms=null),ps!==null&&cf(ps)&&(ps=null),gs!==null&&cf(gs)&&(gs=null),ku.forEach(o2),Eu.forEach(o2)}function uf(a,s){a.blockedOn===s&&(a.blockedOn=null,o0||(o0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jj)))}var df=null;function l2(a){df!==a&&(df=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){df===a&&(df=null);for(var s=0;s<a.length;s+=3){var l=a[s],h=a[s+1],g=a[s+2];if(typeof h!="function"){if(s0(h||l)===null)continue;break}var y=ot(l);y!==null&&(a.splice(s,3),s-=3,sg(y,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Su(a){function s(H){return uf(H,a)}ms!==null&&uf(ms,a),ps!==null&&uf(ps,a),gs!==null&&uf(gs,a),ku.forEach(s),Eu.forEach(s);for(var l=0;l<xs.length;l++){var h=xs[l];h.blockedOn===a&&(h.blockedOn=null)}for(;0<xs.length&&(l=xs[0],l.blockedOn===null);)s2(l),l.blockedOn===null&&xs.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],y=l[h+1],E=g[xe]||null;if(typeof y=="function")E||l2(l);else if(E){var A=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[xe]||null)A=E.formAction;else if(s0(g)!==null)continue}else A=E.action;typeof A=="function"?l[h+1]=A:(l.splice(h,3),h-=3),l2(l)}}}function l0(a){this._internalRoot=a}hf.prototype.render=l0.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=Er();t2(l,h,a,s,null,null)},hf.prototype.unmount=l0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;t2(a.current,2,null,a,null,null),$h(),s[Ee]=null}};function hf(a){this._internalRoot=a}hf.prototype.unstable_scheduleHydration=function(a){if(a){var s=G();a={blockedOn:null,target:a,priority:s};for(var l=0;l<xs.length&&s!==0&&s<xs[l].priority;l++);xs.splice(l,0,a),l===0&&s2(a)}};var c2=e.version;if(c2!=="19.1.0")throw Error(r(527,c2,"19.1.0"));ie.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var Rj={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{wt=ff.inject(Rj),tt=ff}catch{}}return Au.createRoot=function(a,s){if(!i(a))throw Error(r(299));var l=!1,h="",g=_1,y=S1,E=N1,A=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=Jw(a,1,!1,null,null,l,h,g,y,E,A,null),a[Ee]=s.current,Hg(a),new l0(s)},Au.hydrateRoot=function(a,s,l){if(!i(a))throw Error(r(299));var h=!1,g="",y=_1,E=S1,A=N1,H=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),s=Jw(a,1,!0,s,l??null,h,g,y,E,A,H,ee),s.context=e2(null),l=s.current,h=Er(),h=Sa(h),g=es(h),g.callback=null,ts(l,g,h),l=h,s.current.lanes=l,la(s,l),za(s),a[Ee]=s.current,Hg(a),new hf(s)},Au.version="19.1.0",Au}var v2;function Fj(){if(v2)return d0.exports;v2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d0.exports=zj(),d0.exports}var Bj=Fj();const Ye=t=>typeof t=="string",Cu=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},b2=t=>t==null?"":""+t,qj=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Hj=/###/g,w2=t=>t&&t.indexOf("###")>-1?t.replace(Hj,"."):t,T2=t=>!t||Ye(t),$u=(t,e,n)=>{const r=Ye(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(T2(t))return{};const o=w2(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return T2(t)?{}:{obj:t,k:w2(r[i])}},k2=(t,e,n)=>{const{obj:r,k:i}=$u(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],u=e.slice(0,e.length-1),d=$u(t,u,Object);for(;d.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),d=$u(t,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${o}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${o}`]=n},Gj=(t,e,n,r)=>{const{obj:i,k:o}=$u(t,e,Object);i[o]=i[o]||[],i[o].push(n)},Yf=(t,e)=>{const{obj:n,k:r}=$u(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},$j=(t,e,n)=>{const r=Yf(t,n);return r!==void 0?r:Yf(e,n)},b_=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Ye(t[r])||t[r]instanceof String||Ye(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):b_(t[r],e[r],n):t[r]=e[r]);return t},Fl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Kj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Yj=t=>Ye(t)?t.replace(/[&<>"'\/]/g,e=>Kj[e]):t;class Qj{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Xj=[" ",",","?","!",";"],Wj=new Qj(20),Zj=(t,e,n)=>{e=e||"",n=n||"";const r=Xj.filter(u=>e.indexOf(u)<0&&n.indexOf(u)<0);if(r.length===0)return!0;const i=Wj.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!i.test(t);if(!o){const u=t.indexOf(n);u>0&&!i.test(t.substring(0,u))&&(o=!0)}return o},W0=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let u,d="";for(let f=o;f<r.length;++f)if(f!==o&&(d+=n),d+=r[f],u=i[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;o+=f-o+1;break}i=u}return i},ld=t=>t==null?void 0:t.replace("_","-"),Jj={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};let e3=class Z0{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Jj,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Ye(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Z0(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Z0(this.logger,e)}};var Ba=new e3;class Am{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let u=0;u<o;u++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let u=0;u<o;u++)i.apply(i,[e,...n])})}}class E2 extends Am{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var m,x;const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,u=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,n],r&&(Array.isArray(r)?d.push(...r):Ye(r)&&o?d.push(...r.split(o)):d.push(r)));const f=Yf(this.data,d);return!f&&!n&&!r&&e.indexOf(".")>-1&&(e=d[0],n=d[1],r=d.slice(2).join(".")),f||!u||!Ye(r)?f:W0((x=(m=this.data)==null?void 0:m[e])==null?void 0:x[n],r,o)}addResource(e,n,r,i,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let d=[e,n];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),i=n,n=d[1]),this.addNamespaces(n),k2(this.data,d,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const o in r)(Ye(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o,u={silent:!1,skipCopy:!1}){let d=[e,n];e.indexOf(".")>-1&&(d=e.split("."),i=r,r=n,n=d[1]),this.addNamespaces(n);let f=Yf(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?b_(f,r,o):f={...f,...r},k2(this.data,d,f),u.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var w_={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,n,r,i))??e}),e}};const _2={},S2=t=>!Ye(t)&&typeof t!="boolean"&&typeof t!="number";class Qf extends Am{constructor(e,n={}){super(),qj(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ba.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Zj(e,r,i);if(u&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Ye(o)?[o]:o};const m=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(m[0])>-1)&&(o=m.shift()),e=m.join(i)}return{key:e,namespaces:Ye(o)?[o]:o}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,u=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(e[e.length-1],i),m=f[f.length-1];let x=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;x===void 0&&(x=":");const v=i.lng||this.language,b=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((v==null?void 0:v.toLowerCase())==="cimode")return b?o?{res:`${m}${x}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(i)}:`${m}${x}${d}`:o?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(i)}:d;const T=this.resolve(e,i);let _=T==null?void 0:T.res;const j=(T==null?void 0:T.usedKey)||d,O=(T==null?void 0:T.exactUsedKey)||d,M=["[object Number]","[object Function]","[object RegExp]"],z=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject,q=i.count!==void 0&&!Ye(i.count),V=Qf.hasDefaultValue(i),D=q?this.pluralResolver.getSuffix(v,i.count,i):"",P=i.ordinal&&q?this.pluralResolver.getSuffix(v,i.count,{ordinal:!1}):"",N=q&&!i.ordinal&&i.count===0,S=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${D}`]||i[`defaultValue${P}`]||i.defaultValue;let I=_;L&&!_&&V&&(I=S);const B=S2(I),$=Object.prototype.toString.apply(I);if(L&&I&&B&&M.indexOf($)<0&&!(Ye(z)&&Array.isArray(I))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,I,{...i,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return o?(T.res=U,T.usedParams=this.getUsedParamsDetails(i),T):U}if(u){const U=Array.isArray(I),ye=U?[]:{},ke=U?O:j;for(const Y in I)if(Object.prototype.hasOwnProperty.call(I,Y)){const ie=`${ke}${u}${Y}`;V&&!_?ye[Y]=this.translate(ie,{...i,defaultValue:S2(S)?S[Y]:void 0,joinArrays:!1,ns:f}):ye[Y]=this.translate(ie,{...i,joinArrays:!1,ns:f}),ye[Y]===ie&&(ye[Y]=I[Y])}_=ye}}else if(L&&Ye(z)&&Array.isArray(_))_=_.join(z),_&&(_=this.extendTranslation(_,e,i,r));else{let U=!1,ye=!1;!this.isValidLookup(_)&&V&&(U=!0,_=S),this.isValidLookup(_)||(ye=!0,_=d);const Y=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ye?void 0:_,ie=V&&S!==_&&this.options.updateMissing;if(ye||U||ie){if(this.logger.log(ie?"updateKey":"missingKey",v,m,d,ie?S:_),u){const ne=this.resolve(d,{...i,keySeparator:!1});ne&&ne.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const ve=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ve&&ve[0])for(let ne=0;ne<ve.length;ne++)te.push(ve[ne]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(i.lng||this.language):te.push(i.lng||this.language);const F=(ne,pe,oe)=>{var De;const Te=V&&oe!==_?oe:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(ne,m,pe,Te,ie,i):(De=this.backendConnector)!=null&&De.saveMissing&&this.backendConnector.saveMissing(ne,m,pe,Te,ie,i),this.emit("missingKey",ne,m,pe,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?te.forEach(ne=>{const pe=this.pluralResolver.getSuffixes(ne,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&pe.indexOf(`${this.options.pluralSeparator}zero`)<0&&pe.push(`${this.options.pluralSeparator}zero`),pe.forEach(oe=>{F([ne],d+oe,i[`defaultValue${oe}`]||S)})}):F(te,d,S))}_=this.extendTranslation(_,e,i,T,r),ye&&_===d&&this.options.appendNamespaceToMissingKey&&(_=`${m}${x}${d}`),(ye||U)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${x}${d}`:d,U?_:void 0,i))}return o?(T.res=_,T.usedParams=this.getUsedParamsDetails(i),T):_}extendTranslation(e,n,r,i,o){var f,m;if((f=this.i18nFormat)!=null&&f.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const x=Ye(e)&&(((m=r==null?void 0:r.interpolation)==null?void 0:m.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(x){const T=e.match(this.interpolator.nestingRegexp);v=T&&T.length}let b=r.replace&&!Ye(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),e=this.interpolator.interpolate(e,b,r.lng||this.language||i.usedLng,r),x){const T=e.match(this.interpolator.nestingRegexp),_=T&&T.length;v<_&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(o==null?void 0:o[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${n[0]}`),null):this.translate(...T,n),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,d=Ye(u)?[u]:u;return e!=null&&(d!=null&&d.length)&&r.applyPostProcessor!==!1&&(e=w_.handle(d,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,o,u,d;return Ye(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,n),x=m.key;i=x;let v=m.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=n.count!==void 0&&!Ye(n.count),T=b&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(Ye(n.context)||typeof n.context=="number")&&n.context!=="",j=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(O=>{var M,z;this.isValidLookup(r)||(d=O,!_2[`${j[0]}-${O}`]&&((M=this.utils)!=null&&M.hasLoadedNamespace)&&!((z=this.utils)!=null&&z.hasLoadedNamespace(d))&&(_2[`${j[0]}-${O}`]=!0,this.logger.warn(`key "${i}" for languages "${j.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(L=>{var D;if(this.isValidLookup(r))return;u=L;const q=[x];if((D=this.i18nFormat)!=null&&D.addLookupKeys)this.i18nFormat.addLookupKeys(q,x,L,O,n);else{let P;b&&(P=this.pluralResolver.getSuffix(L,n.count,n));const N=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(q.push(x+P),n.ordinal&&P.indexOf(S)===0&&q.push(x+P.replace(S,this.options.pluralSeparator)),T&&q.push(x+N)),_){const I=`${x}${this.options.contextSeparator}${n.context}`;q.push(I),b&&(q.push(I+P),n.ordinal&&P.indexOf(S)===0&&q.push(I+P.replace(S,this.options.pluralSeparator)),T&&q.push(I+N))}}let V;for(;V=q.pop();)this.isValidLookup(r)||(o=V,r=this.getResource(L,O,V,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ye(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class N2{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ba.create("languageUtils")}getScriptPartFromCode(e){if(e=ld(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=ld(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ye(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ye(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],o=u=>{u&&(this.isSupportedCode(u)?i.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ye(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Ye(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{i.indexOf(u)<0&&o(this.formatLanguageCode(u))}),i}}const A2={zero:0,one:1,two:2,few:3,many:4,other:5},C2={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class t3{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Ba.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=ld(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),C2;if(!e.match(/-|_/))return C2;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,n)}return this.pluralRulesCache[o]=u,u}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>A2[i]-A2[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const j2=(t,e,n,r=".",i=!0)=>{let o=$j(t,e,n);return!o&&i&&Ye(n)&&(o=W0(t,n,r),o===void 0&&(o=W0(e,n,r))),o},p0=t=>t.replace(/\$/g,"$$$$");class n3{constructor(e={}){var n;this.logger=Ba.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:m,unescapeSuffix:x,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:T,nestingSuffix:_,nestingSuffixEscaped:j,nestingOptionsSeparator:O,maxReplaces:M,alwaysFormat:z}=e.interpolation;this.escape=n!==void 0?n:Yj,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Fl(o):u||"{{",this.suffix=d?Fl(d):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=x?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":x||"",this.nestingPrefix=b?Fl(b):T||Fl("$t("),this.nestingSuffix=_?Fl(_):j||Fl(")"),this.nestingOptionsSeparator=O||",",this.maxReplaces=M||1e3,this.alwaysFormat=z!==void 0?z:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var T;let o,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=_=>{if(_.indexOf(this.formatSeparator)<0){const z=j2(n,f,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(z,void 0,r,{...i,...n,interpolationkey:_}):z}const j=_.split(this.formatSeparator),O=j.shift().trim(),M=j.join(this.formatSeparator).trim();return this.format(j2(n,f,O,this.options.keySeparator,this.options.ignoreJSONStructure),M,r,{...i,...n,interpolationkey:O})};this.resetRegExp();const x=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((T=i==null?void 0:i.interpolation)==null?void 0:T.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>p0(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?p0(this.escape(_)):p0(_)}].forEach(_=>{for(d=0;o=_.regex.exec(e);){const j=o[1].trim();if(u=m(j),u===void 0)if(typeof x=="function"){const M=x(e,o,i);u=Ye(M)?M:""}else if(i&&Object.prototype.hasOwnProperty.call(i,j))u="";else if(v){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${e}`),u="";else!Ye(u)&&!this.useRawValueToEscape&&(u=b2(u));const O=_.safeValue(u);if(e=e.replace(o[0],O),v?(_.regex.lastIndex+=u.length,_.regex.lastIndex-=o[0].length):_.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,o,u;const d=(f,m)=>{const x=this.nestingOptionsSeparator;if(f.indexOf(x)<0)return f;const v=f.split(new RegExp(`${x}[ ]*{`));let b=`{${v[1]}`;f=v[0],b=this.interpolate(b,u);const T=b.match(/'/g),_=b.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!_||_.length%2!==0)&&(b=b.replace(/'/g,'"'));try{u=JSON.parse(b),m&&(u={...m,...u})}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,j),`${f}${x}${b}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;i=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!Ye(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let m=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const x=i[1].split(this.formatSeparator).map(v=>v.trim());i[1]=x.shift(),f=x,m=!0}if(o=n(d.call(this,i[1].trim(),u),u),o&&i[0]===e&&!Ye(o))return o;Ye(o)||(o=b2(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),m&&(o=f.reduce((x,v)=>this.format(x,v,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const r3=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),x=d.trim();n[x]||(n[x]=m),m==="false"&&(n[x]=!1),m==="true"&&(n[x]=!0),isNaN(m)||(n[x]=parseInt(m,10))}})}return{formatName:e,formatOptions:n}},R2=t=>{const e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const u=r+JSON.stringify(o);let d=e[u];return d||(d=t(ld(r),i),e[u]=d),d(n)}},a3=t=>(e,n,r)=>t(ld(n),r)(e);class i3{constructor(e={}){this.logger=Ba.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?R2:a3;this.formats={number:r((i,o)=>{const u=new Intl.NumberFormat(i,{...o});return d=>u.format(d)}),currency:r((i,o)=>{const u=new Intl.NumberFormat(i,{...o,style:"currency"});return d=>u.format(d)}),datetime:r((i,o)=>{const u=new Intl.DateTimeFormat(i,{...o});return d=>u.format(d)}),relativetime:r((i,o)=>{const u=new Intl.RelativeTimeFormat(i,{...o});return d=>u.format(d,o.range||"day")}),list:r((i,o)=>{const u=new Intl.ListFormat(i,{...o});return d=>u.format(d)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=R2(n)}format(e,n,r,i={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(d=>d.indexOf(")")>-1)){const d=o.findIndex(f=>f.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,d)].join(this.formatSeparator)}return o.reduce((d,f)=>{var v;const{formatName:m,formatOptions:x}=r3(f);if(this.formats[m]){let b=d;try{const T=((v=i==null?void 0:i.formatParams)==null?void 0:v[i.interpolationkey])||{},_=T.locale||T.lng||i.locale||i.lng||r;b=this.formats[m](d,_,{...x,...i,...T})}catch(T){this.logger.warn(T)}return b}else this.logger.warn(`there was no format function for ${m}`);return d},e)}}const s3=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class o3 extends Am{constructor(e,n,r,i={}){var o,u;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ba.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,r,i.backend,i)}queueLoad(e,n,r,i){const o={},u={},d={},f={};return e.forEach(m=>{let x=!0;n.forEach(v=>{const b=`${m}|${v}`;!r.reload&&this.store.hasResourceBundle(m,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?u[b]===void 0&&(u[b]=!0):(this.state[b]=1,x=!1,u[b]===void 0&&(u[b]=!0),o[b]===void 0&&(o[b]=!0),f[v]===void 0&&(f[v]=!0)))}),x||(d[m]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,n,r){const i=e.split("|"),o=i[0],u=i[1];n&&this.emit("failedLoading",o,u,n),!n&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{Gj(f.loaded,[o],u),s3(f,e),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{d[m]||(d[m]={});const x=f.loaded[m];x.length&&x.forEach(v=>{d[m][v]===void 0&&(d[m][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,n,r,i=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:u});return}this.readingCalls++;const d=(m,x)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&x&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,u)},o);return}u(m,x)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,n);m&&typeof m.then=="function"?m.then(x=>d(null,x)).catch(d):d(null,m)}catch(m){d(m)}return}return f(e,n,d)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ye(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ye(n)&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,u),!u&&d&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,d),this.loaded(e,u,d)})}saveMissing(e,n,r,i,o,u={},d=()=>{}){var f,m,x,v,b;if((m=(f=this.services)==null?void 0:f.utils)!=null&&m.hasLoadedNamespace&&!((v=(x=this.services)==null?void 0:x.utils)!=null&&v.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((b=this.backend)!=null&&b.create){const T={...u,isUpdate:o},_=this.backend.create.bind(this.backend);if(_.length<6)try{let j;_.length===5?j=_(e,n,r,i,T):j=_(e,n,r,i),j&&typeof j.then=="function"?j.then(O=>d(null,O)).catch(d):d(null,j)}catch(j){d(j)}else _(e,n,r,i,d,T)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const P2=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ye(t[1])&&(e.defaultValue=t[1]),Ye(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),D2=t=>{var e,n;return Ye(t.ns)&&(t.ns=[t.ns]),Ye(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ye(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},mf=()=>{},l3=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class cd extends Am{constructor(e={},n){if(super(),this.options=D2(e),this.services={},this.logger=Ba,this.modules={external:[]},l3(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ye(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=P2();this.options={...r,...this.options,...D2(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?Ba.init(i(this.modules.logger),this.options):Ba.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=i3;const x=new N2(this.options);this.store=new E2(this.options.resources,this.options);const v=this.services;v.logger=Ba,v.resourceStore=this.store,v.languageUtils=x,v.pluralResolver=new t3(x,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),m&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=i(m),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new n3(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new o3(i(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(b,...T)=>{this.emit(b,...T)}),this.modules.languageDetector&&(v.languageDetector=i(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=i(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Qf(this.services,this.options),this.translator.on("*",(b,...T)=>{this.emit(b,...T)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=mf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...x)=>this.store[m](...x)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...x)=>(this.store[m](...x),this)});const d=Cu(),f=()=>{const m=(x,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),n(x,v)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(e,n=mf){var o,u;let r=n;const i=Ye(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],f=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(v=>{v!=="cimode"&&d.indexOf(v)<0&&d.push(v)})};i?f(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(x=>f(x)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,m=>f(m)),this.services.backendConnector.load(d,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(m)})}else r(null)}reloadResources(e,n,r){const i=Cu();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=mf),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&w_.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Cu();this.emit("languageChanging",e);const i=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},o=(d,f)=>{f?this.isLanguageChangingTo===e&&(i(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...m)=>this.t(...m)),n&&n(d,(...m)=>this.t(...m))},u=d=>{var x,v;!e&&!d&&this.services.languageDetector&&(d=[]);const f=Ye(d)?d:d&&d[0],m=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Ye(d)?[d]:d);m&&(this.language||i(m),this.translator.language||this.translator.changeLanguage(m),(v=(x=this.services.languageDetector)==null?void 0:x.cacheUserLanguage)==null||v.call(x,m)),this.loadResources(m,b=>{o(b,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,n,r){const i=(o,u,...d)=>{let f;typeof u!="object"?f=this.options.overloadTranslationOptionHandler([o,u].concat(d)):f={...u},f.lng=f.lng||i.lng,f.lngs=f.lngs||i.lngs,f.ns=f.ns||i.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||i.keyPrefix);const m=this.options.keySeparator||".";let x;return f.keyPrefix&&Array.isArray(o)?x=o.map(v=>`${f.keyPrefix}${m}${v}`):x=f.keyPrefix?`${f.keyPrefix}${m}${o}`:o,this.t(x,f)};return Ye(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const m=this.services.backendConnector.state[`${d}|${f}`];return m===-1||m===0||m===2};if(n.precheck){const d=n.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!i||u(o,e)))}loadNamespaces(e,n){const r=Cu();return this.options.ns?(Ye(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Cu();Ye(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(u=>i.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=i.concat(o),this.loadResources(u=>{r.resolve(),n&&n(u)}),r):(n&&n(),Promise.resolve())}dir(e){var i,o;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new N2(P2());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new cd(e,n)}cloneInstance(e={},n=mf){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new cd(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(d=>{o[d]=this[d]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const d=Object.keys(this.store.data).reduce((f,m)=>(f[m]={...this.store.data[m]},f[m]=Object.keys(f[m]).reduce((x,v)=>(x[v]={...f[m][v]},x),f[m]),f),{});o.store=new E2(d,i),o.services.resourceStore=o.store}return o.translator=new Qf(o.services,i),o.translator.on("*",(d,...f)=>{o.emit(d,...f)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Gt=cd.createInstance();Gt.createInstance=cd.createInstance;Gt.createInstance;Gt.dir;Gt.init;Gt.loadResources;Gt.reloadResources;Gt.use;Gt.changeLanguage;Gt.getFixedT;Gt.t;Gt.exists;Gt.setDefaultNamespace;Gt.hasLoadedNamespace;Gt.loadNamespaces;Gt.loadLanguages;const c3=(t,e,n,r)=>{var o,u,d,f;const i=[n,{code:e,...r||{}}];if((u=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&u.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Oo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(f=(d=t==null?void 0:t.services)==null?void 0:d.logger)!=null&&f.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},I2={},J0=(t,e,n,r)=>{Oo(n)&&I2[n]||(Oo(n)&&(I2[n]=new Date),c3(t,e,n,r))},T_=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},ex=(t,e,n)=>{t.loadNamespaces(e,T_(t,n))},M2=(t,e,n,r)=>{if(Oo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return ex(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,T_(t,r))},u3=(t,e,n={})=>!e.languages||!e.languages.length?(J0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Oo=t=>typeof t=="string",d3=t=>typeof t=="object"&&t!==null,h3=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,f3={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},m3=t=>f3[t],p3=t=>t.replace(h3,m3);let tx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:p3};const g3=(t={})=>{tx={...tx,...t}},x3=()=>tx;let k_;const y3=t=>{k_=t},v3=()=>k_,b3={type:"3rdParty",init(t){g3(t.options.react),y3(t)}},w3=C.createContext();class T3{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const k3=(t,e)=>{const n=C.useRef();return C.useEffect(()=>{n.current=t},[t,e]),n.current},E_=(t,e,n,r)=>t.getFixedT(e,n,r),E3=(t,e,n,r)=>C.useCallback(E_(t,e,n,r),[t,e,n,r]),mt=(t,e={})=>{var q,V,D,P;const{i18n:n}=e,{i18n:r,defaultNS:i}=C.useContext(w3)||{},o=n||r||v3();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new T3),!o){J0(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(I,B)=>Oo(B)?B:d3(B)&&Oo(B.defaultValue)?B.defaultValue:Array.isArray(I)?I[I.length-1]:I,S=[N,{},!1];return S.t=N,S.i18n={},S.ready=!1,S}(q=o.options.react)!=null&&q.wait&&J0(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...x3(),...o.options.react,...e},{useSuspense:d,keyPrefix:f}=u;let m=i||((V=o.options)==null?void 0:V.defaultNS);m=Oo(m)?[m]:m||["translation"],(P=(D=o.reportNamespaces).addUsedNamespaces)==null||P.call(D,m);const x=(o.isInitialized||o.initializedStoreOnce)&&m.every(N=>u3(N,o,u)),v=E3(o,e.lng||null,u.nsMode==="fallback"?m:m[0],f),b=()=>v,T=()=>E_(o,e.lng||null,u.nsMode==="fallback"?m:m[0],f),[_,j]=C.useState(b);let O=m.join();e.lng&&(O=`${e.lng}${O}`);const M=k3(O),z=C.useRef(!0);C.useEffect(()=>{const{bindI18n:N,bindI18nStore:S}=u;z.current=!0,!x&&!d&&(e.lng?M2(o,e.lng,m,()=>{z.current&&j(T)}):ex(o,m,()=>{z.current&&j(T)})),x&&M&&M!==O&&z.current&&j(T);const I=()=>{z.current&&j(T)};return N&&(o==null||o.on(N,I)),S&&(o==null||o.store.on(S,I)),()=>{z.current=!1,o&&(N==null||N.split(" ").forEach(B=>o.off(B,I))),S&&o&&S.split(" ").forEach(B=>o.store.off(B,I))}},[o,O]),C.useEffect(()=>{z.current&&x&&j(b)},[o,f,x]);const L=[_,o,x];if(L.t=_,L.i18n=o,L.ready=x,x||!x&&!d)return L;throw new Promise(N=>{e.lng?M2(o,e.lng,m,()=>N()):ex(o,m,()=>N())})},{slice:_3,forEach:S3}=[];function N3(t){return S3.call(_3.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function A3(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const O2=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,C3=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let o=`${t}=${i}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!O2.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!O2.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},L2={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=C3(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var j3={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return L2.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=e;n&&typeof document<"u"&&L2.create(n,t,r,i,o)}},R3={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const u=i.substring(1).split("&");for(let d=0;d<u.length;d++){const f=u[d].indexOf("=");f>0&&u[d].substring(0,f)===e&&(n=u[d].substring(f+1))}}return n}},P3={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const u=o.substring(1);if(e){const d=u.split("&");for(let f=0;f<d.length;f++){const m=d[f].indexOf("=");m>0&&d[f].substring(0,m)===e&&(r=d[f].substring(m+1))}}if(r)return r;if(!r&&n>-1){const d=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?(i=d[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Bl=null;const V2=()=>{if(Bl!==null)return Bl;try{if(Bl=typeof window<"u"&&window.localStorage!==null,!Bl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Bl=!1}return Bl};var D3={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&V2())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&V2()&&window.localStorage.setItem(n,t)}};let ql=null;const U2=()=>{if(ql!==null)return ql;try{if(ql=typeof window<"u"&&window.sessionStorage!==null,!ql)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ql=!1}return ql};var I3={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&U2())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&U2()&&window.sessionStorage.setItem(n,t)}},M3={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},O3={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},L3={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},V3={name:"subdomain",lookup(t){var i,o;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let __=!1;try{document.cookie,__=!0}catch{}const S_=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];__||S_.splice(1,1);const U3=()=>({order:S_,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class N_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=N3(n,this.options||{},U3()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(j3),this.addDetector(R3),this.addDetector(D3),this.addDetector(I3),this.addDetector(M3),this.addDetector(O3),this.addDetector(L3),this.addDetector(V3),this.addDetector(P3)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!A3(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}N_.type="languageDetector";const z3={navHome:"Home",navAbout:"About Me",navServices:"Services",navTestimonials:"Testimonials",navContact:"Contact",selectLanguage:"Select language",loading:"Loading...","login.clientTitle":"Client Login","login.clientSubtitle":"Access your personal dashboard.","login.adminTitle":"Admin & Coach Login","login.adminSubtitle":"Access the management panel.","login.emailLabel":"Email Address","login.emailPlaceholder":"you@example.com","login.passwordLabel":"Password","login.loginButton":"Log In","login.loggingIn":"Logging in...","login.orContinueWith":"Or continue with","login.googleButton":"Sign in with Google","login.errorDefault":"Login failed. Check your credentials.","login.errorGoogle":"Google sign-in failed.","login.adminLoginLink":"Are you an Admin or Coach?","login.clientLoginLink":"Are you a Client?","navbar.login":"Login","navbar.logout":"Logout","navbar.profile":"Profile","navbar.dashboard":"Dashboard","navbar.loadingUser":"Loading...","navbar.toggleMenu":"Toggle mobile menu","navbar.closeMenu":"Close menu","profile.errorNoUserId":"User ID not found.","profile.errorNotFound":"User profile not found.","profile.errorFetching":"Failed to load profile.","profile.errorUpdating":"Failed to update profile.","profile.editTitle":"Edit Profile","profile.viewTitle":"User Profile","profile.noName":"N/A","profile.cancelButton":"Cancel","profile.editButton":"Edit Profile","profile.form.displayName":"Full Name","profile.form.email":"Email Address","profile.form.phone":"Phone Number","profile.clientDataTitle":"Client Data","profile.form.weight":"Weight (kg)","profile.form.bodyFat":"Body Fat (%)","profile.form.clientNotes":"Client Notes (Visible to Coach/Admin)","profile.form.assignedPlanId":"Assigned Training Plan ID","profile.form.planIdPlaceholder":"Enter Plan ID (e.g., P001)","profile.form.planIdHelp":"Assign a plan ID. Plan details are managed separately.","profile.form.saveButton":"Save Changes","profile.form.savingButton":"Saving...","profile.form.cancelButton":"Cancel","profile.display.displayName":"Full Name:","profile.display.email":"Email:","profile.display.phone":"Phone:","profile.display.role":"Role:","profile.display.registrationDate":"Member Since:","profile.display.lastLogin":"Last Login:","profile.display.weight":"Weight (kg):","profile.display.bodyFat":"Body Fat (%):","profile.display.clientNotes":"Client Notes:","profile.display.assignedPlanId":"Assigned Plan ID:","profile.notSet":"Not set","roles.admin":"Administrator","roles.coach":"Coach","roles.client":"Client","roles.unknown":"Unknown","profile.coachUpload.title":"Upload File for Client","profile.coachUpload.selectFileLabel":"Select File (Max 10MB)","profile.coachUpload.selectedFile":"Selected:","profile.coachUpload.descriptionLabel":"File Description (Optional)","profile.coachUpload.descriptionPlaceholder":"E.g., Weekly Diet Plan, Video Check Notes...","profile.coachUpload.uploadingButton":"Uploading...","profile.coachUpload.uploadButton":"Upload File","profile.coachUpload.noFileOrAuth":"File or proper authorization missing.","profile.coachUpload.fileTooLarge":"File is too large. Max 10MB.","profile.coachUpload.uploadFailed":"File upload failed.","profile.coachUploadedFiles.title":"Files from Coach/Admin","profile.coachUploadedFiles.uploadedAt":"Uploaded:","profile.coachUploadedFiles.downloadTooltip":"Download/View File","profile.coachUploadedFiles.downloadButton":"View/Download","dashboard.client.title":"Welcome, {{name}}!","dashboard.client.profileSummaryTitle":"Profile Summary","dashboard.client.viewEditProfile":"View/Edit Full Profile","dashboard.client.assignedRoutineTitle":"Your Current Routine","dashboard.client.currentPlanInfo":"Details for plan ID: {{planId}} will be shown here.","dashboard.client.noPlanAssigned":"No training plan assigned yet. Contact your coach!","dashboard.client.viewPlanDetails":"View Plan Details","dashboard.client.trainingHistoryTitle":"Training History","dashboard.client.historyPlaceholder":"Your recent workouts and completed routines will appear here.","dashboard.client.viewFullHistory":"View Full History","dashboard.client.progressUpdateTitle":"Log Your Progress (Text)","dashboard.client.progressUpdateDesc":"Share how you're feeling, any achievements, or challenges.","dashboard.client.progressNotesLabel":"Progress Notes","dashboard.client.progressPlaceholder":"E.g., Felt strong today, hit a new PR on squats!","dashboard.client.submittingProgress":"Submitting...","dashboard.client.submitProgressButton":"Submit Text Update","dashboard.client.progressError":"Failed to submit progress.","dashboard.client.photoUpload.title":"Upload Progress Photo","dashboard.client.photoUpload.desc":"Visually track your transformation. Photos are visible to you and your coach.","dashboard.client.photoUpload.selectLabel":"Select Photo (Max 5MB)","dashboard.client.photoUpload.selectedFile":"Selected:","dashboard.client.photoUpload.captionLabel":"Caption (Optional)","dashboard.client.photoUpload.captionPlaceholder":"E.g., Week 4 - Front View","dashboard.client.photoUpload.uploadingButton":"Uploading...","dashboard.client.photoUpload.uploadButton":"Upload Photo","dashboard.client.photoUpload.noFileError":"Please select a photo to upload.","dashboard.client.photoUpload.fileTooLargeError":"File is too large. Max 5MB.","dashboard.client.photoUpload.uploadFailedError":"Photo upload failed. Please try again.","adminUsers.title":"User Management","adminUsers.addUserNotImplemented":"Add user functionality not yet implemented.","adminUsers.addUserButton":"Add New User","adminUsers.searchPlaceholder":"Search by name, email, or role...","adminUsers.table.name":"Name","adminUsers.table.email":"Email","adminUsers.table.role":"Role","adminUsers.table.phone":"Phone","adminUsers.table.registered":"Registered","adminUsers.table.actions":"Actions","adminUsers.noName":"N/A","adminUsers.editTooltip":"Edit User","adminUsers.deleteTooltip":"Delete User","adminUsers.deleteForbidden":"Only admins can delete users.","adminUsers.deleteConfirm":"Are you sure you want to delete user {{userId}}? This action cannot be undone.","adminUsers.deleteNotImplemented":"Delete functionality not yet fully implemented.","adminUsers.errorFetching":"Failed to load users.","adminUsers.errorDeleting":"Failed to delete user.","adminUsers.noResults":"No users found matching your search.","adminUsers.noUsers":"No users found."},F3={translation:z3},B3=JSON.parse('{"navHome":"Inicio","navAbout":"Sobre Mí","navServices":"Servicios","navTestimonials":"Testimonios","navContact":"Contacto","homeTitle":"Gonorte - Inicio","aboutTitlePage":"Gonorte - Sobre Mí","servicesTitlePage":"Gonorte - Servicios","testimonialsTitlePage":"Gonorte - Testimonios","contactTitlePage":"Gonorte - Contacto","heroTitle":"Transforma Tu Cuerpo, Supera Tus Límites","heroSubtitle":"Entrenamiento personalizado y online con Gonorte. Alcanza tus metas de fitness y bienestar.","heroCTA":"Empieza Hoy","heroSecondaryCTA":"Ver Servicios","heroBadge":"Entrenadora Personal Certificada","heroStatsClients":"Clientes Satisfechos","heroStatsYears":"Años de Experiencia","heroStatsSuccess":"Tasa de Éxito","featuresTitle":"Características Clave","featuresSubtitle":"Descubre las ventajas de entrenar con una profesional certificada que se adapta a tus necesidades","featuresCTA":"¿Listo para Transformar Tu Vida?","featuresCTASubtitle":"Únete a cientos de personas que ya han alcanzado sus metas con Gonorte","featuresCTAButton":"Comenzar Ahora","feature1Title":"Entrenamiento Personalizado","feature1Desc":"Planes completamente personalizados adaptados a tus objetivos, nivel y estilo de vida.","feature2Title":"Asesoría Nutricional","feature2Desc":"Guía nutricional personalizada para complementar tu entrenamiento y maximizar resultados.","feature3Title":"Clases Online","feature3Desc":"Entrena desde donde quieras con clases en vivo y rutinas grabadas de alta calidad.","carouselTitle":"Galería de Proyectos Anteriores","previousSlide":"Diapositiva Anterior","nextSlide":"Siguiente Diapositiva","goToSlide":"Ir a la diapositiva","testimonialsTitle":"Lo Que Dicen Mis Clientes","testimonialsSubtitle":"Descubre las transformaciones reales y testimonios de clientes que han alcanzado sus objetivos con mi método personalizado","testimonialsCTA":"¿Listo para tu transformación? Únete a estos clientes satisfechos","testimonialsCTAButton":"Comenzar Mi Transformación","gonorteTestimonial1Quote":"¡Increíble transformación! Gracias a Gonorte y su método personalizado, perdí 15kg en 6 meses y me siento con más energía que nunca. Su enfoque en la nutrición y el entrenamiento funcional cambió mi vida completamente.","gonorteTestimonial1Author":"Ana Pérez","gonorteTestimonial1Details":"Plan de Pérdida de Peso","gonorteTestimonial2Quote":"Las rutinas online son súper prácticas y efectivas. He ganado mucha fuerza y resistencia entrenando desde casa. Gonorte siempre está disponible para ajustar los ejercicios según mi progreso.","gonorteTestimonial2Author":"Carlos López","gonorteTestimonial2Details":"Rutinas Online de Fuerza","gonorteTestimonial3Quote":"El asesoramiento nutricional fue clave para mi transformación. Aprendí a comer de forma inteligente y complementó perfectamente mi entrenamiento. Ahora tengo hábitos saludables que mantendré toda la vida.","gonorteTestimonial3Author":"Laura Gómez","gonorteTestimonial3Details":"Asesoramiento Nutricional","gonorteTestimonial4Quote":"Como principiante, estaba muy nerviosa por empezar. Gonorte me hizo sentir cómoda desde el primer día. Su paciencia y conocimiento me han ayudado a construir confianza y fuerza gradualmente.","gonorteTestimonial4Author":"María Rodríguez","gonorteTestimonial4Details":"Entrenamiento para Principiantes","gonorteTestimonial5Quote":"Después de una lesión, necesitaba rehabilitación específica. Gonorte diseñó un programa perfecto que me ayudó a recuperarme y volver más fuerte que antes. Su experiencia es invaluable.","gonorteTestimonial5Author":"David Martínez","gonorteTestimonial5Details":"Rehabilitación y Recuperación","gonorteTestimonial6Quote":"Los resultados han sido increíbles. En solo 3 meses, he mejorado mi rendimiento deportivo significativamente. Gonorte entiende perfectamente las necesidades de los atletas.","gonorteTestimonial6Author":"Sofía Torres","gonorteTestimonial6Details":"Entrenamiento Deportivo","secondaryCTATitle":"¿Listo Para Dar el Siguiente Paso?","secondaryCTADescription":"Únete a miles de innovadores que aprovechan nuestra plataforma para construir el futuro. No te quedes afuera.","secondaryCTAButton":"Leer Más","statsTitle":"Resultados que Hablan por Sí Mismos","statsSubtitle":"Estos números representan la dedicación y el compromiso con la excelencia en el entrenamiento personal","statsClients":"Clientes Transformados","statsSupport":"Soporte Disponible","statsCTA":"¿Quieres ser parte de estas estadísticas?","profileTitle":"Conoce a Gonorte","profileSubtitle":"Tu entrenadora personal dedicada a transformar vidas a través del fitness y el bienestar","profileName":"Gonorte","profileDescription":"Soy una entrenadora personal apasionada por el fitness y el bienestar. Con más de 5 años de experiencia, he ayudado a cientos de personas a alcanzar sus metas de salud y transformar sus vidas a través del ejercicio físico y la nutrición equilibrada.","profileMission":"Mi misión es inspirar y guiar a cada persona en su viaje hacia una vida más saludable, proporcionando programas personalizados que se adapten a sus necesidades, objetivos y estilo de vida.","profileCertifications":"Certificaciones y Especialidades","profileAchievements":"Logros Destacados","profilePhotoPlaceholder":"Foto de Gonorte","profileCTA":"Conoce Mi Historia Completa","certification1":"Entrenadora Personal Certificada","certification2":"Especialista en Nutrición Deportiva","certification3":"Instructora de Yoga y Pilates","certification4":"Coach de Bienestar Integral","achievement1":"Clientes Transformados","achievement2":"Años de Experiencia","achievement3":"Tasa de Satisfacción","faqTitle":"Preguntas Frecuentes","faqSubtitle":"Resolvemos las dudas más comunes sobre nuestros servicios de entrenamiento personal","faq1Question":"¿Cómo funciona el entrenamiento personalizado?","faq1Answer":"El entrenamiento personalizado se adapta completamente a tus necesidades. Primero realizamos una evaluación inicial de tu condición física, objetivos y disponibilidad. Luego diseñamos un programa específico que incluye ejercicios, rutinas y seguimiento continuo para maximizar tus resultados.","faq2Question":"¿Ofrecen entrenamiento online?","faq2Answer":"¡Sí! Ofrecemos entrenamiento online completo con rutinas personalizadas, videos explicativos, seguimiento semanal y soporte 24/7. Puedes entrenar desde casa o donde quieras, manteniendo la misma calidad y personalización que el entrenamiento presencial.","faq3Question":"¿Qué incluye el asesoramiento nutricional?","faq3Answer":"El asesoramiento nutricional incluye un plan de alimentación personalizado, educación sobre nutrición, seguimiento de progreso, ajustes según tus resultados y soporte continuo. No se trata de dietas restrictivas, sino de crear hábitos saludables y sostenibles.","faq4Question":"¿Cuánto tiempo necesito para ver resultados?","faq4Answer":"Los resultados varían según cada persona, pero típicamente puedes notar mejoras en energía y bienestar desde la primera semana. Cambios físicos más notables suelen aparecer entre 4-8 semanas con constancia en el entrenamiento y nutrición.","faq5Question":"¿Trabajan con principiantes?","faq5Answer":"¡Absolutamente! Nos especializamos en trabajar con personas de todos los niveles, desde principiantes hasta avanzados. Cada programa se adapta a tu nivel actual, progresando gradualmente para evitar lesiones y maximizar resultados.","faq6Question":"¿Qué equipamiento necesito para entrenar?","faq6Answer":"Para empezar, solo necesitas tu cuerpo y ganas de entrenar. Muchos ejercicios se pueden hacer sin equipamiento. Si tienes acceso a pesas, bandas de resistencia o una pelota de ejercicio, podemos incorporarlos, pero no son necesarios para comenzar.","faqCTA":"¿Tienes más preguntas?","faqCTASubtitle":"No dudes en contactarme para resolver cualquier duda sobre tu entrenamiento personal","faqCTAButton":"Contactar Ahora","servicesTitle":"Mis Servicios","servicesSubtitle":"Ofrezco una amplia gama de servicios personalizados para ayudarte a alcanzar tus objetivos fitness de manera efectiva y sostenible","servicesCTA":"¿No encuentras lo que buscas? Contáctame para un plan personalizado","servicesCTAButton":"Consulta Personalizada","popularBadge":"Más Popular","serviceCTA":"Comenzar","service1Title":"Entrenamiento Personalizado","service1Desc":"Planes completamente personalizados adaptados a tus objetivos, nivel y estilo de vida.","service2Title":"Asesoría Nutricional","service2Desc":"Guía nutricional personalizada para complementar tu entrenamiento y maximizar resultados.","service3Title":"Clases Online","service3Desc":"Entrena desde donde quieras con clases en vivo y rutinas grabadas de alta calidad.","service4Title":"Rehabilitación y Recuperación","service4Desc":"Programas especializados para recuperación de lesiones y mejora de movilidad.","service5Title":"Entrenamiento Deportivo","service5Desc":"Mejora tu rendimiento deportivo con entrenamiento específico para tu disciplina.","service6Title":"Sesiones Grupales","service6Desc":"Entrena en grupo con amigos o familiares para mayor motivación y diversión.","contactTitle":"Ponte en Contacto","contactSubtitle":"¿Listo para comenzar tu transformación? Contáctame y juntos crearemos el plan perfecto para alcanzar tus objetivos","contactInfoTitle":"Información de Contacto","contactEmailTitle":"Email","contactEmail":"gonorte.biomechanics@gmail.com","contactPhoneTitle":"Teléfono","contactPhone":"+34 644 00 15 99","contactLocationTitle":"Ubicación","contactLocation":"Jaén, España","contactHoursTitle":"Horarios","contactHours":"Lun-Vier: 9:00-21:00","contactSocialTitle":"Sígueme en Redes Sociales","contactQuickResponseTitle":"Respuesta Rápida","contactQuickResponseText":"Normalmente respondo en menos de 24 horas. ¡No dudes en contactarme!","contactReadyTitle":"¿Listo para tu Transformación?","contactReadyText":"Comienza tu viaje hacia una vida más saludable y en forma. Te ayudo a alcanzar tus objetivos fitness de manera personalizada y efectiva.","contactCTA":"Enviar Mensaje","contactCallCTA":"Llamar Ahora","contactAvailable":"Disponible ahora","contactFormTitle":"Envíame un Mensaje","contactFormName":"Nombre","contactFormNamePlaceholder":"Tu nombre completo","contactFormEmail":"Email","contactFormEmailPlaceholder":"tu@email.com","contactFormPhone":"Teléfono","contactFormPhonePlaceholder":"+34 600 123 456","contactFormService":"Servicio de Interés","contactFormServicePlaceholder":"Selecciona un servicio","contactFormMessage":"Mensaje","contactFormMessagePlaceholder":"Cuéntame sobre tus objetivos y cómo puedo ayudarte...","contactFormSubmit":"Enviar Mensaje","contactSuccess":"¡Mensaje enviado con éxito! Te responderemos pronto.","contactError":"Hubo un error al enviar el mensaje. Por favor, inténtalo de nuevo.","contactSending":"Enviando...","contactMapPlaceholder":"Mapa interactivo aquí","footerText":"© 2024 Gonorte. Todos los derechos reservados.","footer.quickLinks":"Enlaces Rápidos","footer.legal":"Legal","footer.contactUs":"Contáctanos","footer.settingsSocial":"Ajustes y Social","footer.companyName":"Gonorte","footer.allRightsReserved":"Todos los derechos reservados.","selectLanguage":"Seleccionar idioma","changeLanguageToEnglish":"Cambiar a Inglés","changeLanguageToSpanish":"Cambiar a Español","cookieConsentText":"Usamos cookies para mejorar tu experiencia. Al usar nuestro sitio, aceptas nuestro uso de cookies.","cookieConsentAccept":"Aceptar","legalPageTitle":"Gonorte - Información Legal","termsOfUseTitle":"Términos de Uso","privacyPolicyTitle":"Política de Privacidad","lastUpdated":"Última Actualización","ariaLabelGoToHome":"Gonorte - Ir a la página principal","pageNotFoundTitle":"Página No Encontrada","pageNotFoundMessage":"Lo sentimos, la página que buscas no existe.","goBackButton":"Volver","aboutSectionMainHeading":"Conoce a tu Entrenador","aboutParagraph1":"Hola, soy [Nombre del Entrenador], tu entrenador personal y coach de fitness en Gonorte.","aboutParagraph2":"Desde que tengo memoria, el deporte y la actividad física han sido una parte fundamental de mi vida. Esta pasión me llevó a estudiar ciencias del deporte y a certificarme como entrenador personal, con el objetivo de compartir mis conocimientos y ayudar a otros a descubrir los beneficios de un cuerpo activo y una mente sana.","aboutParagraph3":"Mi misión es ayudarte a alcanzar tus objetivos de fitness, ya sea perder peso, ganar músculo, mejorar tu resistencia o simplemente adoptar un estilo de vida más saludable. Creo en un enfoque personalizado, adaptando cada programa de entrenamiento y plan nutricional a tus necesidades, preferencias y capacidades individuales.","aboutParagraph4":"Con años de experiencia y una dedicación continua al estudio del bienestar y el rendimiento humano, estoy aquí para guiarte y motivarte en cada paso de tu transformación. Juntos, podemos superar obstáculos, establecer metas realistas y celebrar cada logro en tu camino hacia una mejor versión de ti mismo.","servicesPageMainHeading":"Nuestros Servicios","servicesPersonalTrainingTitle":"Entrenamiento Personalizado","servicesPersonalTrainingDesc1":"Ofrecemos programas de entrenamiento individualizados, diseñados específicamente para ayudarte a alcanzar tus metas de fitness. Ya sea que busques perder peso, ganar masa muscular, mejorar tu rendimiento deportivo o simplemente adoptar un estilo de vida más activo, trabajaremos contigo para crear un plan que se ajuste a tus necesidades, habilidades y preferencias.","servicesPersonalTrainingDesc2":"Nuestras sesiones de entrenamiento personalizado incluyen seguimiento continuo, ajustes programáticos basados en tu progreso y la motivación necesaria para superar tus límites. Contáctanos para una consulta inicial y descubre cómo podemos transformar tu cuerpo y mente.","servicesOnlineRoutinesTitle":"Rutinas Online","servicesOnlineRoutinesDesc1":"Accede a nuestros programas de entrenamiento desde cualquier lugar y en cualquier momento con nuestras rutinas online. Perfectas para quienes prefieren la flexibilidad de entrenar en casa o mientras viajan, nuestras rutinas digitales vienen con guías detalladas, videos explicativos y soporte para asegurar que ejecutes cada ejercicio de manera segura y efectiva.","servicesOnlineRoutinesDesc2":"Ofrecemos una variedad de rutinas que se adaptan a diferentes niveles de experiencia y objetivos, desde programas de fuerza y acondicionamiento hasta rutinas de movilidad y bienestar general. Todo accesible a través de nuestra plataforma intuitiva.","servicesNutritionalCoachingTitle":"Asesoramiento Nutricional","servicesNutritionalCoachingDesc1":"El complemento perfecto para tu entrenamiento. Nuestro servicio de asesoramiento nutricional te enseñará cómo alimentar tu cuerpo de manera inteligente para maximizar tus resultados y mejorar tu salud general. No se trata de dietas restrictivas, sino de construir hábitos alimenticios sostenibles.","servicesNutritionalCoachingDesc2":"Desarrollamos planes de comidas personalizados, te educamos sobre la importancia de los macronutrientes y micronutrientes, y te ofrecemos el apoyo continuo para que la nutrición se convierta en una parte integral y placentera de tu estilo de vida saludable.","aboutTitle":"Acerca de Gonorte","aboutTextPlaceholder":"Aquí irá una breve introducción sobre Gonorte, su filosofía de entrenamiento y su pasión por ayudar a otros a alcanzar sus metas de fitness. Este contenido se personalizará para reflejar la identidad y experiencia del entrenador.","contactTextPlaceholder":"¿Listo para empezar tu transformación? Envíame un mensaje o encuéntrame en redes sociales.","loading":"Cargando...","login.clientTitle":"Acceso Clientes","login.clientSubtitle":"Accede a tu panel personal.","login.adminTitle":"Acceso Admin & Coach","login.adminSubtitle":"Accede al panel de gestión.","login.emailLabel":"Correo Electrónico","login.emailPlaceholder":"tu@ejemplo.com","login.passwordLabel":"Contraseña","login.loginButton":"Iniciar Sesión","login.loggingIn":"Iniciando sesión...","login.orContinueWith":"O continuar con","login.googleButton":"Iniciar sesión con Google","login.errorDefault":"Error al iniciar sesión. Verifica tus credenciales.","login.errorGoogle":"Error al iniciar sesión con Google.","login.adminLoginLink":"¿Eres Admin o Coach?","login.clientLoginLink":"¿Eres Cliente?","navbar.login":"Acceder","navbar.logout":"Cerrar Sesión","navbar.profile":"Perfil","navbar.dashboard":"Panel","navbar.loadingUser":"Cargando...","navbar.toggleMenu":"Alternar menú móvil","navbar.closeMenu":"Cerrar menú","profile.errorNoUserId":"ID de usuario no encontrado.","profile.errorNotFound":"Perfil de usuario no encontrado.","profile.errorFetching":"Error al cargar el perfil.","profile.errorUpdating":"Error al actualizar el perfil.","profile.editTitle":"Editar Perfil","profile.viewTitle":"Perfil de Usuario","profile.noName":"N/A","profile.cancelButton":"Cancelar","profile.editButton":"Editar Perfil","profile.form.displayName":"Nombre Completo","profile.form.email":"Correo Electrónico","profile.form.phone":"Número de Teléfono","profile.clientDataTitle":"Datos del Cliente","profile.form.weight":"Peso (kg)","profile.form.bodyFat":"Grasa Corporal (%)","profile.form.clientNotes":"Notas del Cliente (Visible para Coach/Admin)","profile.form.assignedPlanId":"ID Plan de Entrenamiento Asignado","profile.form.planIdPlaceholder":"Introduce ID del Plan (ej: P001)","profile.form.planIdHelp":"Asigna un ID de plan. Los detalles del plan se gestionan aparte.","profile.form.saveButton":"Guardar Cambios","profile.form.savingButton":"Guardando...","profile.form.cancelButton":"Cancelar","profile.display.displayName":"Nombre Completo:","profile.display.email":"Email:","profile.display.phone":"Teléfono:","profile.display.role":"Rol:","profile.display.registrationDate":"Miembro Desde:","profile.display.lastLogin":"Último Acceso:","profile.display.weight":"Peso (kg):","profile.display.bodyFat":"Grasa Corporal (%):","profile.display.clientNotes":"Notas del Cliente:","profile.display.assignedPlanId":"Plan Asignado (ID):","profile.notSet":"No establecido","profile.personalInfo":"Información Personal","profile.form.displayNamePlaceholder":"Tu nombre completo","profile.form.phonePlaceholder":"+34 600 000 000","profile.form.clientNotesPlaceholder":"Notas sobre el progreso, objetivos, etc.","common.back":"Volver atrás","roles.admin":"Administrador","roles.coach":"Entrenador(a)","roles.client":"Cliente","roles.unknown":"Desconocido","profile.coachUpload.title":"Subir Archivo para Cliente","profile.coachUpload.selectFileLabel":"Seleccionar Archivo (Max 10MB)","profile.coachUpload.selectedFile":"Seleccionado:","profile.coachUpload.descriptionLabel":"Descripción del Archivo (Opcional)","profile.coachUpload.descriptionPlaceholder":"Ej: Plan de dieta semanal, Notas de video...","profile.coachUpload.uploadingButton":"Subiendo...","profile.coachUpload.uploadButton":"Subir Archivo","profile.coachUpload.noFileOrAuth":"Archivo o autorización adecuada ausente.","profile.coachUpload.fileTooLarge":"El archivo es demasiado grande. Máximo 10MB.","profile.coachUpload.uploadFailed":"Error al subir el archivo.","profile.coachUploadedFiles.title":"Archivos del Entrenador/Admin","profile.coachUploadedFiles.uploadedAt":"Subido:","profile.coachUploadedFiles.downloadTooltip":"Descargar/Ver Archivo","profile.coachUploadedFiles.downloadButton":"Ver/Descargar","dashboard.coach.title":"Panel de Coach","dashboard.coach.subtitle":"Bienvenido, {{name}}","dashboard.coach.users.title":"Gestión de Usuarios","dashboard.coach.users.description":"Ver y gestionar todos los usuarios del sistema","dashboard.coach.plans.title":"Planes de Entrenamiento","dashboard.coach.plans.description":"Crear y gestionar planes de entrenamiento","dashboard.coach.plans.createNew":"Crear Nuevo","dashboard.coach.analytics.title":"Analíticas","dashboard.coach.analytics.description":"Ver estadísticas y progreso de clientes","dashboard.coach.schedule.title":"Calendario","dashboard.coach.schedule.description":"Gestionar horarios y citas","dashboard.coach.stats.totalUsers":"Total Usuarios","dashboard.coach.stats.activePlans":"Planes Activos","dashboard.coach.stats.thisWeek":"Esta Semana","dashboard.coach.stats.sessions":"Sesiones","dashboard.coach.recentActivity.title":"Actividad Reciente","dashboard.coach.recentActivity.newUser":"Nuevo usuario registrado","dashboard.coach.recentActivity.planAssigned":"Plan asignado a cliente","dashboard.coach.recentActivity.progressUpdate":"Actualización de progreso","dashboard.coach.recentActivity.timeAgo":"Hace {{time}}","adminPlans.title":"Planes de Entrenamiento","adminPlans.subtitle":"Gestiona los planes de entrenamiento","adminPlans.createPlan":"Crear Plan","adminPlans.editPlan":"Editar Plan","adminPlans.delete":"Eliminar","adminPlans.edit":"Editar","adminPlans.assign":"Asignar","adminPlans.confirmDelete":"¿Estás seguro de que quieres eliminar este plan?","adminPlans.noPlans":"No hay planes creados","adminPlans.noPlansDescription":"Crea tu primer plan de entrenamiento para comenzar","adminPlans.createFirstPlan":"Crear Primer Plan","adminPlans.errorFetching":"Error al cargar los planes","adminPlans.errorCreating":"Error al crear el plan","adminPlans.errorUpdating":"Error al actualizar el plan","adminPlans.errorDeleting":"Error al eliminar el plan","adminPlans.difficulty.beginner":"Principiante","adminPlans.difficulty.intermediate":"Intermedio","adminPlans.difficulty.advanced":"Avanzado","adminPlans.weeks":"semanas","adminPlans.exercises":"Ejercicios","adminPlans.form.name":"Nombre del Plan","adminPlans.form.namePlaceholder":"Ej: Plan de Fuerza Básica","adminPlans.form.description":"Descripción","adminPlans.form.descriptionPlaceholder":"Describe el objetivo y enfoque del plan","adminPlans.form.difficulty":"Dificultad","adminPlans.form.duration":"Duración (semanas)","adminPlans.form.exercises":"Ejercicios","adminPlans.form.addExercise":"Agregar Ejercicio","adminPlans.form.exercise":"Ejercicio","adminPlans.form.exerciseName":"Nombre","adminPlans.form.exerciseNamePlaceholder":"Ej: Sentadillas","adminPlans.form.sets":"Series","adminPlans.form.reps":"Repeticiones","adminPlans.form.rest":"Descanso","adminPlans.form.notes":"Notas (Opcional)","adminPlans.form.notesPlaceholder":"Notas adicionales sobre el ejercicio","adminPlans.assignPlan":"Asignar Plan","adminPlans.assignPlanDescription":"Asignar \\"{{planName}}\\" a un cliente","adminPlans.selectClient":"Seleccionar Cliente","adminPlans.searchClients":"Buscar clientes...","adminPlans.noName":"Sin nombre","adminPlans.alreadyAssigned":"Ya tiene plan","adminPlans.planAssignedSuccess":"Plan asignado correctamente","adminPlans.errorAssigning":"Error al asignar el plan","common.cancel":"Cancelar","common.save":"Guardar","common.create":"Crear","common.saving":"Guardando...","common.assigning":"Asignando...","common.backToDashboard":"Volver al Dashboard","common.retry":"Reintentar","dashboard.client.title":"¡Bienvenido/a, {{name}}!","dashboard.client.profileSummaryTitle":"Resumen del Perfil","dashboard.client.viewEditProfile":"Ver/Editar Perfil Completo","dashboard.client.assignedRoutineTitle":"Tu Rutina Actual","dashboard.client.currentPlanInfo":"Detalles para el plan ID: {{planId}} se mostrarán aquí.","dashboard.client.noPlanAssigned":"Aún no tienes un plan de entrenamiento asignado. ¡Contacta a tu entrenador!","dashboard.client.viewPlanDetails":"Ver Plan de Entrenamiento","dashboard.client.trainingHistoryTitle":"Historial de Entrenamiento","dashboard.client.historyPlaceholder":"Tus entrenamientos recientes y rutinas completadas aparecerán aquí.","dashboard.client.viewFullHistory":"Ver Historial Completo","dashboard.client.progressUpdateTitle":"Registra tu Progreso (Texto)","dashboard.client.progressUpdateDesc":"Comparte cómo te sientes, logros o desafíos.","dashboard.client.progressNotesLabel":"Notas de Progreso","dashboard.client.progressPlaceholder":"Ej: ¡Hoy me sentí fuerte, nuevo PR en sentadillas!","dashboard.client.submittingProgress":"Enviando...","dashboard.client.submitProgressButton":"Enviar Actualización de Texto","dashboard.client.progressError":"Error al enviar el progreso.","dashboard.client.photoUpload.title":"Subir Foto de Progreso","dashboard.client.photoUpload.desc":"Realiza un seguimiento visual de tu transformación. Las fotos son visibles para ti y tu entrenador.","dashboard.client.photoUpload.selectLabel":"Seleccionar Foto (Max 5MB)","dashboard.client.photoUpload.selectedFile":"Seleccionado:","dashboard.client.photoUpload.captionLabel":"Leyenda (Opcional)","dashboard.client.photoUpload.captionPlaceholder":"Ej: Semana 4 - Vista Frontal","dashboard.client.photoUpload.uploadingButton":"Subiendo...","dashboard.client.photoUpload.uploadButton":"Subir Foto","dashboard.client.photoUpload.noFileError":"Por favor, selecciona una foto para subir.","dashboard.client.photoUpload.fileTooLargeError":"El archivo es demasiado grande. Máximo 5MB.","dashboard.client.photoUpload.uploadFailedError":"Error al subir la foto. Inténtalo de nuevo.","dashboard.client.notificationsTitle":"Notificaciones","dashboard.client.notificationsDescription":"Mantente al día con tus alertas y mensajes importantes.","dashboard.client.viewNotifications":"Ver Notificaciones","dashboard.client.settingsTitle":"Configuración","dashboard.client.settingsDescription":"Gestiona tus preferencias y configuración de cuenta.","dashboard.client.viewSettings":"Ver Configuración","adminUsers.title":"Gestión de Usuarios","adminUsers.addUserNotImplemented":"Funcionalidad de añadir usuario aún no implementada.","adminUsers.addUserButton":"Añadir Nuevo Usuario","adminUsers.searchPlaceholder":"Buscar por nombre, email o rol...","adminUsers.table.name":"Nombre","adminUsers.table.email":"Email","adminUsers.table.role":"Rol","adminUsers.table.phone":"Teléfono","adminUsers.table.assignedPlan":"Plan Asignado","adminUsers.table.registered":"Registrado","adminUsers.table.actions":"Acciones","adminUsers.noName":"N/A","adminUsers.editTooltip":"Editar Usuario","adminUsers.deleteTooltip":"Eliminar Usuario","adminUsers.deleteForbidden":"Solo los administradores pueden eliminar usuarios.","adminUsers.deleteConfirm":"¿Seguro que quieres eliminar al usuario {{userId}}? Esta acción no se puede deshacer.","adminUsers.deleteNotImplemented":"Funcionalidad de eliminar aún no implementada completamente.","adminUsers.errorFetching":"Error al cargar usuarios.","adminUsers.errorDeleting":"Error al eliminar usuario.","adminUsers.assignPlan":"Asignar Plan","adminUsers.assignPlanTo":"Asignar Plan a","adminUsers.selectPlan":"Seleccionar Plan","adminUsers.noPlan":"Sin plan asignado","adminUsers.planAssignedSuccess":"Plan asignado correctamente","adminUsers.errorAssigningPlan":"Error al asignar el plan","adminUsers.noResults":"No se encontraron usuarios que coincidan con tu búsqueda.","clientTrainingPlan.yourPlan":"Tu Plan de Entrenamiento","clientTrainingPlan.noPlanTitle":"No tienes un plan asignado","clientTrainingPlan.noPlanDescription":"Contacta con tu coach o administrador para que te asigne un plan de entrenamiento personalizado.","clientTrainingPlan.errorTitle":"Error al cargar el plan","clientTrainingPlan.planNotFound":"Plan no encontrado","clientTrainingPlan.errorFetching":"Error al cargar el plan","clientTrainingPlan.planInfo":"Información del Plan","clientTrainingPlan.duration":"Duración","clientTrainingPlan.weeks":"semanas","clientTrainingPlan.difficulty":"Dificultad","clientTrainingPlan.exercises":"Ejercicios","clientTrainingPlan.progress":"Progreso","clientTrainingPlan.completed":"completados","clientTrainingPlan.sets":"Series","clientTrainingPlan.reps":"Repeticiones","clientTrainingPlan.rest":"Descanso","clientTrainingPlan.notes":"Notas","clientTrainingPlan.markComplete":"Marcar como completo","clientTrainingPlan.markIncomplete":"Marcar como incompleto","clientTrainingPlan.saveProgress":"Guardar Progreso","clientTrainingPlan.saving":"Guardando...","clientTrainingPlan.saved":"¡Guardado!","clientTrainingPlan.errorSavingProgress":"Error al guardar el progreso","clientTrainingHistory.title":"Historial de Entrenamiento","clientTrainingHistory.subtitle":"Tu progreso y sesiones completadas","clientTrainingHistory.errorTitle":"Error al cargar el historial","clientTrainingHistory.errorFetching":"Error al cargar el historial","clientTrainingHistory.stats.totalSessions":"Sesiones Totales","clientTrainingHistory.stats.exercisesCompleted":"Ejercicios Completados","clientTrainingHistory.stats.averageCompletion":"Promedio de Completado","clientTrainingHistory.stats.streak":"Racha Actual","clientTrainingHistory.stats.days":"días","clientTrainingHistory.sessionsTitle":"Sesiones de Entrenamiento","clientTrainingHistory.noSessions":"No hay sesiones registradas","clientTrainingHistory.noSessionsDescription":"Comienza a entrenar y verás tu historial aquí","clientTrainingHistory.startTraining":"Comenzar Entrenamiento","clientTrainingHistory.completion":"Completado","clientTrainingHistory.exercises":"ejercicios","clientTrainingHistory.completedExercises":"Ejercicios Completados","coachAnalytics.title":"Analíticas de Clientes","coachAnalytics.subtitle":"Progreso y estadísticas de tus clientes","coachAnalytics.errorTitle":"Error al cargar las analíticas","coachAnalytics.errorFetching":"Error al cargar las analíticas","coachAnalytics.timeframe.week":"Esta Semana","coachAnalytics.timeframe.month":"Este Mes","coachAnalytics.timeframe.all":"Todo el Tiempo","coachAnalytics.stats.totalClients":"Total Clientes","coachAnalytics.stats.activeClients":"Clientes Activos","coachAnalytics.stats.totalSessions":"Sesiones Totales","coachAnalytics.stats.averageCompletion":"Promedio Completado","coachAnalytics.planStats.title":"Estadísticas por Plan","coachAnalytics.planStats.assigned":"Asignado","coachAnalytics.planStats.active":"Activos","coachAnalytics.planStats.avgCompletion":"Promedio","coachAnalytics.clientProgress.title":"Progreso de Clientes","coachAnalytics.noClients":"No hay clientes registrados","coachAnalytics.noClientsDescription":"Los clientes aparecerán aquí cuando se registren","coachAnalytics.table.client":"Cliente","coachAnalytics.table.plan":"Plan","coachAnalytics.table.sessions":"Sesiones","coachAnalytics.table.completion":"Completado","coachAnalytics.table.streak":"Racha","coachAnalytics.table.lastSession":"Última Sesión","coachAnalytics.table.status":"Estado","coachAnalytics.table.days":"días","coachAnalytics.table.active":"Activo","coachAnalytics.table.inactive":"Inactivo","adminUsers.noUsers":"No se encontraron usuarios.","coachSchedule":{"title":"Calendario de Citas","subtitle":"Gestiona horarios y citas con tus clientes","createAppointment":"Nueva Cita","editAppointment":"Editar Cita","view":{"day":"Día","week":"Semana","month":"Mes"},"stats":{"total":"Total Citas","scheduled":"Programadas","completed":"Completadas","clients":"Clientes Únicos"},"upcoming":"Próximas Citas","noUpcoming":"No hay citas programadas próximamente","allAppointments":"Todas las Citas","noAppointments":"No hay citas programadas","noAppointmentsDescription":"Crea tu primera cita para comenzar","createFirstAppointment":"Crear Primera Cita","table":{"title":"Título","client":"Cliente","date":"Fecha","type":"Tipo","status":"Estado","actions":"Acciones"},"type":{"consultation":"Consulta","training":"Entrenamiento","follow-up":"Seguimiento","assessment":"Evaluación"},"status":{"scheduled":"Programada","completed":"Completada","cancelled":"Cancelada"},"form":{"title":"Título de la Cita","titlePlaceholder":"Ej: Entrenamiento de Fuerza","type":"Tipo de Cita","description":"Descripción (Opcional)","descriptionPlaceholder":"Detalles adicionales sobre la cita","client":"Cliente","selectClient":"Seleccionar Cliente","date":"Fecha","time":"Hora","duration":"Duración (minutos)","minutes":"minutos"},"edit":"Editar","delete":"Eliminar","markCompleted":"Marcar como completada","confirmDelete":"¿Estás seguro de que quieres eliminar esta cita?","errorFetching":"Error al cargar las citas","errorCreating":"Error al crear la cita","errorUpdating":"Error al actualizar la cita","errorDeleting":"Error al eliminar la cita","errorUpdatingStatus":"Error al actualizar el estado de la cita"},"notifications":{"title":"Notificaciones","subtitle":"Mantente al día con tus alertas y mensajes","markAllRead":"Marcar Todo como Leído","clearRead":"Limpiar Leídas","stats":{"total":"Total","unread":"No Leídas","read":"Leídas"},"filter":{"all":"Todas","unread":"No Leídas","read":"Leídas"},"noNotifications":"No hay notificaciones","noNotificationsDescription":"Las notificaciones aparecerán aquí cuando las recibas","noUnread":"No hay notificaciones sin leer","noUnreadDescription":"¡Excelente! Estás al día con todas tus notificaciones","noRead":"No hay notificaciones leídas","noReadDescription":"Las notificaciones leídas aparecerán aquí","markAsRead":"Marcar como leída","delete":"Eliminar","confirmDelete":"¿Estás seguro de que quieres eliminar esta notificación?","confirmClearAll":"¿Estás seguro de que quieres eliminar todas las notificaciones leídas?","justNow":"Justo ahora","hoursAgo":"Hace {{hours}} horas","daysAgo":"Hace {{days}} días","errorFetching":"Error al cargar las notificaciones","errorMarkingRead":"Error al marcar como leída","errorMarkingAllRead":"Error al marcar todas como leídas","errorDeleting":"Error al eliminar la notificación","errorClearing":"Error al eliminar las notificaciones leídas"},"settings":{"title":"Configuración","subtitle":"Gestiona tus preferencias y configuración de cuenta","savedSuccessfully":"Configuración guardada correctamente","errorLoading":"Error al cargar la configuración","errorSaving":"Error al guardar la configuración","passwordMismatch":"Las contraseñas no coinciden","passwordTooShort":"La contraseña debe tener al menos 6 caracteres","passwordChanged":"Contraseña cambiada correctamente","errorChangingPassword":"Error al cambiar la contraseña","tabs":{"notifications":"Notificaciones","privacy":"Privacidad","preferences":"Preferencias","account":"Cuenta"},"notifications":{"title":"Configuración de Notificaciones","email":"Notificaciones por Email","emailDesc":"Recibe notificaciones importantes por correo electrónico","push":"Notificaciones Push","pushDesc":"Recibe notificaciones en tiempo real en tu dispositivo","trainingReminders":"Recordatorios de Entrenamiento","trainingRemindersDesc":"Recibe recordatorios para tus sesiones de entrenamiento","progressUpdates":"Actualizaciones de Progreso","progressUpdatesDesc":"Recibe notificaciones sobre tu progreso y logros","weeklyReports":"Reportes Semanales","weeklyReportsDesc":"Recibe un resumen semanal de tu actividad"},"privacy":{"title":"Configuración de Privacidad","profileVisibility":"Visibilidad del Perfil","profileVisibilityDesc":"Controla quién puede ver tu perfil","public":"Público","coaches":"Solo Coaches","private":"Privado","showProgress":"Mostrar Progreso","showProgressDesc":"Permite que otros vean tu progreso de entrenamiento","showStats":"Mostrar Estadísticas","showStatsDesc":"Permite que otros vean tus estadísticas de entrenamiento","allowMessages":"Permitir Mensajes","allowMessagesDesc":"Permite que otros usuarios te envíen mensajes"},"preferences":{"title":"Preferencias Generales","language":"Idioma","theme":"Tema","light":"Claro","dark":"Oscuro","auto":"Automático","timezone":"Zona Horaria","units":"Unidades","metric":"Métrico (kg, km)","imperial":"Imperial (lb, mi)"},"account":{"title":"Configuración de Cuenta","information":"Información de la Cuenta","name":"Nombre","notSet":"No establecido","email":"Email","memberSince":"Miembro desde","unknown":"Desconocido","changePassword":"Cambiar Contraseña","currentPassword":"Contraseña Actual","newPassword":"Nueva Contraseña","confirmPassword":"Confirmar Nueva Contraseña","updatePassword":"Actualizar Contraseña"}}}'),q3={translation:B3},H3=JSON.parse(`{"navHome":"Accueil","navAbout":"A propos de moi","navServices":"Services","navTestimonials":"Temoignages","navContact":"Contact","homeTitle":"Gonorte - Accueil","aboutTitlePage":"Gonorte - A propos de moi","servicesTitlePage":"Gonorte - Services","testimonialsTitlePage":"Gonorte - Temoignages","contactTitlePage":"Gonorte - Contact","heroTitle":"Transformez Votre Corps, Depassez Vos Limites","heroSubtitle":"Entrainement personnalise et en ligne avec Gonorte. Atteignez vos objectifs de fitness et de bien-etre.","heroCTA":"Commencer Aujourd'hui","heroSecondaryCTA":"Voir les Services","heroBadge":"Entraineuse Personnelle Certifiee","heroStatsClients":"Clients Satisfaits","heroStatsYears":"Annees d'Experience","heroStatsSuccess":"Taux de Reussite","featuresTitle":"Caracteristiques Cles","featuresSubtitle":"Decouvrez les avantages de s'entrainer avec une professionnelle certifiee qui s'adapte a vos besoins","featuresCTA":"Pret a Transformer Votre Vie ?","featuresCTASubtitle":"Rejoignez des centaines de personnes qui ont deja atteint leurs objectifs avec Gonorte","featuresCTAButton":"Commencer Maintenant","feature1Title":"Entrainement Personnalise","feature1Desc":"Plans completement personnalises adaptes a vos objectifs, niveau et style de vie.","feature2Title":"Conseil Nutritionnel","feature2Desc":"Guidance nutritionnelle personnalisee pour completer votre entrainement et maximiser les resultats.","feature3Title":"Cours en Ligne","feature3Desc":"Entrainez-vous de n'importe ou avec des cours en direct et des routines enregistrees de haute qualite.","carouselTitle":"Galerie de Projets Precedents","previousSlide":"Diapositive Precedente","nextSlide":"Diapositive Suivante","goToSlide":"Aller a la diapositive","testimonialsTitle":"Ce Que Disent Mes Clients","testimonialsSubtitle":"Decouvrez les vraies transformations et temoignages de clients qui ont atteint leurs objectifs avec ma methode personnalisee","testimonialsCTA":"Pret pour votre transformation ? Rejoignez ces clients satisfaits","testimonialsCTAButton":"Commencer Ma Transformation","gonorteTestimonial1Quote":"Transformation incroyable ! Grace a Gonorte et sa methode personnalisee, j'ai perdu 15kg en 6 mois et je me sens plus energique que jamais. Son approche de la nutrition et de l'entrainement fonctionnel a completement change ma vie.","gonorteTestimonial1Author":"Ana Perez","gonorteTestimonial1Details":"Plan de Perte de Poids","gonorteTestimonial2Quote":"Les routines en ligne sont super pratiques et efficaces. J'ai gagne beaucoup de force et d'endurance en m'entrainant depuis chez moi. Gonorte est toujours disponible pour ajuster les exercices selon mes progres.","gonorteTestimonial2Author":"Carlos Lopez","gonorteTestimonial2Details":"Routines de Force en Ligne","gonorteTestimonial3Quote":"Le conseil nutritionnel etait cle pour ma transformation. J'ai appris a manger intelligemment et cela a parfaitement complete mon entrainement. Maintenant j'ai des habitudes saines que je maintiendrai toute ma vie.","gonorteTestimonial3Author":"Laura Gomez","gonorteTestimonial3Details":"Conseil Nutritionnel","gonorteTestimonial4Quote":"En tant que debutante, j'etais tres nerveuse de commencer. Gonorte m'a fait me sentir a l'aise des le premier jour. Sa patience et ses connaissances m'ont aidee a construire confiance et force progressivement.","gonorteTestimonial4Author":"Maria Rodriguez","gonorteTestimonial4Details":"Entrainement pour Debutants","gonorteTestimonial5Quote":"Apres une blessure, j'avais besoin de reeducation specifique. Gonorte a concu un programme parfait qui m'a aidee a recuperer et revenir plus forte qu'avant. Son experience est inestimable.","gonorteTestimonial5Author":"David Martinez","gonorteTestimonial5Details":"Reeducation et Recuperation","gonorteTestimonial6Quote":"Les resultats ont ete incroyables. En seulement 3 mois, j'ai considerablement ameliore mes performances sportives. Gonorte comprend parfaitement les besoins des athletes.","gonorteTestimonial6Author":"Sofia Torres","gonorteTestimonial6Details":"Entrainement Sportif","secondaryCTATitle":"Pret a Faire le Prochain Pas ?","secondaryCTADescription":"Rejoignez des milliers d'innovateurs qui utilisent notre plateforme pour construire l'avenir. Ne manquez pas.","secondaryCTAButton":"Lire Plus","statsTitle":"Des Resultats Qui Parlent d'Eux-Memes","statsSubtitle":"Ces chiffres representent le devouement et l'engagement envers l'excellence dans l'entrainement personnel","statsClients":"Clients Transformes","statsSupport":"Support Disponible","statsCTA":"Voulez-vous faire partie de ces statistiques ?","profileTitle":"Rencontrez Gonorte","profileSubtitle":"Votre entraineuse personnelle dediee a transformer des vies a travers le fitness et le bien-etre","profileName":"Gonorte","profileDescription":"Je suis une entraineuse personnelle passionnee par le fitness et le bien-etre. Avec plus de 5 ans d'experience, j'ai aide des centaines de personnes a atteindre leurs objectifs de sante et transformer leurs vies a travers l'exercice physique et la nutrition equilibree.","profileMission":"Ma mission est d'inspirer et guider chaque personne dans son voyage vers une vie plus saine, en fournissant des programmes personnalises qui s'adaptent a leurs besoins, objectifs et style de vie.","profileCertifications":"Certifications et Specialites","profileAchievements":"Realisations Exceptionnelles","profilePhotoPlaceholder":"Photo de Gonorte","profileCTA":"Decouvrez Mon Histoire Complete","certification1":"Entraineuse Personnelle Certifiee","certification2":"Specialiste en Nutrition Sportive","certification3":"Instructrice de Yoga et Pilates","certification4":"Coach de Bien-etre Integral","achievement1":"Clients Transformes","achievement2":"Annees d'Experience","achievement3":"Taux de Satisfaction","faqTitle":"Questions Frequemment Posees","faqSubtitle":"Nous repondons aux questions les plus courantes sur nos services d'entrainement personnel","faq1Question":"Comment fonctionne l'entrainement personnalise ?","faq1Answer":"L'entrainement personnalise s'adapte completement a vos besoins. D'abord, nous effectuons une evaluation initiale de votre condition physique, objectifs et disponibilite. Ensuite, nous concevons un programme specifique qui inclut exercices, routines et suivi continu pour maximiser vos resultats.","faq2Question":"Proposez-vous un entrainement en ligne ?","faq2Answer":"Oui ! Nous proposons un entrainement en ligne complet avec des routines personnalisees, des videos explicatives, un suivi hebdomadaire et un support 24/7. Vous pouvez vous entrainer depuis chez vous ou ou vous voulez, en maintenant la meme qualite et personnalisation que l'entrainement en personne.","faq3Question":"Que comprend le conseil nutritionnel ?","faq3Answer":"Le conseil nutritionnel comprend un plan de repas personnalise, l'education nutritionnelle, le suivi des progres, les ajustements bases sur vos resultats et le support continu. Il ne s'agit pas de regimes restrictifs, mais de creer des habitudes alimentaires saines et durables.","faq4Question":"Combien de temps faut-il pour voir des resultats ?","faq4Answer":"Les resultats varient selon chaque personne, mais vous pouvez generalement remarquer des ameliorations en energie et bien-etre des la premiere semaine. Des changements physiques plus notables apparaissent generalement entre 4-8 semaines avec constance dans l'entrainement et la nutrition.","faq5Question":"Travaillez-vous avec des debutants ?","faq5Answer":"Absolument ! Nous nous specialisons dans le travail avec des personnes de tous niveaux, des debutants aux avances. Chaque programme s'adapte a votre niveau actuel, progressant graduellement pour eviter les blessures et maximiser les resultats.","faq6Question":"Quel equipement ai-je besoin pour m'entrainer ?","faq6Answer":"Pour commencer, vous n'avez besoin que de votre corps et de l'envie de vous entrainer. Beaucoup d'exercices peuvent etre faits sans equipement. Si vous avez acces a des poids, des bandes de resistance ou un ballon d'exercice, nous pouvons les incorporer, mais ils ne sont pas necessaires pour commencer.","faqCTA":"Vous avez plus de questions ?","faqCTASubtitle":"N'hesitez pas a me contacter pour resoudre toute question sur votre entrainement personnel","faqCTAButton":"Contacter Maintenant","servicesTitle":"Mes Services","servicesSubtitle":"Je propose une large gamme de services personnalises pour vous aider a atteindre vos objectifs fitness de maniere efficace et durable","servicesCTA":"Vous ne trouvez pas ce que vous cherchez ? Contactez-moi pour un plan personnalise","servicesCTAButton":"Consultation Personnelle","popularBadge":"Plus Populaire","serviceCTA":"Commencer","service1Title":"Entrainement Personnalise","service1Desc":"Plans completement personnalises adaptes a vos objectifs, niveau et style de vie.","service2Title":"Conseil Nutritionnel","service2Desc":"Guidance nutritionnelle personnalisee pour completer votre entrainement et maximiser les resultats.","service3Title":"Cours en Ligne","service3Desc":"Entrainez-vous de n'importe ou avec des cours en direct et des routines enregistrees de haute qualite.","service4Title":"Reeducation et Recuperation","service4Desc":"Programmes specialises pour la recuperation des blessures et l'amelioration de la mobilite.","service5Title":"Entrainement Sportif","service5Desc":"Ameliorez vos performances sportives avec un entrainement specifique pour votre discipline.","service6Title":"Sessions de Groupe","service6Desc":"Entrainez-vous en groupe avec des amis ou de la famille pour plus de motivation et de plaisir.","contactTitle":"Entrez en Contact","contactSubtitle":"Pret a commencer votre transformation ? Contactez-moi et ensemble nous creerons le plan parfait pour atteindre vos objectifs","contactInfoTitle":"Informations de Contact","contactEmailTitle":"Email","contactEmail":"gonorte@fitness.com","contactPhoneTitle":"Telephone","contactPhone":"+34 600 123 456","contactLocationTitle":"Localisation","contactLocation":"Madrid, Espagne","contactHoursTitle":"Horaires","contactHours":"Lun-Ven: 6:00-22:00","contactSocialTitle":"Suivez-moi sur les Reseaux Sociaux","contactQuickResponseTitle":"Reponse Rapide","contactQuickResponseText":"Je reponds generalement en moins de 24 heures. N'hesitez pas a me contacter !","contactReadyTitle":"Pret pour Votre Transformation ?","contactReadyText":"Commencez votre voyage vers une vie plus saine et en forme. Je vous aide a atteindre vos objectifs fitness de maniere personnalisee et efficace.","contactCTA":"Envoyer un Message","contactCallCTA":"Appeler Maintenant","contactAvailable":"Disponible maintenant","contactFormTitle":"Envoyez-moi un Message","contactFormName":"Nom","contactFormNamePlaceholder":"Votre nom complet","contactFormEmail":"Email","contactFormEmailPlaceholder":"votre@email.com","contactFormPhone":"Telephone","contactFormPhonePlaceholder":"+34 600 123 456","contactFormService":"Service d'Interet","contactFormServicePlaceholder":"Selectionnez un service","contactFormMessage":"Message","contactFormMessagePlaceholder":"Parlez-moi de vos objectifs et comment je peux vous aider...","contactFormSubmit":"Envoyer le Message","contactSuccess":"Message envoye avec succes ! Nous vous repondrons bientot.","contactError":"Il y a eu une erreur en envoyant le message. Veuillez reessayer.","contactSending":"Envoi...","contactMapPlaceholder":"Carte interactive ici","footerText":"© 2024 Gonorte. Tous droits reserves.","footer.quickLinks":"Liens Rapides","footer.legal":"Legal","footer.contactUs":"Contactez-nous","footer.settingsSocial":"Parametres et Social","footer.companyName":"Gonorte","footer.allRightsReserved":"Tous droits reserves.","selectLanguage":"Selectionner la langue","changeLanguageToEnglish":"Passer a l'Anglais","changeLanguageToSpanish":"Passer a l'Espagnol","cookieConsentText":"Nous utilisons des cookies pour ameliorer votre experience. En utilisant notre site, vous acceptez notre utilisation de cookies.","cookieConsentAccept":"Accepter","legalPageTitle":"Gonorte - Informations Legales","termsOfUseTitle":"Conditions d'Utilisation","privacyPolicyTitle":"Politique de Confidentialite","lastUpdated":"Derniere Mise a Jour","ariaLabelGoToHome":"Gonorte - Aller a la page d'accueil","pageNotFoundTitle":"Page Non Trouvee","pageNotFoundMessage":"Desole, la page que vous recherchez n'existe pas.","goBackButton":"Retour","aboutSectionMainHeading":"Rencontrez Votre Entraineur","aboutParagraph1":"Bonjour, je suis [Nom de l'Entraineur], votre entraineur personnel et coach de fitness chez Gonorte.","aboutParagraph2":"Aussi loin que je me souvienne, le sport et l'activite physique ont ete une partie fondamentale de ma vie. Cette passion m'a menee a etudier les sciences du sport et a me certifier comme entraineuse personnelle, avec l'objectif de partager mes connaissances et aider les autres a decouvrir les benefices d'un corps actif et d'un esprit sain.","aboutParagraph3":"Ma mission est de vous aider a atteindre vos objectifs de fitness, que ce soit perdre du poids, gagner du muscle, ameliorer votre endurance ou simplement adopter un style de vie plus sain. Je crois en une approche personnalisee, adaptant chaque programme d'entrainement et plan nutritionnel a vos besoins, preferences et capacites individuelles.","aboutParagraph4":"Avec des annees d'experience et une devotion continue a l'etude du bien-etre et de la performance humaine, je suis ici pour vous guider et vous motiver a chaque etape de votre transformation. Ensemble, nous pouvons surmonter les obstacles, etablir des objectifs realistes et celebrer chaque accomplissement sur votre chemin vers une meilleure version de vous-meme.","servicesPageMainHeading":"Nos Services","servicesPersonalTrainingTitle":"Entrainement Personnalise","servicesPersonalTrainingDesc1":"Nous proposons des programmes d'entrainement individualises, concus specifiquement pour vous aider a atteindre vos objectifs de fitness. Que vous cherchiez a perdre du poids, gagner de la masse musculaire, ameliorer vos performances sportives ou simplement adopter un style de vie plus actif, nous travaillerons avec vous pour creer un plan qui s'adapte a vos besoins, capacites et preferences.","servicesPersonalTrainingDesc2":"Nos sessions d'entrainement personnel incluent un suivi continu, des ajustements programmatiques bases sur vos progres et la motivation necessaire pour depasser vos limites. Contactez-nous pour une consultation initiale et decouvrez comment nous pouvons transformer votre corps et votre esprit.","servicesOnlineRoutinesTitle":"Routines en Ligne","servicesOnlineRoutinesDesc1":"Accedez a nos programmes d'entrainement depuis n'importe ou, a tout moment avec nos routines en ligne. Parfaites pour ceux qui preferent la flexibilite de s'entrainer a la maison ou en voyageant, nos routines numeriques viennent avec des guides detailles, des videos explicatives et du support pour assurer que vous executiez chaque exercice de maniere sure et efficace.","servicesOnlineRoutinesDesc2":"Nous proposons une variete de routines adaptables a differents niveaux d'experience et objectifs, des programmes de force et conditionnement aux routines de mobilite et bien-etre general. Tout accessible a travers notre plateforme intuitive.","servicesNutritionalCoachingTitle":"Conseil Nutritionnel","servicesNutritionalCoachingDesc1":"Le complement parfait pour votre entrainement. Notre service de conseil nutritionnel vous enseignera comment alimenter votre corps intelligemment pour maximiser vos resultats et ameliorer votre sante generale. Il ne s'agit pas de regimes restrictifs, mais de construire des habitudes alimentaires durables.","servicesNutritionalCoachingDesc2":"Nous developpons des plans de repas personnalises, vous eduquons sur l'importance des macronutriments et micronutriments, et offrons un support continu pour que la nutrition devienne une partie integrale et agreable de votre style de vie sain.","aboutTitle":"A Propos de Gonorte","aboutTextPlaceholder":"Une breve introduction sur Gonorte, sa philosophie d'entrainement et sa passion pour aider les autres a atteindre leurs objectifs de fitness ira ici. Ce contenu sera personnalise pour refleter l'identite et l'experience de l'entraineur.","contactTextPlaceholder":"Pret a commencer votre transformation ? Envoyez-moi un message ou trouvez-moi sur les reseaux sociaux."}`),G3={translation:H3},$3={en:F3,es:q3,fr:G3};Gt.use(N_).use(b3).init({resources:$3,supportedLngs:["en","es","fr"],fallbackLng:"es",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},react:{useSuspense:!1}});var ju={},z2;function K3(){if(z2)return ju;z2=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.parse=u,ju.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,T){const _=new o,j=b.length;if(j<2)return _;const O=(T==null?void 0:T.decode)||x;let M=0;do{const z=b.indexOf("=",M);if(z===-1)break;const L=b.indexOf(";",M),q=L===-1?j:L;if(z>q){M=b.lastIndexOf(";",z-1)+1;continue}const V=d(b,M,z),D=f(b,z,V),P=b.slice(V,D);if(_[P]===void 0){let N=d(b,z+1,q),S=f(b,q,N);const I=O(b.slice(N,S));_[P]=I}M=q+1}while(M<j);return _}function d(b,T,_){do{const j=b.charCodeAt(T);if(j!==32&&j!==9)return T}while(++T<_);return _}function f(b,T,_){for(;T>_;){const j=b.charCodeAt(--T);if(j!==32&&j!==9)return T+1}return _}function m(b,T,_){const j=(_==null?void 0:_.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const O=j(T);if(!e.test(O))throw new TypeError(`argument val is invalid: ${T}`);let M=b+"="+O;if(!_)return M;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);M+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);M+="; Domain="+_.domain}if(_.path){if(!r.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);M+="; Path="+_.path}if(_.expires){if(!v(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);M+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(M+="; HttpOnly"),_.secure&&(M+="; Secure"),_.partitioned&&(M+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return M}function x(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return i.call(b)==="[object Date]"}return ju}K3();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A_=t=>{throw TypeError(t)},Y3=(t,e,n)=>e.has(t)||A_("Cannot "+n),g0=(t,e,n)=>(Y3(t,e,"read from private field"),n?n.call(t):e.get(t)),Q3=(t,e,n)=>e.has(t)?A_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),F2="popstate";function X3(t={}){function e(i,o){let{pathname:u="/",search:d="",hash:f=""}=Vi(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),ud("",{pathname:u,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let u=i.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=i.location.href,m=f.indexOf("#");d=m===-1?f:f.slice(0,m)}return d+"#"+(typeof o=="string"?o:Is(o))}function r(i,o){Jt(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Z3(e,n,r,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W3(){return Math.random().toString(36).substring(2,10)}function B2(t,e){return{usr:t.state,key:t.key,idx:e}}function ud(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vi(e):e,state:n,key:e&&e.key||r||W3()}}function Is({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Z3(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,d="POP",f=null,m=x();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function x(){return(u.state||{idx:null}).idx}function v(){d="POP";let O=x(),M=O==null?null:O-m;m=O,f&&f({action:d,location:j.location,delta:M})}function b(O,M){d="PUSH";let z=ud(j.location,O,M);n&&n(z,O),m=x()+1;let L=B2(z,m),q=j.createHref(z);try{u.pushState(L,"",q)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(q)}o&&f&&f({action:d,location:j.location,delta:1})}function T(O,M){d="REPLACE";let z=ud(j.location,O,M);n&&n(z,O),m=x();let L=B2(z,m),q=j.createHref(z);u.replaceState(L,"",q),o&&f&&f({action:d,location:j.location,delta:0})}function _(O){return C_(O)}let j={get action(){return d},get location(){return t(i,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(F2,v),f=O,()=>{i.removeEventListener(F2,v),f=null}},createHref(O){return e(i,O)},createURL:_,encodeLocation(O){let M=_(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:T,go(O){return u.go(O)}};return j}function C_(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Is(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Lu,q2=class{constructor(t){if(Q3(this,Lu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(g0(this,Lu).has(t))return g0(this,Lu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){g0(this,Lu).set(t,e)}};Lu=new WeakMap;var J3=new Set(["lazy","caseSensitive","path","id","index","children"]);function eR(t){return J3.has(t)}var tR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function nR(t){return tR.has(t)}function rR(t){return t.index===!0}function Xf(t,e,n=[],r={}){return t.map((i,o)=>{let u=[...n,String(o)],d=typeof i.id=="string"?i.id:u.join("-");if(st(i.index!==!0||!i.children,"Cannot specify children on an index route"),st(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),rR(i)){let f={...i,...e(i),id:d};return r[d]=f,f}else{let f={...i,...e(i),id:d,children:void 0};return r[d]=f,i.children&&(f.children=Xf(i.children,e,u,r)),f}})}function ks(t,e,n="/"){return Cf(t,e,n,!1)}function Cf(t,e,n,r){let i=typeof e=="string"?Vi(e):e,o=ea(i.pathname||"/",n);if(o==null)return null;let u=j_(t);iR(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=gR(o);d=mR(u[f],m,r)}return d}function aR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function j_(t,e=[],n=[],r=""){let i=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(st(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Ga([r,f.relativePath]),x=n.concat(f);o.children&&o.children.length>0&&(st(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),j_(o.children,e,x,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:hR(m,o.index),routesMeta:x})};return t.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,u);else for(let f of R_(o.path))i(o,u,f)}),e}function R_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=R_(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),i&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function iR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sR=/^:[\w-]+$/,oR=3,lR=2,cR=1,uR=10,dR=-2,H2=t=>t==="*";function hR(t,e){let n=t.split("/"),r=n.length;return n.some(H2)&&(r+=dR),e&&(r+=lR),n.filter(i=>!H2(i)).reduce((i,o)=>i+(sR.test(o)?oR:o===""?cR:uR),r)}function fR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mR(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,x=o==="/"?e:e.slice(o.length)||"/",v=Wf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},x),b=f.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=Wf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:Ga([o,v.pathname]),pathnameBase:vR(Ga([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=Ga([o,v.pathnameBase]))}return u}function Wf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,{paramName:x,isOptional:v},b)=>{if(x==="*"){let _=d[b]||"";u=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const T=d[b];return v&&!T?m[x]=void 0:m[x]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:t}}function pR(t,e=!1,n=!0){Jt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ea(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vi(t):t;return{pathname:n?n.startsWith("/")?n:yR(n,e):e,search:bR(r),hash:wR(i)}}function yR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function x0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cm(t){let e=P_(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jm(t,e,n,r=!1){let i;typeof t=="string"?i=Vi(t):(i={...t},st(!i.pathname||!i.pathname.includes("?"),x0("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),x0("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),x0("#","search","hash",i)));let o=t===""||i.pathname==="",u=o?"/":i.pathname,d;if(u==null)d=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}d=v>=0?e[v]:"/"}let f=xR(i,d),m=u&&u!=="/"&&u.endsWith("/"),x=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||x)&&(f.pathname+="/"),f}var Ga=t=>t.join("/").replace(/\/\/+/g,"/"),vR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Zf=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var D_=["POST","PUT","PATCH","DELETE"],TR=new Set(D_),kR=["GET",...D_],ER=new Set(kR),_R=new Set([301,302,303,307,308]),SR=new Set([307,308]),y0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},NR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ru={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),I_="remix-router-transitions",M_=Symbol("ResetLoaderData");function CR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";st(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||AR,o={},u=Xf(t.routes,i,void 0,o),d,f=t.basename||"/",m=t.dataStrategy||IR,x={unstable_middleware:!1,...t.future},v=null,b=new Set,T=null,_=null,j=null,O=t.hydrationData!=null,M=ks(u,t.history.location,f),z=!1,L=null,q;if(M==null&&!t.patchRoutesOnNavigation){let G=Wr(404,{pathname:t.history.location.pathname}),{matches:X,route:J}=nT(u);q=!0,M=X,L={[J.id]:G}}else if(M&&!t.hydrationData&&Yn(M,u,t.history.location.pathname).active&&(M=null),M)if(M.some(G=>G.route.lazy))q=!1;else if(!M.some(G=>G.route.loader))q=!0;else{let G=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let J=M.findIndex(he=>X[he.route.id]!==void 0);q=M.slice(0,J+1).every(he=>!rx(he.route,G,X))}else q=M.every(J=>!rx(J.route,G,X))}else{q=!1,M=[];let G=Yn(null,u,t.history.location.pathname);G.active&&G.matches&&(z=!0,M=G.matches)}let V,D={historyAction:t.history.action,location:t.history.location,matches:M,initialized:q,navigation:y0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||L,fetchers:new Map,blockers:new Map},P="POP",N=!1,S,I=!1,B=new Map,$=null,U=!1,ye=!1,ke=new Set,Y=new Map,ie=0,te=-1,ve=new Map,F=new Set,ne=new Map,pe=new Map,oe=new Set,Te=new Map,De,Pe=null;function At(){if(v=t.history.listen(({action:G,location:X,delta:J})=>{if(De){De(),De=void 0;return}Jt(Te.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=$i({currentLocation:D.location,nextLocation:X,historyAction:G});if(he&&J!=null){let xe=new Promise(Ee=>{De=Ee});t.history.go(J*-1),Ir(he,{state:"blocked",location:X,proceed(){Ir(he,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),xe.then(()=>t.history.go(J))},reset(){let Ee=new Map(D.blockers);Ee.set(he,Ru),we({blockers:Ee})}});return}return Ct(G,X)}),n){GR(e,B);let G=()=>$R(e,B);e.addEventListener("pagehide",G),$=()=>e.removeEventListener("pagehide",G)}return D.initialized||Ct("POP",D.location,{initialHydration:!0}),V}function le(){v&&v(),$&&$(),b.clear(),S&&S.abort(),D.fetchers.forEach((G,X)=>on(X)),D.blockers.forEach((G,X)=>ei(X))}function Qe(G){return b.add(G),()=>b.delete(G)}function we(G,X={}){D={...D,...G};let J=[],he=[];D.fetchers.forEach((xe,Ee)=>{xe.state==="idle"&&(oe.has(Ee)?J.push(Ee):he.push(Ee))}),oe.forEach(xe=>{!D.fetchers.has(xe)&&!Y.has(xe)&&J.push(xe)}),[...b].forEach(xe=>xe(D,{deletedFetchers:J,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),J.forEach(xe=>on(xe)),he.forEach(xe=>D.fetchers.delete(xe))}function ue(G,X,{flushSync:J}={}){var Ie,Ue;let he=D.actionData!=null&&D.navigation.formMethod!=null&&Nr(D.navigation.formMethod)&&D.navigation.state==="loading"&&((Ie=G.state)==null?void 0:Ie._isRedirect)!==!0,xe;X.actionData?Object.keys(X.actionData).length>0?xe=X.actionData:xe=null:he?xe=D.actionData:xe=null;let Ee=X.loaderData?eT(D.loaderData,X.loaderData,X.matches||[],X.errors):D.loaderData,Ve=D.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((Re,Fe)=>Ve.set(Fe,Ru)));let Ne=N===!0||D.navigation.formMethod!=null&&Nr(D.navigation.formMethod)&&((Ue=G.state)==null?void 0:Ue._isRedirect)!==!0;d&&(u=d,d=void 0),U||P==="POP"||(P==="PUSH"?t.history.push(G,G.state):P==="REPLACE"&&t.history.replace(G,G.state));let je;if(P==="POP"){let Re=B.get(D.location.pathname);Re&&Re.has(G.pathname)?je={currentLocation:D.location,nextLocation:G}:B.has(G.pathname)&&(je={currentLocation:G,nextLocation:D.location})}else if(I){let Re=B.get(D.location.pathname);Re?Re.add(G.pathname):(Re=new Set([G.pathname]),B.set(D.location.pathname,Re)),je={currentLocation:D.location,nextLocation:G}}we({...X,actionData:xe,loaderData:Ee,historyAction:P,location:G,initialized:!0,navigation:y0,revalidation:"idle",restoreScrollPosition:Ki(G,X.matches||D.matches),preventScrollReset:Ne,blockers:Ve},{viewTransitionOpts:je,flushSync:J===!0}),P="POP",N=!1,I=!1,U=!1,ye=!1,Pe==null||Pe.resolve(),Pe=null}async function Oe(G,X){if(typeof G=="number"){t.history.go(G);return}let J=nx(D.location,D.matches,f,G,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:he,submission:xe,error:Ee}=G2(!1,J,X),Ve=D.location,Ne=ud(D.location,he,X&&X.state);Ne={...Ne,...t.history.encodeLocation(Ne)};let je=X&&X.replace!=null?X.replace:void 0,Ie="PUSH";je===!0?Ie="REPLACE":je===!1||xe!=null&&Nr(xe.formMethod)&&xe.formAction===D.location.pathname+D.location.search&&(Ie="REPLACE");let Ue=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Re=(X&&X.flushSync)===!0,Fe=$i({currentLocation:Ve,nextLocation:Ne,historyAction:Ie});if(Fe){Ir(Fe,{state:"blocked",location:Ne,proceed(){Ir(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ne}),Oe(G,X)},reset(){let ot=new Map(D.blockers);ot.set(Fe,Ru),we({blockers:ot})}});return}await Ct(Ie,Ne,{submission:xe,pendingError:Ee,preventScrollReset:Ue,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Re})}function et(){Pe||(Pe=KR()),Gi(),we({revalidation:"loading"});let G=Pe.promise;return D.navigation.state==="submitting"?G:D.navigation.state==="idle"?(Ct(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),G):(Ct(P||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:I===!0}),G)}async function Ct(G,X,J){S&&S.abort(),S=null,P=G,U=(J&&J.startUninterruptedRevalidation)===!0,la(D.location,D.matches),N=(J&&J.preventScrollReset)===!0,I=(J&&J.enableViewTransition)===!0;let he=d||u,xe=J&&J.overrideNavigation,Ee=J!=null&&J.initialHydration&&D.matches&&D.matches.length>0&&!z?D.matches:ks(he,X,f),Ve=(J&&J.flushSync)===!0;if(Ee&&D.initialized&&!ye&&zR(D.location,X)&&!(J&&J.submission&&Nr(J.submission.formMethod))){ue(X,{matches:Ee},{flushSync:Ve});return}let Ne=Yn(Ee,he,X.pathname);if(Ne.active&&Ne.matches&&(Ee=Ne.matches),!Ee){let{error:vt,notFoundMatches:ft,route:at}=ti(X.pathname);ue(X,{matches:ft,loaderData:{},errors:{[at.id]:vt}},{flushSync:Ve});return}S=new AbortController;let je=Hl(t.history,X,S.signal,J&&J.submission),Ie=new q2(t.unstable_getContext?await t.unstable_getContext():void 0),Ue;if(J&&J.pendingError)Ue=[Co(Ee).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Nr(J.submission.formMethod)){let vt=await It(je,X,J.submission,Ee,Ie,Ne.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:Ve});if(vt.shortCircuited)return;if(vt.pendingActionResult){let[ft,at]=vt.pendingActionResult;if(Sr(at)&&dd(at.error)&&at.error.status===404){S=null,ue(X,{matches:vt.matches,loaderData:{},errors:{[ft]:at.error}});return}}Ee=vt.matches||Ee,Ue=vt.pendingActionResult,xe=v0(X,J.submission),Ve=!1,Ne.active=!1,je=Hl(t.history,je.url,je.signal)}let{shortCircuited:Re,matches:Fe,loaderData:ot,errors:kt}=await Bi(je,X,Ee,Ie,Ne.active,xe,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Ve,Ue);Re||(S=null,ue(X,{matches:Fe||Ee,...tT(Ue),loaderData:ot,errors:kt}))}async function It(G,X,J,he,xe,Ee,Ve,Ne={}){Gi();let je=qR(X,J);if(we({navigation:je},{flushSync:Ne.flushSync===!0}),Ee){let Re=await _a(he,X.pathname,G.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let Fe=Co(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[Fe,{type:"error",error:Re.error}]}}else if(Re.matches)he=Re.matches;else{let{notFoundMatches:Fe,error:ot,route:kt}=ti(X.pathname);return{matches:Fe,pendingActionResult:[kt.id,{type:"error",error:ot}]}}}let Ie,Ue=Vu(he,X);if(!Ue.route.action&&!Ue.route.lazy)Ie={type:"error",error:Wr(405,{method:G.method,pathname:X.pathname,routeId:Ue.route.id})};else{let Re=ec(i,o,G,he,Ue,Ve?[]:r,xe),Fe=await Pr(G,Re,xe,null);if(Ie=Fe[Ue.route.id],!Ie){for(let ot of he)if(Fe[ot.route.id]){Ie=Fe[ot.route.id];break}}if(G.signal.aborted)return{shortCircuited:!0}}if(jo(Ie)){let Re;return Ne&&Ne.replace!=null?Re=Ne.replace:Re=W2(Ie.response.headers.get("Location"),new URL(G.url),f)===D.location.pathname+D.location.search,await oa(G,Ie,!0,{submission:J,replace:Re}),{shortCircuited:!0}}if(Sr(Ie)){let Re=Co(he,Ue.route.id);return(Ne&&Ne.replace)!==!0&&(P="PUSH"),{matches:he,pendingActionResult:[Re.route.id,Ie,Ue.route.id]}}return{matches:he,pendingActionResult:[Ue.route.id,Ie]}}async function Bi(G,X,J,he,xe,Ee,Ve,Ne,je,Ie,Ue,Re){let Fe=Ee||v0(X,Ve),ot=Ve||Ne||aT(Fe),kt=!U&&!Ie;if(xe){if(kt){let ln=An(Re);we({navigation:Fe,...ln!==void 0?{actionData:ln}:{}},{flushSync:Ue})}let Ke=await _a(J,X.pathname,G.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let ln=Co(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[ln]:Ke.error}}}else if(Ke.matches)J=Ke.matches;else{let{error:ln,notFoundMatches:xr,route:ar}=ti(X.pathname);return{matches:xr,loaderData:{},errors:{[ar.id]:ln}}}}let vt=d||u,{dsMatches:ft,revalidatingFetchers:at}=$2(G,he,i,o,t.history,D,J,ot,X,Ie?[]:r,Ie===!0,ye,ke,oe,ne,F,vt,f,t.patchRoutesOnNavigation!=null,Re);if(te=++ie,!t.dataStrategy&&!ft.some(Ke=>Ke.shouldLoad)&&at.length===0){let Ke=ka();return ue(X,{matches:J,loaderData:{},errors:Re&&Sr(Re[1])?{[Re[0]]:Re[1].error}:null,...tT(Re),...Ke?{fetchers:new Map(D.fetchers)}:{}},{flushSync:Ue}),{shortCircuited:!0}}if(kt){let Ke={};if(!xe){Ke.navigation=Fe;let ln=An(Re);ln!==void 0&&(Ke.actionData=ln)}at.length>0&&(Ke.fetchers=ia(at)),we(Ke,{flushSync:Ue})}at.forEach(Ke=>{Dr(Ke.key),Ke.controller&&Y.set(Ke.key,Ke.controller)});let Or=()=>at.forEach(Ke=>Dr(Ke.key));S&&S.signal.addEventListener("abort",Or);let{loaderResults:pn,fetcherResults:Qn}=await Hi(ft,at,G,he);if(G.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",Or),at.forEach(Ke=>Y.delete(Ke.key));let Cn=pf(pn);if(Cn)return await oa(G,Cn.result,!0,{replace:je}),{shortCircuited:!0};if(Cn=pf(Qn),Cn)return F.add(Cn.key),await oa(G,Cn.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:Na,errors:gr}=J2(D,J,pn,Re,at,Qn);Ie&&D.errors&&(gr={...D.errors,...gr});let Qi=ka(),zn=Ea(te),Xn=Qi||zn||at.length>0;return{matches:J,loaderData:Na,errors:gr,...Xn?{fetchers:new Map(D.fetchers)}:{}}}function An(G){if(G&&!Sr(G[1]))return{[G[0]]:G[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function ia(G){return G.forEach(X=>{let J=D.fetchers.get(X.key),he=Pu(void 0,J?J.data:void 0);D.fetchers.set(X.key,he)}),new Map(D.fetchers)}async function sa(G,X,J,he){Dr(G);let xe=(he&&he.flushSync)===!0,Ee=d||u,Ve=nx(D.location,D.matches,f,J,X,he==null?void 0:he.relative),Ne=ks(Ee,Ve,f),je=Yn(Ne,Ee,Ve);if(je.active&&je.matches&&(Ne=je.matches),!Ne){tt(G,X,Wr(404,{pathname:Ve}),{flushSync:xe});return}let{path:Ie,submission:Ue,error:Re}=G2(!0,Ve,he);if(Re){tt(G,X,Re,{flushSync:xe});return}let Fe=Vu(Ne,Ie),ot=new q2(t.unstable_getContext?await t.unstable_getContext():void 0),kt=(he&&he.preventScrollReset)===!0;if(Ue&&Nr(Ue.formMethod)){await qi(G,X,Ie,Fe,Ne,ot,je.active,xe,kt,Ue);return}ne.set(G,{routeId:X,path:Ie}),await Ja(G,X,Ie,Fe,Ne,ot,je.active,xe,kt,Ue)}async function qi(G,X,J,he,xe,Ee,Ve,Ne,je,Ie){Gi(),ne.delete(G);function Ue(Mt){if(!Mt.route.action&&!Mt.route.lazy){let Lr=Wr(405,{method:Ie.formMethod,pathname:J,routeId:X});return tt(G,X,Lr,{flushSync:Ne}),!0}return!1}if(!Ve&&Ue(he))return;let Re=D.fetchers.get(G);wt(G,HR(Ie,Re),{flushSync:Ne});let Fe=new AbortController,ot=Hl(t.history,J,Fe.signal,Ie);if(Ve){let Mt=await _a(xe,J,ot.signal,G);if(Mt.type==="aborted")return;if(Mt.type==="error"){tt(G,X,Mt.error,{flushSync:Ne});return}else if(Mt.matches){if(xe=Mt.matches,he=Vu(xe,J),Ue(he))return}else{tt(G,X,Wr(404,{pathname:J}),{flushSync:Ne});return}}Y.set(G,Fe);let kt=ie,vt=ec(i,o,ot,xe,he,r,Ee),at=(await Pr(ot,vt,Ee,G))[he.route.id];if(ot.signal.aborted){Y.get(G)===Fe&&Y.delete(G);return}if(oe.has(G)){if(jo(at)||Sr(at)){wt(G,bs(void 0));return}}else{if(jo(at))if(Y.delete(G),te>kt){wt(G,bs(void 0));return}else return F.add(G),wt(G,Pu(Ie)),oa(ot,at,!1,{fetcherSubmission:Ie,preventScrollReset:je});if(Sr(at)){tt(G,X,at.error);return}}let Or=D.navigation.location||D.location,pn=Hl(t.history,Or,Fe.signal),Qn=d||u,Cn=D.navigation.state!=="idle"?ks(Qn,D.navigation.location,f):D.matches;st(Cn,"Didn't find any matches after fetcher action");let Na=++ie;ve.set(G,Na);let gr=Pu(Ie,at.data);D.fetchers.set(G,gr);let{dsMatches:Qi,revalidatingFetchers:zn}=$2(pn,Ee,i,o,t.history,D,Cn,Ie,Or,r,!1,ye,ke,oe,ne,F,Qn,f,t.patchRoutesOnNavigation!=null,[he.route.id,at]);zn.filter(Mt=>Mt.key!==G).forEach(Mt=>{let Lr=Mt.key,ni=D.fetchers.get(Lr),jn=Pu(void 0,ni?ni.data:void 0);D.fetchers.set(Lr,jn),Dr(Lr),Mt.controller&&Y.set(Lr,Mt.controller)}),we({fetchers:new Map(D.fetchers)});let Xn=()=>zn.forEach(Mt=>Dr(Mt.key));Fe.signal.addEventListener("abort",Xn);let{loaderResults:Ke,fetcherResults:ln}=await Hi(Qi,zn,pn,Ee);if(Fe.signal.aborted)return;if(Fe.signal.removeEventListener("abort",Xn),ve.delete(G),Y.delete(G),zn.forEach(Mt=>Y.delete(Mt.key)),D.fetchers.has(G)){let Mt=bs(at.data);D.fetchers.set(G,Mt)}let xr=pf(Ke);if(xr)return oa(pn,xr.result,!1,{preventScrollReset:je});if(xr=pf(ln),xr)return F.add(xr.key),oa(pn,xr.result,!1,{preventScrollReset:je});let{loaderData:ar,errors:Aa}=J2(D,Cn,Ke,void 0,zn,ln);Ea(Na),D.navigation.state==="loading"&&Na>te?(st(P,"Expected pending action"),S&&S.abort(),ue(D.navigation.location,{matches:Cn,loaderData:ar,errors:Aa,fetchers:new Map(D.fetchers)})):(we({errors:Aa,loaderData:eT(D.loaderData,ar,Cn,Aa),fetchers:new Map(D.fetchers)}),ye=!1)}async function Ja(G,X,J,he,xe,Ee,Ve,Ne,je,Ie){let Ue=D.fetchers.get(G);wt(G,Pu(Ie,Ue?Ue.data:void 0),{flushSync:Ne});let Re=new AbortController,Fe=Hl(t.history,J,Re.signal);if(Ve){let at=await _a(xe,J,Fe.signal,G);if(at.type==="aborted")return;if(at.type==="error"){tt(G,X,at.error,{flushSync:Ne});return}else if(at.matches)xe=at.matches,he=Vu(xe,J);else{tt(G,X,Wr(404,{pathname:J}),{flushSync:Ne});return}}Y.set(G,Re);let ot=ie,kt=ec(i,o,Fe,xe,he,r,Ee),ft=(await Pr(Fe,kt,Ee,G))[he.route.id];if(Y.get(G)===Re&&Y.delete(G),!Fe.signal.aborted){if(oe.has(G)){wt(G,bs(void 0));return}if(jo(ft))if(te>ot){wt(G,bs(void 0));return}else{F.add(G),await oa(Fe,ft,!1,{preventScrollReset:je});return}if(Sr(ft)){tt(G,X,ft.error);return}wt(G,bs(ft.data))}}async function oa(G,X,J,{submission:he,fetcherSubmission:xe,preventScrollReset:Ee,replace:Ve}={}){X.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let Ne=X.response.headers.get("Location");st(Ne,"Expected a Location header on the redirect Response"),Ne=W2(Ne,new URL(G.url),f);let je=ud(D.location,Ne,{_isRedirect:!0});if(n){let kt=!1;if(X.response.headers.has("X-Remix-Reload-Document"))kt=!0;else if(ay.test(Ne)){const vt=C_(Ne,!0);kt=vt.origin!==e.location.origin||ea(vt.pathname,f)==null}if(kt){Ve?e.location.replace(Ne):e.location.assign(Ne);return}}S=null;let Ie=Ve===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ue,formAction:Re,formEncType:Fe}=D.navigation;!he&&!xe&&Ue&&Re&&Fe&&(he=aT(D.navigation));let ot=he||xe;if(SR.has(X.response.status)&&ot&&Nr(ot.formMethod))await Ct(Ie,je,{submission:{...ot,formAction:Ne},preventScrollReset:Ee||N,enableViewTransition:J?I:void 0});else{let kt=v0(je,he);await Ct(Ie,je,{overrideNavigation:kt,fetcherSubmission:xe,preventScrollReset:Ee||N,enableViewTransition:J?I:void 0})}}async function Pr(G,X,J,he){let xe,Ee={};try{xe=await MR(m,G,X,he,J,!1)}catch(Ve){return X.filter(Ne=>Ne.shouldLoad).forEach(Ne=>{Ee[Ne.route.id]={type:"error",error:Ve}}),Ee}if(G.signal.aborted)return Ee;for(let[Ve,Ne]of Object.entries(xe))if(FR(Ne)){let je=Ne.result;Ee[Ve]={type:"redirect",response:VR(je,G,Ve,X,f)}}else Ee[Ve]=await LR(Ne);return Ee}async function Hi(G,X,J,he){let xe=Pr(J,G,he,null),Ee=Promise.all(X.map(async je=>{if(je.matches&&je.match&&je.request&&je.controller){let Ue=(await Pr(je.request,je.matches,he,je.key))[je.match.route.id];return{[je.key]:Ue}}else return Promise.resolve({[je.key]:{type:"error",error:Wr(404,{pathname:je.path})}})})),Ve=await xe,Ne=(await Ee).reduce((je,Ie)=>Object.assign(je,Ie),{});return{loaderResults:Ve,fetcherResults:Ne}}function Gi(){ye=!0,ne.forEach((G,X)=>{Y.has(X)&&ke.add(X),Dr(X)})}function wt(G,X,J={}){D.fetchers.set(G,X),we({fetchers:new Map(D.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function tt(G,X,J,he={}){let xe=Co(D.matches,X);on(G),we({errors:{[xe.route.id]:J},fetchers:new Map(D.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function Un(G){return pe.set(G,(pe.get(G)||0)+1),oe.has(G)&&oe.delete(G),D.fetchers.get(G)||NR}function on(G){let X=D.fetchers.get(G);Y.has(G)&&!(X&&X.state==="loading"&&ve.has(G))&&Dr(G),ne.delete(G),ve.delete(G),F.delete(G),oe.delete(G),ke.delete(G),D.fetchers.delete(G)}function nl(G){let X=(pe.get(G)||0)-1;X<=0?(pe.delete(G),oe.add(G)):pe.set(G,X),we({fetchers:new Map(D.fetchers)})}function Dr(G){let X=Y.get(G);X&&(X.abort(),Y.delete(G))}function Ta(G){for(let X of G){let J=Un(X),he=bs(J.data);D.fetchers.set(X,he)}}function ka(){let G=[],X=!1;for(let J of F){let he=D.fetchers.get(J);st(he,`Expected fetcher: ${J}`),he.state==="loading"&&(F.delete(J),G.push(J),X=!0)}return Ta(G),X}function Ea(G){let X=[];for(let[J,he]of ve)if(he<G){let xe=D.fetchers.get(J);st(xe,`Expected fetcher: ${J}`),xe.state==="loading"&&(Dr(J),ve.delete(J),X.push(J))}return Ta(X),X.length>0}function pr(G,X){let J=D.blockers.get(G)||Ru;return Te.get(G)!==X&&Te.set(G,X),J}function ei(G){D.blockers.delete(G),Te.delete(G)}function Ir(G,X){let J=D.blockers.get(G)||Ru;st(J.state==="unblocked"&&X.state==="blocked"||J.state==="blocked"&&X.state==="blocked"||J.state==="blocked"&&X.state==="proceeding"||J.state==="blocked"&&X.state==="unblocked"||J.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${X.state}`);let he=new Map(D.blockers);he.set(G,X),we({blockers:he})}function $i({currentLocation:G,nextLocation:X,historyAction:J}){if(Te.size===0)return;Te.size>1&&Jt(!1,"A router only supports one blocker at a time");let he=Array.from(Te.entries()),[xe,Ee]=he[he.length-1],Ve=D.blockers.get(xe);if(!(Ve&&Ve.state==="proceeding")&&Ee({currentLocation:G,nextLocation:X,historyAction:J}))return xe}function ti(G){let X=Wr(404,{pathname:G}),J=d||u,{matches:he,route:xe}=nT(J);return{notFoundMatches:he,route:xe,error:X}}function Zs(G,X,J){if(T=G,j=X,_=J||null,!O&&D.navigation===y0){O=!0;let he=Ki(D.location,D.matches);he!=null&&we({restoreScrollPosition:he})}return()=>{T=null,j=null,_=null}}function Mr(G,X){return _&&_(G,X.map(he=>aR(he,D.loaderData)))||G.key}function la(G,X){if(T&&j){let J=Mr(G,X);T[J]=j()}}function Ki(G,X){if(T){let J=Mr(G,X),he=T[J];if(typeof he=="number")return he}return null}function Yn(G,X,J){if(t.patchRoutesOnNavigation)if(G){if(Object.keys(G[0].params).length>0)return{active:!0,matches:Cf(X,J,f,!0)}}else return{active:!0,matches:Cf(X,J,f,!0)||[]};return{active:!1,matches:null}}async function _a(G,X,J,he){if(!t.patchRoutesOnNavigation)return{type:"success",matches:G};let xe=G;for(;;){let Ee=d==null,Ve=d||u,Ne=o;try{await t.patchRoutesOnNavigation({signal:J,path:X,matches:xe,fetcherKey:he,patch:(Ue,Re)=>{J.aborted||K2(Ue,Re,Ve,Ne,i)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:xe}}finally{Ee&&!J.aborted&&(u=[...u])}if(J.aborted)return{type:"aborted"};let je=ks(Ve,X,f);if(je)return{type:"success",matches:je};let Ie=Cf(Ve,X,f,!0);if(!Ie||xe.length===Ie.length&&xe.every((Ue,Re)=>Ue.route.id===Ie[Re].route.id))return{type:"success",matches:null};xe=Ie}}function Sa(G){o={},d=Xf(G,i,void 0,o)}function Yi(G,X){let J=d==null;K2(G,X,d||u,o,i),J&&(u=[...u],we({}))}return V={get basename(){return f},get future(){return x},get state(){return D},get routes(){return u},get window(){return e},initialize:At,subscribe:Qe,enableScrollRestoration:Zs,navigate:Oe,fetch:sa,revalidate:et,createHref:G=>t.history.createHref(G),encodeLocation:G=>t.history.encodeLocation(G),getFetcher:Un,deleteFetcher:nl,dispose:le,getBlocker:pr,deleteBlocker:ei,patchRoutes:Yi,_internalFetchControllers:Y,_internalSetRoutes:Sa},V}function jR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function nx(t,e,n,r,i,o){let u,d;if(i){u=[];for(let m of e)if(u.push(m),m.route.id===i){d=m;break}}else u=e,d=e[e.length-1];let f=jm(r||".",Cm(u),ea(t.pathname,n)||t.pathname,o==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&d){let m=iy(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let x=new URLSearchParams(f.search),v=x.getAll("index");x.delete("index"),v.filter(T=>T).forEach(T=>x.append("index",T));let b=x.toString();f.search=b?`?${b}`:""}}return n!=="/"&&(f.pathname=f.pathname==="/"?n:Ga([n,f.pathname])),Is(f)}function G2(t,e,n){if(!n||!jR(n))return{path:e};if(n.formMethod&&!BR(n.formMethod))return{path:e,error:Wr(405,{method:n.formMethod})};let r=()=>({path:e,error:Wr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),u=F_(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Nr(o))return r();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[T,_])=>`${b}${T}=${_}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!Nr(o))return r();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}st(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=ix(n.formData),f=n.formData;else if(n.body instanceof FormData)d=ix(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=Z2(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=Z2(d)}catch{return r()}let m={formMethod:o,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Nr(m.formMethod))return{path:e,submission:m};let x=Vi(e);return t&&x.search&&iy(x.search)&&d.append("index",""),x.search=`?${d}`,{path:Is(x),submission:m}}function $2(t,e,n,r,i,o,u,d,f,m,x,v,b,T,_,j,O,M,z,L){var U;let q=L?Sr(L[1])?L[1].error:L[1].data:void 0,V=i.createURL(o.location),D=i.createURL(f),P;if(x&&o.errors){let ye=Object.keys(o.errors)[0];P=u.findIndex(ke=>ke.route.id===ye)}else if(L&&Sr(L[1])){let ye=L[0];P=u.findIndex(ke=>ke.route.id===ye)-1}let N=L?L[1].statusCode:void 0,S=N&&N>=400,I={currentUrl:V,currentParams:((U=o.matches[0])==null?void 0:U.params)||{},nextUrl:D,nextParams:u[0].params,...d,actionResult:q,actionStatus:N},B=u.map((ye,ke)=>{let{route:Y}=ye,ie=null;if(P!=null&&ke>P?ie=!1:Y.lazy?ie=!0:Y.loader==null?ie=!1:x?ie=rx(Y,o.loaderData,o.errors):RR(o.loaderData,o.matches[ke],ye)&&(ie=!0),ie!==null)return ax(n,r,t,ye,m,e,ie);let te=S?!1:v||V.pathname+V.search===D.pathname+D.search||V.search!==D.search||PR(o.matches[ke],ye),ve={...I,defaultShouldRevalidate:te},F=Jf(ye,ve);return ax(n,r,t,ye,m,e,F,ve)}),$=[];return _.forEach((ye,ke)=>{if(x||!u.some(oe=>oe.route.id===ye.routeId)||T.has(ke))return;let Y=o.fetchers.get(ke),ie=Y&&Y.state!=="idle"&&Y.data===void 0,te=ks(O,ye.path,M);if(!te){if(z&&ie)return;$.push({key:ke,routeId:ye.routeId,path:ye.path,matches:null,match:null,request:null,controller:null});return}if(j.has(ke))return;let ve=Vu(te,ye.path),F=new AbortController,ne=Hl(i,ye.path,F.signal),pe=null;if(b.has(ke))b.delete(ke),pe=ec(n,r,ne,te,ve,m,e);else if(ie)v&&(pe=ec(n,r,ne,te,ve,m,e));else{let oe={...I,defaultShouldRevalidate:S?!1:v};Jf(ve,oe)&&(pe=ec(n,r,ne,te,ve,m,e,oe))}pe&&$.push({key:ke,routeId:ye.routeId,path:ye.path,matches:pe,match:ve,request:ne,controller:F})}),{dsMatches:B,revalidatingFetchers:$}}function rx(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function RR(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function PR(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Jf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function K2(t,e,n,r,i){let o;if(t){let f=r[t];st(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),o=f.children}else o=n;let u=e.filter(f=>!o.some(m=>O_(f,m))),d=Xf(u,i,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...d)}function O_(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>O_(n,o))}):!1}var Y2=new WeakMap,L_=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(st(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[t];if(!o)return;let u=Y2.get(i);u||(u={},Y2.set(i,u));let d=u[t];if(d)return d;let f=(async()=>{let m=eR(t),v=i[t]!==void 0&&t!=="hasErrorBoundary";if(m)Jt(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(v)Jt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let b=await o();b!=null&&(Object.assign(i,{[t]:b}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(b=>b===void 0)&&(i.lazy=void 0))})();return u[t]=f,f},Q2=new WeakMap;function DR(t,e,n,r,i){let o=n[t.id];if(st(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let x=Q2.get(o);if(x)return{lazyRoutePromise:x,lazyHandlerPromise:x};let v=(async()=>{st(typeof t.lazy=="function","No lazy route function found");let b=await t.lazy(),T={};for(let _ in b){let j=b[_];if(j===void 0)continue;let O=nR(_),z=o[_]!==void 0&&_!=="hasErrorBoundary";O?Jt(!O,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):z?Jt(!z,`Route "${o.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):T[_]=j}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return Q2.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(t.lazy),d=[],f;for(let x of u){if(i&&i.includes(x))continue;let v=L_({key:x,route:t,manifest:n,mapRouteProperties:r});v&&(d.push(v),x===e&&(f=v))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m==null||m.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}async function X2(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function IR(t){return t.matches.some(e=>e.route.unstable_middleware)?V_(t,!1,()=>X2(t),(e,n)=>({[n]:{type:"error",result:e}})):X2(t)}async function V_(t,e,n,r){let{matches:i,request:o,params:u,context:d}=t,f={handlerResult:void 0};try{let m=i.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(b=>[v.route.id,b]):[]),x=await U_({request:o,params:u,context:d},m,e,f,n);return e?x:f.handlerResult}catch(m){if(!f.middlewareError)throw m;let x=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,x):x}}async function U_(t,e,n,r,i,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let d=e[o];if(!d)return r.handlerResult=await i(),r.handlerResult;let[f,m]=d,x=!1,v,b=async()=>{if(x)throw new Error("You may only call `next()` once per middleware");x=!0,await U_(t,e,n,r,i,o+1)};try{let T=await m({request:t.request,params:t.params,context:t.context},b);return x?T===void 0?v:T:b()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:f,error:T}):r.middlewareError={routeId:f,error:T},T}}function z_(t,e,n,r,i){let o=L_({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),u=DR(r.route,Nr(n.method)?"action":"loader",e,t,i);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function ax(t,e,n,r,i,o,u,d=null){let f=!1,m=z_(t,e,n,r,i);return{...r,_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(x){return f=!0,d?typeof x=="boolean"?Jf(r,{...d,defaultShouldRevalidate:x}):Jf(r,d):u},resolve(x){return f||u||x&&n.method==="GET"&&(r.route.lazy||r.route.loader)?OR({request:n,match:r,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:x,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function ec(t,e,n,r,i,o,u,d=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:z_(t,e,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ax(t,e,n,f,o,u,!0,d))}async function MR(t,e,n,r,i,o){n.some(m=>{var x;return(x=m._lazyPromises)==null?void 0:x.middleware})&&await Promise.all(n.map(m=>{var x;return(x=m._lazyPromises)==null?void 0:x.middleware}));let u={request:e,params:n[0].params,context:i,matches:n},f=await t({...u,fetcherKey:r,unstable_runClientMiddleware:m=>{let x=u;return V_(x,!1,()=>m({...x,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,b)=>({[b]:{type:"error",result:v}}))}});try{await Promise.all(n.flatMap(m=>{var x,v;return[(x=m._lazyPromises)==null?void 0:x.handler,(v=m._lazyPromises)==null?void 0:v.route]}))}catch{}return f}async function OR({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let u,d,f=Nr(t.method),m=f?"action":"loader",x=v=>{let b,T=new Promise((O,M)=>b=M);d=()=>b(),t.signal.addEventListener("abort",d);let _=O=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):v({request:t,params:e.params,context:o},...O!==void 0?[O]:[]),j=(async()=>{try{return{type:"data",result:await(i?i(M=>_(M)):_())}}catch(O){return{type:"error",result:O}}})();return Promise.race([j,T])};try{let v=f?e.route.action:e.route.loader;if(n||r)if(v){let b,[T]=await Promise.all([x(v).catch(_=>{b=_}),n,r]);if(b!==void 0)throw b;u=T}else{await n;let b=f?e.route.action:e.route.loader;if(b)[u]=await Promise.all([x(b),r]);else if(m==="action"){let T=new URL(t.url),_=T.pathname+T.search;throw Wr(405,{method:t.method,pathname:_,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)u=await x(v);else{let b=new URL(t.url),T=b.pathname+b.search;throw Wr(404,{pathname:T})}}catch(v){return{type:"error",result:v}}finally{d&&t.signal.removeEventListener("abort",d)}return u}async function LR(t){var r,i,o,u,d,f;let{result:e,type:n}=t;if(B_(e)){let m;try{let x=e.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(x){return{type:"error",error:x}}return n==="error"?{type:"error",error:new Zf(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?rT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Zf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:dd(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:dd(e)?e.status:void 0}:rT(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function VR(t,e,n,r,i){let o=t.headers.get("Location");if(st(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ay.test(o)){let u=r.slice(0,r.findIndex(d=>d.route.id===n)+1);o=nx(new URL(e.url),u,i,o),t.headers.set("Location",o)}return t}function W2(t,e,n){if(ay.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ea(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Hl(t,e,n,r){let i=t.createURL(F_(e)).toString(),o={signal:n};if(r&&Nr(r.formMethod)){let{formMethod:u,formEncType:d}=r;o.method=u.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=ix(r.formData):o.body=r.formData}return new Request(i,o)}function ix(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Z2(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function UR(t,e,n,r=!1,i=!1){let o={},u=null,d,f=!1,m={},x=n&&Sr(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let b=v.route.id,T=e[b];if(st(!jo(T),"Cannot handle redirect results in processLoaderData"),Sr(T)){let _=T.error;if(x!==void 0&&(_=x,x=void 0),u=u||{},i)u[b]=_;else{let j=Co(t,b);u[j.route.id]==null&&(u[j.route.id]=_)}r||(o[b]=M_),f||(f=!0,d=dd(T.error)?T.error.status:500),T.headers&&(m[b]=T.headers)}else o[b]=T.data,T.statusCode&&T.statusCode!==200&&!f&&(d=T.statusCode),T.headers&&(m[b]=T.headers)}),x!==void 0&&n&&(u={[n[0]]:x},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:u,statusCode:d||200,loaderHeaders:m}}function J2(t,e,n,r,i,o){let{loaderData:u,errors:d}=UR(e,n,r);return i.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:x,controller:v}=f,b=o[m];if(st(b,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Sr(b)){let T=Co(t.matches,x==null?void 0:x.route.id);d&&d[T.route.id]||(d={...d,[T.route.id]:b.error}),t.fetchers.delete(m)}else if(jo(b))st(!1,"Unhandled fetcher revalidation redirect");else{let T=bs(b.data);t.fetchers.set(m,T)}}),{loaderData:u,errors:d}}function eT(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==M_).reduce((o,[u,d])=>(o[u]=d,o),{});for(let o of n){let u=o.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&o.route.loader&&(i[u]=t[u]),r&&r.hasOwnProperty(u))break}return i}function tT(t){return t?Sr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Co(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function nT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wr(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):t===403?(u="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",d=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new Zf(t||500,u,new Error(d),!0)}function pf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(jo(i))return{key:r,result:i}}}function F_(t){let e=typeof t=="string"?Vi(t):t;return Is({...e,hash:""})}function zR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function FR(t){return B_(t.result)&&_R.has(t.result.status)}function Sr(t){return t.type==="error"}function jo(t){return(t&&t.type)==="redirect"}function rT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function B_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function BR(t){return ER.has(t.toUpperCase())}function Nr(t){return TR.has(t.toUpperCase())}function iy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Vu(t,e){let n=typeof e=="string"?Vi(e).search:e.search;if(t[t.length-1].route.index&&iy(n||""))return t[t.length-1];let r=P_(t);return r[r.length-1]}function aT(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:u}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function v0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Pu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function HR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function bs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function GR(t,e){try{let n=t.sessionStorage.getItem(I_);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function $R(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(I_,JSON.stringify(n))}catch(r){Jt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function KR(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ko=C.createContext(null);Ko.displayName="DataRouter";var Dd=C.createContext(null);Dd.displayName="DataRouterState";var sy=C.createContext({isTransitioning:!1});sy.displayName="ViewTransition";var q_=C.createContext(new Map);q_.displayName="Fetchers";var YR=C.createContext(null);YR.displayName="Await";var wa=C.createContext(null);wa.displayName="Navigation";var Rm=C.createContext(null);Rm.displayName="Location";var ra=C.createContext({outlet:null,matches:[],isDataRoute:!1});ra.displayName="Route";var oy=C.createContext(null);oy.displayName="RouteError";function QR(t,{relative:e}={}){st(vc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(wa),{hash:i,pathname:o,search:u}=Id(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:Ga([n,o])),r.createHref({pathname:d,search:u,hash:i})}function vc(){return C.useContext(Rm)!=null}function mr(){return st(vc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Rm).location}var H_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G_(t){C.useContext(wa).static||C.useLayoutEffect(t)}function Yo(){let{isDataRoute:t}=C.useContext(ra);return t?dP():XR()}function XR(){st(vc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Ko),{basename:e,navigator:n}=C.useContext(wa),{matches:r}=C.useContext(ra),{pathname:i}=mr(),o=JSON.stringify(Cm(r)),u=C.useRef(!1);return G_(()=>{u.current=!0}),C.useCallback((f,m={})=>{if(Jt(u.current,H_),!u.current)return;if(typeof f=="number"){n.go(f);return}let x=jm(f,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ga([e,x.pathname])),(m.replace?n.replace:n.push)(x,m.state,m)},[e,n,o,i,t])}var WR=C.createContext(null);function ZR(t){let e=C.useContext(ra).outlet;return e&&C.createElement(WR.Provider,{value:t},e)}function JR(){let{matches:t}=C.useContext(ra),e=t[t.length-1];return e?e.params:{}}function Id(t,{relative:e}={}){let{matches:n}=C.useContext(ra),{pathname:r}=mr(),i=JSON.stringify(Cm(n));return C.useMemo(()=>jm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function eP(t,e,n,r){st(vc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(wa),{matches:o}=C.useContext(ra),u=o[o.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",x=u&&u.route;{let M=x&&x.path||"";$_(f,!x||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=mr(),b;b=v;let T=b.pathname||"/",_=T;if(m!=="/"){let M=m.replace(/^\//,"").split("/");_="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let j=ks(t,{pathname:_});return Jt(x||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Jt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),iP(j&&j.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ga([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Ga([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),o,n,r)}function tP(){let t=uP(),e=dd(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,u)}var nP=C.createElement(tP,null),rP=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(ra.Provider,{value:this.props.routeContext},C.createElement(oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aP({routeContext:t,match:e,children:n}){let r=C.useContext(Ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ra.Provider,{value:t},n)}function iP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let f=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);st(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:x,errors:v}=n,b=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,m,x)=>{let v,b=!1,T=null,_=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,T=m.route.errorElement||nP,u&&(d<0&&x===0?($_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):d===x&&(b=!0,_=m.route.hydrateFallbackElement||null)));let j=e.concat(i.slice(0,x+1)),O=()=>{let M;return v?M=T:b?M=_:m.route.Component?M=C.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=f,C.createElement(aP,{match:m,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:M})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?C.createElement(rP,{location:n.location,revalidation:n.revalidation,component:T,error:v,children:O(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):O()},null)}function ly(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sP(t){let e=C.useContext(Ko);return st(e,ly(t)),e}function oP(t){let e=C.useContext(Dd);return st(e,ly(t)),e}function lP(t){let e=C.useContext(ra);return st(e,ly(t)),e}function cy(t){let e=lP(t),n=e.matches[e.matches.length-1];return st(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cP(){return cy("useRouteId")}function uP(){var r;let t=C.useContext(oy),e=oP("useRouteError"),n=cy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function dP(){let{router:t}=sP("useNavigate"),e=cy("useNavigate"),n=C.useRef(!1);return G_(()=>{n.current=!0}),C.useCallback(async(i,o={})=>{Jt(n.current,H_),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var iT={};function $_(t,e,n){!e&&!iT[t]&&(iT[t]=!0,Jt(!1,n))}var sT={};function oT(t,e){!t&&!sT[e]&&(sT[e]=!0,console.warn(e))}function hP(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:C.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var fP=["HydrateFallback","hydrateFallbackElement"],mP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function pP({router:t,flushSync:e}){let[n,r]=C.useState(t.state),[i,o]=C.useState(),[u,d]=C.useState({isTransitioning:!1}),[f,m]=C.useState(),[x,v]=C.useState(),[b,T]=C.useState(),_=C.useRef(new Map),j=C.useCallback((L,{deletedFetchers:q,flushSync:V,viewTransitionOpts:D})=>{L.fetchers.forEach((N,S)=>{N.data!==void 0&&_.current.set(S,N.data)}),q.forEach(N=>_.current.delete(N)),oT(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(oT(D==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!D||!P){e&&V?e(()=>r(L)):C.startTransition(()=>r(L));return}if(e&&V){e(()=>{x&&(f&&f.resolve(),x.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let N=t.window.document.startViewTransition(()=>{e(()=>r(L))});N.finished.finally(()=>{e(()=>{m(void 0),v(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>v(N));return}x?(f&&f.resolve(),x.skipTransition(),T({state:L,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(o(L),d({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[t.window,e,x,f]);C.useLayoutEffect(()=>t.subscribe(j),[t,j]),C.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new mP)},[u]),C.useEffect(()=>{if(f&&i&&t.window){let L=i,q=f.promise,V=t.window.document.startViewTransition(async()=>{C.startTransition(()=>r(L)),await q});V.finished.finally(()=>{m(void 0),v(void 0),o(void 0),d({isTransitioning:!1})}),v(V)}},[i,f,t.window]),C.useEffect(()=>{f&&i&&n.location.key===i.location.key&&f.resolve()},[f,x,n.location,i]),C.useEffect(()=>{!u.isTransitioning&&b&&(o(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),T(void 0))},[u.isTransitioning,b]);let O=C.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:L=>t.navigate(L),push:(L,q,V)=>t.navigate(L,{state:q,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(L,q,V)=>t.navigate(L,{replace:!0,state:q,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[t]),M=t.basename||"/",z=C.useMemo(()=>({router:t,navigator:O,static:!1,basename:M}),[t,O,M]);return C.createElement(C.Fragment,null,C.createElement(Ko.Provider,{value:z},C.createElement(Dd.Provider,{value:n},C.createElement(q_.Provider,{value:_.current},C.createElement(sy.Provider,{value:u},C.createElement(yP,{basename:M,location:n.location,navigationType:n.historyAction,navigator:O},C.createElement(gP,{routes:t.routes,future:t.future,state:n})))))),null)}var gP=C.memo(xP);function xP({routes:t,future:e,state:n}){return eP(t,void 0,n,e)}function lT({to:t,replace:e,state:n,relative:r}){st(vc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(wa);Jt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=C.useContext(ra),{pathname:u}=mr(),d=Yo(),f=jm(t,Cm(o),u,r==="path"),m=JSON.stringify(f);return C.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:r})},[d,m,r,e,n]),null}function K_(t){return ZR(t.context)}function yP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){st(!vc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof n=="string"&&(n=Vi(n));let{pathname:f="/",search:m="",hash:x="",state:v=null,key:b="default"}=n,T=C.useMemo(()=>{let _=ea(f,u);return _==null?null:{location:{pathname:_,search:m,hash:x,state:v,key:b},navigationType:r}},[u,f,m,x,v,b,r]);return Jt(T!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:C.createElement(wa.Provider,{value:d},C.createElement(Rm.Provider,{children:e,value:T}))}var jf="get",Rf="application/x-www-form-urlencoded";function Pm(t){return t!=null&&typeof t.tagName=="string"}function vP(t){return Pm(t)&&t.tagName.toLowerCase()==="button"}function bP(t){return Pm(t)&&t.tagName.toLowerCase()==="form"}function wP(t){return Pm(t)&&t.tagName.toLowerCase()==="input"}function TP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kP(t,e){return t.button===0&&(!e||e==="_self")&&!TP(t)}var gf=null;function EP(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var _P=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b0(t){return t!=null&&!_P.has(t)?(Jt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function SP(t,e){let n,r,i,o,u;if(bP(t)){let d=t.getAttribute("action");r=d?ea(d,e):null,n=t.getAttribute("method")||jf,i=b0(t.getAttribute("enctype"))||Rf,o=new FormData(t)}else if(vP(t)||wP(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?ea(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||jf,i=b0(t.getAttribute("formenctype"))||b0(d.getAttribute("enctype"))||Rf,o=new FormData(d,t),!EP()){let{name:m,type:x,value:v}=t;if(x==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(Pm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,r=null,i=Rf,u=t}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:u}}function uy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function NP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CP(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await NP(o,n);return u.links?u.links():[]}return[]}));return DP(r.flat(1).filter(AP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cT(t,e,n,r,i,o){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var x;return n[m].pathname!==f.pathname||((x=n[m].route.path)==null?void 0:x.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):o==="data"?e.filter((f,m)=>{var v;let x=r.routes[f.route.id];if(!x||!x.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function jP(t,e,{includeHydrateFallback:n}={}){return RP(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function RP(t){return[...new Set(t)]}function PP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function DP(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(PP(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IP=new Set([100,101,204,205]);function MP(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ea(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Y_(){let t=C.useContext(Ko);return uy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OP(){let t=C.useContext(Dd);return uy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var dy=C.createContext(void 0);dy.displayName="FrameworkContext";function Q_(){let t=C.useContext(dy);return uy(t,"You must render this element inside a <HydratedRouter> element"),t}function LP(t,e){let n=C.useContext(dy),[r,i]=C.useState(!1),[o,u]=C.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:x,onTouchStart:v}=e,b=C.useRef(null);C.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=M=>{M.forEach(z=>{u(z.isIntersecting)})},O=new IntersectionObserver(j,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[t]),C.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let T=()=>{i(!0)},_=()=>{i(!1),u(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Du(d,T),onBlur:Du(f,_),onMouseEnter:Du(m,T),onMouseLeave:Du(x,_),onTouchStart:Du(v,T)}]:[!1,b,{}]}function Du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VP({page:t,...e}){let{router:n}=Y_(),r=C.useMemo(()=>ks(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(zP,{page:t,matches:r,...e}):null}function UP(t){let{manifest:e,routeModules:n}=Q_(),[r,i]=C.useState([]);return C.useEffect(()=>{let o=!1;return CP(t,e,n).then(u=>{o||i(u)}),()=>{o=!0}},[t,e,n]),r}function zP({page:t,matches:e,...n}){let r=mr(),{manifest:i,routeModules:o}=Q_(),{basename:u}=Y_(),{loaderData:d,matches:f}=OP(),m=C.useMemo(()=>cT(t,e,f,i,r,"data"),[t,e,f,i,r]),x=C.useMemo(()=>cT(t,e,f,i,r,"assets"),[t,e,f,i,r]),v=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,j=!1;if(e.forEach(M=>{var L;let z=i.routes[M.route.id];!z||!z.hasLoader||(!m.some(q=>q.route.id===M.route.id)&&M.route.id in d&&((L=o[M.route.id])!=null&&L.shouldRevalidate)||z.hasClientLoader?j=!0:_.add(M.route.id))}),_.size===0)return[];let O=MP(t,u);return j&&_.size>0&&O.searchParams.set("_routes",e.filter(M=>_.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[u,d,r,i,m,e,t,o]),b=C.useMemo(()=>jP(x,i),[x,i]),T=UP(x);return C.createElement(C.Fragment,null,v.map(_=>C.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),b.map(_=>C.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),T.map(({key:_,link:j})=>C.createElement("link",{key:_,...j})))}function FP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var X_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X_&&(window.__reactRouterVersion="7.6.2")}catch{}function BP(t,e){return CR({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:X3({window:e==null?void 0:e.window}),hydrationData:qP(),routes:t,mapRouteProperties:hP,hydrationRouteProperties:fP,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function qP(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:HP(t.errors)}),t}function HP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Zf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let u=new o(i.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var W_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zt=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:d,target:f,to:m,preventScrollReset:x,viewTransition:v,...b},T){let{basename:_}=C.useContext(wa),j=typeof m=="string"&&W_.test(m),O,M=!1;if(typeof m=="string"&&j&&(O=m,X_))try{let S=new URL(window.location.href),I=m.startsWith("//")?new URL(S.protocol+m):new URL(m),B=ea(I.pathname,_);I.origin===S.origin&&B!=null?m=B+I.search+I.hash:M=!0}catch{Jt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=QR(m,{relative:i}),[L,q,V]=LP(r,b),D=KP(m,{replace:u,state:d,target:f,preventScrollReset:x,relative:i,viewTransition:v});function P(S){e&&e(S),S.defaultPrevented||D(S)}let N=C.createElement("a",{...b,...V,href:O||z,onClick:M||o?e:P,ref:FP(T,q),target:f,"data-discover":!j&&n==="render"?"true":void 0});return L&&!j?C.createElement(C.Fragment,null,N,C.createElement(VP,{page:z})):N});zt.displayName="Link";var Wt=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:d,children:f,...m},x){let v=Id(u,{relative:m.relative}),b=mr(),T=C.useContext(Dd),{navigator:_,basename:j}=C.useContext(wa),O=T!=null&&ZP(v)&&d===!0,M=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,z=b.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(z=z.toLowerCase(),L=L?L.toLowerCase():null,M=M.toLowerCase()),L&&j&&(L=ea(L,j)||L);const q=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let V=z===M||!i&&z.startsWith(M)&&z.charAt(q)==="/",D=L!=null&&(L===M||!i&&L.startsWith(M)&&L.charAt(M.length)==="/"),P={isActive:V,isPending:D,isTransitioning:O},N=V?e:void 0,S;typeof r=="function"?S=r(P):S=[r,V?"active":null,D?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(P):o;return C.createElement(zt,{...m,"aria-current":N,className:S,ref:x,style:I,to:u,viewTransition:d},typeof f=="function"?f(P):f)});Wt.displayName="NavLink";var GP=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:u=jf,action:d,onSubmit:f,relative:m,preventScrollReset:x,viewTransition:v,...b},T)=>{let _=XP(),j=WP(d,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&W_.test(d),z=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let q=L.nativeEvent.submitter,V=(q==null?void 0:q.getAttribute("formmethod"))||u;_(q||L.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:i,state:o,relative:m,preventScrollReset:x,viewTransition:v})};return C.createElement("form",{ref:T,method:O,action:j,onSubmit:r?f:z,...b,"data-discover":!M&&t==="render"?"true":void 0})});GP.displayName="Form";function $P(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z_(t){let e=C.useContext(Ko);return st(e,$P(t)),e}function KP(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let d=Yo(),f=mr(),m=Id(t,{relative:o});return C.useCallback(x=>{if(kP(x,e)){x.preventDefault();let v=n!==void 0?n:Is(f)===Is(m);d(t,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[f,d,m,n,r,e,t,i,o,u])}var YP=0,QP=()=>`__${String(++YP)}__`;function XP(){let{router:t}=Z_("useSubmit"),{basename:e}=C.useContext(wa),n=cP();return C.useCallback(async(r,i={})=>{let{action:o,method:u,encType:d,formData:f,body:m}=SP(r,e);if(i.navigate===!1){let x=i.fetcherKey||QP();await t.fetch(x,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function WP(t,{relative:e}={}){let{basename:n}=C.useContext(wa),r=C.useContext(ra);st(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Id(t||".",{relative:e})},u=mr();if(t==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(x=>x==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let x=d.toString();o.search=x?`?${x}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ga([n,o.pathname])),Is(o)}function ZP(t,e={}){let n=C.useContext(sy);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Z_("useViewTransitionState"),i=Id(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ea(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=ea(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wf(i.pathname,u)!=null||Wf(i.pathname,o)!=null}[...IP];var JP=v_();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eD(t){return C.createElement(pP,{flushSync:JP.flushSync,...t})}const hy=C.createContext({});function fy(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const my=typeof window<"u",J_=my?C.useLayoutEffect:C.useEffect,Dm=C.createContext(null);function py(t,e){t.indexOf(e)===-1&&t.push(e)}function gy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ji=(t,e,n)=>n>e?e:n<t?t:n;let xy=()=>{};const Ri={},eS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tS(t){return typeof t=="object"&&t!==null}const nS=t=>/^0[^.\s]+$/u.test(t);function yy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zr=t=>t,tD=(t,e)=>n=>e(t(n)),Md=(...t)=>t.reduce(tD),hd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class vy{constructor(){this.subscriptions=[]}add(e){return py(this.subscriptions,e),()=>gy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const u=this.subscriptions[o];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $a=t=>t*1e3,Ka=t=>t/1e3;function rS(t,e){return e?t*(1e3/e):0}const aS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,nD=1e-7,rD=12;function aD(t,e,n,r,i){let o,u,d=0;do u=e+(n-e)/2,o=aS(u,r,i)-t,o>0?n=u:e=u;while(Math.abs(o)>nD&&++d<rD);return u}function Od(t,e,n,r){if(t===e&&n===r)return Zr;const i=o=>aD(o,0,1,t,n);return o=>o===0||o===1?o:aS(i(o),e,r)}const iS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sS=t=>e=>1-t(1-e),oS=Od(.33,1.53,.69,.99),by=sS(oS),lS=iS(by),cS=t=>(t*=2)<1?.5*by(t):.5*(2-Math.pow(2,-10*(t-1))),wy=t=>1-Math.sin(Math.acos(t)),uS=sS(wy),dS=iS(wy),iD=Od(.42,0,1,1),sD=Od(0,0,.58,1),hS=Od(.42,0,.58,1),oD=t=>Array.isArray(t)&&typeof t[0]!="number",fS=t=>Array.isArray(t)&&typeof t[0]=="number",lD={linear:Zr,easeIn:iD,easeInOut:hS,easeOut:sD,circIn:wy,circInOut:dS,circOut:uS,backIn:by,backInOut:lS,backOut:oS,anticipate:cS},cD=t=>typeof t=="string",uT=t=>{if(fS(t)){xy(t.length===4);const[e,n,r,i]=t;return Od(e,n,r,i)}else if(cD(t))return lD[t];return t},xf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],dT={value:null};function uD(t,e){let n=new Set,r=new Set,i=!1,o=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},f=0;function m(v){u.has(v)&&(x.schedule(v),t()),f++,v(d)}const x={schedule:(v,b=!1,T=!1)=>{const j=T&&i?n:r;return b&&u.add(v),j.has(v)||j.add(v),v},cancel:v=>{r.delete(v),u.delete(v)},process:v=>{if(d=v,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(m),e&&dT.value&&dT.value.frameloop[e].push(f),f=0,n.clear(),i=!1,o&&(o=!1,x.process(v))}};return x}const dD=40;function mS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=xf.reduce((L,q)=>(L[q]=uD(o,e?q:void 0),L),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:x,update:v,preRender:b,render:T,postRender:_}=u,j=()=>{const L=Ri.useManualTiming?i.timestamp:performance.now();n=!1,Ri.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(L-i.timestamp,dD),1)),i.timestamp=L,i.isProcessing=!0,d.process(i),f.process(i),m.process(i),x.process(i),v.process(i),b.process(i),T.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(j))},O=()=>{n=!0,r=!0,i.isProcessing||t(j)};return{schedule:xf.reduce((L,q)=>{const V=u[q];return L[q]=(D,P=!1,N=!1)=>(n||O(),V.schedule(D,P,N)),L},{}),cancel:L=>{for(let q=0;q<xf.length;q++)u[xf[q]].cancel(L)},state:i,steps:u}}const{schedule:Kt,cancel:Ms,state:Mn,steps:w0}=mS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zr,!0);let Pf;function hD(){Pf=void 0}const dr={now:()=>(Pf===void 0&&dr.set(Mn.isProcessing||Ri.useManualTiming?Mn.timestamp:performance.now()),Pf),set:t=>{Pf=t,queueMicrotask(hD)}},pS=t=>e=>typeof e=="string"&&e.startsWith(t),Ty=pS("--"),fD=pS("var(--"),ky=t=>fD(t)?mD.test(t.split("/*")[0].trim()):!1,mD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fd={...bc,transform:t=>ji(0,1,t)},yf={...bc,default:1},Ku=t=>Math.round(t*1e5)/1e5,Ey=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pD(t){return t==null}const gD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_y=(t,e)=>n=>!!(typeof n=="string"&&gD.test(n)&&n.startsWith(t)||e&&!pD(n)&&Object.prototype.hasOwnProperty.call(n,e)),gS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,u,d]=r.match(Ey);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},xD=t=>ji(0,255,t),T0={...bc,transform:t=>Math.round(xD(t))},Ro={test:_y("rgb","red"),parse:gS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+T0.transform(t)+", "+T0.transform(e)+", "+T0.transform(n)+", "+Ku(fd.transform(r))+")"};function yD(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sx={test:_y("#"),parse:yD,transform:Ro.transform},Ld=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ws=Ld("deg"),Ya=Ld("%"),$e=Ld("px"),vD=Ld("vh"),bD=Ld("vw"),hT={...Ya,parse:t=>Ya.parse(t)/100,transform:t=>Ya.transform(t*100)},Ql={test:_y("hsl","hue"),parse:gS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ya.transform(Ku(e))+", "+Ya.transform(Ku(n))+", "+Ku(fd.transform(r))+")"},fn={test:t=>Ro.test(t)||sx.test(t)||Ql.test(t),parse:t=>Ro.test(t)?Ro.parse(t):Ql.test(t)?Ql.parse(t):sx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ro.transform(t):Ql.transform(t),getAnimatableNone:t=>{const e=fn.parse(t);return e.alpha=0,fn.transform(e)}},wD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ey))==null?void 0:e.length)||0)+(((n=t.match(wD))==null?void 0:n.length)||0)>0}const xS="number",yS="color",kD="var",ED="var(",fT="${}",_D=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function md(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const d=e.replace(_D,f=>(fn.test(f)?(r.color.push(o),i.push(yS),n.push(fn.parse(f))):f.startsWith(ED)?(r.var.push(o),i.push(kD),n.push(f)):(r.number.push(o),i.push(xS),n.push(parseFloat(f))),++o,fT)).split(fT);return{values:n,split:d,indexes:r,types:i}}function vS(t){return md(t).values}function bS(t){const{split:e,types:n}=md(t),r=e.length;return i=>{let o="";for(let u=0;u<r;u++)if(o+=e[u],i[u]!==void 0){const d=n[u];d===xS?o+=Ku(i[u]):d===yS?o+=fn.transform(i[u]):o+=i[u]}return o}}const SD=t=>typeof t=="number"?0:fn.test(t)?fn.getAnimatableNone(t):t;function ND(t){const e=vS(t);return bS(t)(e.map(SD))}const Os={test:TD,parse:vS,createTransformer:bS,getAnimatableNone:ND};function k0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function AD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,u=0;if(!e)i=o=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;i=k0(f,d,t+1/3),o=k0(f,d,t),u=k0(f,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:r}}function em(t,e){return n=>n>0?e:t}const $t=(t,e,n)=>t+(e-t)*n,E0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},CD=[sx,Ro,Ql],jD=t=>CD.find(e=>e.test(t));function mT(t){const e=jD(t);if(!e)return!1;let n=e.parse(t);return e===Ql&&(n=AD(n)),n}const pT=(t,e)=>{const n=mT(t),r=mT(e);if(!n||!r)return em(t,e);const i={...n};return o=>(i.red=E0(n.red,r.red,o),i.green=E0(n.green,r.green,o),i.blue=E0(n.blue,r.blue,o),i.alpha=$t(n.alpha,r.alpha,o),Ro.transform(i))},ox=new Set(["none","hidden"]);function RD(t,e){return ox.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function PD(t,e){return n=>$t(t,e,n)}function Sy(t){return typeof t=="number"?PD:typeof t=="string"?ky(t)?em:fn.test(t)?pT:MD:Array.isArray(t)?wS:typeof t=="object"?fn.test(t)?pT:DD:em}function wS(t,e){const n=[...t],r=n.length,i=t.map((o,u)=>Sy(o)(o,e[u]));return o=>{for(let u=0;u<r;u++)n[u]=i[u](o);return n}}function DD(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Sy(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function ID(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],u=t.indexes[o][r[o]],d=t.values[u]??0;n[i]=d,r[o]++}return n}const MD=(t,e)=>{const n=Os.createTransformer(e),r=md(t),i=md(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ox.has(t)&&!i.values.length||ox.has(e)&&!r.values.length?RD(t,e):Md(wS(ID(r,i),i.values),n):em(t,e)};function TS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$t(t,e,n):Sy(t)(t,e)}const OD=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Kt.update(e,n),stop:()=>Ms(e),now:()=>Mn.isProcessing?Mn.timestamp:dr.now()}},kS=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tm=2e4;function Ny(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tm;)e+=n,r=t.next(e);return e>=tm?1/0:e}function LD(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Ny(r),tm);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Ka(i)}}const VD=5;function ES(t,e,n){const r=Math.max(e-VD,0);return rS(n-t(r),e-r)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_0=.001;function UD({duration:t=Zt.duration,bounce:e=Zt.bounce,velocity:n=Zt.velocity,mass:r=Zt.mass}){let i,o,u=1-e;u=ji(Zt.minDamping,Zt.maxDamping,u),t=ji(Zt.minDuration,Zt.maxDuration,Ka(t)),u<1?(i=m=>{const x=m*u,v=x*t,b=x-n,T=lx(m,u),_=Math.exp(-v);return _0-b/T*_},o=m=>{const v=m*u*t,b=v*n+n,T=Math.pow(u,2)*Math.pow(m,2)*t,_=Math.exp(-v),j=lx(Math.pow(m,2),u);return(-i(m)+_0>0?-1:1)*((b-T)*_)/j}):(i=m=>{const x=Math.exp(-m*t),v=(m-n)*t+1;return-_0+x*v},o=m=>{const x=Math.exp(-m*t),v=(n-m)*(t*t);return x*v});const d=5/t,f=FD(i,o,d);if(t=$a(t),isNaN(f))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:t};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:t}}}const zD=12;function FD(t,e,n){let r=n;for(let i=1;i<zD;i++)r=r-t(r)/e(r);return r}function lx(t,e){return t*Math.sqrt(1-e*e)}const BD=["duration","bounce"],qD=["stiffness","damping","mass"];function gT(t,e){return e.some(n=>t[n]!==void 0)}function HD(t){let e={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...t};if(!gT(t,qD)&&gT(t,BD))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*ji(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Zt.mass,stiffness:i,damping:o}}else{const n=UD(t);e={...e,...n,mass:Zt.mass},e.isResolvedFromDuration=!0}return e}function nm(t=Zt.visualDuration,e=Zt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:f,damping:m,mass:x,duration:v,velocity:b,isResolvedFromDuration:T}=HD({...n,velocity:-Ka(n.velocity||0)}),_=b||0,j=m/(2*Math.sqrt(f*x)),O=u-o,M=Ka(Math.sqrt(f/x)),z=Math.abs(O)<5;r||(r=z?Zt.restSpeed.granular:Zt.restSpeed.default),i||(i=z?Zt.restDelta.granular:Zt.restDelta.default);let L;if(j<1){const V=lx(M,j);L=D=>{const P=Math.exp(-j*M*D);return u-P*((_+j*M*O)/V*Math.sin(V*D)+O*Math.cos(V*D))}}else if(j===1)L=V=>u-Math.exp(-M*V)*(O+(_+M*O)*V);else{const V=M*Math.sqrt(j*j-1);L=D=>{const P=Math.exp(-j*M*D),N=Math.min(V*D,300);return u-P*((_+j*M*O)*Math.sinh(N)+V*O*Math.cosh(N))/V}}const q={calculatedDuration:T&&v||null,next:V=>{const D=L(V);if(T)d.done=V>=v;else{let P=V===0?_:0;j<1&&(P=V===0?$a(_):ES(L,V,D));const N=Math.abs(P)<=r,S=Math.abs(u-D)<=i;d.done=N&&S}return d.value=d.done?u:D,d},toString:()=>{const V=Math.min(Ny(q),tm),D=kS(P=>q.next(V*P).value,V,30);return V+"ms "+D},toTransition:()=>{}};return q}nm.applyToOptions=t=>{const e=LD(t,100,nm);return t.ease=e.ease,t.duration=$a(e.duration),t.type="keyframes",t};function cx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:x}){const v=t[0],b={done:!1,value:v},T=N=>d!==void 0&&N<d||f!==void 0&&N>f,_=N=>d===void 0?f:f===void 0||Math.abs(d-N)<Math.abs(f-N)?d:f;let j=n*e;const O=v+j,M=u===void 0?O:u(O);M!==O&&(j=M-v);const z=N=>-j*Math.exp(-N/r),L=N=>M+z(N),q=N=>{const S=z(N),I=L(N);b.done=Math.abs(S)<=m,b.value=b.done?M:I};let V,D;const P=N=>{T(b.value)&&(V=N,D=nm({keyframes:[b.value,_(b.value)],velocity:ES(L,N,b.value),damping:i,stiffness:o,restDelta:m,restSpeed:x}))};return P(0),{calculatedDuration:null,next:N=>{let S=!1;return!D&&V===void 0&&(S=!0,q(N),P(N)),V!==void 0&&N>=V?D.next(N-V):(!S&&q(N),b)}}}function GD(t,e,n){const r=[],i=n||Ri.mix||TS,o=t.length-1;for(let u=0;u<o;u++){let d=i(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Zr:e;d=Md(f,d)}r.push(d)}return r}function $D(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(xy(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=GD(e,r,i),f=d.length,m=x=>{if(u&&x<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(x<t[v+1]);v++);const b=hd(t[v],t[v+1],x);return d[v](b)};return n?x=>m(ji(t[0],t[o-1],x)):m}function KD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=hd(0,e,r);t.push($t(n,1,i))}}function YD(t){const e=[0];return KD(e,t.length-1),e}function QD(t,e){return t.map(n=>n*e)}function XD(t,e){return t.map(()=>e||hS).splice(0,t.length-1)}function Yu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=oD(r)?r.map(uT):uT(r),o={done:!1,value:e[0]},u=QD(n&&n.length===e.length?n:YD(e),t),d=$D(u,e,{ease:Array.isArray(i)?i:XD(e,i)});return{calculatedDuration:t,next:f=>(o.value=d(f),o.done=f>=t,o)}}const WD=t=>t!==null;function Ay(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(WD),d=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!d||r===void 0?o[d]:r}const ZD={decay:cx,inertia:cx,tween:Yu,keyframes:Yu,spring:nm};function _S(t){typeof t.type=="string"&&(t.type=ZD[t.type])}class Cy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const JD=t=>t/100;class jy extends Cy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==dr.now()&&this.tick(dr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_S(e);const{type:n=Yu,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:u=0}=e;let{keyframes:d}=e;const f=n||Yu;f!==Yu&&typeof d[0]!="number"&&(this.mixKeyframes=Md(JD,TS(d[0],d[1])),d=[0,100]);const m=f({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Ny(m));const{calculatedDuration:x}=m;this.calculatedDuration=x,this.resolvedDuration=x+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:x,repeat:v,repeatType:b,repeatDelay:T,type:_,onUpdate:j,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-m*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?M<0:M>i;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let L=this.currentTime,q=r;if(v){const N=Math.min(this.currentTime,i)/d;let S=Math.floor(N),I=N%1;!I&&N>=1&&(I=1),I===1&&S--,S=Math.min(S,v+1),!!(S%2)&&(b==="reverse"?(I=1-I,T&&(I-=T/d)):b==="mirror"&&(q=u)),L=ji(0,1,I)*d}const V=z?{done:!1,value:x[0]}:q.next(L);o&&(V.value=o(V.value));let{done:D}=V;!z&&f!==null&&(D=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return P&&_!==cx&&(V.value=Ay(x,this.options,O,this.speed)),j&&j(V.value),P&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Ka(this.calculatedDuration)}get time(){return Ka(this.currentTime)}set time(e){var n;e=$a(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(dr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ka(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=OD,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function eI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Po=t=>t*180/Math.PI,ux=t=>{const e=Po(Math.atan2(t[1],t[0]));return dx(e)},tI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ux,rotateZ:ux,skewX:t=>Po(Math.atan(t[1])),skewY:t=>Po(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dx=t=>(t=t%360,t<0&&(t+=360),t),xT=ux,yT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),vT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),nI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yT,scaleY:vT,scale:t=>(yT(t)+vT(t))/2,rotateX:t=>dx(Po(Math.atan2(t[6],t[5]))),rotateY:t=>dx(Po(Math.atan2(-t[2],t[0]))),rotateZ:xT,rotate:xT,skewX:t=>Po(Math.atan(t[4])),skewY:t=>Po(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hx(t){return t.includes("scale")?1:0}function fx(t,e){if(!t||t==="none")return hx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=nI,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=tI,i=d}if(!i)return hx(e);const o=r[e],u=i[1].split(",").map(aI);return typeof o=="function"?o(u):u[o]}const rI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fx(n,e)};function aI(t){return parseFloat(t.trim())}const wc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tc=new Set(wc),bT=t=>t===bc||t===$e,iI=new Set(["x","y","z"]),sI=wc.filter(t=>!iI.has(t));function oI(t){const e=[];return sI.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fx(e,"x"),y:(t,{transform:e})=>fx(e,"y")};Lo.translateX=Lo.x;Lo.translateY=Lo.y;const Vo=new Set;let mx=!1,px=!1,gx=!1;function SS(){if(px){const t=Array.from(Vo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=oI(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,u])=>{var d;(d=r.getValue(o))==null||d.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}px=!1,mx=!1,Vo.forEach(t=>t.complete(gx)),Vo.clear()}function NS(){Vo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(px=!0)})}function lI(){gx=!0,NS(),SS(),gx=!1}class Ry{constructor(e,n,r,i,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Vo.add(this),mx||(mx=!0,Kt.read(NS),Kt.resolveKeyframes(SS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const d=r.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),i&&o===void 0&&i.set(e[0])}eI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vo.delete(this)}cancel(){this.state==="scheduled"&&(Vo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cI=t=>t.startsWith("--");function uI(t,e,n){cI(e)?t.style.setProperty(e,n):t.style[e]=n}const dI=yy(()=>window.ScrollTimeline!==void 0),hI={};function fI(t,e){const n=yy(t);return()=>hI[e]??n()}const AS=fI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,wT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uu([0,.65,.55,1]),circOut:Uu([.55,0,1,.45]),backIn:Uu([.31,.01,.66,-.59]),backOut:Uu([.33,1.53,.69,.99])};function CS(t,e){if(t)return typeof t=="function"?AS()?kS(t,e):"ease-out":fS(t)?Uu(t):Array.isArray(t)?t.map(n=>CS(n,e)||wT.easeOut):wT[t]}function mI(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:u="loop",ease:d="easeOut",times:f}={},m=void 0){const x={[e]:n};f&&(x.offset=f);const v=CS(d,i);Array.isArray(v)&&(x.easing=v);const b={delay:r,duration:i,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(x,b)}function jS(t){return typeof t=="function"&&"applyToOptions"in t}function pI({type:t,...e}){return jS(t)&&AS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class gI extends Cy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,xy(typeof e.type!="string");const m=pI(e);this.animation=mI(n,r,i,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const x=Ay(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(x):uI(n,r,x),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ka(Number(e))}get time(){return Ka(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$a(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&dI()?(this.animation.timeline=e,Zr):n(this)}}const RS={anticipate:cS,backInOut:lS,circInOut:dS};function xI(t){return t in RS}function yI(t){typeof t.ease=="string"&&xI(t.ease)&&(t.ease=RS[t.ease])}const TT=10;class vI extends gI{constructor(e){yI(e),_S(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new jy({...u,autoplay:!1}),f=$a(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-TT).value,d.sample(f).value,TT),d.stop()}}const kT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Os.test(t)||t==="0")&&!t.startsWith("url("));function bI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function wI(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=kT(i,e),d=kT(o,e);return!u||!d?!1:bI(t)||(n==="spring"||jS(n))&&r}function Py(t){return tS(t)&&"offsetHeight"in t}const TI=new Set(["opacity","clipPath","filter","transform"]),kI=yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function EI(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:u}=t;if(!Py((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return kI()&&n&&TI.has(n)&&(n!=="transform"||!f)&&!d&&!r&&i!=="mirror"&&o!==0&&u!=="inertia"}const _I=40;class SI extends Cy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:u="loop",keyframes:d,name:f,motionValue:m,element:x,...v}){var _;super(),this.stop=()=>{var j,O;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(O=this.keyframeResolver)==null||O.cancel()},this.createdAt=dr.now();const b={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:u,name:f,motionValue:m,element:x,...v},T=(x==null?void 0:x.KeyframeResolver)||Ry;this.keyframeResolver=new T(d,(j,O,M)=>this.onKeyframesResolved(j,O,b,!M),f,m,x),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:u,velocity:d,delay:f,isHandoff:m,onUpdate:x}=r;this.resolvedAt=dr.now(),wI(e,o,u,d)||((Ri.instantAnimations||!f)&&(x==null||x(Ay(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>_I?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!m&&EI(b)?new vI({...b,element:b.motionValue.owner.current}):new jy(b);T.finished.then(()=>this.notifyFinished()).catch(Zr),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),lI()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const NI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AI(t){const e=NI.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function PS(t,e,n=1){const[r,i]=AI(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const u=o.trim();return eS(u)?parseFloat(u):u}return ky(i)?PS(i,e,n+1):i}function Dy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const DS=new Set(["width","height","top","left","right","bottom",...wc]),CI={test:t=>t==="auto",parse:t=>t},IS=t=>e=>e.test(t),MS=[bc,$e,Ya,ws,bD,vD,CI],ET=t=>MS.find(IS(t));function jI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nS(t):!0}const RI=new Set(["brightness","contrast","saturate","opacity"]);function PI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ey)||[];if(!r)return t;const i=n.replace(r,"");let o=RI.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const DI=/\b([a-z-]*)\(.*?\)/gu,xx={...Os,getAnimatableNone:t=>{const e=t.match(DI);return e?e.map(PI).join(" "):t}},_T={...bc,transform:Math.round},II={rotate:ws,rotateX:ws,rotateY:ws,rotateZ:ws,scale:yf,scaleX:yf,scaleY:yf,scaleZ:yf,skew:ws,skewX:ws,skewY:ws,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:fd,originX:hT,originY:hT,originZ:$e},Iy={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...II,zIndex:_T,fillOpacity:fd,strokeOpacity:fd,numOctaves:_T},MI={...Iy,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:xx,WebkitFilter:xx},OS=t=>MI[t];function LS(t,e){let n=OS(t);return n!==xx&&(n=Os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const OI=new Set(["auto","none","0"]);function LI(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!OI.has(o)&&md(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=LS(n,i)}class VI extends Ry{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),ky(m))){const x=PS(m,n.current);x!==void 0&&(e[f]=x),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!DS.has(r)||e.length!==2)return;const[i,o]=e,u=ET(i),d=ET(o);if(u!==d)if(bT(u)&&bT(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Lo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||jI(e[i]))&&r.push(i);r.length&&LI(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,u=r[o];r[o]=Lo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function UI(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const VS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ST=30,zI=t=>!isNaN(parseFloat(t));class FI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var u,d;const o=dr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();i&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ST)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ST);return rS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oc(t,e){return new FI(t,e)}const{schedule:My}=mS(queueMicrotask,!1),fa={x:!1,y:!1};function US(){return fa.x||fa.y}function BI(t){return t==="x"||t==="y"?fa[t]?null:(fa[t]=!0,()=>{fa[t]=!1}):fa.x||fa.y?null:(fa.x=fa.y=!0,()=>{fa.x=fa.y=!1})}function zS(t,e){const n=UI(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function NT(t){return!(t.pointerType==="touch"||US())}function qI(t,e,n={}){const[r,i,o]=zS(t,n),u=d=>{if(!NT(d))return;const{target:f}=d,m=e(f,d);if(typeof m!="function"||!f)return;const x=v=>{NT(v)&&(m(v),f.removeEventListener("pointerleave",x))};f.addEventListener("pointerleave",x,i)};return r.forEach(d=>{d.addEventListener("pointerenter",u,i)}),o}const FS=(t,e)=>e?t===e?!0:FS(t,e.parentElement):!1,Oy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GI(t){return HI.has(t.tagName)||t.tabIndex!==-1}const Df=new WeakSet;function AT(t){return e=>{e.key==="Enter"&&t(e)}}function S0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $I=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=AT(()=>{if(Df.has(n))return;S0(n,"down");const i=AT(()=>{S0(n,"up")}),o=()=>S0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function CT(t){return Oy(t)&&!US()}function KI(t,e,n={}){const[r,i,o]=zS(t,n),u=d=>{const f=d.currentTarget;if(!CT(d))return;Df.add(f);const m=e(f,d),x=(T,_)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Df.has(f)&&Df.delete(f),CT(T)&&typeof m=="function"&&m(T,{success:_})},v=T=>{x(T,f===window||f===document||n.useGlobalTarget||FS(f,T.target))},b=T=>{x(T,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",b,i)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,i),Py(d)&&(d.addEventListener("focus",m=>$I(m,i)),!GI(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function BS(t){return tS(t)&&"ownerSVGElement"in t}function YI(t){return BS(t)&&t.tagName==="svg"}const $n=t=>!!(t&&t.getVelocity),QI=[...MS,fn,Os],XI=t=>QI.find(IS(t)),Ly=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class WI extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Py(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZI({children:t,isPresent:e,anchorX:n}){const r=C.useId(),i=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=C.useContext(Ly);return C.useInsertionEffect(()=>{const{width:d,height:f,top:m,left:x,right:v}=o.current;if(e||!i.current||!d||!f)return;const b=n==="left"?`left: ${x}`:`right: ${v}`;i.current.dataset.motionPopId=r;const T=document.createElement("style");return u&&(T.nonce=u),document.head.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.contains(T)&&document.head.removeChild(T)}},[e]),c.jsx(WI,{isPresent:e,childRef:i,sizeRef:o,children:C.cloneElement(t,{ref:i})})}const JI=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:u,anchorX:d})=>{const f=fy(e5),m=C.useId();let x=!0,v=C.useMemo(()=>(x=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:b=>{f.set(b,!0);for(const T of f.values())if(!T)return;r&&r()},register:b=>(f.set(b,!1),()=>f.delete(b))}),[n,f,r]);return o&&x&&(v={...v}),C.useMemo(()=>{f.forEach((b,T)=>f.set(T,!1))},[n]),C.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),u==="popLayout"&&(t=c.jsx(ZI,{isPresent:n,anchorX:d,children:t})),c.jsx(Dm.Provider,{value:v,children:t})};function e5(){return new Map}function qS(t=!0){const e=C.useContext(Dm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=C.useId();C.useEffect(()=>{if(t)return i(o)},[t]);const u=C.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,u]:[!0]}const vf=t=>t.key||"";function jT(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const Vd=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:u=!1,anchorX:d="left"})=>{const[f,m]=qS(u),x=C.useMemo(()=>jT(t),[t]),v=u&&!f?[]:x.map(vf),b=C.useRef(!0),T=C.useRef(x),_=fy(()=>new Map),[j,O]=C.useState(x),[M,z]=C.useState(x);J_(()=>{b.current=!1,T.current=x;for(let V=0;V<M.length;V++){const D=vf(M[V]);v.includes(D)?_.delete(D):_.get(D)!==!0&&_.set(D,!1)}},[M,v.length,v.join("-")]);const L=[];if(x!==j){let V=[...x];for(let D=0;D<M.length;D++){const P=M[D],N=vf(P);v.includes(N)||(V.splice(D,0,P),L.push(P))}return o==="wait"&&L.length&&(V=L),z(jT(V)),O(x),null}const{forceRender:q}=C.useContext(hy);return c.jsx(c.Fragment,{children:M.map(V=>{const D=vf(V),P=u&&!f?!1:x===M||v.includes(D),N=()=>{if(_.has(D))_.set(D,!0);else return;let S=!0;_.forEach(I=>{I||(S=!1)}),S&&(q==null||q(),z(T.current),u&&(m==null||m()),r&&r())};return c.jsx(JI,{isPresent:P,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:P?void 0:N,anchorX:d,children:V},D)})})},HS=C.createContext({strict:!1}),RT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lc={};for(const t in RT)lc[t]={isEnabled:e=>RT[t].some(n=>!!e[n])};function t5(t){for(const e in t)lc[e]={...lc[e],...t[e]}}const n5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||n5.has(t)}let GS=t=>!rm(t);function r5(t){typeof t=="function"&&(GS=e=>e.startsWith("on")?!rm(e):t(e))}try{r5(require("@emotion/is-prop-valid").default)}catch{}function a5(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(GS(i)||n===!0&&rm(i)||!e&&!rm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function i5(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Im=C.createContext({});function Mm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pd(t){return typeof t=="string"||Array.isArray(t)}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uy=["initial",...Vy];function Om(t){return Mm(t.animate)||Uy.some(e=>pd(t[e]))}function $S(t){return!!(Om(t)||t.variants)}function s5(t,e){if(Om(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pd(n)?n:void 0,animate:pd(r)?r:void 0}}return t.inherit!==!1?e:{}}function o5(t){const{initial:e,animate:n}=s5(t,C.useContext(Im));return C.useMemo(()=>({initial:e,animate:n}),[PT(e),PT(n)])}function PT(t){return Array.isArray(t)?t.join(" "):t}const l5=Symbol.for("motionComponentSymbol");function Xl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function c5(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xl(n)&&(n.current=r))},[e])}const zy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u5="framerAppearId",KS="data-"+zy(u5),YS=C.createContext({});function d5(t,e,n,r,i){var j,O;const{visualElement:o}=C.useContext(Im),u=C.useContext(HS),d=C.useContext(Dm),f=C.useContext(Ly).reducedMotion,m=C.useRef(null);r=r||u.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const x=m.current,v=C.useContext(YS);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&h5(m.current,n,i,v);const b=C.useRef(!1);C.useInsertionEffect(()=>{x&&b.current&&x.update(n,d)});const T=n[KS],_=C.useRef(!!T&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,T))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,T)));return J_(()=>{x&&(b.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),My.render(x.render),_.current&&x.animationState&&x.animationState.animateChanges())}),C.useEffect(()=>{x&&(!_.current&&x.animationState&&x.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,T)}),_.current=!1))}),x}function h5(t,e,n,r){const{layoutId:i,layout:o,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QS(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!u||d&&Xl(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:x,layoutScroll:f,layoutRoot:m})}function QS(t){if(t)return t.options.allowProjection!==!1?t.projection:QS(t.parent)}function f5({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&t5(t);function o(d,f){let m;const x={...C.useContext(Ly),...d,layoutId:m5(d)},{isStatic:v}=x,b=o5(d),T=r(d,v);if(!v&&my){p5();const _=g5(x);m=_.MeasureLayout,b.visualElement=d5(i,T,x,e,_.ProjectionNode)}return c.jsxs(Im.Provider,{value:b,children:[m&&b.visualElement?c.jsx(m,{visualElement:b.visualElement,...x}):null,n(i,d,c5(T,b.visualElement,f),T,v,b.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const u=C.forwardRef(o);return u[l5]=i,u}function m5({layoutId:t}){const e=C.useContext(hy).id;return e&&t!==void 0?e+"-"+t:t}function p5(t,e){C.useContext(HS).strict}function g5(t){const{drag:e,layout:n}=lc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const gd={};function x5(t){for(const e in t)gd[e]=t[e],Ty(e)&&(gd[e].isCSSVariable=!0)}function XS(t,{layout:e,layoutId:n}){return Tc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gd[t]||t==="opacity")}const y5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},v5=wc.length;function b5(t,e,n){let r="",i=!0;for(let o=0;o<v5;o++){const u=wc[o],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=VS(d,Iy[u]);if(!f){i=!1;const x=y5[u]||u;r+=`${x}(${m}) `}n&&(e[u]=m)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Fy(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let u=!1,d=!1;for(const f in e){const m=e[f];if(Tc.has(f)){u=!0;continue}else if(Ty(f)){i[f]=m;continue}else{const x=VS(m,Iy[f]);f.startsWith("origin")?(d=!0,o[f]=x):r[f]=x}}if(e.transform||(u||n?r.transform=b5(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:x=0}=o;r.transformOrigin=`${f} ${m} ${x}`}}const By=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WS(t,e,n){for(const r in e)!$n(e[r])&&!XS(r,n)&&(t[r]=e[r])}function w5({transformTemplate:t},e){return C.useMemo(()=>{const n=By();return Fy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function T5(t,e){const n=t.style||{},r={};return WS(r,n,t),Object.assign(r,w5(t,e)),r}function k5(t,e){const n={},r=T5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const E5={offset:"stroke-dashoffset",array:"stroke-dasharray"},_5={offset:"strokeDashoffset",array:"strokeDasharray"};function S5(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?E5:_5;t[o.offset]=$e.transform(-r);const u=$e.transform(e),d=$e.transform(n);t[o.array]=`${u} ${d}`}function ZS(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:u=0,...d},f,m,x){if(Fy(t,d,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=(x==null?void 0:x.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),i!==void 0&&S5(v,i,o,u,!1)}const JS=()=>({...By(),attrs:{}}),e4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function N5(t,e,n,r){const i=C.useMemo(()=>{const o=JS();return ZS(o,e,e4(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};WS(o,t.style,t),i.style={...o,...i.style}}return i}const A5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qy(t){return typeof t!="string"||t.includes("-")?!1:!!(A5.indexOf(t)>-1||/[A-Z]/u.test(t))}function C5(t=!1){return(n,r,i,{latestValues:o},u)=>{const f=(qy(n)?N5:k5)(r,o,u,n),m=a5(r,typeof n=="string",t),x=n!==C.Fragment?{...m,...f,ref:i}:{},{children:v}=r,b=C.useMemo(()=>$n(v)?v.get():v,[v]);return C.createElement(n,{...x,children:b})}}function DT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Hy(t,e,n,r){if(typeof e=="function"){const[i,o]=DT(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=DT(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function If(t){return $n(t)?t.get():t}function j5({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:R5(n,r,i,t),renderState:e()}}const t4=t=>(e,n)=>{const r=C.useContext(Im),i=C.useContext(Dm),o=()=>j5(t,e,r,i);return n?o():fy(o)};function R5(t,e,n,r){const i={},o=r(t,{});for(const b in o)i[b]=If(o[b]);let{initial:u,animate:d}=t;const f=Om(t),m=$S(t);e&&m&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const v=x?d:u;if(v&&typeof v!="boolean"&&!Mm(v)){const b=Array.isArray(v)?v:[v];for(let T=0;T<b.length;T++){const _=Hy(t,b[T]);if(_){const{transitionEnd:j,transition:O,...M}=_;for(const z in M){let L=M[z];if(Array.isArray(L)){const q=x?L.length-1:0;L=L[q]}L!==null&&(i[z]=L)}for(const z in j)i[z]=j[z]}}}return i}function Gy(t,e,n){var o;const{style:r}=t,i={};for(const u in r)($n(r[u])||e.style&&$n(e.style[u])||XS(u,t)||((o=n==null?void 0:n.getValue(u))==null?void 0:o.liveStyle)!==void 0)&&(i[u]=r[u]);return i}const P5={useVisualState:t4({scrapeMotionValuesFromProps:Gy,createRenderState:By})};function n4(t,e,n){const r=Gy(t,e,n);for(const i in t)if($n(t[i])||$n(e[i])){const o=wc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const D5={useVisualState:t4({scrapeMotionValuesFromProps:n4,createRenderState:JS})};function I5(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const u={...qy(r)?D5:P5,preloadedFeatures:t,useRender:C5(i),createVisualElement:e,Component:r};return f5(u)}}function xd(t,e,n){const r=t.getProps();return Hy(r,e,n!==void 0?n:r.custom,t)}const yx=t=>Array.isArray(t);function M5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,oc(n))}function O5(t){return yx(t)?t[t.length-1]||0:t}function L5(t,e){const n=xd(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const u in o){const d=O5(o[u]);M5(t,u,d)}}function V5(t){return!!($n(t)&&t.add)}function vx(t,e){const n=t.getValue("willChange");if(V5(n))return n.add(e);if(!n&&Ri.WillChange){const r=new Ri.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function r4(t){return t.props[KS]}const U5=t=>t!==null;function z5(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(U5),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const F5={type:"spring",stiffness:500,damping:25,restSpeed:10},B5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),q5={type:"keyframes",duration:.8},H5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},G5=(t,{keyframes:e})=>e.length>2?q5:Tc.has(t)?t.startsWith("scale")?B5(e[1]):F5:H5;function $5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:u,repeatDelay:d,from:f,elapsed:m,...x}){return!!Object.keys(x).length}const $y=(t,e,n,r={},i,o)=>u=>{const d=Dy(r,t)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-$a(f);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:i};$5(d)||Object.assign(x,G5(t,x)),x.duration&&(x.duration=$a(x.duration)),x.repeatDelay&&(x.repeatDelay=$a(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let v=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(v=!0)),(Ri.instantAnimations||Ri.skipAnimations)&&(v=!0,x.duration=0,x.delay=0),x.allowFlatten=!d.type&&!d.ease,v&&!o&&e.get()!==void 0){const b=z5(x.keyframes,d);if(b!==void 0){Kt.update(()=>{x.onUpdate(b),x.onComplete()});return}}return d.isSync?new jy(x):new SI(x)};function K5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function a4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:u,...d}=e;r&&(o=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const x in d){const v=t.getValue(x,t.latestValues[x]??null),b=d[x];if(b===void 0||m&&K5(m,x))continue;const T={delay:n,...Dy(o||{},x)},_=v.get();if(_!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===_&&!T.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const M=r4(t);if(M){const z=window.MotionHandoffAnimation(M,x,Kt);z!==null&&(T.startTime=z,j=!0)}}vx(t,x),v.start($y(x,v,b,t.shouldReduceMotion&&DS.has(x)?{type:!1}:T,t,j));const O=v.animation;O&&f.push(O)}return u&&Promise.all(f).then(()=>{Kt.update(()=>{u&&L5(t,u)})}),f}function bx(t,e,n={}){var f;const r=xd(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(a4(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:x=0,staggerChildren:v,staggerDirection:b}=i;return Y5(t,e,x+m,v,b,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[m,x]=d==="beforeChildren"?[o,u]:[u,o];return m().then(()=>x())}else return Promise.all([o(),u(n.delay)])}function Y5(t,e,n=0,r=0,i=1,o){const u=[],d=(t.variantChildren.size-1)*r,f=i===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(t.variantChildren).sort(Q5).forEach((m,x)=>{m.notify("AnimationStart",e),u.push(bx(m,e,{...o,delay:n+f(x)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function Q5(t,e){return t.sortNodePosition(e)}function X5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>bx(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=bx(t,e,n);else{const i=typeof e=="function"?xd(t,e,n.custom):e;r=Promise.all(a4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function i4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const W5=Uy.length;function s4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?s4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<W5;n++){const r=Uy[n],i=t.props[r];(pd(i)||i===!1)&&(e[r]=i)}return e}const Z5=[...Vy].reverse(),J5=Vy.length;function e8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>X5(t,n,r)))}function t8(t){let e=e8(t),n=IT(),r=!0;const i=f=>(m,x)=>{var b;const v=xd(t,x,f==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(v){const{transition:T,transitionEnd:_,...j}=v;m={...m,...j,..._}}return m};function o(f){e=f(t)}function u(f){const{props:m}=t,x=s4(t.parent)||{},v=[],b=new Set;let T={},_=1/0;for(let O=0;O<J5;O++){const M=Z5[O],z=n[M],L=m[M]!==void 0?m[M]:x[M],q=pd(L),V=M===f?z.isActive:null;V===!1&&(_=O);let D=L===x[M]&&L!==m[M]&&q;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),z.protectedKeys={...T},!z.isActive&&V===null||!L&&!z.prevProp||Mm(L)||typeof L=="boolean")continue;const P=n8(z.prevProp,L);let N=P||M===f&&z.isActive&&!D&&q||O>_&&q,S=!1;const I=Array.isArray(L)?L:[L];let B=I.reduce(i(M),{});V===!1&&(B={});const{prevResolvedValues:$={}}=z,U={...$,...B},ye=ie=>{N=!0,b.has(ie)&&(S=!0,b.delete(ie)),z.needsAnimating[ie]=!0;const te=t.getValue(ie);te&&(te.liveStyle=!1)};for(const ie in U){const te=B[ie],ve=$[ie];if(T.hasOwnProperty(ie))continue;let F=!1;yx(te)&&yx(ve)?F=!i4(te,ve):F=te!==ve,F?te!=null?ye(ie):b.add(ie):te!==void 0&&b.has(ie)?ye(ie):z.protectedKeys[ie]=!0}z.prevProp=L,z.prevResolvedValues=B,z.isActive&&(T={...T,...B}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(D&&P)||S)&&v.push(...I.map(ie=>({animation:ie,options:{type:M}})))}if(b.size){const O={};if(typeof m.initial!="boolean"){const M=xd(t,Array.isArray(m.initial)?m.initial[0]:m.initial);M&&M.transition&&(O.transition=M.transition)}b.forEach(M=>{const z=t.getBaseTarget(M),L=t.getValue(M);L&&(L.liveStyle=!0),O[M]=z??null}),v.push({animation:O})}let j=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(v):Promise.resolve()}function d(f,m){var v;if(n[f].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(b=>{var T;return(T=b.animationState)==null?void 0:T.setActive(f,m)}),n[f].isActive=m;const x=u(f);for(const b in n)n[b].protectedKeys={};return x}return{animateChanges:u,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=IT(),r=!0}}}function n8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!i4(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IT(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class Ks{constructor(e){this.isMounted=!1,this.node=e}update(){}}class r8 extends Ks{constructor(e){super(e),e.animationState||(e.animationState=t8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let a8=0;class i8 extends Ks{constructor(){super(...arguments),this.id=a8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const s8={animation:{Feature:r8},exit:{Feature:i8}};function yd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ud(t){return{point:{x:t.pageX,y:t.pageY}}}const o8=t=>e=>Oy(e)&&t(e,Ud(e));function Qu(t,e,n,r){return yd(t,e,o8(n),r)}function o4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function l8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const l4=1e-4,u8=1-l4,d8=1+l4,c4=.01,h8=0-c4,f8=0+c4;function er(t){return t.max-t.min}function m8(t,e,n){return Math.abs(t-e)<=n}function MT(t,e,n,r=.5){t.origin=r,t.originPoint=$t(e.min,e.max,t.origin),t.scale=er(n)/er(e),t.translate=$t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=u8&&t.scale<=d8||isNaN(t.scale))&&(t.scale=1),(t.translate>=h8&&t.translate<=f8||isNaN(t.translate))&&(t.translate=0)}function Xu(t,e,n,r){MT(t.x,e.x,n.x,r?r.originX:void 0),MT(t.y,e.y,n.y,r?r.originY:void 0)}function OT(t,e,n){t.min=n.min+e.min,t.max=t.min+er(e)}function p8(t,e,n){OT(t.x,e.x,n.x),OT(t.y,e.y,n.y)}function LT(t,e,n){t.min=e.min-n.min,t.max=t.min+er(e)}function Wu(t,e,n){LT(t.x,e.x,n.x),LT(t.y,e.y,n.y)}const VT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wl=()=>({x:VT(),y:VT()}),UT=()=>({min:0,max:0}),an=()=>({x:UT(),y:UT()});function Xr(t){return[t("x"),t("y")]}function N0(t){return t===void 0||t===1}function wx({scale:t,scaleX:e,scaleY:n}){return!N0(t)||!N0(e)||!N0(n)}function No(t){return wx(t)||u4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function u4(t){return zT(t.x)||zT(t.y)}function zT(t){return t&&t!=="0%"}function am(t,e,n){const r=t-n,i=e*r;return n+i}function FT(t,e,n,r,i){return i!==void 0&&(t=am(t,i,r)),am(t,n,r)+e}function Tx(t,e=0,n=1,r,i){t.min=FT(t.min,e,n,r,i),t.max=FT(t.max,e,n,r,i)}function d4(t,{x:e,y:n}){Tx(t.x,e.translate,e.scale,e.originPoint),Tx(t.y,n.translate,n.scale,n.originPoint)}const BT=.999999999999,qT=1.0000000000001;function g8(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,u;for(let d=0;d<i;d++){o=n[d],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Jl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,d4(t,u)),r&&No(o.latestValues)&&Jl(t,o.latestValues))}e.x<qT&&e.x>BT&&(e.x=1),e.y<qT&&e.y>BT&&(e.y=1)}function Zl(t,e){t.min=t.min+e,t.max=t.max+e}function HT(t,e,n,r,i=.5){const o=$t(t.min,t.max,i);Tx(t,e,n,o,r)}function Jl(t,e){HT(t.x,e.x,e.scaleX,e.scale,e.originX),HT(t.y,e.y,e.scaleY,e.scale,e.originY)}function h4(t,e){return o4(c8(t.getBoundingClientRect(),e))}function x8(t,e,n){const r=h4(t,n),{scroll:i}=e;return i&&(Zl(r.x,i.offset.x),Zl(r.y,i.offset.y)),r}const f4=({current:t})=>t?t.ownerDocument.defaultView:null,GT=(t,e)=>Math.abs(t-e);function y8(t,e){const n=GT(t.x,e.x),r=GT(t.y,e.y);return Math.sqrt(n**2+r**2)}class m4{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=C0(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,T=y8(v.offset,{x:0,y:0})>=3;if(!b&&!T)return;const{point:_}=v,{timestamp:j}=Mn;this.history.push({..._,timestamp:j});const{onStart:O,onMove:M}=this.handlers;b||(O&&O(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=A0(b,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:T,onSessionEnd:_,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=C0(v.type==="pointercancel"?this.lastMoveEventInfo:A0(b,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,O),_&&_(v,O)},!Oy(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const u=Ud(e),d=A0(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Mn;this.history=[{...f,timestamp:m}];const{onSessionStart:x}=n;x&&x(e,C0(d,this.history)),this.removeListeners=Md(Qu(this.contextWindow,"pointermove",this.handlePointerMove),Qu(this.contextWindow,"pointerup",this.handlePointerUp),Qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ms(this.updatePoint)}}function A0(t,e){return e?{point:e(t.point)}:t}function $T(t,e){return{x:t.x-e.x,y:t.y-e.y}}function C0({point:t},e){return{point:t,delta:$T(t,p4(e)),offset:$T(t,v8(e)),velocity:b8(e,.1)}}function v8(t){return t[0]}function p4(t){return t[t.length-1]}function b8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=p4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$a(e)));)n--;if(!r)return{x:0,y:0};const o=Ka(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const u={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function w8(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$t(n,t,r.max):Math.min(t,n)),t}function KT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function T8(t,{top:e,left:n,bottom:r,right:i}){return{x:KT(t.x,n,i),y:KT(t.y,e,r)}}function YT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function k8(t,e){return{x:YT(t.x,e.x),y:YT(t.y,e.y)}}function E8(t,e){let n=.5;const r=er(t),i=er(e);return i>r?n=hd(e.min,e.max-r,t.min):r>i&&(n=hd(t.min,t.max-i,e.min)),ji(0,1,n)}function _8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kx=.35;function S8(t=kx){return t===!1?t=0:t===!0&&(t=kx),{x:QT(t,"left","right"),y:QT(t,"top","bottom")}}function QT(t,e,n){return{min:XT(t,e),max:XT(t,n)}}function XT(t,e){return typeof t=="number"?t:t[e]||0}const N8=new WeakMap;class A8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=an(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=x=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ud(x).point)},o=(x,v)=>{const{drag:b,dragPropagation:T,onDragStart:_}=this.getProps();if(b&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BI(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xr(O=>{let M=this.getAxisMotionValue(O).get()||0;if(Ya.test(M)){const{projection:z}=this.visualElement;if(z&&z.layout){const L=z.layout.layoutBox[O];L&&(M=er(L)*(parseFloat(M)/100))}}this.originPoint[O]=M}),_&&Kt.postRender(()=>_(x,v)),vx(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(x,v)=>{const{dragPropagation:b,dragDirectionLock:T,onDirectionLock:_,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:O}=v;if(T&&this.currentDirection===null){this.currentDirection=C8(O),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",v.point,O),this.updateAxis("y",v.point,O),this.visualElement.render(),j&&j(x,v)},d=(x,v)=>this.stop(x,v),f=()=>Xr(x=>{var v;return this.getAnimationState(x)==="paused"&&((v=this.getAxisMotionValue(x).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new m4(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:f4(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Kt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!bf(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=w8(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Xl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=T8(r.layoutBox,e):this.constraints=!1,this.elastic=S8(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xr(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=_8(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=x8(r,i.root,this.visualElement.getTransformPagePoint());let u=k8(i.layout.layoutBox,o);if(n){const d=n(l8(u));this.hasMutatedConstraints=!!d,d&&(u=o4(d))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Xr(x=>{if(!bf(x,n,this.currentDirection))return;let v=f&&f[x]||{};u&&(v={min:0,max:0});const b=i?200:1e6,T=i?40:1e7,_={type:"inertia",velocity:r?e[x]:0,bounceStiffness:b,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(x,_)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return vx(this.visualElement,e),r.start($y(e,r,0,n,this.visualElement,!1))}stopAnimation(){Xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xr(n=>{const{drag:r}=this.getProps();if(!bf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:u,max:d}=i.layout.layoutBox[n];o.set(e[n]-$t(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xr(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();i[u]=E8({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xr(u=>{if(!bf(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set($t(f,m,i[u]))})}addListeners(){if(!this.visualElement.current)return;N8.set(this.visualElement,this);const e=this.visualElement.current,n=Qu(e,"pointerdown",f=>{const{drag:m,dragListener:x=!0}=this.getProps();m&&x&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Xl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Kt.read(r);const u=yd(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Xr(x=>{const v=this.getAxisMotionValue(x);v&&(this.originPoint[x]+=f[x].translate,v.set(v.get()+f[x].translate))}),this.visualElement.render())});return()=>{u(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:u=kx,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:u,dragMomentum:d}}}function bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function C8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class j8 extends Ks{constructor(e){super(e),this.removeGroupControls=Zr,this.removeListeners=Zr,this.controls=new A8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const WT=t=>(e,n)=>{t&&Kt.postRender(()=>t(e,n))};class R8 extends Ks{constructor(){super(...arguments),this.removePointerDownListener=Zr}onPointerDown(e){this.session=new m4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:f4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:WT(e),onStart:WT(n),onMove:r,onEnd:(o,u)=>{delete this.session,i&&Kt.postRender(()=>i(o,u))}}}mount(){this.removePointerDownListener=Qu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=ZT(t,e.target.x),r=ZT(t,e.target.y);return`${n}% ${r}%`}},P8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Os.parse(t);if(i.length>5)return r;const o=Os.createTransformer(t),u=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;i[0+u]/=d,i[1+u]/=f;const m=$t(d,f,.5);return typeof i[2+u]=="number"&&(i[2+u]/=m),typeof i[3+u]=="number"&&(i[3+u]/=m),o(i)}};class D8 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;x5(I8),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:u}=r;return u&&(u.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||Kt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),My.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function g4(t){const[e,n]=qS(),r=C.useContext(hy);return c.jsx(D8,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(YS),isPresent:e,safeToRemove:n})}const I8={borderRadius:{...Iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Iu,borderTopRightRadius:Iu,borderBottomLeftRadius:Iu,borderBottomRightRadius:Iu,boxShadow:P8};function M8(t,e,n){const r=$n(t)?t:oc(t);return r.start($y("",r,e,n)),r.animation}const O8=(t,e)=>t.depth-e.depth;class L8{constructor(){this.children=[],this.isDirty=!1}add(e){py(this.children,e),this.isDirty=!0}remove(e){gy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(O8),this.isDirty=!1,this.children.forEach(e)}}function V8(t,e){const n=dr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ms(r),t(o-e))};return Kt.setup(r,!0),()=>Ms(r)}const x4=["TopLeft","TopRight","BottomLeft","BottomRight"],U8=x4.length,JT=t=>typeof t=="string"?parseFloat(t):t,ek=t=>typeof t=="number"||$e.test(t);function z8(t,e,n,r,i,o){i?(t.opacity=$t(0,n.opacity??1,F8(r)),t.opacityExit=$t(e.opacity??1,0,B8(r))):o&&(t.opacity=$t(e.opacity??1,n.opacity??1,r));for(let u=0;u<U8;u++){const d=`border${x4[u]}Radius`;let f=tk(e,d),m=tk(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||ek(f)===ek(m)?(t[d]=Math.max($t(JT(f),JT(m),r),0),(Ya.test(m)||Ya.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=$t(e.rotate||0,n.rotate||0,r))}function tk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const F8=y4(0,.5,uS),B8=y4(.5,.95,Zr);function y4(t,e,n){return r=>r<t?0:r>e?1:n(hd(t,e,r))}function nk(t,e){t.min=e.min,t.max=e.max}function Qr(t,e){nk(t.x,e.x),nk(t.y,e.y)}function rk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ak(t,e,n,r,i){return t-=e,t=am(t,1/n,r),i!==void 0&&(t=am(t,1/i,r)),t}function q8(t,e=0,n=1,r=.5,i,o=t,u=t){if(Ya.test(e)&&(e=parseFloat(e),e=$t(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=$t(o.min,o.max,r);t===o&&(d-=e),t.min=ak(t.min,e,n,d,i),t.max=ak(t.max,e,n,d,i)}function ik(t,e,[n,r,i],o,u){q8(t,e[n],e[r],e[i],e.scale,o,u)}const H8=["x","scaleX","originX"],G8=["y","scaleY","originY"];function sk(t,e,n,r){ik(t.x,e,H8,n?n.x:void 0,r?r.x:void 0),ik(t.y,e,G8,n?n.y:void 0,r?r.y:void 0)}function ok(t){return t.translate===0&&t.scale===1}function v4(t){return ok(t.x)&&ok(t.y)}function lk(t,e){return t.min===e.min&&t.max===e.max}function $8(t,e){return lk(t.x,e.x)&&lk(t.y,e.y)}function ck(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function b4(t,e){return ck(t.x,e.x)&&ck(t.y,e.y)}function uk(t){return er(t.x)/er(t.y)}function dk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class K8{constructor(){this.members=[]}add(e){py(this.members,e),e.scheduleRender()}remove(e){if(gy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y8(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((i||o||u)&&(r=`translate3d(${i}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:x,rotateX:v,rotateY:b,skewX:T,skewY:_}=n;m&&(r=`perspective(${m}px) ${r}`),x&&(r+=`rotate(${x}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),T&&(r+=`skewX(${T}deg) `),_&&(r+=`skewY(${_}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const j0=["","X","Y","Z"],Q8={visibility:"hidden"},X8=1e3;let W8=0;function R0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function w4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=r4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Kt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&w4(r)}function T4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(u={},d=e==null?void 0:e()){this.id=W8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eM),this.nodes.forEach(iM),this.nodes.forEach(sM),this.nodes.forEach(tM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new L8)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new vy),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=BS(u)&&!YI(u),this.instance=u;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let x;const v=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=V8(v,250),Mf.hasAnimatedSinceResize&&(Mf.hasAnimatedSinceResize=!1,this.nodes.forEach(fk))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||m.getDefaultTransition()||dM,{onLayoutAnimationStart:j,onLayoutAnimationComplete:O}=m.getProps(),M=!this.targetLayout||!b4(this.targetLayout,T),z=!v&&b;if(this.options.layoutRoot||this.resumeFrom||z||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...Dy(_,"layout"),onPlay:j,onComplete:O};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(x,z)}else v||fk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oM),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&w4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const v=this.path[x];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hk);return}this.isUpdating||this.nodes.forEach(rM),this.isUpdating=!1,this.nodes.forEach(aM),this.nodes.forEach(Z8),this.nodes.forEach(J8),this.clearAllSnapshots();const d=dr.now();Mn.delta=ji(0,1e3/60,d-Mn.timestamp),Mn.timestamp=d,Mn.isProcessing=!0,w0.update.process(Mn),w0.preRender.process(Mn),w0.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,My.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nM),this.sharedNodes.forEach(lM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!er(this.snapshot.measuredBox.x)&&!er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=an(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!v4(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,x=m!==this.prevTransformTemplateValue;u&&this.instance&&(d||No(this.latestValues)||x)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),hM(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return an();const d=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(fM))){const{scroll:x}=this.root;x&&(Zl(d.x,x.offset.x),Zl(d.y,x.offset.y))}return d}removeElementScroll(u){var f;const d=an();if(Qr(d,u),(f=this.scroll)!=null&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const x=this.path[m],{scroll:v,options:b}=x;x!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Qr(d,u),Zl(d.x,v.offset.x),Zl(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const f=an();Qr(f,u);for(let m=0;m<this.path.length;m++){const x=this.path[m];!d&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Jl(f,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),No(x.latestValues)&&Jl(f,x.latestValues)}return No(this.latestValues)&&Jl(f,this.latestValues),f}removeTransform(u){const d=an();Qr(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!No(m.latestValues))continue;wx(m.latestValues)&&m.updateSnapshot();const x=an(),v=m.measurePageBox();Qr(x,v),sk(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,x)}return No(this.latestValues)&&sk(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=Mn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),Wu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=an(),this.targetWithTransforms=an()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qr(this.target,this.layout.layoutBox),d4(this.target,this.targetDelta)):Qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),Wu(this.relativeTargetOrigin,this.target,T.target),Qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wx(this.parent.latestValues)||u4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||x))return;Qr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;g8(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=an());const{target:T}=u;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rk(this.prevProjectionDelta.x,this.projectionDelta.x),rk(this.prevProjectionDelta.y,this.projectionDelta.y)),Xu(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!dk(this.projectionDelta.x,this.prevProjectionDelta.x)||!dk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wl(),this.projectionDelta=Wl(),this.projectionDeltaWithTransform=Wl()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},x={...this.latestValues},v=Wl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=an(),T=f?f.source:void 0,_=this.layout?this.layout.source:void 0,j=T!==_,O=this.getStack(),M=!O||O.members.length<=1,z=!!(j&&!M&&this.options.crossfade===!0&&!this.path.some(uM));this.animationProgress=0;let L;this.mixTargetDelta=q=>{const V=q/1e3;mk(v.x,u.x,V),mk(v.y,u.y,V),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cM(this.relativeTarget,this.relativeTargetOrigin,b,V),L&&$8(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=an()),Qr(L,this.relativeTarget)),j&&(this.animationValues=x,z8(x,m,this.latestValues,V,z,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var d,f,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{Mf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oc(0)),this.currentAnimation=M8(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),u.onUpdate&&u.onUpdate(x)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:x}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&k4(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||an();const v=er(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const b=er(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+b}Qr(d,f),Jl(d,x),Xu(this.projectionDeltaWithTransform,this.layoutCorrected,d,x)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new K8),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var d;const{layoutId:u}=this.options;return u?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:u}=this.options;return u?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&R0("z",u,m,this.animationValues);for(let x=0;x<j0.length;x++)R0(`rotate${j0[x]}`,u,m,this.animationValues),R0(`skew${j0[x]}`,u,m,this.animationValues);u.render();for(const x in m)u.setStaticValue(x,m[x]),this.animationValues&&(this.animationValues[x]=m[x]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Q8;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=If(u==null?void 0:u.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=If(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!No(this.latestValues)&&(T.transform=f?f({},""):"none",this.hasProjected=!1),T}const x=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=Y8(this.projectionDeltaWithTransform,this.treeScale,x),f&&(d.transform=f(x,d.transform));const{x:v,y:b}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,m.animationValues?d.opacity=m===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:d.opacity=m===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const T in gd){if(x[T]===void 0)continue;const{correct:_,applyTo:j,isCSSVariable:O}=gd[T],M=d.transform==="none"?x[T]:_(x[T],m);if(j){const z=j.length;for(let L=0;L<z;L++)d[j[L]]=M}else O?this.options.visualElement.renderState.vars[T]=M:d[T]=M}return this.options.layoutId&&(d.pointerEvents=m===this?If(u==null?void 0:u.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(hk),this.root.sharedNodes.clear()}}}function Z8(t){t.updateLayout()}function J8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,u=e.source!==t.layout.source;o==="size"?Xr(v=>{const b=u?e.measuredBox[v]:e.layoutBox[v],T=er(b);b.min=r[v].min,b.max=b.min+T}):k4(o,e.layoutBox,r)&&Xr(v=>{const b=u?e.measuredBox[v]:e.layoutBox[v],T=er(r[v]);b.max=b.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const d=Wl();Xu(d,r,e.layoutBox);const f=Wl();u?Xu(f,t.applyTransform(i,!0),e.measuredBox):Xu(f,r,e.layoutBox);const m=!v4(d);let x=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:T}=v;if(b&&T){const _=an();Wu(_,e.layoutBox,b.layoutBox);const j=an();Wu(j,r,T.layoutBox),b4(_,j)||(x=!0),v.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=_,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:x})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function eM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nM(t){t.clearSnapshot()}function hk(t){t.clearMeasurements()}function rM(t){t.isLayoutDirty=!1}function aM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iM(t){t.resolveTargetDelta()}function sM(t){t.calcProjection()}function oM(t){t.resetSkewAndRotation()}function lM(t){t.removeLeadSnapshot()}function mk(t,e,n){t.translate=$t(e.translate,0,n),t.scale=$t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pk(t,e,n,r){t.min=$t(e.min,n.min,r),t.max=$t(e.max,n.max,r)}function cM(t,e,n,r){pk(t.x,e.x,n.x,r),pk(t.y,e.y,n.y,r)}function uM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dM={duration:.45,ease:[.4,0,.1,1]},gk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xk=gk("applewebkit/")&&!gk("chrome/")?Math.round:Zr;function yk(t){t.min=xk(t.min),t.max=xk(t.max)}function hM(t){yk(t.x),yk(t.y)}function k4(t,e,n){return t==="position"||t==="preserve-aspect"&&!m8(uk(e),uk(n),.2)}function fM(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const mM=T4({attachResizeListener:(t,e)=>yd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),P0={current:void 0},E4=T4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!P0.current){const t=new mM({});t.mount(window),t.setOptions({layoutScroll:!0}),P0.current=t}return P0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pM={pan:{Feature:R8},drag:{Feature:j8,ProjectionNode:E4,MeasureLayout:g4}};function vk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Kt.postRender(()=>o(e,Ud(e)))}class gM extends Ks{mount(){const{current:e}=this.node;e&&(this.unmount=qI(e,(n,r)=>(vk(this.node,r,"Start"),i=>vk(this.node,i,"End"))))}unmount(){}}class xM extends Ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Md(yd(this.node.current,"focus",()=>this.onFocus()),yd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bk(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Kt.postRender(()=>o(e,Ud(e)))}class yM extends Ks{mount(){const{current:e}=this.node;e&&(this.unmount=KI(e,(n,r)=>(bk(this.node,r,"Start"),(i,{success:o})=>bk(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ex=new WeakMap,D0=new WeakMap,vM=t=>{const e=Ex.get(t.target);e&&e(t)},bM=t=>{t.forEach(vM)};function wM({root:t,...e}){const n=t||document;D0.has(n)||D0.set(n,{});const r=D0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(bM,{root:t,...e})),r[i]}function TM(t,e,n){const r=wM(e);return Ex.set(t,n),r.observe(t),()=>{Ex.delete(t),r.unobserve(t)}}const kM={some:0,all:1};class EM extends Ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:kM[i]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:x,onViewportLeave:v}=this.node.getProps(),b=m?x:v;b&&b(f)};return TM(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_M(e,n))&&this.startObserver()}unmount(){}}function _M({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SM={inView:{Feature:EM},tap:{Feature:yM},focus:{Feature:xM},hover:{Feature:gM}},NM={layout:{ProjectionNode:E4,MeasureLayout:g4}},_x={current:null},_4={current:!1};function AM(){if(_4.current=!0,!!my)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_x.current=t.matches;t.addListener(e),e()}else _x.current=!1}const CM=new WeakMap;function jM(t,e,n){for(const r in e){const i=e[r],o=n[r];if($n(i))t.addValue(r,i);else if($n(o))t.addValue(r,oc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(i):u.hasAnimated||u.set(i)}else{const u=t.getStaticValue(r);t.addValue(r,oc(u!==void 0?u:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const wk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ry,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=dr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Kt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Om(n),this.isVariantNode=$S(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const T=v[b];f[b]!==void 0&&$n(T)&&T.set(f[b],!1)}}mount(e){this.current=e,CM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_4.current||AM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_x.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ms(this.notifyUpdate),Ms(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Tc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in lc){const n=lc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):an()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<wk.length;r++){const i=wk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,u=e[o];u&&(this.propEventSubscriptions[i]=this.on(i,u))}this.prevMotionValues=jM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=oc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(eS(r)||nS(r))?r=parseFloat(r):!XI(r)&&Os.test(n)&&(r=LS(e,n)),this.setBaseTarget(e,$n(r)?r.get():r)),$n(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Hy(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$n(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class S4 extends RM{constructor(){super(...arguments),this.KeyframeResolver=VI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$n(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function N4(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function PM(t){return window.getComputedStyle(t)}class DM extends S4{constructor(){super(...arguments),this.type="html",this.renderInstance=N4}readValueFromInstance(e,n){var r;if(Tc.has(n))return(r=this.projection)!=null&&r.isProjecting?hx(n):rI(e,n);{const i=PM(e),o=(Ty(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return h4(e,n)}build(e,n,r){Fy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Gy(e,n,r)}}const A4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IM(t,e,n,r){N4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(A4.has(i)?i:zy(i),e.attrs[i])}class MM extends S4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=an}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tc.has(n)){const r=OS(n);return r&&r.default||0}return n=A4.has(n)?n:zy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return n4(e,n,r)}build(e,n,r){ZS(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){IM(e,n,r,i)}mount(e){this.isSVGTag=e4(e.tagName),super.mount(e)}}const OM=(t,e)=>qy(t)?new MM(e):new DM(e,{allowProjection:t!==C.Fragment}),LM=I5({...s8,...SM,...pM,...NM},OM),Ae=i5(LM);function C4(t,e){const[n,r]=C.useState(()=>{if(typeof window>"u")return e;try{const o=window.localStorage.getItem(t);if(!o)return e;try{return JSON.parse(o)}catch{return o}}catch(o){return console.error(`Error reading localStorage key "${t}":`,o),e}});return[n,o=>{try{const u=o instanceof Function?o(n):o;r(u),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(u))}catch(u){console.error(`Error setting localStorage key "${t}":`,u)}}]}const j4=C.createContext(void 0),VM=({children:t})=>{const[e,n]=C4("theme","light");C.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),e&&i.classList.add(e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return c.jsx(j4.Provider,{value:{theme:e,toggleTheme:r},children:t})},UM=()=>{const t=C.useContext(j4);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},zM=()=>c.jsx("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-semantic-warning-light dark:text-semantic-warning-dark icon-default",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}),FM=()=>c.jsx("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-primary dark:text-primary icon-default",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),Tk=()=>{const{theme:t,toggleTheme:e}=UM();return c.jsx("button",{onClick:e,className:"p-space-sm bg-neutral-surface-light dark:bg-neutral-surface-dark hover:bg-neutral-border-light dark:hover:bg-neutral-border-dark text-text-muted-light dark:text-text-muted-dark rounded-radius-full focus:outline-none focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:ring-offset-2 focus:ring-offset-neutral-background-light dark:focus:ring-offset-neutral-background-dark transition-colors duration-300","aria-label":t==="light"?"Switch to dark mode":"Switch to light mode",children:t==="light"?c.jsx(FM,{}):c.jsx(zM,{})})},kk=({className:t})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5 ml-1 opacity-70",children:c.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.29a.75.75 0 01.02-1.06z",clipRule:"evenodd"})}),BM=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 ml-1 opacity-70",children:c.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.29a.75.75 0 01.02-1.06z",clipRule:"evenodd"})}),Sx=[{code:"en",flag:"https://flagcdn.com/gb.svg",name:"EN"},{code:"es",flag:"https://flagcdn.com/es.svg",name:"ES"},{code:"fr",flag:"https://flagcdn.com/fr.svg",name:"FR"}],qM=t=>{const e=Sx.find(n=>n.code===t);return e?c.jsx("img",{src:e.flag,alt:`${e.name} flag`,className:"w-5 h-4 object-cover rounded-sm",loading:"lazy"}):c.jsx("img",{src:"https://flagcdn.com/xx.svg",alt:"Default flag",className:"w-5 h-4 object-cover rounded-sm",loading:"lazy"})},Nx=()=>{const{t}=mt(),[e,n]=C.useState(!1),r=C.useRef(null),i=C.useRef(null),o=Sx.find(x=>x.code===Gt.language)||{code:Gt.language,name:Gt.language.toUpperCase()},u=()=>n(!e),d=x=>{var v;Gt.changeLanguage(x),n(!1),(v=i.current)==null||v.focus()};C.useEffect(()=>{const x=v=>{r.current&&!r.current.contains(v.target)&&n(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const f=x=>{var _,j,O,M;if(!e)return;const v=Array.from(((_=r.current)==null?void 0:_.querySelectorAll('li[role="option"]'))||[]),b=document.activeElement;let T=v.findIndex(z=>z===b);x.key==="ArrowDown"?(x.preventDefault(),T=(T+1)%v.length,(j=v[T])==null||j.focus()):x.key==="ArrowUp"?(x.preventDefault(),T=(T-1+v.length)%v.length,(O=v[T])==null||O.focus()):x.key==="Escape"&&(x.preventDefault(),n(!1),(M=i.current)==null||M.focus())},m=(x,v)=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),d(v))};return c.jsxs("div",{className:"relative",ref:r,children:[c.jsxs("button",{ref:i,type:"button",className:"flex items-center justify-center px-3 py-2 bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark hover:bg-neutral-border-light dark:hover:bg-neutral-border-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:ring-offset-2 focus:ring-offset-neutral-background-light dark:focus:ring-offset-neutral-background-dark transition-colors",onClick:u,"aria-haspopup":"listbox","aria-expanded":e,"aria-label":t("selectLanguage","Select language")+`: ${o.name}`,children:[qM(o.code),typeof kk<"u"?c.jsx(kk,{className:"w-5 h-5 ml-1 opacity-70 icon-default"}):c.jsx(BM,{})]}),c.jsx(Vd,{children:e&&c.jsx(Ae.ul,{role:"listbox",tabIndex:-1,onKeyDown:f,className:"absolute z-50 mt-1 w-auto min-w-[150px] right-0 md:left-0 bg-neutral-surface-light dark:bg-neutral-surface-dark border border-neutral-border-light dark:border-neutral-border-dark rounded-lg shadow-lg overflow-hidden focus:outline-none transition-colors duration-300",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},children:Sx.map(x=>c.jsxs("li",{role:"option",tabIndex:0,"aria-selected":Gt.language===x.code,className:`flex items-center px-3 py-2 text-sm cursor-pointer
                  ${Gt.language===x.code?"bg-primary-DEFAULT text-text-default-dark dark:bg-primary-dark dark:text-text-default-light":"text-text-default-light dark:text-text-default-dark hover:bg-primary-light dark:hover:bg-primary-hover hover:text-primary-dark dark:hover:text-primary-light"}
                  focus:bg-primary-light dark:focus:bg-primary-hover focus:text-primary-dark dark:focus:text-primary-light focus:outline-none transition-colors duration-150`,onClick:()=>d(x.code),onKeyDown:v=>m(v,x.code),children:[c.jsx("img",{src:x.flag,alt:`${x.name} flag`,className:"w-5 h-4 object-cover rounded-sm mr-3",loading:"lazy"}),x.name]},x.code))})})]})},HM=({className:t})=>c.jsx("span",{style:{fontSize:"2rem",fontWeight:"bold"},className:`text-primary ${t}`,children:"Gonorte"}),GM=({className:t="",textClassName:e=""})=>{const{t:n}=mt();return c.jsx(Wt,{to:"/","aria-label":n("ariaLabelGoToHome","Gonorte - Go to homepage"),className:`group focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-surface dark:focus-visible:ring-offset-surface-dark rounded-sm ${t}`,children:c.jsx(HM,{className:e})})},$M=()=>{};var Ek={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],u=t[n++],d=t[n++],f=((i&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},P4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],u=i+1<t.length,d=u?t[i+1]:0,f=i+2<t.length,m=f?t[i+2]:0,x=o>>2,v=(o&3)<<4|d>>4;let b=(d&15)<<2|m>>6,T=m&63;f||(T=64,u||(b=64)),r.push(n[x],n[v],n[b],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||d==null||m==null||v==null)throw new YM;const b=o<<2|d>>4;if(r.push(b),m!==64){const T=d<<4&240|m>>2;if(r.push(T),v!==64){const _=m<<6&192|v;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QM=function(t){const e=R4(t);return P4.encodeByteArray(e,!0)},im=function(t){return QM(t).replace(/\./g,"")},D4=function(t){try{return P4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=()=>XM().__FIREBASE_DEFAULTS__,ZM=()=>{if(typeof process>"u"||typeof Ek>"u")return;const t=Ek.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D4(t[1]);return e&&JSON.parse(e)},Lm=()=>{try{return $M()||WM()||ZM()||JM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I4=t=>{var e,n;return(n=(e=Lm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M4=t=>{const e=I4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},O4=()=>{var t;return(t=Lm())===null||t===void 0?void 0:t.config},L4=t=>{var e;return(e=Lm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){return t.endsWith(".cloudworkstations.dev")}async function Ky(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[im(JSON.stringify(n)),im(JSON.stringify(u)),""].join(".")}const Zu={};function tO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zu))Zu[e]?t.emulator.push(e):t.prod.push(e);return t}function nO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _k=!1;function Yy(t,e){if(typeof window>"u"||typeof document>"u"||!Ys(window.location.host)||Zu[t]===e||Zu[t]||_k)return;Zu[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=tO().prod.length>0;function u(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{_k=!0,u()},b}function x(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=nO(r),T=n("text"),_=document.getElementById(T)||document.createElement("span"),j=n("learnmore"),O=document.getElementById(j)||document.createElement("a"),M=n("preprendIcon"),z=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const L=b.element;d(L),x(O,j);const q=m();f(z,M),L.append(z,_,O,q),document.body.appendChild(L)}o?(_.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function aO(){var t;const e=(t=Lm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oO(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lO(){return!aO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z4(){try{return typeof indexedDB=="object"}catch{return!1}}function F4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function cO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="FirebaseError";class aa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uO,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?dO(o,r):"Error",d=`${this.serviceName}: ${u} (${i}).`;return new aa(i,d,r)}}function dO(t,e){return t.replace(hO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hO=/\{\$([^}]+)}/g;function fO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],u=e[i];if(Sk(o)&&Sk(u)){if(!Pi(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mO(t,e){const n=new pO(t,e);return n.subscribe.bind(n)}class pO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=I0),i.error===void 0&&(i.error=I0),i.complete===void 0&&(i.complete=I0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function I0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=1e3,yO=2,vO=4*60*60*1e3,bO=.5;function Nk(t,e=xO,n=yO){const r=e*Math.pow(n,t),i=Math.round(bO*r*(Math.random()-.5)*2);return Math.min(vO,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kO(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TO(t){return t===Ao?void 0:t}function kO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const _O={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},SO=ut.INFO,NO={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},AO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=SO,this._logHandler=AO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const CO=(t,e)=>e.some(n=>t instanceof n);let Ak,Ck;function jO(){return Ak||(Ak=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RO(){return Ck||(Ck=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B4=new WeakMap,Ax=new WeakMap,q4=new WeakMap,M0=new WeakMap,Qy=new WeakMap;function PO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(js(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&B4.set(n,t)}).catch(()=>{}),Qy.set(e,t),e}function DO(t){if(Ax.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});Ax.set(t,e)}let Cx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ax.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IO(t){Cx=t(Cx)}function MO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(O0(this),e,...n);return q4.set(r,e.sort?e.sort():[e]),js(r)}:RO().includes(t)?function(...e){return t.apply(O0(this),e),js(B4.get(this))}:function(...e){return js(t.apply(O0(this),e))}}function OO(t){return typeof t=="function"?MO(t):(t instanceof IDBTransaction&&DO(t),CO(t,jO())?new Proxy(t,Cx):t)}function js(t){if(t instanceof IDBRequest)return PO(t);if(M0.has(t))return M0.get(t);const e=OO(t);return e!==t&&(M0.set(t,e),Qy.set(e,t)),e}const O0=t=>Qy.get(t);function H4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(t,e),d=js(u);return r&&u.addEventListener("upgradeneeded",f=>{r(js(u.result),f.oldVersion,f.newVersion,js(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const LO=["get","getKey","getAll","getAllKeys","count"],VO=["put","add","delete","clear"],L0=new Map;function jk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(L0.get(e))return L0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LO.includes(n)))return;const o=async function(u,...d){const f=this.transaction(u,i?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&f.done]))[0]};return L0.set(e,o),o}IO(t=>({...t,get:(e,n,r)=>jk(e,n)||t.get(e,n,r),has:(e,n)=>!!jk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jx="@firebase/app",Rk="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Vm("@firebase/app"),FO="@firebase/app-compat",BO="@firebase/analytics-compat",qO="@firebase/analytics",HO="@firebase/app-check-compat",GO="@firebase/app-check",$O="@firebase/auth",KO="@firebase/auth-compat",YO="@firebase/database",QO="@firebase/data-connect",XO="@firebase/database-compat",WO="@firebase/functions",ZO="@firebase/functions-compat",JO="@firebase/installations",eL="@firebase/installations-compat",tL="@firebase/messaging",nL="@firebase/messaging-compat",rL="@firebase/performance",aL="@firebase/performance-compat",iL="@firebase/remote-config",sL="@firebase/remote-config-compat",oL="@firebase/storage",lL="@firebase/storage-compat",cL="@firebase/firestore",uL="@firebase/ai",dL="@firebase/firestore-compat",hL="firebase",fL="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="[DEFAULT]",mL={[jx]:"fire-core",[FO]:"fire-core-compat",[qO]:"fire-analytics",[BO]:"fire-analytics-compat",[GO]:"fire-app-check",[HO]:"fire-app-check-compat",[$O]:"fire-auth",[KO]:"fire-auth-compat",[YO]:"fire-rtdb",[QO]:"fire-data-connect",[XO]:"fire-rtdb-compat",[WO]:"fire-fn",[ZO]:"fire-fn-compat",[JO]:"fire-iid",[eL]:"fire-iid-compat",[tL]:"fire-fcm",[nL]:"fire-fcm-compat",[rL]:"fire-perf",[aL]:"fire-perf-compat",[iL]:"fire-rc",[sL]:"fire-rc-compat",[oL]:"fire-gcs",[lL]:"fire-gcs-compat",[cL]:"fire-fst",[dL]:"fire-fst-compat",[uL]:"fire-vertex","fire-js":"fire-js",[hL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Map,pL=new Map,Px=new Map;function Pk(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(Px.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Px.set(e,t);for(const n of vd.values())Pk(n,t);for(const n of pL.values())Pk(n,t);return!0}function Qs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new Qo("app","Firebase",gL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=fL;function Xy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rx,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Rs.create("bad-app-name",{appName:String(i)});if(n||(n=O4()),!n)throw Rs.create("no-options");const o=vd.get(i);if(o){if(Pi(n,o.options)&&Pi(r,o.config))return o;throw Rs.create("duplicate-app",{appName:i})}const u=new EO(i);for(const f of Px.values())u.addComponent(f);const d=new xL(n,r,u);return vd.set(i,d),d}function Um(t=Rx){const e=vd.get(t);if(!e&&t===Rx&&O4())return Xy();if(!e)throw Rs.create("no-app",{appName:t});return e}function Dk(){return Array.from(vd.values())}function hr(t,e,n){var r;let i=(r=mL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(d.join(" "));return}ya(new ta(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="firebase-heartbeat-database",vL=1,bd="firebase-heartbeat-store";let V0=null;function G4(){return V0||(V0=H4(yL,vL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rs.create("idb-open",{originalErrorMessage:t.message})})),V0}async function bL(t){try{const n=(await G4()).transaction(bd),r=await n.objectStore(bd).get($4(t));return await n.done,r}catch(e){if(e instanceof aa)Di.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function Ik(t,e){try{const r=(await G4()).transaction(bd,"readwrite");await r.objectStore(bd).put(e,$4(t)),await r.done}catch(n){if(n instanceof aa)Di.warn(n.message);else{const r=Rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(r.message)}}}function $4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=1024,TL=30;class kL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _L(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Mk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>TL){const u=SL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mk(),{heartbeatsToSend:r,unsentEntries:i}=EL(this._heartbeatsCache.heartbeats),o=im(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Di.warn(n),""}}}function Mk(){return new Date().toISOString().substring(0,10)}function EL(t,e=wL){const n=[];let r=t.slice();for(const i of t){const o=n.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),Ok(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ok(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _L{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z4()?F4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ik(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ik(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ok(t){return im(JSON.stringify({version:2,heartbeats:t})).length}function SL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){ya(new ta("platform-logger",e=>new UO(e),"PRIVATE")),ya(new ta("heartbeat",e=>new kL(e),"PRIVATE")),hr(jx,Rk,t),hr(jx,Rk,"esm2017"),hr("fire-js","")}NL("");function Wy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function K4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AL=K4,Y4=new Qo("auth","Firebase",K4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Vm("@firebase/auth");function CL(t,...e){sm.logLevel<=ut.WARN&&sm.warn(`Auth (${Xo}): ${t}`,...e)}function Of(t,...e){sm.logLevel<=ut.ERROR&&sm.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,...e){throw Jy(t,...e)}function pa(t,...e){return Jy(t,...e)}function Zy(t,e,n){const r=Object.assign(Object.assign({},AL()),{[e]:n});return new Qo("auth","Firebase",r).create(e,{appName:t.name})}function Ai(t){return Zy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&na(t,"argument-error"),Zy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y4.create(t,...e)}function qe(t,e,...n){if(!t)throw Jy(e,...n)}function _i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function Ii(t,e){t||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RL(){return Lk()==="http:"||Lk()==="https:"}function Lk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RL()||U4()||"connection"in navigator)?navigator.onLine:!0}function DL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=rO()||sO()}get(){return PL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OL=new Fd(3e4,6e4);function Ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zi(t,e,n,r,i={}){return X4(t,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=zd(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},o);return iO()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Ys(t.emulatorConfig.host)&&(m.credentials="include"),Q4.fetch()(await W4(t,t.config.apiHost,n,d),m)})}async function X4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},IL),e);try{const i=new VL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw wf(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw wf(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw wf(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw wf(t,"user-disabled",u);const x=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Zy(t,x,m);na(t,x)}}catch(i){if(i instanceof aa)throw i;na(t,"network-request-failed",{message:String(i)})}}async function Bd(t,e,n,r,i={}){const o=await zi(t,e,n,r,i);return"mfaPendingCredential"in o&&na(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function W4(t,e,n,r){const i=`${e}${n}?${r}`,o=t,u=o.config.emulator?ev(t.config,i):`${t.config.apiScheme}://${i}`;return ML.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function LL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pa(this.auth,"network-request-failed")),OL.get())})}}function wf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pa(t,e,r);return i.customData._tokenResponse=n,i}function Vk(t){return t!==void 0&&t.enterprise!==void 0}class UL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zL(t,e){return zi(t,"GET","/v2/recaptchaConfig",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e){return zi(t,"POST","/v1/accounts:delete",e)}async function om(t,e){return zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BL(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=tv(r);qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ju(U0(i.auth_time)),issuedAtTime:Ju(U0(i.iat)),expirationTime:Ju(U0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function U0(t){return Number(t)*1e3}function tv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const i=D4(n);return i?JSON.parse(i):(Of("Failed to decode base64 JWT payload"),null)}catch(i){return Of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Uk(t){const e=tv(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof aa&&qL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wd(t,om(n,{idToken:r}));qe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Z4(o.providerUserInfo):[],d=$L(t.providerData,u),f=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),x=f?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Ix(o.createdAt,o.lastLoginAt),isAnonymous:x};Object.assign(t,v)}async function GL(t){const e=qt(t);await lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $L(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z4(t){return t.map(e=>{var{providerId:n}=e,r=Wy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e){const n=await X4(t,{},async()=>{const r=zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,u=await W4(t,i,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&Ys(t.emulatorConfig.host)&&(f.credentials="include"),Q4.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YL(t,e){return zi(t,"POST","/v2/accounts:revokeToken",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=Uk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await KL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,u=new tc;return r&&(qe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(qe(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tc,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ma{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Wy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ix(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await wd(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BL(this,e)}reload(){return GL(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ma(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await wd(this,FL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,u,d,f,m,x;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(u=n.photoURL)!==null&&u!==void 0?u:void 0,j=(d=n.tenantId)!==null&&d!==void 0?d:void 0,O=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,M=(m=n.createdAt)!==null&&m!==void 0?m:void 0,z=(x=n.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:L,emailVerified:q,isAnonymous:V,providerData:D,stsTokenManager:P}=n;qe(L&&P,e,"internal-error");const N=tc.fromJSON(this.name,P);qe(typeof L=="string",e,"internal-error"),vs(v,e.name),vs(b,e.name),qe(typeof q=="boolean",e,"internal-error"),qe(typeof V=="boolean",e,"internal-error"),vs(T,e.name),vs(_,e.name),vs(j,e.name),vs(O,e.name),vs(M,e.name),vs(z,e.name);const S=new ma({uid:L,auth:e,email:b,emailVerified:q,displayName:v,isAnonymous:V,photoURL:_,phoneNumber:T,tenantId:j,stsTokenManager:N,createdAt:M,lastLoginAt:z});return D&&Array.isArray(D)&&(S.providerData=D.map(I=>Object.assign({},I))),O&&(S._redirectEventId=O),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new tc;i.updateFromServerResponse(n);const o=new ma({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];qe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Z4(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),d=new tc;d.updateFromIdToken(r);const f=new ma({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ix(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=new Map;function Si(t){Ii(t instanceof Function,"Expected a class definition");let e=zk.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J4.type="NONE";const Fk=J4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e,n){return`firebase:${t}:${e}:${n}`}class nc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Lf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Lf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await om(this.auth,{idToken:e}).catch(()=>{});return n?ma._fromGetAccountInfoResponse(this.auth,n,e):null}return ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nc(Si(Fk),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=i[0]||Si(Fk);const u=Lf(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const x=await m._get(u);if(x){let v;if(typeof x=="string"){const b=await om(e,{idToken:x}).catch(()=>{});if(!b)break;v=await ma._fromGetAccountInfoResponse(e,b,x)}else v=ma._fromJSON(e,x);m!==o&&(d=v),o=m;break}}catch{}const f=i.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new nc(o,e,r):(o=f[0],d&&await o._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new nc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iN(e))return"Blackberry";if(sN(e))return"Webos";if(tN(e))return"Safari";if((e.includes("chrome/")||nN(e))&&!e.includes("edge/"))return"Chrome";if(aN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eN(t=Kn()){return/firefox\//i.test(t)}function tN(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nN(t=Kn()){return/crios\//i.test(t)}function rN(t=Kn()){return/iemobile/i.test(t)}function aN(t=Kn()){return/android/i.test(t)}function iN(t=Kn()){return/blackberry/i.test(t)}function sN(t=Kn()){return/webos/i.test(t)}function nv(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QL(t=Kn()){var e;return nv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XL(){return oO()&&document.documentMode===10}function oN(t=Kn()){return nv(t)||aN(t)||sN(t)||iN(t)||/windows phone/i.test(t)||rN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e=[]){let n;switch(t){case"Browser":n=Bk(Kn());break;case"Worker":n=`${Bk(Kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,d)=>{try{const f=e(o);u(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e={}){return zi(t,"GET","/v2/passwordPolicy",Ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=6;class e9{constructor(e){var n,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:JL,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qk(this),this.idTokenSubscription=new qk(this),this.beforeStateQueue=new WL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await om(this,{idToken:e}),r=await ma._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Ai(this));const n=e?qt(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZL(this),n=new e9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Si(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[Si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fi(t){return qt(t)}class qk{constructor(e){this.auth=e,this.observer=null,this.addObserver=mO(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n9(t){zm=t}function cN(t){return zm.loadJS(t)}function r9(){return zm.recaptchaEnterpriseScript}function a9(){return zm.gapiScript}function i9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class s9{constructor(){this.enterprise=new o9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class o9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const l9="recaptcha-enterprise",uN="NO_RECAPTCHA";class c9{constructor(e){this.type=l9,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{zL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new UL(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function i(o,u,d){const f=window.grecaptcha;Vk(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(uN)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s9().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!n&&Vk(window.grecaptcha))i(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=r9();f.length!==0&&(f+=d),cN(f).then(()=>{i(d,o,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function Hk(t,e,n,r=!1,i=!1){const o=new c9(t);let u;if(i)u=uN;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cm(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Hk(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Hk(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e){const n=Qs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Pi(o,e??{}))return i;na(i,"already-initialized")}return n.initialize({options:e})}function d9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function h9(t,e,n){const r=Fi(t);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=dN(e),{host:u,port:d}=f9(e),f=d===null?"":`:${d}`,m={url:`${o}//${u}${f}/`},x=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Pi(m,r.config.emulator)&&Pi(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Ys(u)?(Ky(`${o}//${u}${f}`),Yy("Auth",!0)):m9()}function dN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f9(t){const e=dN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Gk(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Gk(u)}}}function Gk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function m9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function p9(t,e){return zi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e){return Bd(t,"POST","/v1/accounts:signInWithPassword",Ui(t,e))}async function x9(t,e){return zi(t,"POST","/v1/accounts:sendOobCode",Ui(t,e))}async function y9(t,e){return x9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t,e){return Bd(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}async function b9(t,e){return Bd(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends rv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Td(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Td(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,n,"signInWithPassword",g9);case"emailLink":return v9(e,{email:this._email,oobCode:this._password});default:na(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,r,"signUpPassword",p9);case"emailLink":return b9(e,{idToken:n,email:this._email,oobCode:this._password});default:na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e){return Bd(t,"POST","/v1/accounts:signInWithIdp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="http://localhost";class zo extends rv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):na("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Wy(n,["providerId","signInMethod"]);if(!r||!i)return null;const u=new zo(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return rc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rc(e,n)}buildRequest(){const e={requestUri:w9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k9(t){const e=zu(Fu(t)).link,n=e?zu(Fu(e)).deep_link_id:null,r=zu(Fu(t)).deep_link_id;return(r?zu(Fu(r)).link:null)||r||n||e||t}class av{constructor(e){var n,r,i,o,u,d;const f=zu(Fu(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,x=(r=f.oobCode)!==null&&r!==void 0?r:null,v=T9((i=f.mode)!==null&&i!==void 0?i:null);qe(m&&x&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=x,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=k9(e);try{return new av(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.providerId=kc.PROVIDER_ID}static credential(e,n){return Td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=av.parseLink(n);return qe(r,"argument-error"),Td._fromEmailAndCode(e,r.code,r.tenantId)}}kc.PROVIDER_ID="password";kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends iv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends qd{constructor(){super("facebook.com")}static credential(e){return zo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zo._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends qd{constructor(){super("github.com")}static credential(e){return zo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends qd{constructor(){super("twitter.com")}static credential(e,n){return zo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){return Bd(t,"POST","/v1/accounts:signUp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ma._fromIdTokenResponse(e,r,i),u=$k(r);return new Fo({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$k(r);return new Fo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $k(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends aa{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,um.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new um(e,n,r,i)}}function hN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?um._fromErrorAndOperation(t,o,e,r):o})}async function _9(t,e,n=!1){const r=await wd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e,n=!1){const{auth:r}=t;if(cr(r.app))return Promise.reject(Ai(r));const i="reauthenticate";try{const o=await wd(t,hN(r,i,e,t),n);qe(o.idToken,r,"internal-error");const u=tv(o.idToken);qe(u,r,"internal-error");const{sub:d}=u;return qe(t.uid===d,r,"user-mismatch"),Fo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&na(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(t,e,n=!1){if(cr(t.app))return Promise.reject(Ai(t));const r="signIn",i=await hN(t,r,e),o=await Fo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function N9(t,e){return fN(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A9(t,e,n){const r=Fi(t);await cm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",y9)}async function pN(t,e,n){if(cr(t.app))return Promise.reject(Ai(t));const r=Fi(t),u=await cm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E9).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&mN(t),f}),d=await Fo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function C9(t,e,n){return cr(t.app)?Promise.reject(Ai(t)):N9(qt(t),kc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mN(t),r})}function j9(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function R9(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function P9(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function z0(t){return qt(t).signOut()}const dm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dm,"1"),this.storage.removeItem(dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=1e3,I9=10;class xN extends gN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);XL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,I9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xN.type="LOCAL";const M9=xN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN extends gN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yN.type="SESSION";const vN=yN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(u).map(async m=>m(n.origin,o)),f=await O9(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((d,f)=>{const m=sv("",20);i.port1.start();const x=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(x),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(b.data.response);break;default:clearTimeout(x),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(){return window}function V9(t){Qa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof Qa().WorkerGlobalScope<"u"&&typeof Qa().importScripts=="function"}async function U9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F9(){return bN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebaseLocalStorageDb",B9=1,hm="firebaseLocalStorage",TN="fbase_key";class Hd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bm(t,e){return t.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function q9(){const t=indexedDB.deleteDatabase(wN);return new Hd(t).toPromise()}function Mx(){const t=indexedDB.open(wN,B9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hm,{keyPath:TN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hm)?e(r):(r.close(),await q9(),e(await Mx()))})})}async function Kk(t,e,n){const r=Bm(t,!0).put({[TN]:e,value:n});return new Hd(r).toPromise()}async function H9(t,e){const n=Bm(t,!1).get(e),r=await new Hd(n).toPromise();return r===void 0?null:r.value}function Yk(t,e){const n=Bm(t,!0).delete(e);return new Hd(n).toPromise()}const G9=800,$9=3;class kN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fm._getInstance(F9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await U9(),!this.activeServiceWorker)return;this.sender=new L9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mx();return await Kk(e,dm,"1"),await Yk(e,dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>H9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Bm(i,!1).getAll();return new Hd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kN.type="LOCAL";const K9=kN;new Fd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t,e){return e?Si(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends rv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y9(t){return fN(t.auth,new ov(t),t.bypassAuthState)}function Q9(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),S9(n,new ov(t),t.bypassAuthState)}async function X9(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),_9(n,new ov(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y9;case"linkViaPopup":case"linkViaRedirect":return X9;case"reauthViaPopup":case"reauthViaRedirect":return Q9;default:na(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=new Fd(2e3,1e4);async function Z9(t,e,n){if(cr(t.app))return Promise.reject(pa(t,"operation-not-supported-in-this-environment"));const r=Fi(t);jL(t,e,iv);const i=EN(r,n);return new Do(r,"signInViaPopup",e,i).executeNotNull()}class Do extends _N{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W9.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="pendingRedirect",Vf=new Map;class eV extends _N{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vf.get(this.auth._key());if(!e){try{const r=await tV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vf.set(this.auth._key(),e)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tV(t,e){const n=aV(e),r=rV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function nV(t,e){Vf.set(t._key(),e)}function rV(t){return Si(t._redirectPersistence)}function aV(t){return Lf(J9,t.config.apiKey,t.name)}async function iV(t,e,n=!1){if(cr(t.app))return Promise.reject(Ai(t));const r=Fi(t),i=EN(r,e),u=await new eV(r,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=10*60*1e3;class oV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qk(e))}saveEventToCache(e){this.cachedEventUids.add(Qk(e)),this.lastProcessedEventTime=Date.now()}}function Qk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e={}){return zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dV=/^https?/;async function hV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cV(t);for(const n of e)try{if(fV(n))return}catch{}na(t,"unauthorized-domain")}function fV(t){const e=Dx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!dV.test(n))return!1;if(uV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new Fd(3e4,6e4);function Xk(){const t=Qa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pV(t){return new Promise((e,n)=>{var r,i,o;function u(){Xk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xk(),n(pa(t,"network-request-failed"))},timeout:mV.get()})}if(!((i=(r=Qa().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qa().gapi)===null||o===void 0)&&o.load)u();else{const d=i9("iframefcb");return Qa()[d]=()=>{gapi.load?u():n(pa(t,"network-request-failed"))},cN(`${a9()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function gV(t){return Uf=Uf||pV(t),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new Fd(5e3,15e3),yV="__/auth/iframe",vV="emulator/auth/iframe",bV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TV(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ev(e,vV):`https://${t.config.authDomain}/${yV}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},i=wV.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zd(r).slice(1)}`}async function kV(t){const e=await gV(t),n=Qa().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:TV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bV,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=pa(t,"network-request-failed"),d=Qa().setTimeout(()=>{o(u)},xV.get());function f(){Qa().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_V=500,SV=600,NV="_blank",AV="http://localhost";class Wk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CV(t,e,n,r=_V,i=SV){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},EV),{width:r.toString(),height:i.toString(),top:o,left:u}),m=Kn().toLowerCase();n&&(d=nN(m)?NV:n),eN(m)&&(e=e||AV,f.scrollbars="yes");const x=Object.entries(f).reduce((b,[T,_])=>`${b}${T}=${_},`,"");if(QL(m)&&d!=="_self")return jV(e||"",d),new Wk(null);const v=window.open(e||"",d,x);qe(v,t,"popup-blocked");try{v.focus()}catch{}return new Wk(v)}function jV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="__/auth/handler",PV="emulator/auth/handler",DV=encodeURIComponent("fac");async function Zk(t,e,n,r,i,o){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(e instanceof iv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",fO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,v]of Object.entries({}))u[x]=v}if(e instanceof qd){const x=e.getScopes().filter(v=>v!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const x of Object.keys(d))d[x]===void 0&&delete d[x];const f=await t._getAppCheckToken(),m=f?`#${DV}=${encodeURIComponent(f)}`:"";return`${IV(t)}?${zd(d).slice(1)}${m}`}function IV({config:t}){return t.emulator?ev(t,PV):`https://${t.authDomain}/${RV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="webStorageSupport";class MV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vN,this._completeRedirectFn=iV,this._overrideRedirectResult=nV}async _openPopup(e,n,r,i){var o;Ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Zk(e,n,r,Dx(),i);return CV(e,u,sv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Zk(e,n,r,Dx(),i);return V9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kV(e),r=new oV(e);return n.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(F0,{type:F0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[F0];u!==void 0&&n(!!u),na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oN()||tN()||nv()}}const OV=MV;var Jk="@firebase/auth",eE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UV(t){ya(new ta("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lN(t)},m=new t9(r,i,o,f);return d9(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ya(new ta("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new LV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Jk,eE,VV(t)),hr(Jk,eE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=5*60,FV=L4("authIdTokenMaxAge")||zV;let tE=null;const BV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FV)return;const i=n==null?void 0:n.token;tE!==i&&(tE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NN(t=Um()){const e=Qs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=u9(t,{popupRedirectResolver:OV,persistence:[K9,M9,vN]}),r=L4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=BV(o.toString());R9(n,u,()=>u(n.currentUser)),j9(n,d=>u(d))}}const i=I4("auth");return i&&h9(n,`http://${i}`),n}function qV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}n9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=pa("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",qV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UV("Browser");var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,AN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,N){function S(){}S.prototype=N.prototype,P.D=N.prototype,P.prototype=new S,P.prototype.constructor=P,P.C=function(I,B,$){for(var U=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)U[ye-2]=arguments[ye];return N.prototype[B].apply(I,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,N,S){S||(S=0);var I=Array(16);if(typeof N=="string")for(var B=0;16>B;++B)I[B]=N.charCodeAt(S++)|N.charCodeAt(S++)<<8|N.charCodeAt(S++)<<16|N.charCodeAt(S++)<<24;else for(B=0;16>B;++B)I[B]=N[S++]|N[S++]<<8|N[S++]<<16|N[S++]<<24;N=P.g[0],S=P.g[1],B=P.g[2];var $=P.g[3],U=N+($^S&(B^$))+I[0]+3614090360&4294967295;N=S+(U<<7&4294967295|U>>>25),U=$+(B^N&(S^B))+I[1]+3905402710&4294967295,$=N+(U<<12&4294967295|U>>>20),U=B+(S^$&(N^S))+I[2]+606105819&4294967295,B=$+(U<<17&4294967295|U>>>15),U=S+(N^B&($^N))+I[3]+3250441966&4294967295,S=B+(U<<22&4294967295|U>>>10),U=N+($^S&(B^$))+I[4]+4118548399&4294967295,N=S+(U<<7&4294967295|U>>>25),U=$+(B^N&(S^B))+I[5]+1200080426&4294967295,$=N+(U<<12&4294967295|U>>>20),U=B+(S^$&(N^S))+I[6]+2821735955&4294967295,B=$+(U<<17&4294967295|U>>>15),U=S+(N^B&($^N))+I[7]+4249261313&4294967295,S=B+(U<<22&4294967295|U>>>10),U=N+($^S&(B^$))+I[8]+1770035416&4294967295,N=S+(U<<7&4294967295|U>>>25),U=$+(B^N&(S^B))+I[9]+2336552879&4294967295,$=N+(U<<12&4294967295|U>>>20),U=B+(S^$&(N^S))+I[10]+4294925233&4294967295,B=$+(U<<17&4294967295|U>>>15),U=S+(N^B&($^N))+I[11]+2304563134&4294967295,S=B+(U<<22&4294967295|U>>>10),U=N+($^S&(B^$))+I[12]+1804603682&4294967295,N=S+(U<<7&4294967295|U>>>25),U=$+(B^N&(S^B))+I[13]+4254626195&4294967295,$=N+(U<<12&4294967295|U>>>20),U=B+(S^$&(N^S))+I[14]+2792965006&4294967295,B=$+(U<<17&4294967295|U>>>15),U=S+(N^B&($^N))+I[15]+1236535329&4294967295,S=B+(U<<22&4294967295|U>>>10),U=N+(B^$&(S^B))+I[1]+4129170786&4294967295,N=S+(U<<5&4294967295|U>>>27),U=$+(S^B&(N^S))+I[6]+3225465664&4294967295,$=N+(U<<9&4294967295|U>>>23),U=B+(N^S&($^N))+I[11]+643717713&4294967295,B=$+(U<<14&4294967295|U>>>18),U=S+($^N&(B^$))+I[0]+3921069994&4294967295,S=B+(U<<20&4294967295|U>>>12),U=N+(B^$&(S^B))+I[5]+3593408605&4294967295,N=S+(U<<5&4294967295|U>>>27),U=$+(S^B&(N^S))+I[10]+38016083&4294967295,$=N+(U<<9&4294967295|U>>>23),U=B+(N^S&($^N))+I[15]+3634488961&4294967295,B=$+(U<<14&4294967295|U>>>18),U=S+($^N&(B^$))+I[4]+3889429448&4294967295,S=B+(U<<20&4294967295|U>>>12),U=N+(B^$&(S^B))+I[9]+568446438&4294967295,N=S+(U<<5&4294967295|U>>>27),U=$+(S^B&(N^S))+I[14]+3275163606&4294967295,$=N+(U<<9&4294967295|U>>>23),U=B+(N^S&($^N))+I[3]+4107603335&4294967295,B=$+(U<<14&4294967295|U>>>18),U=S+($^N&(B^$))+I[8]+1163531501&4294967295,S=B+(U<<20&4294967295|U>>>12),U=N+(B^$&(S^B))+I[13]+2850285829&4294967295,N=S+(U<<5&4294967295|U>>>27),U=$+(S^B&(N^S))+I[2]+4243563512&4294967295,$=N+(U<<9&4294967295|U>>>23),U=B+(N^S&($^N))+I[7]+1735328473&4294967295,B=$+(U<<14&4294967295|U>>>18),U=S+($^N&(B^$))+I[12]+2368359562&4294967295,S=B+(U<<20&4294967295|U>>>12),U=N+(S^B^$)+I[5]+4294588738&4294967295,N=S+(U<<4&4294967295|U>>>28),U=$+(N^S^B)+I[8]+2272392833&4294967295,$=N+(U<<11&4294967295|U>>>21),U=B+($^N^S)+I[11]+1839030562&4294967295,B=$+(U<<16&4294967295|U>>>16),U=S+(B^$^N)+I[14]+4259657740&4294967295,S=B+(U<<23&4294967295|U>>>9),U=N+(S^B^$)+I[1]+2763975236&4294967295,N=S+(U<<4&4294967295|U>>>28),U=$+(N^S^B)+I[4]+1272893353&4294967295,$=N+(U<<11&4294967295|U>>>21),U=B+($^N^S)+I[7]+4139469664&4294967295,B=$+(U<<16&4294967295|U>>>16),U=S+(B^$^N)+I[10]+3200236656&4294967295,S=B+(U<<23&4294967295|U>>>9),U=N+(S^B^$)+I[13]+681279174&4294967295,N=S+(U<<4&4294967295|U>>>28),U=$+(N^S^B)+I[0]+3936430074&4294967295,$=N+(U<<11&4294967295|U>>>21),U=B+($^N^S)+I[3]+3572445317&4294967295,B=$+(U<<16&4294967295|U>>>16),U=S+(B^$^N)+I[6]+76029189&4294967295,S=B+(U<<23&4294967295|U>>>9),U=N+(S^B^$)+I[9]+3654602809&4294967295,N=S+(U<<4&4294967295|U>>>28),U=$+(N^S^B)+I[12]+3873151461&4294967295,$=N+(U<<11&4294967295|U>>>21),U=B+($^N^S)+I[15]+530742520&4294967295,B=$+(U<<16&4294967295|U>>>16),U=S+(B^$^N)+I[2]+3299628645&4294967295,S=B+(U<<23&4294967295|U>>>9),U=N+(B^(S|~$))+I[0]+4096336452&4294967295,N=S+(U<<6&4294967295|U>>>26),U=$+(S^(N|~B))+I[7]+1126891415&4294967295,$=N+(U<<10&4294967295|U>>>22),U=B+(N^($|~S))+I[14]+2878612391&4294967295,B=$+(U<<15&4294967295|U>>>17),U=S+($^(B|~N))+I[5]+4237533241&4294967295,S=B+(U<<21&4294967295|U>>>11),U=N+(B^(S|~$))+I[12]+1700485571&4294967295,N=S+(U<<6&4294967295|U>>>26),U=$+(S^(N|~B))+I[3]+2399980690&4294967295,$=N+(U<<10&4294967295|U>>>22),U=B+(N^($|~S))+I[10]+4293915773&4294967295,B=$+(U<<15&4294967295|U>>>17),U=S+($^(B|~N))+I[1]+2240044497&4294967295,S=B+(U<<21&4294967295|U>>>11),U=N+(B^(S|~$))+I[8]+1873313359&4294967295,N=S+(U<<6&4294967295|U>>>26),U=$+(S^(N|~B))+I[15]+4264355552&4294967295,$=N+(U<<10&4294967295|U>>>22),U=B+(N^($|~S))+I[6]+2734768916&4294967295,B=$+(U<<15&4294967295|U>>>17),U=S+($^(B|~N))+I[13]+1309151649&4294967295,S=B+(U<<21&4294967295|U>>>11),U=N+(B^(S|~$))+I[4]+4149444226&4294967295,N=S+(U<<6&4294967295|U>>>26),U=$+(S^(N|~B))+I[11]+3174756917&4294967295,$=N+(U<<10&4294967295|U>>>22),U=B+(N^($|~S))+I[2]+718787259&4294967295,B=$+(U<<15&4294967295|U>>>17),U=S+($^(B|~N))+I[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.u=function(P,N){N===void 0&&(N=P.length);for(var S=N-this.blockSize,I=this.B,B=this.h,$=0;$<N;){if(B==0)for(;$<=S;)i(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<N;)if(I[B++]=P.charCodeAt($++),B==this.blockSize){i(this,I),B=0;break}}else for(;$<N;)if(I[B++]=P[$++],B==this.blockSize){i(this,I),B=0;break}}this.h=B,this.o+=N},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;var S=8*this.o;for(N=P.length-8;N<P.length;++N)P[N]=S&255,S/=256;for(this.u(P),P=Array(16),N=S=0;4>N;++N)for(var I=0;32>I;I+=8)P[S++]=this.g[N]>>>I&255;return P};function o(P,N){var S=d;return Object.prototype.hasOwnProperty.call(S,P)?S[P]:S[P]=N(P)}function u(P,N){this.h=N;for(var S=[],I=!0,B=P.length-1;0<=B;B--){var $=P[B]|0;I&&$==N||(S[B]=$,I=!1)}this.g=S}var d={};function f(P){return-128<=P&&128>P?o(P,function(N){return new u([N|0],0>N?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return O(m(-P));for(var N=[],S=1,I=0;P>=S;I++)N[I]=P/S|0,S*=4294967296;return new u(N,0)}function x(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return O(x(P.substring(1),N));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=m(Math.pow(N,8)),I=v,B=0;B<P.length;B+=8){var $=Math.min(8,P.length-B),U=parseInt(P.substring(B,B+$),N);8>$?($=m(Math.pow(N,$)),I=I.j($).add(m(U))):(I=I.j(S),I=I.add(m(U)))}return I}var v=f(0),b=f(1),T=f(16777216);t=u.prototype,t.m=function(){if(j(this))return-O(this).m();for(var P=0,N=1,S=0;S<this.g.length;S++){var I=this.i(S);P+=(0<=I?I:4294967296+I)*N,N*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(j(this))return"-"+O(this).toString(P);for(var N=m(Math.pow(P,6)),S=this,I="";;){var B=q(S,N).g;S=M(S,B.j(N));var $=((0<S.g.length?S.g[0]:S.h)>>>0).toString(P);if(S=B,_(S))return $+I;for(;6>$.length;)$="0"+$;I=$+I}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(var N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function j(P){return P.h==-1}t.l=function(P){return P=M(this,P),j(P)?-1:_(P)?0:1};function O(P){for(var N=P.g.length,S=[],I=0;I<N;I++)S[I]=~P.g[I];return new u(S,~P.h).add(b)}t.abs=function(){return j(this)?O(this):this},t.add=function(P){for(var N=Math.max(this.g.length,P.g.length),S=[],I=0,B=0;B<=N;B++){var $=I+(this.i(B)&65535)+(P.i(B)&65535),U=($>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);I=U>>>16,$&=65535,U&=65535,S[B]=U<<16|$}return new u(S,S[S.length-1]&-2147483648?-1:0)};function M(P,N){return P.add(O(N))}t.j=function(P){if(_(this)||_(P))return v;if(j(this))return j(P)?O(this).j(O(P)):O(O(this).j(P));if(j(P))return O(this.j(O(P)));if(0>this.l(T)&&0>P.l(T))return m(this.m()*P.m());for(var N=this.g.length+P.g.length,S=[],I=0;I<2*N;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var B=0;B<P.g.length;B++){var $=this.i(I)>>>16,U=this.i(I)&65535,ye=P.i(B)>>>16,ke=P.i(B)&65535;S[2*I+2*B]+=U*ke,z(S,2*I+2*B),S[2*I+2*B+1]+=$*ke,z(S,2*I+2*B+1),S[2*I+2*B+1]+=U*ye,z(S,2*I+2*B+1),S[2*I+2*B+2]+=$*ye,z(S,2*I+2*B+2)}for(I=0;I<N;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=N;I<2*N;I++)S[I]=0;return new u(S,0)};function z(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function L(P,N){this.g=P,this.h=N}function q(P,N){if(_(N))throw Error("division by zero");if(_(P))return new L(v,v);if(j(P))return N=q(O(P),N),new L(O(N.g),O(N.h));if(j(N))return N=q(P,O(N)),new L(O(N.g),N.h);if(30<P.g.length){if(j(P)||j(N))throw Error("slowDivide_ only works with positive integers.");for(var S=b,I=N;0>=I.l(P);)S=V(S),I=V(I);var B=D(S,1),$=D(I,1);for(I=D(I,2),S=D(S,2);!_(I);){var U=$.add(I);0>=U.l(P)&&(B=B.add(S),$=U),I=D(I,1),S=D(S,1)}return N=M(P,B.j(N)),new L(B,N)}for(B=v;0<=P.l(N);){for(S=Math.max(1,Math.floor(P.m()/N.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),$=m(S),U=$.j(N);j(U)||0<U.l(P);)S-=I,$=m(S),U=$.j(N);_($)&&($=b),B=B.add($),P=M(P,U)}return new L(B,P)}t.A=function(P){return q(this,P).h},t.and=function(P){for(var N=Math.max(this.g.length,P.g.length),S=[],I=0;I<N;I++)S[I]=this.i(I)&P.i(I);return new u(S,this.h&P.h)},t.or=function(P){for(var N=Math.max(this.g.length,P.g.length),S=[],I=0;I<N;I++)S[I]=this.i(I)|P.i(I);return new u(S,this.h|P.h)},t.xor=function(P){for(var N=Math.max(this.g.length,P.g.length),S=[],I=0;I<N;I++)S[I]=this.i(I)^P.i(I);return new u(S,this.h^P.h)};function V(P){for(var N=P.g.length+1,S=[],I=0;I<N;I++)S[I]=P.i(I)<<1|P.i(I-1)>>>31;return new u(S,P.h)}function D(P,N){var S=N>>5;N%=32;for(var I=P.g.length-S,B=[],$=0;$<I;$++)B[$]=0<N?P.i($+S)>>>N|P.i($+S+1)<<32-N:P.i($+S);return new u(B,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AN=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=x,Ps=u}).apply(typeof nE<"u"?nE:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CN,Bu,jN,zf,Ox,RN,PN,DN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,k){return p==Array.prototype||p==Object.prototype||(p[w]=k.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var w=0;w<p.length;++w){var k=p[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(p,w){if(w)e:{var k=r;p=p.split(".");for(var R=0;R<p.length-1;R++){var W=p[R];if(!(W in k))break e;k=k[W]}p=p[p.length-1],R=k[p],w=w(R),w!=R&&w!=null&&e(k,p,{configurable:!0,writable:!0,value:w})}}function o(p,w){p instanceof String&&(p+="");var k=0,R=!1,W={next:function(){if(!R&&k<p.length){var se=k++;return{value:w(se,p[se]),done:!1}}return R=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(p){return p||function(){return o(this,function(w,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function m(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function x(p,w,k){return p.call.apply(p.bind,arguments)}function v(p,w,k){if(!p)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,R),p.apply(w,W)}}return function(){return p.apply(w,arguments)}}function b(p,w,k){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:v,b.apply(null,arguments)}function T(p,w){var k=Array.prototype.slice.call(arguments,1);return function(){var R=k.slice();return R.push.apply(R,arguments),p.apply(this,R)}}function _(p,w){function k(){}k.prototype=w.prototype,p.aa=w.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(R,W,se){for(var be=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)be[pt-2]=arguments[pt];return w.prototype[W].apply(R,be)}}function j(p){const w=p.length;if(0<w){const k=Array(w);for(let R=0;R<w;R++)k[R]=p[R];return k}return[]}function O(p,w){for(let k=1;k<arguments.length;k++){const R=arguments[k];if(f(R)){const W=p.length||0,se=R.length||0;p.length=W+se;for(let be=0;be<se;be++)p[W+be]=R[be]}else p.push(R)}}class M{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function z(p){return/^[\s\xa0]*$/.test(p)}function L(){var p=d.navigator;return p&&(p=p.userAgent)?p:""}function q(p){return q[" "](p),p}q[" "]=function(){};var V=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function D(p,w,k){for(const R in p)w.call(k,p[R],R,p)}function P(p,w){for(const k in p)w.call(void 0,p[k],k,p)}function N(p){const w={};for(const k in p)w[k]=p[k];return w}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(p,w){let k,R;for(let W=1;W<arguments.length;W++){R=arguments[W];for(k in R)p[k]=R[k];for(let se=0;se<S.length;se++)k=S[se],Object.prototype.hasOwnProperty.call(R,k)&&(p[k]=R[k])}}function B(p){var w=1;p=p.split(":");const k=[];for(;0<w&&p.length;)k.push(p.shift()),w--;return p.length&&k.push(p.join(":")),k}function $(p){d.setTimeout(()=>{throw p},0)}function U(){var p=ve;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class ye{constructor(){this.h=this.g=null}add(w,k){const R=ke.get();R.set(w,k),this.h?this.h.next=R:this.g=R,this.h=R}}var ke=new M(()=>new Y,p=>p.reset());class Y{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,te=!1,ve=new ye,F=()=>{const p=d.Promise.resolve(void 0);ie=()=>{p.then(ne)}};var ne=()=>{for(var p;p=U();){try{p.h.call(p.g)}catch(k){$(k)}var w=ke;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}te=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};d.addEventListener("test",k,w),d.removeEventListener("test",k,w)}catch{}return p}();function De(p,w){if(oe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,R=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(V){e:{try{q(w.nodeName);var W=!0;break e}catch{}W=!1}W||(w=null)}}else k=="mouseover"?w=p.fromElement:k=="mouseout"&&(w=p.toElement);this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Pe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&De.aa.h.call(this)}}_(De,oe);var Pe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),le=0;function Qe(p,w,k,R,W){this.listener=p,this.proxy=null,this.src=w,this.type=k,this.capture=!!R,this.ha=W,this.key=++le,this.da=this.fa=!1}function we(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ue(p){this.src=p,this.g={},this.h=0}ue.prototype.add=function(p,w,k,R,W){var se=p.toString();p=this.g[se],p||(p=this.g[se]=[],this.h++);var be=et(p,w,R,W);return-1<be?(w=p[be],k||(w.fa=!1)):(w=new Qe(w,this.src,se,!!R,W),w.fa=k,p.push(w)),w};function Oe(p,w){var k=w.type;if(k in p.g){var R=p.g[k],W=Array.prototype.indexOf.call(R,w,void 0),se;(se=0<=W)&&Array.prototype.splice.call(R,W,1),se&&(we(w),p.g[k].length==0&&(delete p.g[k],p.h--))}}function et(p,w,k,R){for(var W=0;W<p.length;++W){var se=p[W];if(!se.da&&se.listener==w&&se.capture==!!k&&se.ha==R)return W}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),It={};function Bi(p,w,k,R,W){if(Array.isArray(w)){for(var se=0;se<w.length;se++)Bi(p,w[se],k,R,W);return null}return k=Gi(k),p&&p[At]?p.K(w,k,m(R)?!!R.capture:!1,W):An(p,w,k,!1,R,W)}function An(p,w,k,R,W,se){if(!w)throw Error("Invalid event type");var be=m(W)?!!W.capture:!!W,pt=Pr(p);if(pt||(p[Ct]=pt=new ue(p)),k=pt.add(w,k,R,be,se),k.proxy)return k;if(R=ia(),k.proxy=R,R.src=p,R.listener=k,p.addEventListener)Te||(W=be),W===void 0&&(W=!1),p.addEventListener(w.toString(),R,W);else if(p.attachEvent)p.attachEvent(Ja(w.toString()),R);else if(p.addListener&&p.removeListener)p.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return k}function ia(){function p(k){return w.call(p.src,p.listener,k)}const w=oa;return p}function sa(p,w,k,R,W){if(Array.isArray(w))for(var se=0;se<w.length;se++)sa(p,w[se],k,R,W);else R=m(R)?!!R.capture:!!R,k=Gi(k),p&&p[At]?(p=p.i,w=String(w).toString(),w in p.g&&(se=p.g[w],k=et(se,k,R,W),-1<k&&(we(se[k]),Array.prototype.splice.call(se,k,1),se.length==0&&(delete p.g[w],p.h--)))):p&&(p=Pr(p))&&(w=p.g[w.toString()],p=-1,w&&(p=et(w,k,R,W)),(k=-1<p?w[p]:null)&&qi(k))}function qi(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[At])Oe(w.i,p);else{var k=p.type,R=p.proxy;w.removeEventListener?w.removeEventListener(k,R,p.capture):w.detachEvent?w.detachEvent(Ja(k),R):w.addListener&&w.removeListener&&w.removeListener(R),(k=Pr(w))?(Oe(k,p),k.h==0&&(k.src=null,w[Ct]=null)):we(p)}}}function Ja(p){return p in It?It[p]:It[p]="on"+p}function oa(p,w){if(p.da)p=!0;else{w=new De(w,this);var k=p.listener,R=p.ha||p.src;p.fa&&qi(p),p=k.call(R,w)}return p}function Pr(p){return p=p[Ct],p instanceof ue?p:null}var Hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(p){return typeof p=="function"?p:(p[Hi]||(p[Hi]=function(w){return p.handleEvent(w)}),p[Hi])}function wt(){pe.call(this),this.i=new ue(this),this.M=this,this.F=null}_(wt,pe),wt.prototype[At]=!0,wt.prototype.removeEventListener=function(p,w,k,R){sa(this,p,w,k,R)};function tt(p,w){var k,R=p.F;if(R)for(k=[];R;R=R.F)k.push(R);if(p=p.M,R=w.type||w,typeof w=="string")w=new oe(w,p);else if(w instanceof oe)w.target=w.target||p;else{var W=w;w=new oe(R,p),I(w,W)}if(W=!0,k)for(var se=k.length-1;0<=se;se--){var be=w.g=k[se];W=Un(be,R,!0,w)&&W}if(be=w.g=p,W=Un(be,R,!0,w)&&W,W=Un(be,R,!1,w)&&W,k)for(se=0;se<k.length;se++)be=w.g=k[se],W=Un(be,R,!1,w)&&W}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var k=p.g[w],R=0;R<k.length;R++)we(k[R]);delete p.g[w],p.h--}}this.F=null},wt.prototype.K=function(p,w,k,R){return this.i.add(String(p),w,!1,k,R)},wt.prototype.L=function(p,w,k,R){return this.i.add(String(p),w,!0,k,R)};function Un(p,w,k,R){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var W=!0,se=0;se<w.length;++se){var be=w[se];if(be&&!be.da&&be.capture==k){var pt=be.listener,gn=be.ha||be.src;be.fa&&Oe(p.i,be),W=pt.call(gn,R)!==!1&&W}}return W&&!R.defaultPrevented}function on(p,w,k){if(typeof p=="function")k&&(p=b(p,k));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:d.setTimeout(p,w||0)}function nl(p){p.g=on(()=>{p.g=null,p.i&&(p.i=!1,nl(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class Dr extends pe{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:nl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(p){pe.call(this),this.h=p,this.g={}}_(Ta,pe);var ka=[];function Ea(p){D(p.g,function(w,k){this.g.hasOwnProperty(k)&&qi(w)},p),p.g={}}Ta.prototype.N=function(){Ta.aa.N.call(this),Ea(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=d.JSON.stringify,ei=d.JSON.parse,Ir=class{stringify(p){return d.JSON.stringify(p,void 0)}parse(p){return d.JSON.parse(p,void 0)}};function $i(){}$i.prototype.h=null;function ti(p){return p.h||(p.h=p.i())}function Zs(){}var Mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function la(){oe.call(this,"d")}_(la,oe);function Ki(){oe.call(this,"c")}_(Ki,oe);var Yn={},_a=null;function Sa(){return _a=_a||new wt}Yn.La="serverreachability";function Yi(p){oe.call(this,Yn.La,p)}_(Yi,oe);function G(p){const w=Sa();tt(w,new Yi(w))}Yn.STAT_EVENT="statevent";function X(p,w){oe.call(this,Yn.STAT_EVENT,p),this.stat=w}_(X,oe);function J(p){const w=Sa();tt(w,new X(w,p))}Yn.Ma="timingevent";function he(p,w){oe.call(this,Yn.Ma,p),this.size=w}_(he,oe);function xe(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){p()},w)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Ve(p,w,k,R,W,se){p.info(function(){if(p.g)if(se)for(var be="",pt=se.split("&"),gn=0;gn<pt.length;gn++){var gt=pt[gn].split("=");if(1<gt.length){var kn=gt[0];gt=gt[1];var xn=kn.split("_");be=2<=xn.length&&xn[1]=="type"?be+(kn+"="+gt+"&"):be+(kn+"=redacted&")}}else be=null;else be=se;return"XMLHTTP REQ ("+R+") [attempt "+W+"]: "+w+`
`+k+`
`+be})}function Ne(p,w,k,R,W,se,be){p.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+W+"]: "+w+`
`+k+`
`+se+" "+be})}function je(p,w,k,R){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ue(p,k)+(R?" "+R:"")})}function Ie(p,w){p.info(function(){return"TIMEOUT: "+w})}Ee.prototype.info=function(){};function Ue(p,w){if(!p.g)return w;if(!w)return null;try{var k=JSON.parse(w);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var R=k[p];if(!(2>R.length)){var W=R[1];if(Array.isArray(W)&&!(1>W.length)){var se=W[0];if(se!="noop"&&se!="stop"&&se!="close")for(var be=1;be<W.length;be++)W[be]=""}}}}return pr(k)}catch{return w}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ot;function kt(){}_(kt,$i),kt.prototype.g=function(){return new XMLHttpRequest},kt.prototype.i=function(){return{}},ot=new kt;function vt(p,w,k,R){this.j=p,this.i=w,this.l=k,this.R=R||1,this.U=new Ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var at={},Or={};function pn(p,w,k){p.L=1,p.v=to(yr(w)),p.m=k,p.P=!0,Qn(p,null)}function Qn(p,w){p.F=Date.now(),gr(p),p.A=yr(p.v);var k=p.A,R=p.R;Array.isArray(R)||(R=[String(R)]),Ic(k.i,"t",R),p.C=0,k=p.j.J,p.h=new ft,p.g=ch(p.j,k?w:null,!p.m),0<p.O&&(p.M=new Dr(b(p.Y,p,p.g),p.O)),w=p.U,k=p.g,R=p.ca;var W="readystatechange";Array.isArray(W)||(W&&(ka[0]=W.toString()),W=ka);for(var se=0;se<W.length;se++){var be=Bi(k,W[se],R||w.handleEvent,!1,w.h||w);if(!be)break;w.g[be.key]=be}w=p.H?N(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),G(),Ve(p.i,p.u,p.A,p.l,p.R,p.m)}vt.prototype.ca=function(p){p=p.target;const w=this.M;w&&Fr(p)==3?w.j():this.Y(p)},vt.prototype.Y=function(p){try{if(p==this.g)e:{const xn=Fr(this.g);var w=this.g.Ba();const ci=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||th(this.g)))){this.J||xn!=4||w==7||(w==8||0>=ci?G(3):G(2)),zn(this);var k=this.g.Z();this.X=k;t:if(Cn(this)){var R=th(this.g);p="";var W=R.length,se=Fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),Xn(this);var be="";break t}this.h.i=new d.TextDecoder}for(w=0;w<W;w++)this.h.h=!0,p+=this.h.i.decode(R[w],{stream:!(se&&w==W-1)});R.length=0,this.h.g+=p,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=k==200,Ne(this.i,this.u,this.A,this.l,this.R,xn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,gn=this.g;if((pt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(pt)){var gt=pt;break t}}gt=null}if(k=gt)je(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,k);else{this.o=!1,this.s=3,J(12),Ke(this),Xn(this);break e}}if(this.P){k=!0;let Rn;for(;!this.J&&this.C<be.length;)if(Rn=Na(this,be),Rn==Or){xn==4&&(this.s=4,J(14),k=!1),je(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==at){this.s=4,J(15),je(this.i,this.l,be,"[Invalid Chunk]"),k=!1;break}else je(this.i,this.l,Rn,null),ln(this,Rn);if(Cn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||be.length!=0||this.h.h||(this.s=1,J(16),k=!1),this.o=this.o&&k,!k)je(this.i,this.l,be,"[Invalid Chunked Response]"),Ke(this),Xn(this);else if(0<be.length&&!this.W){this.W=!0;var kn=this.j;kn.g==this&&kn.ba&&!kn.M&&(kn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),co(kn),kn.M=!0,J(11))}}else je(this.i,this.l,be,null),ln(this,be);xn==4&&Ke(this),this.o&&!this.J&&(xn==4?sh(this.j,this):(this.o=!1,gr(this)))}else xp(this.g),k==400&&0<be.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),Ke(this),Xn(this)}}}catch{}finally{}};function Cn(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Na(p,w){var k=p.C,R=w.indexOf(`
`,k);return R==-1?Or:(k=Number(w.substring(k,R)),isNaN(k)?at:(R+=1,R+k>w.length?Or:(w=w.slice(R,R+k),p.C=R+k,w)))}vt.prototype.cancel=function(){this.J=!0,Ke(this)};function gr(p){p.S=Date.now()+p.I,Qi(p,p.I)}function Qi(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=xe(b(p.ba,p),w)}function zn(p){p.B&&(d.clearTimeout(p.B),p.B=null)}vt.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ie(this.i,this.A),this.L!=2&&(G(),J(17)),Ke(this),this.s=2,Xn(this)):Qi(this,this.S-p)};function Xn(p){p.j.G==0||p.J||sh(p.j,p)}function Ke(p){zn(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,Ea(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function ln(p,w){try{var k=p.j;if(k.G!=0&&(k.g==p||Lr(k.h,p))){if(!p.K&&Lr(k.h,p)&&k.G==3){try{var R=k.Da.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var W=R;if(W[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)dl(k),cl(k);else break e;Uc(k),J(18)}}else k.za=W[1],0<k.za-k.T&&37500>W[2]&&k.F&&k.v==0&&!k.C&&(k.C=xe(b(k.Za,k),6e3));if(1>=Mt(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else li(k,11)}else if((p.K||k.g==p)&&dl(k),!z(w))for(W=k.Da.g.parse(w),w=0;w<W.length;w++){let gt=W[w];if(k.T=gt[0],gt=gt[1],k.G==2)if(gt[0]=="c"){k.K=gt[1],k.ia=gt[2];const kn=gt[3];kn!=null&&(k.la=kn,k.j.info("VER="+k.la));const xn=gt[4];xn!=null&&(k.Aa=xn,k.j.info("SVER="+k.Aa));const ci=gt[5];ci!=null&&typeof ci=="number"&&0<ci&&(R=1.5*ci,k.L=R,k.j.info("backChannelRequestTimeoutMs_="+R)),R=k;const Rn=p.g;if(Rn){const Ma=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ma){var se=R.h;se.g||Ma.indexOf("spdy")==-1&&Ma.indexOf("quic")==-1&&Ma.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(ni(se,se.h),se.h=null))}if(R.D){const Fc=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fc&&(R.ya=Fc,jt(R.I,R.D,Fc))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),R=k;var be=p;if(R.qa=lh(R,R.J?R.ia:null,R.W),be.K){jn(R.h,be);var pt=be,gn=R.L;gn&&(pt.I=gn),pt.B&&(zn(pt),gr(pt)),R.g=be}else ah(R);0<k.i.length&&ul(k)}else gt[0]!="stop"&&gt[0]!="close"||li(k,7);else k.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?li(k,7):Lc(k):gt[0]!="noop"&&k.l&&k.l.ta(gt),k.v=0)}}G(4)}catch{}}var xr=class{constructor(p,w){this.g=p,this.map=w}};function ar(p){this.l=p||10,d.PerformanceNavigationTiming?(p=d.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aa(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Mt(p){return p.h?1:p.g?p.g.size:0}function Lr(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function ni(p,w){p.g?p.g.add(w):p.h=w}function jn(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}ar.prototype.cancel=function(){if(this.i=jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function jc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const k of p.g.values())w=w.concat(k.D);return w}return j(p.i)}function fp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var w=[],k=p.length,R=0;R<k;R++)w.push(p[R]);return w}w=[],k=0;for(R in p)w[k++]=p[R];return w}function rl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var w=[];p=p.length;for(var k=0;k<p;k++)w.push(k);return w}w=[],k=0;for(const R in p)w[k++]=R;return w}}}function Rc(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var k=rl(p),R=fp(p),W=R.length,se=0;se<W;se++)w.call(void 0,R[se],k&&k[se],p)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(p,w){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var R=p[k].indexOf("="),W=null;if(0<=R){var se=p[k].substring(0,R);W=p[k].substring(R+1)}else se=p[k];w(se,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function cn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof cn){this.h=p.h,eo(this,p.j),this.o=p.o,this.g=p.g,Xi(this,p.s),this.l=p.l;var w=p.i,k=new ai;k.i=w.i,w.g&&(k.g=new Map(w.g),k.h=w.h),ri(this,k),this.m=p.m}else p&&(w=String(p).match(Js))?(this.h=!1,eo(this,w[1]||"",!0),this.o=Vr(w[2]||""),this.g=Vr(w[3]||"",!0),Xi(this,w[4]),this.l=Vr(w[5]||"",!0),ri(this,w[6]||"",!0),this.m=Vr(w[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}cn.prototype.toString=function(){var p=[],w=this.j;w&&p.push(no(w,Pc,!0),":");var k=this.g;return(k||w=="file")&&(p.push("//"),(w=this.o)&&p.push(no(w,Pc,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(no(k,k.charAt(0)=="/"?pp:Dc,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",no(k,al)),p.join("")};function yr(p){return new cn(p)}function eo(p,w,k){p.j=k?Vr(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Xi(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function ri(p,w,k){w instanceof ai?(p.i=w,Jd(p.i,p.h)):(k||(w=no(w,gp)),p.i=new ai(w,p.h))}function jt(p,w,k){p.i.set(w,k)}function to(p){return jt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Vr(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function no(p,w,k){return typeof p=="string"?(p=encodeURI(p).replace(w,Zd),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Zd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Pc=/[#\/\?@]/g,Dc=/[#\?:]/g,pp=/[#\?]/g,gp=/[#\?@]/g,al=/#/g;function ai(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Ur(p){p.g||(p.g=new Map,p.h=0,p.i&&mp(p.i,function(w,k){p.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}t=ai.prototype,t.add=function(p,w){Ur(this),this.i=null,p=Ca(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(w),this.h+=1,this};function ii(p,w){Ur(p),w=Ca(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function si(p,w){return Ur(p),w=Ca(p,w),p.g.has(w)}t.forEach=function(p,w){Ur(this),this.g.forEach(function(k,R){k.forEach(function(W){p.call(w,W,R,this)},this)},this)},t.na=function(){Ur(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),k=[];for(let R=0;R<w.length;R++){const W=p[R];for(let se=0;se<W.length;se++)k.push(w[R])}return k},t.V=function(p){Ur(this);let w=[];if(typeof p=="string")si(this,p)&&(w=w.concat(this.g.get(Ca(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)w=w.concat(p[k])}return w},t.set=function(p,w){return Ur(this),this.i=null,p=Ca(this,p),si(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function Ic(p,w,k){ii(p,w),0<k.length&&(p.i=null,p.g.set(Ca(p,w),j(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var k=0;k<w.length;k++){var R=w[k];const se=encodeURIComponent(String(R)),be=this.V(R);for(R=0;R<be.length;R++){var W=se;be[R]!==""&&(W+="="+encodeURIComponent(String(be[R]))),p.push(W)}}return this.i=p.join("&")};function Ca(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Jd(p,w){w&&!p.j&&(Ur(p),p.i=null,p.g.forEach(function(k,R){var W=R.toLowerCase();R!=W&&(ii(this,R),Ic(this,W,k))},p)),p.j=w}function ro(p,w){const k=new Ee;if(d.Image){const R=new Image;R.onload=T(zr,k,"TestLoadImage: loaded",!0,w,R),R.onerror=T(zr,k,"TestLoadImage: error",!1,w,R),R.onabort=T(zr,k,"TestLoadImage: abort",!1,w,R),R.ontimeout=T(zr,k,"TestLoadImage: timeout",!1,w,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=p}else w(!1)}function ca(p,w){const k=new Ee,R=new AbortController,W=setTimeout(()=>{R.abort(),zr(k,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:R.signal}).then(se=>{clearTimeout(W),se.ok?zr(k,"TestPingServer: ok",!0,w):zr(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),zr(k,"TestPingServer: error",!1,w)})}function zr(p,w,k,R,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),R(k)}catch{}}function ao(){this.g=new Ir}function ja(p,w,k){const R=k||"";try{Rc(p,function(W,se){let be=W;m(W)&&(be=pr(W)),w.push(R+se+"="+encodeURIComponent(be))})}catch(W){throw w.push(R+"type="+encodeURIComponent("_badmap")),W}}function Wi(p){this.l=p.Ub||null,this.j=p.eb||!1}_(Wi,$i),Wi.prototype.g=function(){return new oi(this.l,this.j)},Wi.prototype.i=function(p){return function(){return p}}({});function oi(p,w){wt.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(oi,wt),t=oi.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,Pa(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||d).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ra(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?Ra(this):Pa(this),this.readyState==3&&Mc(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Ra(this))},t.Qa=function(p){this.g&&(this.response=p,Ra(this))},t.ga=function(){this.g&&Ra(this)};function Ra(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Pa(p)}t.setRequestHeader=function(p,w){this.u.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=w.next();return p.join(`\r
`)};function Pa(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Oc(p){let w="";return D(p,function(k,R){w+=R,w+=":",w+=k,w+=`\r
`}),w}function Tn(p,w,k){e:{for(R in k){var R=!1;break e}R=!0}R||(k=Oc(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):jt(p,w,k))}function Et(p){wt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Et,wt);var il=/^https?$/i,io=["POST","PUT"];t=Et.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,w,k,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ot.g(),this.v=this.o?ti(this.o):ti(ot),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(se){eh(this,se);return}if(p=k||"",k=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var W in R)k.set(W,R[W]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const se of R.keys())k.set(se,R.get(se));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(k.keys()).find(se=>se.toLowerCase()=="content-type"),W=d.FormData&&p instanceof d.FormData,!(0<=Array.prototype.indexOf.call(io,w,void 0))||R||W||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,be]of k)this.g.setRequestHeader(se,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{so(this),this.u=!0,this.g.send(p),this.u=!1}catch(se){eh(this,se)}};function eh(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,sl(p),Da(p)}function sl(p){p.A||(p.A=!0,tt(p,"complete"),tt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,tt(this,"complete"),tt(this,"abort"),Da(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Da(this,!0)),Et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ol(this):this.bb())},t.bb=function(){ol(this)};function ol(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Fr(p)!=4||p.Z()!=2)){if(p.u&&Fr(p)==4)on(p.Ea,0,p);else if(tt(p,"readystatechange"),Fr(p)==4){p.h=!1;try{const be=p.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var R;if(R=be===0){var W=String(p.D).match(Js)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),R=!il.test(W?W.toLowerCase():"")}k=R}if(k)tt(p,"complete"),tt(p,"success");else{p.m=6;try{var se=2<Fr(p)?p.g.statusText:""}catch{se=""}p.l=se+" ["+p.Z()+"]",sl(p)}}finally{Da(p)}}}}function Da(p,w){if(p.g){so(p);const k=p.g,R=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||tt(p,"ready");try{k.onreadystatechange=R}catch{}}}function so(p){p.I&&(d.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Fr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),ei(w)}};function th(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function xp(p){const w={};p=(p.g&&2<=Fr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<p.length;R++){if(z(p[R]))continue;var k=B(p[R]);const W=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const se=w[W]||[];w[W]=se,se.push(k)}P(w,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oo(p,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||w}function ll(p){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oo("baseRetryDelayMs",5e3,p),this.cb=oo("retryDelaySeedMs",1e4,p),this.Wa=oo("forwardChannelMaxRetries",2,p),this.wa=oo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ar(p&&p.concurrentRequestLimit),this.Da=new ao,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ll.prototype,t.la=8,t.G=1,t.connect=function(p,w,k,R){J(0),this.W=p,this.H=w||{},k&&R!==void 0&&(this.H.OSID=k,this.H.OAID=R),this.F=this.X,this.I=lh(this,null,this.W),ul(this)};function Lc(p){if(nh(p),p.G==3){var w=p.U++,k=yr(p.I);if(jt(k,"SID",p.K),jt(k,"RID",w),jt(k,"TYPE","terminate"),lo(p,k),w=new vt(p,p.j,w),w.L=2,w.v=to(yr(k)),k=!1,d.navigator&&d.navigator.sendBeacon)try{k=d.navigator.sendBeacon(w.v.toString(),"")}catch{}!k&&d.Image&&(new Image().src=w.v,k=!0),k||(w.g=ch(w.j,null),w.g.ea(w.v)),w.F=Date.now(),gr(w)}oh(p)}function cl(p){p.g&&(co(p),p.g.cancel(),p.g=null)}function nh(p){cl(p),p.u&&(d.clearTimeout(p.u),p.u=null),dl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&d.clearTimeout(p.s),p.s=null)}function ul(p){if(!Aa(p.h)&&!p.s){p.s=!0;var w=p.Ga;ie||F(),te||(ie(),te=!0),ve.add(w,p),p.B=0}}function yp(p,w){return Mt(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=xe(b(p.Ga,p,w),zc(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const W=new vt(this,this.j,p);let se=this.o;if(this.S&&(se?(se=N(se),I(se,this.S)):se=this.S),this.m!==null||this.O||(W.H=se,se=null),this.P)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var R=this.i[k];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,4096<w){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=rh(this,W,w),k=yr(this.I),jt(k,"RID",p),jt(k,"CVER",22),this.D&&jt(k,"X-HTTP-Session-Id",this.D),lo(this,k),se&&(this.O?w="headers="+encodeURIComponent(String(Oc(se)))+"&"+w:this.m&&Tn(k,this.m,se)),ni(this.h,W),this.Ua&&jt(k,"TYPE","init"),this.P?(jt(k,"$req",w),jt(k,"SID","null"),W.T=!0,pn(W,k,null)):pn(W,k,w),this.G=2}}else this.G==3&&(p?Vc(this,p):this.i.length==0||Aa(this.h)||Vc(this))};function Vc(p,w){var k;w?k=w.l:k=p.U++;const R=yr(p.I);jt(R,"SID",p.K),jt(R,"RID",k),jt(R,"AID",p.T),lo(p,R),p.m&&p.o&&Tn(R,p.m,p.o),k=new vt(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),w&&(p.i=w.D.concat(p.i)),w=rh(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ni(p.h,k),pn(k,R,w)}function lo(p,w){p.H&&D(p.H,function(k,R){jt(w,R,k)}),p.l&&Rc({},function(k,R){jt(w,R,k)})}function rh(p,w,k){k=Math.min(p.i.length,k);var R=p.l?b(p.l.Na,p.l,p):null;e:{var W=p.i;let se=-1;for(;;){const be=["count="+k];se==-1?0<k?(se=W[0].g,be.push("ofs="+se)):se=0:be.push("ofs="+se);let pt=!0;for(let gn=0;gn<k;gn++){let gt=W[gn].g;const kn=W[gn].map;if(gt-=se,0>gt)se=Math.max(0,W[gn].g-100),pt=!1;else try{ja(kn,be,"req"+gt+"_")}catch{R&&R(kn)}}if(pt){R=be.join("&");break e}}}return p=p.i.splice(0,k),w.D=p,R}function ah(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;ie||F(),te||(ie(),te=!0),ve.add(w,p),p.v=0}}function Uc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=xe(b(p.Fa,p),zc(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=xe(b(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),cl(this),ih(this))};function co(p){p.A!=null&&(d.clearTimeout(p.A),p.A=null)}function ih(p){p.g=new vt(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=yr(p.qa);jt(w,"RID","rpc"),jt(w,"SID",p.K),jt(w,"AID",p.T),jt(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&jt(w,"TO",p.ja),jt(w,"TYPE","xmlhttp"),lo(p,w),p.m&&p.o&&Tn(w,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=to(yr(w)),k.m=null,k.P=!0,Qn(k,p)}t.Za=function(){this.C!=null&&(this.C=null,cl(this),Uc(this),J(19))};function dl(p){p.C!=null&&(d.clearTimeout(p.C),p.C=null)}function sh(p,w){var k=null;if(p.g==w){dl(p),co(p),p.g=null;var R=2}else if(Lr(p.h,w))k=w.D,jn(p.h,w),R=1;else return;if(p.G!=0){if(w.o)if(R==1){k=w.m?w.m.length:0,w=Date.now()-w.F;var W=p.B;R=Sa(),tt(R,new he(R,k)),ul(p)}else ah(p);else if(W=w.s,W==3||W==0&&0<w.X||!(R==1&&yp(p,w)||R==2&&Uc(p)))switch(k&&0<k.length&&(w=p.h,w.i=w.i.concat(k)),W){case 1:li(p,5);break;case 4:li(p,10);break;case 3:li(p,6);break;default:li(p,2)}}}function zc(p,w){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*w}function li(p,w){if(p.j.info("Error code "+w),w==2){var k=b(p.fb,p),R=p.Xa;const W=!R;R=new cn(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||eo(R,"https"),to(R),W?ro(R.toString(),k):ca(R.toString(),k)}else J(2);p.G=0,p.l&&p.l.sa(w),oh(p),nh(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function oh(p){if(p.G=0,p.ka=[],p.l){const w=jc(p.h);(w.length!=0||p.i.length!=0)&&(O(p.ka,w),O(p.ka,p.i),p.h.i.length=0,j(p.i),p.i.length=0),p.l.ra()}}function lh(p,w,k){var R=k instanceof cn?yr(k):new cn(k);if(R.g!="")w&&(R.g=w+"."+R.g),Xi(R,R.s);else{var W=d.location;R=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;var se=new cn(null);R&&eo(se,R),w&&(se.g=w),W&&Xi(se,W),k&&(se.l=k),R=se}return k=p.D,w=p.ya,k&&w&&jt(R,k,w),jt(R,"VER",p.la),lo(p,R),R}function ch(p,w,k){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new Et(new Wi({eb:k})):new Et(p.pa),w.Ha(p.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}t=uh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hl(){}hl.prototype.g=function(p,w){return new Wn(p,w)};function Wn(p,w){wt.call(this),this.g=new ll(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!z(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!z(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new Ia(this)}_(Wn,wt),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){Lc(this.g)},Wn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=pr(p),p=k);w.i.push(new xr(w.Ya++,p)),w.G==3&&ul(w)},Wn.prototype.N=function(){this.g.l=null,delete this.j,Lc(this.g),delete this.g,Wn.aa.N.call(this)};function dh(p){la.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const k in w){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}_(dh,la);function hh(){Ki.call(this),this.status=1}_(hh,Ki);function Ia(p){this.g=p}_(Ia,uh),Ia.prototype.ua=function(){tt(this.g,"a")},Ia.prototype.ta=function(p){tt(this.g,new dh(p))},Ia.prototype.sa=function(p){tt(this.g,new hh)},Ia.prototype.ra=function(){tt(this.g,"b")},hl.prototype.createWebChannel=hl.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,DN=function(){return new hl},PN=function(){return Sa()},RN=Yn,Ox={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,zf=Re,Fe.COMPLETE="complete",jN=Fe,Zs.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Bu=Zs,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,CN=Et}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const rE="@firebase/firestore",aE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Vm("@firebase/firestore");function Gl(){return Bo.logLevel}function _e(t,...e){if(Bo.logLevel<=ut.DEBUG){const n=e.map(lv);Bo.debug(`Firestore (${Ec}): ${t}`,...n)}}function Mi(t,...e){if(Bo.logLevel<=ut.ERROR){const n=e.map(lv);Bo.error(`Firestore (${Ec}): ${t}`,...n)}}function cc(t,...e){if(Bo.logLevel<=ut.WARN){const n=e.map(lv);Bo.warn(`Firestore (${Ec}): ${t}`,...n)}}function lv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,IN(t,r,n)}function IN(t,e,n){let r=`FIRESTORE (${Ec}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mi(r),new Error(r)}function _t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||IN(e,i,r)}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends aa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hn.UNAUTHENTICATED))}shutdown(){}}class GV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $V{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ci,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},d=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ci)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new MN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class KV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new KV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=XV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function rt(t,e){return t<e?-1:t>e?1:0}function Lx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return rt(r,i);{const o=ON(),u=WV(o.encode(sE(t,n)),o.encode(sE(e,n)));return u!==0?u:rt(r,i)}}n+=r>65535?2:1}return rt(t.length,e.length)}function sE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function WV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return rt(t[n],e[n]);return rt(t.length,e.length)}function uc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=-62135596800,lE=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*lE);return new Ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<oE)throw new Se(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lE}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-oE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Ft(0,0))}static max(){return new Xe(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class Fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Fa.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return rt(e.length,n.length)}static compareSegments(e,n){const r=Fa.isNumericId(e),i=Fa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fa.extractNumericId(e).compare(Fa.extractNumericId(n)):Lx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ps.fromString(e.substring(4,e.length-2))}}class Ut extends Fa{construct(e,n,r){return new Ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ut(n)}static emptyPath(){return new Ut([])}}const ZV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends Fa{construct(e,n,r){return new Ln(e,n,r)}static isValidIdentifier(e){return ZV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new Ln([cE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Se(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Se(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(u=!u,i++):d!=="."||u?(r+=d,i++):(o(),i++)}if(o(),u)throw new Se(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Ut.fromString(e))}static fromName(e){return new Le(Ut.fromString(e).popFirst(5))}static empty(){return new Le(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=-1;function JV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new Ls(i,Le.empty(),e)}function e7(t){return new Ls(t.readTime,t.key,kd)}class Ls{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ls(Xe.min(),Le.empty(),kd)}static max(){return new Ls(Xe.max(),Le.empty(),kd)}}function t7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==n7)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,r)=>{n(e)})}static reject(e){return new ge((n,r)=>{r(e)})}static waitFor(e){return new ge((n,r)=>{let i=0,o=0,u=!1;e.forEach(d=>{++i,d.next(()=>{++o,u&&o===i&&n()},f=>r(f))}),u=!0,o===i&&n()})}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next(i=>i?ge.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ge((r,i)=>{const o=e.length,u=new Array(o);let d=0;for(let f=0;f<o;f++){const m=f;n(e[m]).next(x=>{u[m]=x,++d,d===o&&r(u)},x=>i(x))}})}static doWhile(e,n){return new ge((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function a7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}qm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-1;function Hm(t){return t==null}function fm(t){return t===0&&1/t==-1/0}function i7(t){return typeof t=="number"&&Number.isInteger(t)&&!fm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="";function s7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uE(e)),e=o7(t.get(n),e);return uE(e)}function o7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case VN:n+="";break;default:n+=o}}return n}function uE(t){return t+VN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kf(this.root,e,this.comparator,!0)}}class kf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??On.RED,this.left=i??On.EMPTY,this.right=o??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new On(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return On.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new wn(Ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zN("Invalid base64 string: "+o):o}}(e);return new Vn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new Vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const l7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=l7.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?Vn.fromBase64String(t):Vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="server_timestamp",BN="__type__",qN="__previous_value__",HN="__local_write_time__";function uv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[BN])===null||n===void 0?void 0:n.stringValue)===FN}function Gm(t){const e=t.mapValue.fields[qN];return uv(e)?Gm(e):e}function Ed(t){const e=Vs(t.mapValue.fields[HN].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,n,r,i,o,u,d,f,m,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=x}}const mm="(default)";class _d{constructor(e,n){this.projectId=e,this.database=n||mm}static empty(){return new _d("","")}get isDefaultDatabase(){return this.database===mm}isEqual(e){return e instanceof _d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="__type__",u7="__max__",Ef={mapValue:{}},$N="__vector__",pm="value";function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uv(t)?4:h7(t)?9007199254740991:d7(t)?10:11:He(28295,{value:t})}function Za(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ed(t).isEqual(Ed(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Vs(i.timestampValue),d=Vs(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Us(i.bytesValue).isEqual(Us(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return sn(i.geoPointValue.latitude)===sn(o.geoPointValue.latitude)&&sn(i.geoPointValue.longitude)===sn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return sn(i.integerValue)===sn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=sn(i.doubleValue),d=sn(o.doubleValue);return u===d?fm(u)===fm(d):isNaN(u)&&isNaN(d)}return!1}(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],Za);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},d=o.mapValue.fields||{};if(dE(u)!==dE(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Za(u[f],d[f])))return!1;return!0}(t,e);default:return He(52216,{left:t})}}function Sd(t,e){return(t.values||[]).find(n=>Za(n,e))!==void 0}function dc(t,e){if(t===e)return 0;const n=zs(t),r=zs(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return function(o,u){const d=sn(o.integerValue||o.doubleValue),f=sn(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return fE(t.timestampValue,e.timestampValue);case 4:return fE(Ed(t),Ed(e));case 5:return Lx(t.stringValue,e.stringValue);case 6:return function(o,u){const d=Us(o),f=Us(u);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const x=rt(d[m],f[m]);if(x!==0)return x}return rt(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const d=rt(sn(o.latitude),sn(u.latitude));return d!==0?d:rt(sn(o.longitude),sn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mE(t.arrayValue,e.arrayValue);case 10:return function(o,u){var d,f,m,x;const v=o.fields||{},b=u.fields||{},T=(d=v[pm])===null||d===void 0?void 0:d.arrayValue,_=(f=b[pm])===null||f===void 0?void 0:f.arrayValue,j=rt(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((x=_==null?void 0:_.values)===null||x===void 0?void 0:x.length)||0);return j!==0?j:mE(T,_)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===Ef.mapValue&&u===Ef.mapValue)return 0;if(o===Ef.mapValue)return 1;if(u===Ef.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),m=u.fields||{},x=Object.keys(m);f.sort(),x.sort();for(let v=0;v<f.length&&v<x.length;++v){const b=Lx(f[v],x[v]);if(b!==0)return b;const T=dc(d[f[v]],m[x[v]]);if(T!==0)return T}return rt(f.length,x.length)}(t.mapValue,e.mapValue);default:throw He(23264,{Pe:n})}}function fE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=Vs(t),r=Vs(e),i=rt(n.seconds,r.seconds);return i!==0?i:rt(n.nanos,r.nanos)}function mE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=dc(n[i],r[i]);if(o)return o}return rt(n.length,r.length)}function hc(t){return Vx(t)}function Vx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Vx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${Vx(n.fields[u])}`;return i+"}"}(t.mapValue):He(61005,{value:t})}function Ff(t){switch(zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gm(t);return e?16+Ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Us(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ff(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Xs(r.fields,(o,u)=>{i+=o.length+Ff(u)}),i}(t.mapValue);default:throw He(13486,{value:t})}}function pE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ux(t){return!!t&&"integerValue"in t}function dv(t){return!!t&&"arrayValue"in t}function gE(t){return!!t&&"nullValue"in t}function xE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bf(t){return!!t&&"mapValue"in t}function d7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GN])===null||n===void 0?void 0:n.stringValue)===$N}function ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ed(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ed(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===u7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(n)}setAll(e){let n=Ln.emptyPath(),r={},i=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}u?r[d.lastSegment()]=ed(u):i.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Za(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ur(ed(this.value))}}function KN(t){const e=[];return Xs(t.fields,(n,r)=>{const i=new Ln([n]);if(Bf(r)){const o=KN(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,i,o,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gn(e,0,Xe.min(),Xe.min(),Xe.min(),ur.empty(),0)}static newFoundDocument(e,n,r,i){return new Gn(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new Gn(e,2,n,Xe.min(),Xe.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,Xe.min(),Xe.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.position=e,this.inclusive=n}}function yE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],u=t.position[i];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),n.key):r=dc(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Za(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function f7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{}class mn extends YN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p7(e,n,r):n==="array-contains"?new y7(e,r):n==="in"?new v7(e,r):n==="not-in"?new b7(e,r):n==="array-contains-any"?new w7(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new g7(e,r):new x7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dc(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class va extends YN{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new va(e,n)}matches(e){return QN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function QN(t){return t.op==="and"}function XN(t){return m7(t)&&QN(t)}function m7(t){for(const e of t.filters)if(e instanceof va)return!1;return!0}function zx(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+hc(t.value);if(XN(t))return t.filters.map(e=>zx(e)).join(",");{const e=t.filters.map(n=>zx(n)).join(",");return`${t.op}(${e})`}}function WN(t,e){return t instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&Za(r.value,i.value)}(t,e):t instanceof va?function(r,i){return i instanceof va&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,d)=>o&&WN(u,i.filters[d]),!0):!1}(t,e):void He(19439)}function ZN(t){return t instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${hc(n.value)}`}(t):t instanceof va?function(n){return n.op.toString()+" {"+n.getFilters().map(ZN).join(" ,")+"}"}(t):"Filter"}class p7 extends mn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class g7 extends mn{constructor(e,n){super(e,"in",n),this.keys=JN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x7 extends mn{constructor(e,n){super(e,"not-in",n),this.keys=JN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Le.fromName(r.referenceValue))}class y7 extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dv(n)&&Sd(n.arrayValue,this.value)}}class v7 extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sd(this.value.arrayValue,n)}}class b7 extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sd(this.value.arrayValue,n)}}class w7 extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n=null,r=[],i=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function bE(t,e=null,n=[],r=[],i=null,o=null,u=null){return new T7(t,e,n,r,i,o,u)}function hv(t){const e=Ze(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hc(r)).join(",")),e.Ie=n}return e.Ie}function fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vE(t.startAt,e.startAt)&&vE(t.endAt,e.endAt)}function Fx(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n=null,r=[],i=[],o=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function k7(t,e,n,r,i,o,u,d){return new Nc(t,e,n,r,i,o,u,d)}function mv(t){return new Nc(t)}function wE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eA(t){return t.collectionGroup!==null}function td(t){const e=Ze(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new wn(Ln.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Nd(o,r))}),n.has(Ln.keyField().canonicalString())||e.Ee.push(new Nd(Ln.keyField(),r))}return e.Ee}function Xa(t){const e=Ze(t);return e.de||(e.de=E7(e,td(t))),e.de}function E7(t,e){if(t.limitType==="F")return bE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Nd(i.field,o)});const n=t.endAt?new gm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gm(t.startAt.position,t.startAt.inclusive):null;return bE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bx(t,e){const n=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qx(t,e,n){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $m(t,e){return fv(Xa(t),Xa(e))&&t.limitType===e.limitType}function tA(t){return`${hv(Xa(t))}|lt:${t.limitType}`}function $l(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZN(i)).join(", ")}]`),Hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hc(i)).join(",")),`Target(${r})`}(Xa(t))}; limitType=${t.limitType})`}function Km(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of td(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(u,d,f){const m=yE(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,td(r),i)||r.endAt&&!function(u,d,f){const m=yE(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,td(r),i))}(t,e)}function _7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nA(t){return(e,n)=>{let r=!1;for(const i of td(t)){const o=S7(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function S7(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):function(o,u,d){const f=u.data.field(o),m=d.data.field(o);return f!==null&&m!==null?dc(f,m):He(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return UN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=new Yt(Le.comparator);function Oi(){return N7}const rA=new Yt(Le.comparator);function qu(...t){let e=rA;for(const n of t)e=e.insert(n.key,n);return e}function aA(t){let e=rA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Io(){return nd()}function iA(){return nd()}function nd(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const A7=new Yt(Le.comparator),C7=new wn(Le.comparator);function dt(...t){let e=C7;for(const n of t)e=e.add(n);return e}const j7=new wn(rt);function R7(){return j7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fm(e)?"-0":e}}function sA(t){return{integerValue:""+t}}function P7(t,e){return i7(e)?sA(e):pv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this._=void 0}}function D7(t,e,n){return t instanceof Ad?function(i,o){const u={fields:{[BN]:{stringValue:FN},[HN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uv(o)&&(o=Gm(o)),o&&(u.fields[qN]=o),{mapValue:u}}(n,e):t instanceof fc?lA(t,e):t instanceof Cd?cA(t,e):function(i,o){const u=oA(i,o),d=TE(u)+TE(i.Re);return Ux(u)&&Ux(i.Re)?sA(d):pv(i.serializer,d)}(t,e)}function I7(t,e,n){return t instanceof fc?lA(t,e):t instanceof Cd?cA(t,e):n}function oA(t,e){return t instanceof xm?function(r){return Ux(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ad extends Ym{}class fc extends Ym{constructor(e){super(),this.elements=e}}function lA(t,e){const n=uA(e);for(const r of t.elements)n.some(i=>Za(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cd extends Ym{constructor(e){super(),this.elements=e}}function cA(t,e){let n=uA(e);for(const r of t.elements)n=n.filter(i=>!Za(i,r));return{arrayValue:{values:n}}}class xm extends Ym{constructor(e,n){super(),this.serializer=e,this.Re=n}}function TE(t){return sn(t.integerValue||t.doubleValue)}function uA(t){return dv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.field=e,this.transform=n}}function M7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof fc&&i instanceof fc||r instanceof Cd&&i instanceof Cd?uc(r.elements,i.elements,Za):r instanceof xm&&i instanceof xm?Za(r.Re,i.Re):r instanceof Ad&&i instanceof Ad}(t.transform,e.transform)}class O7{constructor(e,n){this.version=e,this.transformResults=n}}class Jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qm{}function hA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gv(t.key,Jr.none()):new Gd(t.key,t.data,Jr.none());{const n=t.data,r=ur.empty();let i=new wn(Ln.comparator);for(let o of e.fields)if(!i.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Ws(t.key,r,new Ar(i.toArray()),Jr.none())}}function L7(t,e,n){t instanceof Gd?function(i,o,u){const d=i.value.clone(),f=EE(i.fieldTransforms,o,u.transformResults);d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(i,o,u){if(!qf(i.precondition,o))return void o.convertToUnknownDocument(u.version);const d=EE(i.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(fA(i)),f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function rd(t,e,n,r){return t instanceof Gd?function(o,u,d,f){if(!qf(o.precondition,u))return d;const m=o.value.clone(),x=_E(o.fieldTransforms,f,u);return m.setAll(x),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ws?function(o,u,d,f){if(!qf(o.precondition,u))return d;const m=_E(o.fieldTransforms,f,u),x=u.data;return x.setAll(fA(o)),x.setAll(m),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,u,d){return qf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(t,e,n)}function V7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=oA(r.transform,i||null);o!=null&&(n===null&&(n=ur.empty()),n.set(r.field,o))}return n||null}function kE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uc(r,i,(o,u)=>M7(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gd extends Qm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends Qm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EE(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],u=o.transform,d=e.data.field(o.field);r.set(o.field,I7(u,d,n[i]))}return r}function _E(t,e,n){const r=new Map;for(const i of t){const o=i.transform,u=n.data.field(i.field);r.set(i.field,D7(o,u,e))}return r}class gv extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U7 extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&L7(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iA();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=n.has(i.key)?null:d;const f=hA(u,d);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),dt())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(n,r)=>kE(n,r))&&uc(this.baseMutations,e.baseMutations,(n,r)=>kE(n,r))}}class xv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_t(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return A7}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new xv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,yt;function q7(t){switch(t){case me.OK:return He(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function mA(t){if(t===void 0)return Mi("GRPC error has no .code"),me.UNKNOWN;switch(t){case hn.OK:return me.OK;case hn.CANCELLED:return me.CANCELLED;case hn.UNKNOWN:return me.UNKNOWN;case hn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case hn.INTERNAL:return me.INTERNAL;case hn.UNAVAILABLE:return me.UNAVAILABLE;case hn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case hn.NOT_FOUND:return me.NOT_FOUND;case hn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case hn.ABORTED:return me.ABORTED;case hn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case hn.DATA_LOSS:return me.DATA_LOSS;default:return He(39323,{code:t})}}(yt=hn||(hn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=new Ps([4294967295,4294967295],0);function SE(t){const e=ON().encode(t),n=new AN;return n.update(e),new Uint8Array(n.digest())}function NE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ps([n,r],0),new Ps([i,o],0)]}class yv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(r<0)throw new Hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ps.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ps.fromNumber(r)));return i.compare(H7)===1&&(i=new Ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=SE(e),[r,i]=NE(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new yv(o,i,n);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const n=SE(e),[r,i]=NE(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xm(Xe.min(),i,new Yt(rt),Oi(),dt())}}class $d{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $d(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class pA{constructor(e,n){this.targetId=e,this.Ce=n}}class gA{constructor(e,n,r=Vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class AE{constructor(){this.Fe=0,this.Me=CE(),this.xe=Vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dt(),n=dt(),r=dt();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:o})}}),new $d(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=CE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,_t(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class G7{constructor(e){this.ze=e,this.je=new Map,this.He=Oi(),this.Je=_f(),this.Ye=_f(),this.Ze=new Yt(rt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:He(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(Fx(o))if(r===0){const u=new Le(o.path);this.tt(n,u,Gn.newNoDocument(u,Xe.min()))}else _t(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const d=this.ct(e),f=d?this.lt(d,e,u):1;if(f!==0){this.st(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let u,d;try{u=Us(r).toUint8Array()}catch(f){if(f instanceof zN)return cc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new yv(u,i,o)}catch(f){return cc(f instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&Fx(d.target)){const f=new Le(d.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Gn.newNoDocument(f,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=dt();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const i=new Xm(e,n,this.Ze,this.He,r);return this.He=Oi(),this.Je=_f(),this.Ye=_f(),this.Ze=new Yt(rt),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new AE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new wn(rt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new wn(rt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new AE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function _f(){return new Yt(Le.comparator)}function CE(){return new Yt(Le.comparator)}const $7={asc:"ASCENDING",desc:"DESCENDING"},K7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y7={and:"AND",or:"OR"};class Q7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hx(t,e){return t.useProto3Json||Hm(e)?e:{value:e}}function ym(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X7(t,e){return ym(t,e.toTimestamp())}function Wa(t){return _t(!!t,49232),Xe.fromTimestamp(function(n){const r=Vs(n);return new Ft(r.seconds,r.nanos)}(t))}function vv(t,e){return Gx(t,e).canonicalString()}function Gx(t,e){const n=function(i){return new Ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yA(t){const e=Ut.fromString(t);return _t(kA(e),10190,{key:e.toString()}),e}function $x(t,e){return vv(t.databaseId,e.path)}function B0(t,e){const n=yA(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(bA(n))}function vA(t,e){return vv(t.databaseId,e)}function W7(t){const e=yA(t);return e.length===4?Ut.emptyPath():bA(e)}function Kx(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bA(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jE(t,e,n){return{name:$x(t,e),fields:n.value.mapValue.fields}}function Z7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:He(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(m,x){return m.useProto3Json?(_t(x===void 0||typeof x=="string",58123),Vn.fromBase64String(x||"")):(_t(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Vn.fromUint8Array(x||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const x=m.code===void 0?me.UNKNOWN:mA(m.code);return new Se(x,m.message||"")}(u);n=new gA(r,i,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=B0(t,r.document.name),o=Wa(r.document.updateTime),u=r.document.createTime?Wa(r.document.createTime):Xe.min(),d=new ur({mapValue:{fields:r.document.fields}}),f=Gn.newFoundDocument(i,o,u,d),m=r.targetIds||[],x=r.removedTargetIds||[];n=new Hf(m,x,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=B0(t,r.document),o=r.readTime?Wa(r.readTime):Xe.min(),u=Gn.newNoDocument(i,o),d=r.removedTargetIds||[];n=new Hf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=B0(t,r.document),o=r.removedTargetIds||[];n=new Hf([],o,i,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new B7(i,o),d=r.targetId;n=new pA(d,u)}}return n}function J7(t,e){let n;if(e instanceof Gd)n={update:jE(t,e.key,e.value)};else if(e instanceof gv)n={delete:$x(t,e.key)};else if(e instanceof Ws)n={update:jE(t,e.key,e.data),updateMask:lU(e.fieldMask)};else{if(!(e instanceof U7))return He(16599,{ft:e.type});n={verify:$x(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Ad)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xm)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw He(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:X7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:He(27497)}(t,e.precondition)),n}function eU(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map(n=>function(i,o){let u=i.updateTime?Wa(i.updateTime):Wa(o);return u.isEqual(Xe.min())&&(u=Wa(o)),new O7(u,i.transformResults||[])}(n,e))):[]}function tU(t,e){return{documents:[vA(t,e.path)]}}function nU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vA(t,i);const o=function(m){if(m.length!==0)return TA(va.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(x=>function(b){return{field:Kl(b.field),direction:iU(b.dir)}}(x))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Hx(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:i}}function rU(t){let e=W7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_t(r===1,65062);const x=n.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=function(v){const b=wA(v);return b instanceof va&&XN(b)?b.getFilters():[b]}(n.where));let u=[];n.orderBy&&(u=function(v){return v.map(b=>function(_){return new Nd(Yl(_.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(b))}(n.orderBy));let d=null;n.limit&&(d=function(v){let b;return b=typeof v=="object"?v.value:v,Hm(b)?null:b}(n.limit));let f=null;n.startAt&&(f=function(v){const b=!!v.before,T=v.values||[];return new gm(T,b)}(n.startAt));let m=null;return n.endAt&&(m=function(v){const b=!v.before,T=v.values||[];return new gm(T,b)}(n.endAt)),k7(e,i,u,o,d,"F",f,m)}function aU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yl(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yl(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yl(n.unaryFilter.field);return mn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yl(n.unaryFilter.field);return mn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}}(t):t.fieldFilter!==void 0?function(n){return mn.create(Yl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return va.create(n.compositeFilter.filters.map(r=>wA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}}(n.compositeFilter.op))}(t):He(30097,{filter:t})}function iU(t){return $7[t]}function sU(t){return K7[t]}function oU(t){return Y7[t]}function Kl(t){return{fieldPath:t.canonicalString()}}function Yl(t){return Ln.fromServerFormat(t.fieldPath)}function TA(t){return t instanceof mn?function(n){if(n.op==="=="){if(xE(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NAN"}};if(gE(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xE(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NAN"}};if(gE(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(n.field),op:sU(n.op),value:n.value}}}(t):t instanceof va?function(n){const r=n.getFilters().map(i=>TA(i));return r.length===1?r[0]:{compositeFilter:{op:oU(n.op),filters:r}}}(t):He(54877,{filter:t})}function lU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r,i,o=Xe.min(),u=Xe.min(),d=Vn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.wt=e}}function uU(t){const e=rU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.Cn=new hU}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Ls.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class hU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wn(Ut.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EA=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(EA,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new mc(0)}static lr(){return new mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="LruGarbageCollector",fU=1048576;function DE([t,e],[n,r]){const i=rt(t,n);return i===0?rt(e,r):i}class mU{constructor(e){this.Er=e,this.buffer=new wn(DE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();DE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(PE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sc(n)?_e(PE,"Ignoring IndexedDB error during garbage collection: ",n):await _c(n)}await this.mr(3e5)})}}class gU{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(qm.le);const r=new mU(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(RE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,u,d,f,m;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,u=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,n))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(m=Date.now(),Gl()<=ut.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${i} in `+(d-u)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-x}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function xU(t,e){return new gU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rd(r.mutation,i,Ar.empty(),Ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=dt()){const i=Io();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let u=qu();return o.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Io();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,dt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,r,i){let o=Oi();const u=nd(),d=function(){return nd()}();return n.forEach((f,m)=>{const x=r.get(m.key);i.has(m.key)&&(x===void 0||x.mutation instanceof Ws)?o=o.insert(m.key,m):x!==void 0?(u.set(m.key,x.mutation.getFieldMask()),rd(x.mutation,m,x.mutation.getFieldMask(),Ft.now())):u.set(m.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,x)=>u.set(m,x)),n.forEach((m,x)=>{var v;return d.set(m,new vU(x,(v=u.get(m))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,n){const r=nd();let i=new Yt((u,d)=>u-d),o=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=n.get(f);if(m===null)return;let x=r.get(f)||Ar.empty();x=d.applyToLocalView(m,x),r.set(f,x);const v=(i.get(d.batchId)||dt()).add(f);i=i.insert(d.batchId,v)})}).next(()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,x=f.value,v=iA();x.forEach(b=>{if(!o.has(b)){const T=hA(n.get(b),r.get(b));T!==null&&v.set(b,T),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ge.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ge.resolve(Io());let d=kd,f=o;return u.next(m=>ge.forEach(m,(x,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(x)?ge.resolve():this.remoteDocumentCache.getEntry(e,x).next(b=>{f=f.insert(x,b)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,dt())).next(x=>({batchId:d,changes:aA(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next(r=>{let i=qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let u=qu();return this.indexManager.getCollectionParents(e,o).next(d=>ge.forEach(d,f=>{const m=function(v,b){return new Nc(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(x=>{x.forEach((v,b)=>{u=u.insert(v,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(u=>{o.forEach((f,m)=>{const x=m.getKey();u.get(x)===null&&(u=u.insert(x,Gn.newInvalidDocument(x)))});let d=qu();return u.forEach((f,m)=>{const x=o.get(f);x!==void 0&&rd(x.mutation,m,Ar.empty(),Ft.now()),Km(n,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ge.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wa(i.createTime)}}(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:uU(i.bundledQuery),readTime:Wa(i.readTime)}}(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.overlays=new Yt(Le.comparator),this.Qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Io();return ge.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=Io(),o=n.length+1,u=new Le(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Yt((m,x)=>m-x);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let x=o.get(m.largestBatchId);x===null&&(x=Io(),o=o.insert(m.largestBatchId,x)),x.set(m.getKey(),m)}}const d=Io(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,x)=>d.set(m,x)),!(d.size()>=i)););return ge.resolve(d)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new F7(n,r));let o=this.Qr.get(n);o===void 0&&(o=dt(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.$r=new wn(Nn.Ur),this.Kr=new wn(Nn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Nn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Le(new Ut([])),r=new Nn(n,e),i=new Nn(n,e+1),o=[];return this.Kr.forEachInRange([r,i],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Le(new Ut([])),r=new Nn(n,e),i=new Nn(n,e+1);let o=dt();return this.Kr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new Nn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Le.comparator(e.key,n.key)||rt(e.Zr,n.Zr)}static Wr(e,n){return rt(e.Zr,n.Zr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new wn(Nn.Ur)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new z7(o,n,r,i);this.mutationQueue.push(u);for(const d of i)this.Xr=this.Xr.add(new Nn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(e,n){return ge.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?cv:this.nr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),i=new Nn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],u=>{const d=this.ei(u.Zr);o.push(d)}),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(rt);return n.forEach(i=>{const o=new Nn(i,0),u=new Nn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],d=>{r=r.add(d.Zr)})}),ge.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const u=new Nn(new Le(o),0);let d=new wn(rt);return this.Xr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(f.Zr)),!0)},u),ge.resolve(this.ni(d))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_t(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ge.forEach(n.mutations,i=>{const o=new Nn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Nn(n,0),i=this.Xr.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.ii=e,this.docs=function(){return new Yt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=Oi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Gn.newInvalidDocument(i))}),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Oi();const u=n.path,d=new Le(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:x}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||t7(e7(x),r)<=0||(i.has(x.key)||Km(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,n,r,i){He(9500)}si(e,n){return ge.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SU(this)}getSize(e){return ge.resolve(this.size)}}class SU extends yU{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ge.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.persistence=e,this.oi=new Wo(n=>hv(n),fv),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this._i=0,this.ai=new bv,this.targetCount=0,this.ui=mc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ge.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new mc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Tr(n),ge.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),ge.waitFor(o).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),ge.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.ci={},this.overlays={},this.li=new qm(0),this.hi=!1,this.hi=!0,this.Pi=new kU,this.referenceDelegate=e(this),this.Ti=new NU(this),this.indexManager=new dU,this.remoteDocumentCache=function(i){return new _U(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new cU(n),this.Ei=new wU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new EU(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new AU(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return ge.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class AU extends r7{constructor(e){super(),this.currentSequenceNumber=e}}class wv{constructor(e){this.persistence=e,this.Vi=new bv,this.mi=null}static fi(e){return new wv(e)}get gi(){if(this.mi)return this.mi;throw He(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.gi,r=>{const i=Le.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,Xe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ge.or([()=>ge.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class vm{constructor(e,n){this.persistence=e,this.yi=new Wo(r=>s7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=xU(this,n)}static fi(e,n){return new vm(e,n)}di(){}Ai(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ge.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?ge.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,u=>this.Dr(e,u,n).next(d=>{d||(r++,o.removeEntry(u,Xe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ge.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}Dr(e,n,r){return ge.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=dt(),i=dt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Tv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return lO()?8:a7(Kn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new CU;return this.Ss(e,n,u).next(d=>{if(o.result=d,this.fs)return this.Ds(e,n,u,d.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Gl()<=ut.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",$l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ge.resolve()):(Gl()<=ut.DEBUG&&_e("QueryEngine","Query:",$l(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Gl()<=ut.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",$l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xa(n))):ge.resolve())}ws(e,n){if(wE(n))return ge.resolve(null);let r=Xa(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qx(n,null,"F"),r=Xa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=dt(...o);return this.ys.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.vs(n,d);return this.Cs(n,m,u,f.readTime)?this.ws(e,qx(n,null,"F")):this.Fs(e,m,n,f)}))})))}bs(e,n,r,i){return wE(n)||i.isEqual(Xe.min())?ge.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(n,o);return this.Cs(n,u,r,i)?ge.resolve(null):(Gl()<=ut.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$l(n)),this.Fs(e,u,n,JV(i,kd)).next(d=>d))})}vs(e,n){let r=new wn(nA(e));return n.forEach((i,o)=>{Km(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Gl()<=ut.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",$l(n)),this.ys.getDocumentsMatchingQuery(e,n,Ls.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="LocalStore",RU=3e8;class PU{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Yt(rt),this.Os=new Wo(o=>hv(o),fv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bU(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function DU(t,e,n,r){return new PU(t,e,n,r)}async function SA(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],d=[];let f=dt();for(const m of i){u.push(m.batchId);for(const x of m.mutations)f=f.add(x.key)}for(const m of o){d.push(m.batchId);for(const x of m.mutations)f=f.add(x.key)}return n.localDocuments.getDocuments(r,f).next(m=>({ks:m,removedBatchIds:u,addedBatchIds:d}))})})}function IU(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,x){const v=m.batch,b=v.keys();let T=ge.resolve();return b.forEach(_=>{T=T.next(()=>x.getEntry(f,_)).next(j=>{const O=m.docVersions.get(_);_t(O!==null,48541),j.version.compareTo(O)<0&&(v.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),x.addEntry(j)))})}),T.next(()=>d.mutationQueue.removeMutationBatch(f,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=dt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NA(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function MU(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const d=[];e.targetChanges.forEach((x,v)=>{const b=i.get(v);if(!b)return;d.push(n.Ti.removeMatchingKeys(o,x.removedDocuments,v).next(()=>n.Ti.addMatchingKeys(o,x.addedDocuments,v)));let T=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Vn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):x.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(x.resumeToken,r)),i=i.insert(v,T),function(j,O,M){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=RU?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(b,T,x)&&d.push(n.Ti.updateTargetData(o,T))});let f=Oi(),m=dt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))}),d.push(OU(o,u,e.documentUpdates).next(x=>{f=x.qs,m=x.Qs})),!r.isEqual(Xe.min())){const x=n.Ti.getLastRemoteSnapshotVersion(o).next(v=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(x)}return ge.waitFor(d).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(n.xs=i,o))}function OU(t,e,n){let r=dt(),i=dt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=Oi();return n.forEach((d,f)=>{const m=o.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):_e(kv,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{qs:u,Qs:i}})}function LU(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VU(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,ge.resolve(i)):n.Ti.allocateTargetId(r).next(u=>(i=new As(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Yx(t,e,n){const r=Ze(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Sc(u))throw u;_e(kv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function IE(t,e,n){const r=Ze(t);let i=Xe.min(),o=dt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,x){const v=Ze(f),b=v.Os.get(x);return b!==void 0?ge.resolve(v.xs.get(b)):v.Ti.getTargetData(m,x)}(r,u,Xa(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,d.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?i:Xe.min(),n?o:dt())).next(d=>(UU(r,_7(e),d),{documents:d,$s:o})))}function UU(t,e,n){let r=t.Ns.get(e)||Xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class ME{constructor(){this.activeTargetIds=R7()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zU{constructor(){this.xo=new ME,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ME,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="ConnectivityMonitor";class LE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(OE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(OE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf=null;function Qx(){return Sf===null?Sf=function(){return 268435456+Math.round(2147483648*Math.random())}():Sf++,"0x"+Sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="RestConnection",BU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qU{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===mm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const u=Qx(),d=this.jo(e,n.toUriEncodedString());_e(q0,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,o);const{host:m}=new URL(d),x=Ys(m);return this.Jo(e,d,f,r,x).then(v=>(_e(q0,`Received RPC '${e}' ${u}: `,v),v),v=>{throw cc(q0,`RPC '${e}' ${u} failed with error: `,v,"url: ",d,"request:",r),v})}Yo(e,n,r,i,o,u){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ec}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=BU[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class GU extends qU{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const u=Qx();return new Promise((d,f)=>{const m=new CN;m.setWithCredentials(!0),m.listenOnce(jN.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case zf.NO_ERROR:const v=m.getResponseJson();_e(qn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),d(v);break;case zf.TIMEOUT:_e(qn,`RPC '${e}' ${u} timed out`),f(new Se(me.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const b=m.getStatus();if(_e(qn,`RPC '${e}' ${u} failed with status:`,b,"response text:",m.getResponseText()),b>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const _=T==null?void 0:T.error;if(_&&_.status&&_.message){const j=function(M){const z=M.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(z)>=0?z:me.UNKNOWN}(_.status);f(new Se(j,_.message))}else f(new Se(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Se(me.UNAVAILABLE,"Connection failed."));break;default:He(9055,{h_:e,streamId:u,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{_e(qn,`RPC '${e}' ${u} completed.`)}});const x=JSON.stringify(i);_e(qn,`RPC '${e}' ${u} sending request:`,i),m.send(n,"POST",x,r,15)})}I_(e,n,r){const i=Qx(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=DN(),d=PN(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const x=o.join("");_e(qn,`Creating RPC '${e}' stream ${i}: ${x}`,f);const v=u.createWebChannel(x,f);this.E_(v);let b=!1,T=!1;const _=new HU({Zo:O=>{T?_e(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(b||(_e(qn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),b=!0),_e(qn,`RPC '${e}' stream ${i} sending:`,O),v.send(O))},Xo:()=>v.close()}),j=(O,M,z)=>{O.listen(M,L=>{try{z(L)}catch(q){setTimeout(()=>{throw q},0)}})};return j(v,Bu.EventType.OPEN,()=>{T||(_e(qn,`RPC '${e}' stream ${i} transport opened.`),_.__())}),j(v,Bu.EventType.CLOSE,()=>{T||(T=!0,_e(qn,`RPC '${e}' stream ${i} transport closed`),_.u_(),this.d_(v))}),j(v,Bu.EventType.ERROR,O=>{T||(T=!0,cc(qn,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),_.u_(new Se(me.UNAVAILABLE,"The operation could not be completed")))}),j(v,Bu.EventType.MESSAGE,O=>{var M;if(!T){const z=O.data[0];_t(!!z,16349);const L=z,q=(L==null?void 0:L.error)||((M=L[0])===null||M===void 0?void 0:M.error);if(q){_e(qn,`RPC '${e}' stream ${i} received error:`,q);const V=q.status;let D=function(S){const I=hn[S];if(I!==void 0)return mA(I)}(V),P=q.message;D===void 0&&(D=me.INTERNAL,P="Unknown error status: "+V+" with message "+q.message),T=!0,_.u_(new Se(D,P)),v.close()}else _e(qn,`RPC '${e}' stream ${i} received:`,z),_.c_(z)}}),j(d,RN.STAT_EVENT,O=>{O.stat===Ox.PROXY?_e(qn,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Ox.NOPROXY&&_e(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function H0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){return new Q7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="PersistentStream";class CA{constructor(e,n,r,i,o,u,d,f){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new AA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new Se(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return _e(VE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(_e(VE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $U extends CA{constructor(e,n,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=Z7(this.serializer,e),r=function(o){if(!("targetChange"in o))return Xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?Wa(u.readTime):Xe.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Kx(this.serializer),n.addTarget=function(o,u){let d;const f=u.target;if(d=Fx(f)?{documents:tU(o,f)}:{query:nU(o,f).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=xA(o,u.resumeToken);const m=Hx(o,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Xe.min())>0){d.readTime=ym(o,u.snapshotVersion.toTimestamp());const m=Hx(o,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=aU(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Kx(this.serializer),n.removeTarget=e,this.Q_(n)}}class KU extends CA{constructor(e,n,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=eU(e.writeResults,e.commitTime),r=Wa(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Kx(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>J7(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{}class QU extends YU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Se(me.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,Gx(n,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(me.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Yo(e,Gx(n,r),i,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(me.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class XU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Mi(n),this.ua=!1):_e("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="RemoteStore";class WU{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{r.enqueueAndForget(async()=>{Zo(this)&&(_e(qo,"Restarting streams for network reachability change."),await async function(f){const m=Ze(f);m.da.add(4),await Kd(m),m.Va.set("Unknown"),m.da.delete(4),await Zm(m)}(this))})}),this.Va=new XU(r,i)}}async function Zm(t){if(Zo(t))for(const e of t.Aa)await e(!0)}async function Kd(t){for(const e of t.Aa)await e(!1)}function jA(t,e){const n=Ze(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Nv(n)?Sv(n):Ac(n).N_()&&_v(n,e))}function Ev(t,e){const n=Ze(t),r=Ac(n);n.Ea.delete(e),r.N_()&&RA(n,e),n.Ea.size===0&&(r.N_()?r.k_():Zo(n)&&n.Va.set("Unknown"))}function _v(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ac(t).Z_(e)}function RA(t,e){t.ma.Ke(e),Ac(t).X_(e)}function Sv(t){t.ma=new G7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ac(t).start(),t.Va.ca()}function Nv(t){return Zo(t)&&!Ac(t).O_()&&t.Ea.size>0}function Zo(t){return Ze(t).da.size===0}function PA(t){t.ma=void 0}async function ZU(t){t.Va.set("Online")}async function JU(t){t.Ea.forEach((e,n)=>{_v(t,e)})}async function ez(t,e){PA(t),Nv(t)?(t.Va.Pa(e),Sv(t)):t.Va.set("Unknown")}async function tz(t,e,n){if(t.Va.set("Online"),e instanceof gA&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const d of o.targetIds)i.Ea.has(d)&&(await i.remoteSyncer.rejectListen(d,u),i.Ea.delete(d),i.ma.removeTarget(d))}(t,e)}catch(r){_e(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bm(t,r)}else if(e instanceof Hf?t.ma.Xe(e):e instanceof pA?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Xe.min()))try{const r=await NA(t.localStore);n.compareTo(r)>=0&&await function(o,u){const d=o.ma.It(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const x=o.Ea.get(m);x&&o.Ea.set(m,x.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const x=o.Ea.get(f);if(!x)return;o.Ea.set(f,x.withResumeToken(Vn.EMPTY_BYTE_STRING,x.snapshotVersion)),RA(o,f);const v=new As(x.target,f,m,x.sequenceNumber);_v(o,v)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){_e(qo,"Failed to raise snapshot:",r),await bm(t,r)}}async function bm(t,e,n){if(!Sc(e))throw e;t.da.add(1),await Kd(t),t.Va.set("Offline"),n||(n=()=>NA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(qo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Zm(t)})}function DA(t,e){return e().catch(n=>bm(t,n,e))}async function Jm(t){const e=Ze(t),n=Fs(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:cv;for(;nz(e);)try{const i=await LU(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,rz(e,i)}catch(i){await bm(e,i)}IA(e)&&MA(e)}function nz(t){return Zo(t)&&t.Ia.length<10}function rz(t,e){t.Ia.push(e);const n=Fs(t);n.N_()&&n.ea&&n.ta(e.mutations)}function IA(t){return Zo(t)&&!Fs(t).O_()&&t.Ia.length>0}function MA(t){Fs(t).start()}async function az(t){Fs(t).ia()}async function iz(t){const e=Fs(t);for(const n of t.Ia)e.ta(n.mutations)}async function sz(t,e,n){const r=t.Ia.shift(),i=xv.from(r,e,n);await DA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jm(t)}async function oz(t,e){e&&Fs(t).ea&&await async function(r,i){if(function(u){return q7(u)&&u!==me.ABORTED}(i.code)){const o=r.Ia.shift();Fs(r).L_(),await DA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Jm(r)}}(t,e),IA(t)&&MA(t)}async function UE(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),_e(qo,"RemoteStore received new credentials");const r=Zo(n);n.da.add(3),await Kd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Zm(n)}async function lz(t,e){const n=Ze(t);e?(n.da.delete(2),await Zm(n)):e||(n.da.add(2),await Kd(n),n.Va.set("Unknown"))}function Ac(t){return t.fa||(t.fa=function(n,r,i){const o=Ze(n);return o.oa(),new $U(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:ZU.bind(null,t),n_:JU.bind(null,t),i_:ez.bind(null,t),Y_:tz.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Nv(t)?Sv(t):t.Va.set("Unknown")):(await t.fa.stop(),PA(t))})),t.fa}function Fs(t){return t.ga||(t.ga=function(n,r,i){const o=Ze(n);return o.oa(),new KU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:az.bind(null,t),i_:oz.bind(null,t),na:iz.bind(null,t),ra:sz.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Jm(t)):(await t.ga.stop(),t.Ia.length>0&&(_e(qo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const u=Date.now()+r,d=new Av(e,n,u,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),Sc(t))return new Se(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{static emptySet(e){return new ac(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=qu(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ac)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ac;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.pa=new Yt(Le.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class pc{constructor(e,n,r,i,o,u,d,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,o){const u=[];return n.forEach(d=>{u.push({type:0,doc:d})}),new pc(e,n,ac.emptySet(n),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$m(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class uz{constructor(){this.queries=FE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ze(n),o=i.queries;i.queries=FE(),o.forEach((u,d)=>{for(const f of d.Sa)f.onError(r)})})(this,new Se(me.ABORTED,"Firestore shutting down"))}}function FE(){return new Wo(t=>tA(t),$m)}async function OA(t,e){const n=Ze(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new cz,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const d=Cv(u,`Initialization of query '${$l(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&jv(n)}async function LA(t,e){const n=Ze(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dz(t,e){const n=Ze(t);let r=!1;for(const i of e){const o=i.query,u=n.queries.get(o);if(u){for(const d of u.Sa)d.Ma(i)&&(r=!0);u.ba=i}}r&&jv(n)}function hz(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function jv(t){t.Ca.forEach(e=>{e.next()})}var Xx,BE;(BE=Xx||(Xx={})).xa="default",BE.Cache="cache";class VA{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Xx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.key=e}}class zA{constructor(e){this.key=e}}class fz{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dt(),this.mutatedKeys=dt(),this.Za=nA(e),this.Xa=new ac(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new zE,i=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,u=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((x,v)=>{const b=i.get(x),T=Km(this.query,v)?v:null,_=!!b&&this.mutatedKeys.has(b.key),j=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let O=!1;b&&T?b.data.isEqual(T.data)?_!==j&&(r.track({type:3,doc:T}),O=!0):this.ru(b,T)||(r.track({type:2,doc:T}),O=!0,(f&&this.Za(T,f)>0||m&&this.Za(T,m)<0)&&(d=!0)):!b&&T?(r.track({type:0,doc:T}),O=!0):b&&!T&&(r.track({type:1,doc:b}),O=!0,(f||m)&&(d=!0)),O&&(T?(u=u.add(T),o=j?o.add(x):o.delete(x)):(u=u.delete(x),o=o.delete(x)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),o=o.delete(x.key),r.track({type:1,doc:x})}return{Xa:u,nu:r,Cs:d,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((x,v)=>function(T,_){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:O})}};return j(T)-j(_)}(x.type,v.type)||this.Za(x.doc,v.doc)),this.iu(r),i=i!=null&&i;const d=n&&!i?this.su():[],f=this.Ya.size===0&&this.current&&!i?1:0,m=f!==this.Ja;return this.Ja=f,u.length!==0||m?{snapshot:new pc(this.query,e.Xa,o,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new zE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=dt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new zA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new UA(r))}),n}au(e){this.Ha=e.$s,this.Ya=dt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return pc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Rv="SyncEngine";class mz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pz{constructor(e){this.key=e,this.cu=!1}}class gz{constructor(e,n,r,i,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Wo(d=>tA(d),$m),this.Pu=new Map,this.Tu=new Set,this.Iu=new Yt(Le.comparator),this.Eu=new Map,this.du=new bv,this.Au={},this.Ru=new Map,this.Vu=mc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function xz(t,e,n=!0){const r=$A(t);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await FA(r,e,n,!0),i}async function yz(t,e){const n=$A(t);await FA(n,e,!0,!1)}async function FA(t,e,n,r){const i=await VU(t.localStore,Xa(e)),o=i.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await vz(t,e,o,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&jA(t.remoteStore,i),d}async function vz(t,e,n,r,i){t.fu=(v,b,T)=>async function(j,O,M,z){let L=O.view.tu(M);L.Cs&&(L=await IE(j.localStore,O.query,!1).then(({documents:P})=>O.view.tu(P,L)));const q=z&&z.targetChanges.get(O.targetId),V=z&&z.targetMismatches.get(O.targetId)!=null,D=O.view.applyChanges(L,j.isPrimaryClient,q,V);return HE(j,O.targetId,D.ou),D.snapshot}(t,v,b,T);const o=await IE(t.localStore,e,!0),u=new fz(e,o.$s),d=u.tu(o.documents),f=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=u.applyChanges(d,t.isPrimaryClient,f);HE(t,n,m.ou);const x=new mz(e,n,u);return t.hu.set(e,x),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),m.snapshot}async function bz(t,e,n){const r=Ze(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(u=>!$m(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ev(r.remoteStore,i.targetId),Wx(r,i.targetId)}).catch(_c)):(Wx(r,i.targetId),await Yx(r.localStore,i.targetId,!0))}async function wz(t,e){const n=Ze(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ev(n.remoteStore,r.targetId))}async function Tz(t,e,n){const r=Cz(t);try{const i=await function(u,d){const f=Ze(u),m=Ft.now(),x=d.reduce((T,_)=>T.add(_.key),dt());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let _=Oi(),j=dt();return f.Bs.getEntries(T,x).next(O=>{_=O,_.forEach((M,z)=>{z.isValidDocument()||(j=j.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,_)).next(O=>{v=O;const M=[];for(const z of d){const L=V7(z,v.get(z.key).overlayedDocument);L!=null&&M.push(new Ws(z.key,L,KN(L.value.mapValue),Jr.exists(!0)))}return f.mutationQueue.addMutationBatch(T,m,M,d)}).next(O=>{b=O;const M=O.applyToLocalDocumentSet(v,j);return f.documentOverlayCache.saveOverlays(T,O.batchId,M)})}).then(()=>({batchId:b.batchId,changes:aA(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,f){let m=u.Au[u.currentUser.toKey()];m||(m=new Yt(rt)),m=m.insert(d,f),u.Au[u.currentUser.toKey()]=m}(r,i.batchId,n),await Yd(r,i.changes),await Jm(r.remoteStore)}catch(i){const o=Cv(i,"Failed to persist write");n.reject(o)}}async function BA(t,e){const n=Ze(t);try{const r=await MU(n.localStore,e);e.targetChanges.forEach((i,o)=>{const u=n.Eu.get(o);u&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.cu=!0:i.modifiedDocuments.size>0?_t(u.cu,14607):i.removedDocuments.size>0&&(_t(u.cu,42227),u.cu=!1))}),await Yd(n,r,e)}catch(r){await _c(r)}}function qE(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((o,u)=>{const d=u.view.Fa(e);d.snapshot&&i.push(d.snapshot)}),function(u,d){const f=Ze(u);f.onlineState=d;let m=!1;f.queries.forEach((x,v)=>{for(const b of v.Sa)b.Fa(d)&&(m=!0)}),m&&jv(f)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kz(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let u=new Yt(Le.comparator);u=u.insert(o,Gn.newNoDocument(o,Xe.min()));const d=dt().add(o),f=new Xm(Xe.min(),new Map,new Yt(rt),u,d);await BA(r,f),r.Iu=r.Iu.remove(o),r.Eu.delete(e),Pv(r)}else await Yx(r.localStore,e,!1).then(()=>Wx(r,e,n)).catch(_c)}async function Ez(t,e){const n=Ze(t),r=e.batch.batchId;try{const i=await IU(n.localStore,e);HA(n,r,null),qA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,i)}catch(i){await _c(i)}}async function _z(t,e,n){const r=Ze(t);try{const i=await function(u,d){const f=Ze(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let x;return f.mutationQueue.lookupMutationBatch(m,d).next(v=>(_t(v!==null,37113),x=v.keys(),f.mutationQueue.removeMutationBatch(m,v))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,x,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,x)).next(()=>f.localDocuments.getDocuments(m,x))})}(r.localStore,e);HA(r,e,n),qA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yd(r,i)}catch(i){await _c(i)}}function qA(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function HA(t,e,n){const r=Ze(t);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Wx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||GA(t,r)})}function GA(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Ev(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Pv(t))}function HE(t,e,n){for(const r of n)r instanceof UA?(t.du.addReference(r.key,e),Sz(t,r)):r instanceof zA?(_e(Rv,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||GA(t,r.key)):He(19791,{pu:r})}function Sz(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(_e(Rv,"New document in limbo: "+n),t.Tu.add(r),Pv(t))}function Pv(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Le(Ut.fromString(e)),r=t.Vu.next();t.Eu.set(r,new pz(n)),t.Iu=t.Iu.insert(n,r),jA(t.remoteStore,new As(Xa(mv(n.path)),r,"TargetPurposeLimboResolution",qm.le))}}async function Yd(t,e,n){const r=Ze(t),i=[],o=[],u=[];r.hu.isEmpty()||(r.hu.forEach((d,f)=>{u.push(r.fu(f,e,n).then(m=>{var x;if((m||n)&&r.isPrimaryClient){const v=m?!m.fromCache:(x=n==null?void 0:n.targetChanges.get(f.targetId))===null||x===void 0?void 0:x.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){i.push(m);const v=Tv.Rs(f.targetId,m);o.push(v)}}))}),await Promise.all(u),r.lu.Y_(i),await async function(f,m){const x=Ze(f);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ge.forEach(m,b=>ge.forEach(b.ds,T=>x.persistence.referenceDelegate.addReference(v,b.targetId,T)).next(()=>ge.forEach(b.As,T=>x.persistence.referenceDelegate.removeReference(v,b.targetId,T)))))}catch(v){if(!Sc(v))throw v;_e(kv,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const T=x.xs.get(b),_=T.snapshotVersion,j=T.withLastLimboFreeSnapshotVersion(_);x.xs=x.xs.insert(b,j)}}}(r.localStore,o))}async function Nz(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){_e(Rv,"User change. New user:",e.toKey());const r=await SA(n.localStore,e);n.currentUser=e,function(o,u){o.Ru.forEach(d=>{d.forEach(f=>{f.reject(new Se(me.CANCELLED,u))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yd(n,r.ks)}}function Az(t,e){const n=Ze(t),r=n.Eu.get(e);if(r&&r.cu)return dt().add(r.key);{let i=dt();const o=n.Pu.get(e);if(!o)return i;for(const u of o){const d=n.hu.get(u);i=i.unionWith(d.view.eu)}return i}}function $A(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Az.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kz.bind(null,e),e.lu.Y_=dz.bind(null,e.eventManager),e.lu.gu=hz.bind(null,e.eventManager),e}function Cz(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ez.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_z.bind(null,e),e}class wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return DU(this.persistence,new jU,e.initialUser,this.serializer)}Su(e){return new _A(wv.fi,this.serializer)}bu(e){return new zU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wm.provider={build:()=>new wm};class jz extends wm{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){_t(this.persistence.referenceDelegate instanceof vm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pU(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new _A(r=>vm.fi(r,n),this.serializer)}}class Zx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nz.bind(null,this.syncEngine),await lz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uz}()}createDatastore(e){const n=Wm(e.databaseInfo.databaseId),r=function(o){return new GU(o)}(e.databaseInfo);return function(o,u,d,f){return new QU(o,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,u,d){return new WU(r,i,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>qE(this.syncEngine,n,0),function(){return LE.C()?new LE:new FU}())}createSyncEngine(e,n){return function(i,o,u,d,f,m,x){const v=new gz(i,o,u,d,f,m);return x&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ze(i);_e(qo,"RemoteStore shutting down."),o.da.add(5),await Kd(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zx.provider={build:()=>new Zx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="FirestoreClient";class Rz{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=LN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{_e(Bs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(_e(Bs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function G0(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Bs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Pz(t);_e(Bs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UE(e.remoteStore,i)),t._onlineComponents=e}async function Pz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Bs,"Using user provided OfflineComponentProvider");try{await G0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;cc("Error using user provided cache. Falling back to memory cache: "+n),await G0(t,new wm)}}else _e(Bs,"Using default OfflineComponentProvider"),await G0(t,new jz(void 0));return t._offlineComponents}async function YA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Bs,"Using user provided OnlineComponentProvider"),await GE(t,t._uninitializedComponentsProvider._online)):(_e(Bs,"Using default OnlineComponentProvider"),await GE(t,new Zx))),t._onlineComponents}function Dz(t){return YA(t).then(e=>e.syncEngine)}async function QA(t){const e=await YA(t),n=e.eventManager;return n.onListen=xz.bind(null,e.syncEngine),n.onUnlisten=bz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wz.bind(null,e.syncEngine),n}function Iz(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,m){const x=new KA({next:b=>{x.xu(),u.enqueueAndForget(()=>LA(o,v));const T=b.docs.has(d);!T&&b.fromCache?m.reject(new Se(me.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&f&&f.source==="server"?m.reject(new Se(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new VA(mv(d.path),x,{includeMetadataChanges:!0,Qa:!0});return OA(o,v)}(await QA(t),t.asyncQueue,e,n,r)),r.promise}function Mz(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,m){const x=new KA({next:b=>{x.xu(),u.enqueueAndForget(()=>LA(o,v)),b.fromCache&&f.source==="server"?m.reject(new Se(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new VA(d,x,{includeMetadataChanges:!0,Qa:!0});return OA(o,v)}(await QA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e,n){if(!n)throw new Se(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Oz(t,e,n,r){if(e===!0&&r===!0)throw new Se(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KE(t){if(!Le.isDocumentKey(t))throw new Se(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YE(t){if(Le.isDocumentKey(t))throw new Se(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ep(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function ba(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ep(t);throw new Se(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firestore.googleapis.com",QE=!0;class XE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZA,this.ssl=QE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:QE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fU)throw new Se(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Oz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HV;switch(r.type){case"firstParty":return new YV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$E.get(n);r&&(_e("ComponentProvider","Removing Datastore"),$E.delete(n),r.terminate())}(this),Promise.resolve()}}function Lz(t,e,n,r={}){var i;t=ba(t,tp);const o=Ys(e),u=t._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&(Ky(`https://${f}`),Yy("Firestore",!0)),u.host!==ZA&&u.host!==f&&cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!Pi(m,d)&&(t._setSettings(m),r.mockUserToken)){let x,v;if(typeof r.mockUserToken=="string")x=r.mockUserToken,v=Hn.MOCK_USER;else{x=V4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Se(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Hn(b)}t._authCredentials=new GV(new MN(x,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class nr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class Ds extends Jo{constructor(e,n,r){super(e,n,mv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new Le(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function ga(t,e,...n){if(t=qt(t),WA("collection","path",e),t instanceof tp){const r=Ut.fromString(e,...n);return YE(r),new Ds(t,null,r)}{if(!(t instanceof nr||t instanceof Ds))throw new Se(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return YE(r),new Ds(t.firestore,null,r)}}function Vt(t,e,...n){if(t=qt(t),arguments.length===1&&(e=LN.newId()),WA("doc","path",e),t instanceof tp){const r=Ut.fromString(e,...n);return KE(r),new nr(t,null,new Le(r))}{if(!(t instanceof nr||t instanceof Ds))throw new Se(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return KE(r),new nr(t.firestore,t instanceof Ds?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="AsyncQueue";class ZE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new AA(this,"async_queue_retry"),this.rc=()=>{const r=H0();r&&_e(WE,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=H0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=H0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ci;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Sc(e))throw e;_e(WE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Mi("INTERNAL UNHANDLED ERROR: ",JE(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=Av.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&He(47125,{cc:JE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function JE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class el extends tp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function Vz(t,e){const n=typeof t=="object"?t:Um(),r=typeof t=="string"?t:mm,i=Qs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=M4("firestore");o&&Lz(i,...o)}return i}function Dv(t){if(t._terminated)throw new Se(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Uz(t),t._firestoreClient}function Uz(t){var e,n,r;const i=t._freezeSettings(),o=function(d,f,m,x){return new c7(d,f,m,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,XA(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Rz(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc(Vn.fromBase64String(e))}catch(n){throw new Se(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gc(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=/^__.*__$/;class Fz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gd(e,this.data,n,this.fieldTransforms)}}class JA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ic:t})}}class rp{constructor(e,n,r,i,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Tm(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(eC(this.Ic)&&zz.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Bz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wm(e)}bc(e,n,r,i=!1){return new rp({Ic:e,methodName:n,wc:r,path:Ln.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ap(t){const e=t._freezeSettings(),n=Wm(t._databaseId);return new Bz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tC(t,e,n,r,i,o={}){const u=t.bc(o.merge||o.mergeFields?2:0,e,n,i);Vv("Data must be an object, but it was:",u,r);const d=nC(r,u);let f,m;if(o.merge)f=new Ar(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const x=[];for(const v of o.mergeFields){const b=Jx(e,v,n);if(!u.contains(b))throw new Se(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);aC(x,b)||x.push(b)}f=new Ar(x),m=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,m=u.fieldTransforms;return new Fz(new ur(d),f,m)}class ip extends Qd{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ip}}function qz(t,e,n){return new rp({Ic:3,wc:e.settings.wc,methodName:t._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ov extends Qd{_toFieldTransform(e){return new dA(e.path,new Ad)}isEqual(e){return e instanceof Ov}}class Lv extends Qd{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=qz(this,e,!0),r=this.Sc.map(o=>Cc(o,n)),i=new fc(r);return new dA(e.path,i)}isEqual(e){return e instanceof Lv&&Pi(this.Sc,e.Sc)}}function Hz(t,e,n,r){const i=t.bc(1,e,n);Vv("Data must be an object, but it was:",i,r);const o=[],u=ur.empty();Xs(r,(f,m)=>{const x=Uv(e,f,n);m=qt(m);const v=i.mc(x);if(m instanceof ip)o.push(x);else{const b=Cc(m,v);b!=null&&(o.push(x),u.set(x,b))}});const d=new Ar(o);return new JA(u,d,i.fieldTransforms)}function Gz(t,e,n,r,i,o){const u=t.bc(1,e,n),d=[Jx(e,r,n)],f=[i];if(o.length%2!=0)throw new Se(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)d.push(Jx(e,o[b])),f.push(o[b+1]);const m=[],x=ur.empty();for(let b=d.length-1;b>=0;--b)if(!aC(m,d[b])){const T=d[b];let _=f[b];_=qt(_);const j=u.mc(T);if(_ instanceof ip)m.push(T);else{const O=Cc(_,j);O!=null&&(m.push(T),x.set(T,O))}}const v=new Ar(m);return new JA(x,v,u.fieldTransforms)}function $z(t,e,n,r=!1){return Cc(n,t.bc(r?4:3,e))}function Cc(t,e){if(rC(t=qt(t)))return Vv("Unsupported field value:",e,t),nC(t,e);if(t instanceof Qd)return function(r,i){if(!eC(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const d of r){let f=Cc(d,i.fc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ft.fromDate(r);return{timestampValue:ym(i.serializer,o)}}if(r instanceof Ft){const o=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ym(i.serializer,o)}}if(r instanceof Iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gc)return{bytesValue:xA(i.serializer,r._byteString)};if(r instanceof nr){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mv)return function(u,d){return{mapValue:{fields:{[GN]:{stringValue:$N},[pm]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.gc("VectorValues must only contain numeric values.");return pv(d.serializer,m)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${ep(r)}`)}(t,e)}function nC(t,e){const n={};return UN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(t,(r,i)=>{const o=Cc(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof Iv||t instanceof gc||t instanceof nr||t instanceof Qd||t instanceof Mv)}function Vv(t,e,n){if(!rC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ep(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Jx(t,e,n){if((e=qt(e))instanceof np)return e._internalPath;if(typeof e=="string")return Uv(t,e);throw Tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kz=new RegExp("[~\\*/\\[\\]]");function Uv(t,e,n){if(e.search(Kz)>=0)throw Tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new np(...e.split("."))._internalPath}catch{throw Tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tm(t,e,n,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new Se(me.INVALID_ARGUMENT,d+t+f)}function aC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yz extends iC{data(){return super.data()}}function sp(t,e){return typeof e=="string"?Uv(t,e):e instanceof np?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zv{}class sC extends zv{}function qs(t,e,...n){let r=[];e instanceof zv&&r.push(e),r=r.concat(n),function(o){const u=o.filter(f=>f instanceof Fv).length,d=o.filter(f=>f instanceof op).length;if(u>1||u>0&&d>0)throw new Se(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class op extends sC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new op(e,n,r)}_apply(e){const n=this._parse(e);return oC(e._query,n),new Jo(e.firestore,e.converter,Bx(e._query,n))}_parse(e){const n=ap(e.firestore);return function(o,u,d,f,m,x,v){let b;if(m.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Se(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){t_(v,x);const _=[];for(const j of v)_.push(e_(f,o,j));b={arrayValue:{values:_}}}else b=e_(f,o,v)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||t_(v,x),b=$z(d,u,v,x==="in"||x==="not-in");return mn.create(m,x,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jd(t,e,n){const r=e,i=sp("where",t);return op._create(i,r,n)}class Fv extends zv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:va.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let u=i;const d=o.getFlattenedFilters();for(const f of d)oC(u,f),u=Bx(u,f)}(e._query,n),new Jo(e.firestore,e.converter,Bx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bv extends sC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bv(e,n)}_apply(e){const n=function(i,o,u){if(i.startAt!==null)throw new Se(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nd(o,u)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new Nc(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Hs(t,e="asc"){const n=e,r=sp("orderBy",t);return Bv._create(r,n)}function e_(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new Se(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(e)&&n.indexOf("/")!==-1)throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ut.fromString(n));if(!Le.isDocumentKey(r))throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pE(t,new Le(r))}if(n instanceof nr)return pE(t,n._key);throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ep(n)}.`)}function t_(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oC(t,e){const n=function(i,o){for(const u of i)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Xz{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[pm].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>sn(u.doubleValue));return new Mv(o)}convertGeoPoint(e){return new Iv(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ed(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ut.fromString(e);_t(kA(r),9688,{name:e});const i=new _d(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return i.isEqual(n)||Mi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cC extends iC{constructor(e,n,r,i,o,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gf extends cC{data(e={}){return super.data(e)}}class Wz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gf(this._firestore,this._userDataWriter,r.key,r,new Gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(d=>{const f=new Gf(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Gu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new Gf(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Gu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,x=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),x=u.indexOf(d.doc.key)),{type:Zz(d.type),doc:f,oldIndex:m,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){t=ba(t,nr);const e=ba(t.firestore,el);return Iz(Dv(e),t._key).then(n=>Jz(e,t,n))}class uC extends Xz{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,n)}}function Li(t){t=ba(t,Jo);const e=ba(t.firestore,el),n=Dv(e),r=new uC(e);return Qz(t._query),Mz(n,t._query).then(i=>new Wz(e,r,t,i))}function qv(t,e,n){t=ba(t,nr);const r=ba(t.firestore,el),i=lC(t.converter,e);return lp(r,[tC(ap(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jr.none())])}function Rr(t,e,n,...r){t=ba(t,nr);const i=ba(t.firestore,el),o=ap(i);let u;return u=typeof(e=qt(e))=="string"||e instanceof np?Gz(o,"updateDoc",t._key,e,n,r):Hz(o,"updateDoc",t._key,e),lp(i,[u.toMutation(t._key,Jr.exists(!0))])}function km(t){return lp(ba(t.firestore,el),[new gv(t._key,Jr.none())])}function dC(t,e){const n=ba(t.firestore,el),r=Vt(t),i=lC(t.converter,e);return lp(n,[tC(ap(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then(()=>r)}function lp(t,e){return function(r,i){const o=new Ci;return r.asyncQueue.enqueueAndForget(async()=>Tz(await Dz(r),i,o)),o.promise}(Dv(t),e)}function Jz(t,e,n){const r=n.docs.get(e._key),i=new uC(t);return new cC(t,i,e._key,r,new Gu(n.hasPendingWrites,n.fromCache),e.converter)}function bn(){return new Ov("serverTimestamp")}function ey(...t){return new Lv("arrayUnion",t)}(function(e,n=!0){(function(i){Ec=i})(Xo),ya(new ta("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new el(new $V(r.getProvider("auth-internal")),new QV(u,r.getProvider("app-check-internal")),function(m,x){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(m.options.projectId,x)}(u,i),u);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),hr(rE,aE,e),hr(rE,aE,"esm2017")})();var eF="firebase",tF="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(eF,tF,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="firebasestorage.googleapis.com",fC="storageBucket",nF=2*60*1e3,rF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends aa{constructor(e,n,r=0){super($0(e),`Firebase Storage: ${n} (${$0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var en;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(en||(en={}));function $0(t){return"storage/"+t}function Hv(){const t="An unknown error occurred, please check the error payload for server response.";return new tn(en.UNKNOWN,t)}function aF(t){return new tn(en.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iF(t){return new tn(en.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tn(en.UNAUTHENTICATED,t)}function oF(){return new tn(en.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lF(t){return new tn(en.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cF(){return new tn(en.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uF(){return new tn(en.CANCELED,"User canceled the upload/download.")}function dF(t){return new tn(en.INVALID_URL,"Invalid URL '"+t+"'.")}function hF(t){return new tn(en.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fF(){return new tn(en.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fC+"' property when initializing the app?")}function mF(){return new tn(en.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pF(){return new tn(en.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gF(t){return new tn(en.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ty(t){return new tn(en.INVALID_ARGUMENT,t)}function mC(){return new tn(en.APP_DELETED,"The Firebase app was deleted.")}function xF(t){return new tn(en.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ad(t,e){return new tn(en.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mu(t){throw new tn(en.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cr.makeFromUrl(e,n)}catch{return new Cr(e,"")}if(r.path==="")return r;throw hF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+i+u,"i"),f={bucket:1,path:3};function m(q){q.path_=decodeURIComponent(q.path)}const x="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${x}/b/${i}/o${b}`,"i"),_={bucket:1,path:3},j=n===hC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",M=new RegExp(`^https?://${j}/${i}/${O}`,"i"),L=[{regex:d,indices:f,postModify:o},{regex:T,indices:_,postModify:m},{regex:M,indices:{bucket:1,path:2},postModify:m}];for(let q=0;q<L.length;q++){const V=L[q],D=V.regex.exec(e);if(D){const P=D[V.indices.bucket];let N=D[V.indices.path];N||(N=""),r=new Cr(P,N),V.postModify(r);break}}if(r==null)throw dF(e);return r}}class yF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e,n){let r=1,i=null,o=null,u=!1,d=0;function f(){return d===2}let m=!1;function x(...O){m||(m=!0,e.apply(null,O))}function v(O){i=setTimeout(()=>{i=null,t(T,f())},O)}function b(){o&&clearTimeout(o)}function T(O,...M){if(m){b();return}if(O){b(),x.call(null,O,...M);return}if(f()||u){b(),x.call(null,O,...M);return}r<64&&(r*=2);let L;d===1?(d=2,L=0):L=(r+Math.random())*1e3,v(L)}let _=!1;function j(O){_||(_=!0,b(),!m&&(i!==null?(O||(d=2),clearTimeout(i),v(0)):O||(d=1)))}return v(0),o=setTimeout(()=>{u=!0,j(!0)},n),j}function bF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){return t!==void 0}function TF(t){return typeof t=="object"&&!Array.isArray(t)}function Gv(t){return typeof t=="string"||t instanceof String}function n_(t){return $v()&&t instanceof Blob}function $v(){return typeof Blob<"u"}function r_(t,e,n,r){if(r<e)throw ty(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ty(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function pC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Uo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n,r,i,o,u,d,f,m,x,v,b=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=x,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,j)=>{this.resolve_=_,this.reject_=j,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Nf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const d=o.getErrorCode()===Uo.NO_ERROR,f=o.getStatus();if(!d||kF(f,this.additionalRetryCodes_)&&this.retry){const x=o.getErrorCode()===Uo.ABORT;r(!1,new Nf(!1,null,x));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Nf(m,o))})},n=(r,i)=>{const o=this.resolve_,u=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());wF(f)?o(f):o()}catch(f){u(f)}else if(d!==null){const f=Hv();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(i.canceled){const f=this.appDelete_?mC():uF();u(f)}else{const f=cF();u(f)}};this.canceled_?n(!1,new Nf(!1,null,!0)):this.backoffId_=vF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _F(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CF(t,e,n,r,i,o,u=!0,d=!1){const f=pC(t.urlParams),m=t.url+f,x=Object.assign({},t.headers);return NF(x,e),_F(x,n),SF(x,o),AF(x,r),new EF(m,t.method,x,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RF(...t){const e=jF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if($v())return new Blob(t);throw new tn(en.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){if(typeof atob>"u")throw gF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class K0{constructor(e,n){this.data=e,this.contentType=n||null}}function IF(t,e){switch(t){case qa.RAW:return new K0(gC(e));case qa.BASE64:case qa.BASE64URL:return new K0(xC(t,e));case qa.DATA_URL:return new K0(OF(e),LF(e))}throw Hv()}function gC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=t.charCodeAt(++n);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MF(t){let e;try{e=decodeURIComponent(t)}catch{throw ad(qa.DATA_URL,"Malformed data URL.")}return gC(e)}function xC(t,e){switch(t){case qa.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw ad(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qa.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw ad(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DF(e)}catch(i){throw i.message.includes("polyfill")?i:ad(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class yC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ad(qa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=VF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function OF(t){const e=new yC(t);return e.base64?xC(qa.BASE64,e.rest):MF(e.rest)}function LF(t){return new yC(t).contentType}function VF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){let r=0,i="";n_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(n_(this.data_)){const r=this.data_,i=PF(r,e,n);return i===null?null:new Ns(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ns(r,!0)}}static getBlob(...e){if($v()){const n=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(RF.apply(null,n))}else{const n=e.map(u=>Gv(u)?IF(qa.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(u=>{for(let d=0;d<u.length;d++)i[o++]=u[d]}),new Ns(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){let e;try{e=JSON.parse(t)}catch{return null}return TF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function bC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t,e){return e}class Jn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||FF}}let Af=null;function BF(t){return!Gv(t)||t.length<2?t:bC(t)}function wC(){if(Af)return Af;const t=[];t.push(new Jn("bucket")),t.push(new Jn("generation")),t.push(new Jn("metageneration")),t.push(new Jn("name","fullPath",!0));function e(o,u){return BF(u)}const n=new Jn("name");n.xform=e,t.push(n);function r(o,u){return u!==void 0?Number(u):u}const i=new Jn("size");return i.xform=r,t.push(i),t.push(new Jn("timeCreated")),t.push(new Jn("updated")),t.push(new Jn("md5Hash",null,!0)),t.push(new Jn("cacheControl",null,!0)),t.push(new Jn("contentDisposition",null,!0)),t.push(new Jn("contentEncoding",null,!0)),t.push(new Jn("contentLanguage",null,!0)),t.push(new Jn("contentType",null,!0)),t.push(new Jn("metadata","customMetadata",!0)),Af=t,Af}function qF(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Cr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function HF(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const u=n[o];r[u.local]=u.xform(r,e[u.server])}return qF(r,t),r}function TC(t,e,n){const r=vC(e);return r===null?null:HF(t,r,n)}function GF(t,e,n,r){const i=vC(e);if(i===null||!Gv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(m=>{const x=t.bucket,v=t.fullPath,b="/b/"+u(x)+"/o/"+u(v),T=Kv(b,n,r),_=pC({alt:"media",token:m});return T+_})[0]}function $F(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class kC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){if(!t)throw Hv()}function KF(t,e){function n(r,i){const o=TC(t,i,e);return EC(o!==null),o}return n}function YF(t,e){function n(r,i){const o=TC(t,i,e);return EC(o!==null),GF(o,i,t.host,t._protocol)}return n}function _C(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oF():i=sF():n.getStatus()===402?i=iF(t.bucket):n.getStatus()===403?i=lF(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function QF(t){const e=_C(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=aF(t.path)),o.serverResponse=i.serverResponse,o}return n}function XF(t,e,n){const r=e.fullServerUrl(),i=Kv(r,t.host,t._protocol),o="GET",u=t.maxOperationRetryTime,d=new kC(i,o,YF(t,n),u);return d.errorHandler=QF(e),d}function WF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=WF(null,e)),r}function JF(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let L="";for(let q=0;q<2;q++)L=L+Math.random().toString().slice(2);return L}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=ZF(e,r,i),x=$F(m,n),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,b=`\r
--`+f+"--",T=Ns.getBlob(v,r,b);if(T===null)throw mF();const _={name:m.fullPath},j=Kv(o,t.host,t._protocol),O="POST",M=t.maxUploadRetryTime,z=new kC(j,O,KF(t,n),M);return z.urlParams=_,z.headers=u,z.body=T.uploadData(),z.errorHandler=_C(e),z}class eB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw Mu("cannot .send() more than once");if(Ys(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tB extends eB{initXhr(){this.xhr_.responseType="text"}}function SC(){return new tB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this._service=e,n instanceof Cr?this._location=n:this._location=Cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ho(e,n)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bC(this._location.path)}get storage(){return this._service}get parent(){const e=UF(this._location.path);if(e===null)return null;const n=new Cr(this._location.bucket,e);return new Ho(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xF(e)}}function nB(t,e,n){t._throwIfRoot("uploadBytes");const r=JF(t.storage,t._location,wC(),new Ns(e,!0),n);return t.storage.makeRequestWithTokens(r,SC).then(i=>({metadata:i,ref:t}))}function rB(t){t._throwIfRoot("getDownloadURL");const e=XF(t.storage,t._location,wC());return t.storage.makeRequestWithTokens(e,SC).then(n=>{if(n===null)throw pF();return n})}function aB(t,e){const n=zF(t._location.path,e),r=new Cr(t._location.bucket,n);return new Ho(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(t){return/^[A-Za-z]+:\/\//.test(t)}function sB(t,e){return new Ho(t,e)}function NC(t,e){if(t instanceof Yv){const n=t;if(n._bucket==null)throw fF();const r=new Ho(n,n._bucket);return e!=null?NC(r,e):r}else return e!==void 0?aB(t,e):t}function oB(t,e){if(e&&iB(e)){if(t instanceof Yv)return sB(t,e);throw ty("To use ref(service, url), the first argument must be a Storage instance.")}else return NC(t,e)}function a_(t,e){const n=e==null?void 0:e[fC];return n==null?null:Cr.makeFromBucketSpec(n,t)}function lB(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ys(e);i&&(Ky(`https://${t.host}/b`),Yy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:V4(o,t.app.options.projectId))}class Yv{constructor(e,n,r,i,o,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=hC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nF,this._maxUploadRetryTime=rF,this._requests=new Set,i!=null?this._bucket=Cr.makeFromBucketSpec(i,this._host):this._bucket=a_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=a_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){r_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){r_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ho(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new yF(mC());{const u=CF(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const i_="@firebase/storage",s_="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="storage";function CC(t,e,n){return t=qt(t),nB(t,e,n)}function jC(t){return t=qt(t),rB(t)}function RC(t,e){return t=qt(t),oB(t,e)}function cB(t=Um(),e){t=qt(t);const r=Qs(t,AC).getImmediate({identifier:e}),i=M4("storage");return i&&uB(r,...i),r}function uB(t,e,n,r={}){lB(t,e,n,r)}function dB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Yv(n,r,i,e,Xo)}function hB(){ya(new ta(AC,dB,"PUBLIC").setMultipleInstances(!0)),hr(i_,s_,""),hr(i_,s_,"esm2017")}hB();const PC="@firebase/installations",Qv="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=1e4,IC=`w:${Qv}`,MC="FIS_v2",fB="https://firebaseinstallations.googleapis.com/v1",mB=60*60*1e3,pB="installations",gB="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Go=new Qo(pB,gB,xB);function OC(t){return t instanceof aa&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC({projectId:t}){return`${fB}/projects/${t}/installations`}function VC(t){return{token:t.token,requestStatus:2,expiresIn:vB(t.expiresIn),creationTime:Date.now()}}async function UC(t,e){const r=(await e.json()).error;return Go.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yB(t,{refreshToken:e}){const n=zC(t);return n.append("Authorization",bB(e)),n}async function FC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function vB(t){return Number(t.replace("s","000"))}function bB(t){return`${MC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=LC(t),i=zC(t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const u={fid:n,authVersion:MC,appId:t.appId,sdkVersion:IC},d={method:"POST",headers:i,body:JSON.stringify(u)},f=await FC(()=>fetch(r,d));if(f.ok){const m=await f.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:VC(m.authToken)}}else throw await UC("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=/^[cdef][\w-]{21}$/,ny="";function EB(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_B(t);return kB.test(n)?n:ny}catch{return ny}}function _B(t){return TB(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new Map;function HC(t,e){const n=cp(t);GC(n,e),SB(n,e)}function GC(t,e){const n=qC.get(t);if(n)for(const r of n)r(e)}function SB(t,e){const n=NB();n&&n.postMessage({key:t,fid:e}),AB()}let Mo=null;function NB(){return!Mo&&"BroadcastChannel"in self&&(Mo=new BroadcastChannel("[Firebase] FID Change"),Mo.onmessage=t=>{GC(t.data.key,t.data.fid)}),Mo}function AB(){qC.size===0&&Mo&&(Mo.close(),Mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB="firebase-installations-database",jB=1,$o="firebase-installations-store";let Y0=null;function Xv(){return Y0||(Y0=H4(CB,jB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($o)}}})),Y0}async function Em(t,e){const n=cp(t),i=(await Xv()).transaction($o,"readwrite"),o=i.objectStore($o),u=await o.get(n);return await o.put(e,n),await i.done,(!u||u.fid!==e.fid)&&HC(t,e.fid),e}async function $C(t){const e=cp(t),r=(await Xv()).transaction($o,"readwrite");await r.objectStore($o).delete(e),await r.done}async function up(t,e){const n=cp(t),i=(await Xv()).transaction($o,"readwrite"),o=i.objectStore($o),u=await o.get(n),d=e(u);return d===void 0?await o.delete(n):await o.put(d,n),await i.done,d&&(!u||u.fid!==d.fid)&&HC(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wv(t){let e;const n=await up(t.appConfig,r=>{const i=RB(r),o=PB(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===ny?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function RB(t){const e=t||{fid:EB(),registrationStatus:0};return KC(e)}function PB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Go.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=DB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:IB(t)}:{installationEntry:e}}async function DB(t,e){try{const n=await wB(t,e);return Em(t.appConfig,n)}catch(n){throw OC(n)&&n.customData.serverCode===409?await $C(t.appConfig):await Em(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function IB(t){let e=await o_(t.appConfig);for(;e.registrationStatus===1;)await BC(100),e=await o_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Wv(t);return r||n}return e}function o_(t){return up(t,e=>{if(!e)throw Go.create("installation-not-found");return KC(e)})}function KC(t){return MB(t)?{fid:t.fid,registrationStatus:0}:t}function MB(t){return t.registrationStatus===1&&t.registrationTime+DC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OB({appConfig:t,heartbeatServiceProvider:e},n){const r=LB(t,n),i=yB(t,n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const u={installation:{sdkVersion:IC,appId:t.appId}},d={method:"POST",headers:i,body:JSON.stringify(u)},f=await FC(()=>fetch(r,d));if(f.ok){const m=await f.json();return VC(m)}else throw await UC("Generate Auth Token",f)}function LB(t,{fid:e}){return`${LC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(t,e=!1){let n;const r=await up(t.appConfig,o=>{if(!YC(o))throw Go.create("not-registered");const u=o.authToken;if(!e&&zB(u))return o;if(u.requestStatus===1)return n=VB(t,e),o;{if(!navigator.onLine)throw Go.create("app-offline");const d=BB(o);return n=UB(t,d),d}});return n?await n:r.authToken}async function VB(t,e){let n=await l_(t.appConfig);for(;n.authToken.requestStatus===1;)await BC(100),n=await l_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Zv(t,e):r}function l_(t){return up(t,e=>{if(!YC(e))throw Go.create("not-registered");const n=e.authToken;return qB(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function UB(t,e){try{const n=await OB(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Em(t.appConfig,r),n}catch(n){if(OC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $C(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Em(t.appConfig,r)}throw n}}function YC(t){return t!==void 0&&t.registrationStatus===2}function zB(t){return t.requestStatus===2&&!FB(t)}function FB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mB}function BB(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function qB(t){return t.requestStatus===1&&t.requestTime+DC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HB(t){const e=t,{installationEntry:n,registrationPromise:r}=await Wv(e);return r?r.catch(console.error):Zv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(t,e=!1){const n=t;return await $B(n),(await Zv(n,e)).token}async function $B(t){const{registrationPromise:e}=await Wv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t){if(!t||!t.options)throw Q0("App Configuration");if(!t.name)throw Q0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Q0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Q0(t){return Go.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="installations",YB="installations-internal",QB=t=>{const e=t.getProvider("app").getImmediate(),n=KB(e),r=Qs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},XB=t=>{const e=t.getProvider("app").getImmediate(),n=Qs(e,QC).getImmediate();return{getId:()=>HB(n),getToken:i=>GB(n,i)}};function WB(){ya(new ta(QC,QB,"PUBLIC")),ya(new ta(YB,XB,"PRIVATE"))}WB();hr(PC,Qv);hr(PC,Qv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="analytics",ZB="firebase_id",JB="origin",eq=60*1e3,tq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Vm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jr=new Qo("analytics","Analytics",nq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t){if(!t.startsWith(Jv)){const e=jr.create("invalid-gtag-resource",{gtagURL:t});return fr.warn(e.message),""}return t}function XC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function aq(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function iq(t,e){const n=aq("firebase-js-sdk-policy",{createScriptURL:rq}),r=document.createElement("script"),i=`${Jv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function sq(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function oq(t,e,n,r,i,o){const u=r[i];try{if(u)await e[u];else{const f=(await XC(n)).find(m=>m.measurementId===i);f&&await e[f.appId]}}catch(d){fr.error(d)}t("config",i,o)}async function lq(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const d=await XC(n);for(const f of u){const m=d.find(v=>v.measurementId===f),x=m&&e[m.appId];if(x)o.push(x);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){fr.error(o)}}function cq(t,e,n,r){async function i(o,...u){try{if(o==="event"){const[d,f]=u;await lq(t,e,n,d,f)}else if(o==="config"){const[d,f]=u;await oq(t,e,n,r,d,f)}else if(o==="consent"){const[d,f]=u;t("consent",d,f)}else if(o==="get"){const[d,f,m]=u;t("get",d,f,m)}else if(o==="set"){const[d]=u;t("set",d)}else t(o,...u)}catch(d){fr.error(d)}}return i}function uq(t,e,n,r,i){let o=function(...u){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=cq(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function dq(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Jv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=30,fq=1e3;class mq{constructor(e={},n=fq){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const WC=new mq;function pq(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function gq(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:pq(r)},o=tq.replace("{app-id}",n),u=await fetch(o,i);if(u.status!==200&&u.status!==304){let d="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(d=f.error.message)}catch{}throw jr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function xq(t,e=WC,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw jr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw jr.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new bq;return setTimeout(async()=>{d.abort()},eq),ZC({appId:r,apiKey:i,measurementId:o},u,d,e)}async function ZC(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=WC){var o;const{appId:u,measurementId:d}=t;try{await yq(r,e)}catch(f){if(d)return fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:d};throw f}try{const f=await gq(t);return i.deleteThrottleMetadata(u),f}catch(f){const m=f;if(!vq(m)){if(i.deleteThrottleMetadata(u),d)return fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:d};throw f}const x=Number((o=m==null?void 0:m.customData)===null||o===void 0?void 0:o.httpStatus)===503?Nk(n,i.intervalMillis,hq):Nk(n,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+x,backoffCount:n+1};return i.setThrottleMetadata(u,v),fr.debug(`Calling attemptFetch again in ${x} millis`),ZC(t,v,r,i)}}function yq(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vq(t){if(!(t instanceof aa)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class bq{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function wq(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,u=Object.assign(Object.assign({},r),{send_to:o});t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tq(){if(z4())try{await F4()}catch(t){return fr.warn(jr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fr.warn(jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kq(t,e,n,r,i,o,u){var d;const f=xq(t);f.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&fr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>fr.error(T)),e.push(f);const m=Tq().then(T=>{if(T)return r.getId()}),[x,v]=await Promise.all([f,m]);dq(o)||iq(o,x.measurementId),i("js",new Date);const b=(d=u==null?void 0:u.config)!==null&&d!==void 0?d:{};return b[JB]="firebase",b.update=!0,v!=null&&(b[ZB]=v),i("config",x.measurementId,b),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.app=e}_delete(){return delete id[this.app.options.appId],Promise.resolve()}}let id={},c_=[];const u_={};let X0="dataLayer",_q="gtag",d_,JC,h_=!1;function Sq(){const t=[];if(U4()&&t.push("This is a browser extension environment."),cO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=jr.create("invalid-analytics-context",{errorInfo:e});fr.warn(n.message)}}function Nq(t,e,n){Sq();const r=t.options.appId;if(!r)throw jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jr.create("no-api-key");if(id[r]!=null)throw jr.create("already-exists",{id:r});if(!h_){sq(X0);const{wrappedGtag:o,gtagCore:u}=uq(id,c_,u_,X0,_q);JC=o,d_=u,h_=!0}return id[r]=kq(t,c_,u_,e,d_,X0,n),new Eq(t)}function Aq(t=Um()){t=qt(t);const e=Qs(t,_m);return e.isInitialized()?e.getImmediate():Cq(t)}function Cq(t,e={}){const n=Qs(t,_m);if(n.isInitialized()){const i=n.getImmediate();if(Pi(e,n.getOptions()))return i;throw jr.create("already-initialized")}return n.initialize({options:e})}function jq(t,e,n,r){t=qt(t),wq(JC,id[t.app.options.appId],e,n,r).catch(i=>fr.error(i))}const f_="@firebase/analytics",m_="0.10.16";function Rq(){ya(new ta(_m,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Nq(r,i,n)},"PUBLIC")),ya(new ta("analytics-internal",t,"PRIVATE")),hr(f_,m_),hr(f_,m_,"esm2017");function t(e){try{const n=e.getProvider(_m).getImmediate();return{logEvent:(r,i,o)=>jq(n,r,i,o)}}catch(n){throw jr.create("interop-component-reg-failed",{reason:n})}}}Rq();const Pq={apiKey:"AIzaSyBoxZlZuUK1fTnsYhcpDKH_JKO99m7zxAU",authDomain:"gonorte-web.firebaseapp.com",projectId:"gonorte-web",storageBucket:"gonorte-web.appspot.com",messagingSenderId:"428167221576",appId:"1:428167221576:web:39614495f7988eb46ce37d",measurementId:"G-4WYSLNDNMH"},Xd=Xy(Pq),Ts=NN(Xd),ht=Vz(Xd),e6=cB(Xd);typeof window<"u"&&Aq(Xd);const t6=C.createContext(void 0),Dq=({children:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(null),[o,u]=C.useState(!0),[d,f]=C.useState(!1);C.useEffect(()=>{const T=P9(Ts,async _=>{if(u(!0),_){const j=Vt(ht,"users",_.uid);try{const O=await xc(j);if(O.exists()){const M=O.data(),z={..._,...M,uid:_.uid,email:_.email,displayName:_.displayName||M.displayName};n(z),i(M.role),f(!0)}else{const M={uid:_.uid,email:_.email,displayName:_.displayName||"",role:"client"};try{await qv(j,M);const z={..._,...M,uid:_.uid,email:_.email,displayName:_.displayName||""};n(z),i(M.role),f(!0)}catch(z){console.error("Error creating user profile:",z),n(_),i(null),f(!1),await z0(Ts)}}}catch(O){console.error("Error fetching user profile:",O),n(_),i(null),f(!1),await z0(Ts)}}else n(null),i(null),f(!1);u(!1)});return()=>T()},[]);const b={currentUser:e,loading:o,isAuthenticated:d,userRole:r,loginWithGoogle:async()=>{u(!0);try{const T=new Ei;await Z9(Ts,T)}catch(T){console.error("Google login error:",T),u(!1)}},loginWithEmailPassword:async(T,_)=>{u(!0);try{await C9(Ts,T,_)}catch(j){throw console.error("Email/password login error:",j),u(!1),j}},logout:async()=>{u(!0);try{await z0(Ts)}catch(T){console.error("Logout error:",T)}finally{u(!1)}}};return c.jsx(t6.Provider,{value:b,children:!o&&t})},rr=()=>{const t=C.useContext(t6);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Iq=()=>{const{t}=mt(),{isAuthenticated:e,currentUser:n,userRole:r,logout:i,loading:o}=rr(),u=Yo(),[d,f]=C.useState(!1),[m,x]=C.useState(!1);C.useEffect(()=>{const z=()=>f(window.scrollY>20);return window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)},[]),C.useEffect(()=>{if(m){document.body.style.overflow="hidden";const z=()=>x(!1);return window.addEventListener("scroll",z),()=>{document.body.style.overflow="",window.removeEventListener("scroll",z)}}else document.body.style.overflow=""},[m]);const v=async()=>{await i(),x(!1),u("/")},b=()=>{if(!r)return"/login";switch(r){case"admin":return"/admin/users";case"coach":return"/dashboard/coach";case"client":return"/dashboard/client";default:return"/"}},T=({isActive:z})=>`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 relative overflow-hidden ${z?"text-neutral-900 dark:text-text-default-light bg-primary-dark dark:bg-primary-dark shadow-lg":"text-text-default-light dark:text-text-default-dark hover:text-primary-dark dark:hover:text-primary-light hover:bg-primary-light dark:hover:bg-primary-hover"}`,_=({isActive:z})=>`block px-3 py-3 text-base font-medium transition-colors rounded-lg ${z?"text-neutral-900 dark:text-text-default-light bg-primary-dark dark:bg-primary-dark":"text-text-default-light dark:text-text-default-dark hover:text-primary-dark dark:hover:text-primary-light hover:bg-primary-light dark:hover:bg-primary-hover"}`,j="px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 text-text-default-light dark:text-text-default-dark hover:text-primary-dark dark:hover:text-primary-light hover:bg-primary-light dark:hover:bg-primary-hover",O="block w-full text-left px-3 py-3 text-base font-medium transition-colors rounded-lg text-text-default-light dark:text-text-default-dark hover:text-primary-dark dark:hover:text-primary-light hover:bg-primary-light dark:hover:bg-primary-hover duration-300",M=z=>o?c.jsx("div",{className:`${z?O:j} text-text-muted-light dark:text-text-muted-dark`,children:t("navbar.loadingUser","Loading...")}):e&&n?c.jsxs(c.Fragment,{children:[c.jsx(Wt,{to:`/profile/${n.uid}`,className:z?_:T,onClick:()=>z&&x(!1),children:n.displayName||t("navbar.profile","Profile")}),r==="admin"?c.jsx(Wt,{to:"/dashboard/coach",className:z?_:T,onClick:()=>z&&x(!1),children:t("navbar.panel","Panel")}):c.jsx(Wt,{to:b(),className:z?_:T,onClick:()=>z&&x(!1),children:t("navbar.dashboard","Dashboard")}),c.jsx("button",{onClick:v,className:z?O:j,children:t("navbar.logout","Logout")})]}):c.jsx(Wt,{to:"/login",className:z?O:j,onClick:()=>z&&x(!1),children:t("navbar.login","Login")});return c.jsx(Ae.nav,{className:`fixed top-0 left-0 right-0 z-40 transition-all duration-300 ${d?"bg-neutral-surface-light/95 dark:bg-neutral-surface-dark/95 backdrop-blur-md shadow-lg border-b border-neutral-border-light dark:border-neutral-border-dark":"bg-neutral-background-light/80 dark:bg-neutral-background-dark/80"}`,initial:{y:-100},animate:{y:0},transition:{duration:.5},children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"relative flex items-center justify-between h-16 lg:h-20",children:[c.jsx("div",{className:"flex-1 flex items-center justify-start",children:c.jsx(Ae.div,{className:"flex items-center flex-shrink-0",whileHover:{scale:1.05},transition:{duration:.2},children:c.jsx(GM,{textClassName:"h-10 lg:h-12 w-auto"})})}),c.jsxs("div",{className:"hidden lg:flex items-center justify-center space-x-1 xl:space-x-2",children:[c.jsx(Wt,{to:"/",className:T,end:!0,children:t("navHome")}),c.jsx(Wt,{to:"/about",className:T,children:t("navAbout")}),c.jsx(Wt,{to:"/services",className:T,children:t("navServices")}),c.jsx(Wt,{to:"/testimonials",className:T,children:t("navTestimonials")}),c.jsx(Wt,{to:"/contact",className:T,children:t("navContact")})]}),c.jsxs("div",{className:"flex-1 flex items-center justify-end space-x-2 sm:space-x-3",children:[c.jsxs("div",{className:"hidden lg:flex items-center space-x-1 xl:space-x-2",children:[!o&&M(!1),c.jsx(Tk,{}),c.jsx(Nx,{})]}),c.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[c.jsx(Tk,{}),c.jsx(Nx,{}),c.jsx("button",{onClick:()=>x(!m),className:"p-2 rounded-lg text-text-default-light dark:text-text-default-dark hover:bg-primary-light dark:hover:bg-primary-hover transition-colors","aria-label":t("navbar.toggleMenu","Toggle mobile menu"),children:c.jsx("svg",{className:"w-6 h-6 icon-default",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m?c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})]}),c.jsx(Vd,{children:m&&c.jsxs(Ae.div,{className:"lg:hidden fixed inset-0 z-50 bg-neutral-surface-light/95 dark:bg-neutral-surface-dark/95 backdrop-blur-md pt-16",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[c.jsx("button",{onClick:()=>x(!1),className:"absolute top-3.5 right-4 p-2 rounded-lg text-text-default-light dark:text-text-default-dark hover:bg-primary-light dark:hover:bg-primary-hover transition-colors z-50","aria-label":t("navbar.closeMenu","Close menu"),children:c.jsx("svg",{className:"w-6 h-6 icon-default",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsxs("div",{className:"flex flex-col h-full overflow-y-auto px-4 pt-8 pb-24 space-y-3",children:[c.jsx(Wt,{to:"/",className:_,onClick:()=>x(!1),end:!0,children:t("navHome")}),c.jsx(Wt,{to:"/about",className:_,onClick:()=>x(!1),children:t("navAbout")}),c.jsx(Wt,{to:"/services",className:_,onClick:()=>x(!1),children:t("navServices")}),c.jsx(Wt,{to:"/testimonials",className:_,onClick:()=>x(!1),children:t("navTestimonials")}),c.jsx(Wt,{to:"/contact",className:_,onClick:()=>x(!1),children:t("navContact")}),c.jsx("hr",{className:"my-3 border-neutral-border-light dark:border-neutral-border-dark"}),!o&&M(!0)]})]})})]})})},Mq=t=>c.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",...t,"aria-hidden":"true",children:c.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),Oq=()=>{const{t}=mt(),e=new Date().getFullYear(),n="text-text-muted-light dark:text-text-muted-dark hover:text-primary-DEFAULT dark:hover:text-primary-light transition-colors text-sm",r="text-text-default-light dark:text-text-default-dark font-semibold mb-space-md text-lg border-b border-neutral-border-light dark:border-neutral-border-dark pb-space-xs",i="icon-default hover:icon-primary dark:hover:icon-primary w-6 h-6";return c.jsx("footer",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-muted-light dark:text-text-muted-dark pt-space-xl pb-space-md border-t border-neutral-border-light dark:border-neutral-border-dark shadow-lg transition-colors duration-300",children:c.jsxs("div",{className:"container mx-auto px-space-md",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-space-xl mb-space-lg",children:[c.jsxs("div",{className:"bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50 p-space-md rounded-lg border border-neutral-border-light/30 dark:border-neutral-border-dark/30",children:[c.jsx("h3",{className:r,children:t("footer.quickLinks","Quick Links")}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-space-md gap-y-space-xs",children:[c.jsx("div",{children:c.jsxs("ul",{className:"space-y-space-xs",children:[c.jsx("li",{children:c.jsx(Wt,{to:"/",className:n,children:t("navHome","Home")})}),c.jsx("li",{children:c.jsx(Wt,{to:"/about",className:n,children:t("navAbout","About Me")})}),c.jsx("li",{children:c.jsx(Wt,{to:"/services",className:n,children:t("navServices","Services")})})]})}),c.jsx("div",{children:c.jsxs("ul",{className:"space-y-space-xs",children:[c.jsx("li",{children:c.jsx(Wt,{to:"/testimonials",className:n,children:t("navTestimonials","Testimonials")})}),c.jsx("li",{children:c.jsx(Wt,{to:"/contact",className:n,children:t("navContact","Contact")})}),c.jsx("li",{children:c.jsx(Wt,{to:"/legal",className:n,children:t("footer.legal","Legal")})})]})})]})]}),c.jsxs("div",{className:"bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50 p-space-md rounded-lg border border-neutral-border-light/30 dark:border-neutral-border-dark/30",children:[c.jsx("h3",{className:r,children:t("footer.contactUs","Contact Us")}),c.jsxs("address",{className:"not-italic text-sm space-y-space-xs text-text-muted-light dark:text-text-muted-dark",children:[c.jsx("p",{children:c.jsx("a",{href:"mailto:gonorte.biomechanics@gmail.com",className:n,children:"gonorte.biomechanics@gmail.com"})}),c.jsx("p",{children:c.jsx("a",{href:"tel:+34644001599",className:n,children:"+34 644 00 15 99"})}),c.jsx("p",{children:"Jaén, España"})]})]}),c.jsxs("div",{className:"bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50 p-space-md rounded-lg border border-neutral-border-light/30 dark:border-neutral-border-dark/30",children:[c.jsx("h3",{className:r,children:t("footer.settingsSocial","Settings & Social")}),c.jsx("div",{className:"mb-space-md",children:c.jsx(Nx,{})}),c.jsxs("div",{className:"flex flex-row items-center justify-start gap-5 mb-space-md mt-2",children:[c.jsx("a",{href:"https://www.facebook.com/profile.php?id=61577890884590","aria-label":"Facebook",className:i,target:"_blank",rel:"noopener noreferrer",children:c.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 md:w-10 md:h-10 text-2xl md:text-3xl",children:"📘"})}),c.jsx("a",{href:"https://www.instagram.com/gonorte.training/","aria-label":"Instagram",className:`${n} ${i}`,target:"_blank",rel:"noopener noreferrer",children:c.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 md:w-10 md:h-10 text-2xl md:text-3xl",children:c.jsx(Mq,{})})}),c.jsx("a",{href:"https://www.linkedin.com/in/carmen-mar%C3%ADa-gonz%C3%A1lez-ortega-3747b5258/","aria-label":"LinkedIn",className:i,target:"_blank",rel:"noopener noreferrer",children:c.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 md:w-10 md:h-10 text-2xl md:text-3xl",children:"💼"})}),c.jsx("a",{href:"https://www.tiktok.com/@gonorte.training","aria-label":"TikTok",className:i,target:"_blank",rel:"noopener noreferrer",children:c.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 md:w-10 md:h-10 text-2xl md:text-3xl",children:"🐦"})}),c.jsx("a",{href:"#","aria-label":"YouTube",className:i,target:"_blank",rel:"noopener noreferrer",children:c.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 md:w-10 md:h-10 text-2xl md:text-3xl",children:"▶️"})})]})]})]}),c.jsx("div",{className:"border-t border-neutral-border-light dark:border-neutral-border-dark pt-space-md text-center text-xs text-text-muted-light dark:text-text-muted-dark",children:c.jsxs("p",{children:["© ",e," ",t("footer.companyName","Gonorte"),". ",t("footer.allRightsReserved","All rights reserved.")]})})]})})},Lq=()=>{const{pathname:t}=mr();return C.useEffect(()=>{try{window.scrollTo(0,0)}catch(e){console.error("ScrollToTop failed:",e)}},[t]),null},Vq=()=>{const{t}=mt(),[e,n]=C4("cookieConsentAccepted",!1),[r,i]=C.useState(!1);C.useEffect(()=>{const u=setTimeout(()=>{e||i(!0)},100);return()=>clearTimeout(u)},[e]);const o=()=>{n(!0),i(!1)};return c.jsx(Vd,{children:r&&c.jsx(Ae.div,{role:"region","aria-label":t("cookieConsentBannerLabel","Cookie Consent Banner"),className:"fixed bottom-0 z-[100] w-full bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark p-space-md shadow-[-2px_0px_15px_rgba(0,0,0,0.2)] transition-colors duration-300",initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{type:"tween",duration:.3},children:c.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row items-center justify-between gap-space-md",children:[c.jsx("p",{className:"text-sm flex-grow",children:t("cookieConsentText","We use cookies to improve your experience. By using our site, you agree to our use of cookies.")}),c.jsx("button",{onClick:o,className:"bg-gray-200 dark:bg-gray-700 text-primary-DEFAULT dark:text-white font-semibold py-space-xs px-space-md rounded-radius-md transition-all whitespace-nowrap border border-primary-DEFAULT dark:border-transparent","aria-label":t("cookieConsentAcceptLabel","Accept cookie usage"),children:t("cookieConsentAccept","Accept")})]})})})},Uq=()=>{const t=mr();return c.jsxs(c.Fragment,{children:[c.jsx(Lq,{})," ",c.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-default transition-colors duration-700",children:[c.jsx(Iq,{}),c.jsxs("main",{className:"flex-1 pt-16 lg:pt-20 min-h-[calc(100vh-4rem)] lg:min-h-[calc(100vh-5rem)]",children:[" ",c.jsx(Vd,{mode:"wait",children:c.jsx(Cs.Fragment,{children:c.jsx(K_,{})},t.pathname)})]}),c.jsx(Oq,{})]}),c.jsx(Vq,{})," "]})},tl=({children:t,className:e})=>c.jsx(Ae.div,{className:`min-h-full w-full ${e||""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{overflowX:"hidden"},children:t}),zq="/gonorte_2.0/assets/carmen-placeholder-D-rZjo2G.webp",Fq=()=>{const{t}=mt();return c.jsxs("section",{className:"relative w-full min-h-screen text-text-default-dark overflow-hidden bg-cover bg-center flex flex-col justify-center items-center p-4 sm:p-8",style:{backgroundImage:`url(${zq})`},children:[c.jsx("div",{className:"absolute inset-0 bg-neutral-background-dark opacity-70"})," ",c.jsxs("div",{className:"relative z-10 container mx-auto flex flex-col items-center justify-center text-center max-w-3xl",children:[c.jsx(Ae.h1,{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-6 sm:mb-8 leading-tight text-text-default-dark",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:t("heroTitleCarmen","Lucha por tu cambio. Con biomecánica, con propósito, con confianza.")}),c.jsx(Ae.div,{className:"flex flex-col sm:flex-row justify-center items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:c.jsxs(Ae.button,{className:"group relative px-8 py-4 sm:px-10 sm:py-5 bg-primary-DEFAULT hover:bg-primary-hover active:bg-primary-active text-text-default-dark font-semibold rounded-lg shadow-xl hover:shadow-primary-dark/30 transition-all duration-300 transform hover:scale-105 text-md sm:text-lg",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>console.log("Primary CTA clicked"),children:[c.jsx("span",{className:"relative z-10",children:t("heroCTACarmen","Empieza tu cambio")}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-hover to-primary-active rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]})]})},Bq=()=>c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-full flex items-center justify-center mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),qq=()=>c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-emerald-500 rounded-full flex items-center justify-center mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),Hq=()=>c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-500 to-teal-500 rounded-full flex items-center justify-center mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),Gq=[{id:"feature1",icon:Bq,titleKey:"feature1Title",defaultTitle:"Entrenamiento Personalizado",descriptionKey:"feature1Desc",defaultDescription:"Planes de entrenamiento individualizados diseñados específicamente para tus objetivos y nivel de fitness."},{id:"feature2",icon:qq,titleKey:"feature2Title",defaultTitle:"Asesoría Nutricional",descriptionKey:"feature2Desc",defaultDescription:"Guía nutricional personalizada para complementar tu entrenamiento y maximizar tus resultados."},{id:"feature3",icon:Hq,titleKey:"feature3Title",defaultTitle:"Entrenamiento Online",descriptionKey:"feature3Desc",defaultDescription:"Accede a tus rutinas desde cualquier lugar con entrenamiento virtual flexible y efectivo."}],$q=()=>{const{t}=mt(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return c.jsx("section",{className:"w-full bg-background dark:bg-neutral-background-dark py-20 md:py-32",children:c.jsxs("div",{className:"container mx-auto px-space-md text-center",children:[c.jsxs(Ae.div,{className:"mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5},children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-slate-800 to-teal-800 dark:from-slate-200 dark:to-teal-300 bg-clip-text text-transparent",children:t("featuresTitle","Por Qué Elegir Gonorte")}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("featuresSubtitle","Descubre las ventajas de entrenar con una profesional certificada que se adapta a tus necesidades")})]}),c.jsx(Ae.div,{className:"grid md:grid-cols-3 gap-8 lg:gap-12",variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:Gq.map((r,i)=>c.jsxs(Ae.div,{className:"group relative bg-surface dark:bg-neutral-surface-dark p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-300 dark:border-slate-600",variants:n,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx(r.icon,{})}),c.jsx("h3",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-slate-200 group-hover:text-teal-700 dark:group-hover:text-teal-300 transition-colors duration-300",children:t(r.titleKey,r.defaultTitle)}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:t(r.descriptionKey,r.defaultDescription)}),c.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-to-r from-teal-500 to-cyan-500 rounded-full flex items-center justify-center text-white text-sm font-bold opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:i+1})]})]},r.id))}),c.jsx(Ae.div,{className:"mt-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:c.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-600 rounded-2xl p-8 md:p-12 text-white",children:[c.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:t("featuresCTA","¿Listo para Transformar Tu Vida?")}),c.jsx("p",{className:"text-lg mb-6 opacity-90",children:t("featuresCTASubtitle","Únete a cientos de personas que ya han alcanzado sus metas con Gonorte")}),c.jsx(Ae.button,{className:"bg-white text-teal-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:t("featuresCTAButton","Comenzar Ahora")})]})})]})})},Kq=[{id:"stat1",number:"500+",labelKey:"statsClients",defaultLabel:"Clientes Transformados",icon:"💪"},{id:"stat2",number:"5+",labelKey:"statsYears",defaultLabel:"Años de Experiencia",icon:"⭐"},{id:"stat3",number:"98%",labelKey:"statsSuccess",defaultLabel:"Tasa de Éxito",icon:"🎯"},{id:"stat4",number:"24/7",labelKey:"statsSupport",defaultLabel:"Soporte Disponible",icon:"📱"}],Yq=()=>{const{t}=mt(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return c.jsxs("section",{className:"w-full bg-gradient-to-r from-slate-900 via-teal-900 to-slate-900 dark:from-slate-950 dark:via-teal-950 dark:to-slate-950 py-20 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 opacity-5",children:c.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsx(Ae.div,{className:"absolute top-10 left-20 w-16 h-16 bg-gradient-to-r from-teal-500 to-cyan-500 rounded-full opacity-10 blur-xl",animate:{y:[0,-15,0],scale:[1,1.1,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),c.jsx(Ae.div,{className:"absolute bottom-10 right-20 w-20 h-20 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-full opacity-10 blur-xl",animate:{y:[0,15,0],scale:[1,.9,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),c.jsxs("div",{className:"relative container mx-auto px-space-md",children:[c.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-teal-200 bg-clip-text text-transparent",children:t("statsTitle","Resultados que Hablan por Sí Mismos")}),c.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:t("statsSubtitle","Estos números representan la dedicación y el compromiso con la excelencia en el entrenamiento personal")})]}),c.jsx(Ae.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-8",variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:Kq.map(r=>c.jsx(Ae.div,{className:"text-center group",variants:n,children:c.jsxs("div",{className:"relative",children:[c.jsx(Ae.div,{className:"text-4xl mb-4 inline-block",whileHover:{scale:1.1,rotate:5},transition:{duration:.3},children:r.icon}),c.jsx(Ae.div,{className:"text-4xl md:text-5xl font-bold text-white mb-2 group-hover:text-teal-300 transition-colors duration-300",initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,type:"spring",stiffness:200},children:r.number}),c.jsx("p",{className:"text-gray-300 text-sm md:text-base font-medium",children:t(r.labelKey,r.defaultLabel)}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500/10 to-cyan-500/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]})},r.id))}),c.jsx(Ae.div,{className:"text-center mt-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:c.jsxs("div",{className:"inline-flex items-center space-x-2 text-teal-300 hover:text-white transition-colors duration-300 cursor-pointer",children:[c.jsx("span",{className:"text-lg font-medium",children:t("statsCTA","¿Quieres ser parte de estas estadísticas?")}),c.jsx(Ae.svg,{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:{x:5},transition:{duration:.3},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})]})},Qq="/gonorte_2.0/assets/perfil-CfdcTZFo.webp",Xq=()=>{const{t}=mt(),e=[{id:1,name:t("certification1","Entrenadora Personal Certificada"),icon:"🏆"},{id:2,name:t("certification2","Especialista en Nutrición Deportiva"),icon:"🥗"},{id:3,name:t("certification3","Instructora de Yoga y Pilates"),icon:"🧘‍♀️"},{id:4,name:t("certification4","Coach de Bienestar Integral"),icon:"💚"}],n=[{id:1,number:"500+",label:t("achievement1","Clientes Transformados")},{id:2,number:"5+",label:t("achievement2","Años de Experiencia")},{id:3,number:"98%",label:t("achievement3","Tasa de Satisfacción")}];return c.jsx("section",{className:"w-full bg-gradient-to-b from-slate-50 to-white dark:from-slate-900 dark:to-slate-800 py-20 md:py-32",children:c.jsxs("div",{className:"container mx-auto px-space-md",children:[c.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-slate-800 to-teal-800 dark:from-slate-200 dark:to-teal-300 bg-clip-text text-transparent",children:t("profileTitle","Conoce a Gonorte")}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("profileSubtitle","Tu entrenadora personal dedicada a transformar vidas a través del fitness y el bienestar")})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsx(Ae.div,{className:"relative",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-3xl transform rotate-3 scale-105 opacity-20"}),c.jsx("div",{className:"relative bg-white dark:bg-slate-800 rounded-3xl p-4 shadow-2xl",children:c.jsx("div",{className:"rounded-2xl overflow-hidden bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900 dark:to-cyan-900 max-w-sm w-full min-h-[500px] mx-auto flex items-center justify-center",children:c.jsx("img",{src:Qq,alt:t("profilePhotoAlt","Foto de Gonorte"),className:"w-full h-full object-contain rounded-2xl shadow-lg"})})}),c.jsx(Ae.div,{className:"absolute -top-4 -right-4 bg-gradient-to-r from-teal-500 to-cyan-500 text-white p-3 rounded-full shadow-lg",initial:{scale:0,rotate:-180},whileInView:{scale:1,rotate:0},viewport:{once:!0},transition:{duration:.6,delay:.3},children:c.jsx("span",{className:"text-2xl",children:"🏆"})}),c.jsx(Ae.div,{className:"absolute -bottom-4 -left-4 bg-gradient-to-r from-blue-500 to-teal-500 text-white p-3 rounded-full shadow-lg",initial:{scale:0,rotate:180},whileInView:{scale:1,rotate:0},viewport:{once:!0},transition:{duration:.6,delay:.5},children:c.jsx("span",{className:"text-2xl",children:"💪"})})]})}),c.jsxs(Ae.div,{className:"space-y-8",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:t("profileName","Gonorte")}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed mb-6",children:t("profileDescription","Soy una entrenadora personal apasionada por el fitness y el bienestar. Con más de 5 años de experiencia, he ayudado a cientos de personas a alcanzar sus metas de salud y transformar sus vidas a través del ejercicio físico y la nutrición equilibrada.")}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:t("profileMission","Mi misión es inspirar y guiar a cada persona en su viaje hacia una vida más saludable, proporcionando programas personalizados que se adapten a sus necesidades, objetivos y estilo de vida.")})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200 mb-4",children:t("profileCertifications","Certificaciones y Especialidades")}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map((r,i)=>c.jsxs(Ae.div,{className:"flex items-center space-x-3 p-3 bg-white dark:bg-slate-700 rounded-lg shadow-sm border border-gray-100 dark:border-slate-600",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1*i},children:[c.jsx("span",{className:"text-2xl",children:r.icon}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.name})]},r.id))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200 mb-4",children:t("profileAchievements","Logros Destacados")}),c.jsx("div",{className:"flex space-x-6",children:n.map((r,i)=>c.jsxs(Ae.div,{className:"text-center",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:.2*i},children:[c.jsx("div",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:r.number}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.label})]},r.id))})]}),c.jsx(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:c.jsx("button",{className:"bg-gradient-to-r from-teal-600 to-cyan-600 text-white px-8 py-3 rounded-full font-semibold hover:from-teal-700 hover:to-cyan-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:t("profileCTA","Conoce Mi Historia Completa")})})]})]})]})})},Wq=[{id:"personal-training",titleKey:"service1Title",defaultTitle:"Entrenamiento Personalizado",descriptionKey:"service1Desc",defaultDescription:"Planes completamente personalizados adaptados a tus objetivos, nivel y estilo de vida.",icon:"💪",features:["Evaluación inicial completa","Plan de entrenamiento personalizado","Seguimiento semanal","Ajustes según progreso","Soporte 24/7"],price:"Desde $80/mes"},{id:"nutrition-coaching",titleKey:"service2Title",defaultTitle:"Asesoría Nutricional",descriptionKey:"service2Desc",defaultDescription:"Guía nutricional personalizada para complementar tu entrenamiento y maximizar resultados.",icon:"🥗",features:["Análisis de composición corporal","Plan nutricional personalizado","Recetas y menús semanales","Educación nutricional","Seguimiento de progreso"],price:"Desde $60/mes"},{id:"online-classes",titleKey:"service3Title",defaultTitle:"Clases Online",descriptionKey:"service3Desc",defaultDescription:"Entrena desde donde quieras con clases en vivo y rutinas grabadas de alta calidad.",icon:"🏠",features:["Clases en vivo diarias","Biblioteca de rutinas","Diferentes niveles","Comunidad online","Acceso 24/7"],price:"Desde $40/mes",popular:!0},{id:"rehabilitation",titleKey:"service4Title",defaultTitle:"Rehabilitación y Recuperación",descriptionKey:"service4Desc",defaultDescription:"Programas especializados para recuperación de lesiones y mejora de movilidad.",icon:"🩺",features:["Evaluación de lesiones","Programa de rehabilitación","Ejercicios de movilidad","Prevención de recaídas","Seguimiento médico"],price:"Desde $100/mes"},{id:"sports-training",titleKey:"service5Title",defaultTitle:"Entrenamiento Deportivo",descriptionKey:"service5Desc",defaultDescription:"Mejora tu rendimiento deportivo con entrenamiento específico para tu disciplina.",icon:"⚽",features:["Análisis de rendimiento","Entrenamiento específico","Mejora de habilidades","Preparación física","Planificación de temporada"],price:"Desde $90/mes"},{id:"group-sessions",titleKey:"service6Title",defaultTitle:"Sesiones Grupales",descriptionKey:"service6Desc",defaultDescription:"Entrena en grupo con amigos o familiares para mayor motivación y diversión.",icon:"👥",features:["Sesiones de 2-6 personas","Precios reducidos","Entrenamiento divertido","Motivación grupal","Horarios flexibles"],price:"Desde $30/persona"}],Zq=()=>{const{t}=mt(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},n={hidden:{opacity:0,y:50,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:"easeOut"}}};return c.jsx("section",{className:"w-full py-20 lg:py-32 bg-surface dark:bg-neutral-surface-dark",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:[c.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6 bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:t("servicesTitle","Mis Servicios")}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("servicesSubtitle","Ofrezco una amplia gama de servicios personalizados para ayudarte a alcanzar tus objetivos fitness de manera efectiva y sostenible")})]}),c.jsx(Ae.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},children:Wq.map((r,i)=>c.jsxs(Ae.div,{className:"group relative",variants:n,whileHover:{y:-8,scale:1.02},transition:{duration:.3},children:[r.popular&&c.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-10",children:c.jsx("span",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg",children:t("popularBadge","Más Popular")})}),c.jsxs("div",{className:`bg-surface dark:bg-neutral-surface-dark rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border ${r.popular?"border-teal-500 dark:border-teal-400":"border-gray-300 dark:border-teal-700"} relative overflow-hidden h-full`,children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-full -translate-y-16 translate-x-16 opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),c.jsx("div",{className:"text-5xl mb-6 relative z-10",children:r.icon}),c.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white relative z-10",children:t(r.titleKey,r.defaultTitle)}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 leading-relaxed relative z-10",children:t(r.descriptionKey,r.defaultDescription)}),c.jsx("ul",{className:"space-y-3 mb-8 relative z-10",children:r.features.map((o,u)=>c.jsxs("li",{className:"flex items-center text-gray-700 dark:text-gray-200",children:[c.jsx("svg",{className:"w-5 h-5 text-teal-500 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o]},u))}),r.price&&c.jsx("div",{className:"mb-6 relative z-10",children:c.jsx("p",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:r.price})}),c.jsx(Ae.button,{className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 relative z-10 ${r.popular?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-teal-50 dark:hover:bg-teal-900/20"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:t("serviceCTA","Comenzar")}),c.jsx("div",{className:"absolute bottom-4 right-4 w-8 h-8 bg-gradient-to-br from-teal-400 to-cyan-400 rounded-full opacity-20 group-hover:opacity-40 transition-opacity duration-300"})]})]},r.id))}),c.jsxs(Ae.div,{className:"text-center mt-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6,delay:.3},children:[c.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:t("servicesCTA","¿No encuentras lo que buscas? Contáctame para un plan personalizado")}),c.jsx(Ae.button,{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:t("servicesCTAButton","Consulta Personalizada")})]})]})})},Jq=[{id:"gonorteTestimonial1",quoteKey:"gonorteTestimonial1Quote",defaultQuote:"¡Increíble transformación! Gracias a Gonorte y su método personalizado, perdí 15kg en 6 meses y me siento con más energía que nunca. Su enfoque en la nutrición y el entrenamiento funcional cambió mi vida completamente.",authorKey:"gonorteTestimonial1Author",defaultAuthor:"Ana Pérez",roleKey:"gonorteTestimonial1Details",defaultRole:"Plan de Pérdida de Peso",rating:5,avatar:"👩‍💼"},{id:"gonorteTestimonial2",quoteKey:"gonorteTestimonial2Quote",defaultQuote:"Las rutinas online son súper prácticas y efectivas. He ganado mucha fuerza y resistencia entrenando desde casa. Gonorte siempre está disponible para ajustar los ejercicios según mi progreso.",authorKey:"gonorteTestimonial2Author",defaultAuthor:"Carlos López",roleKey:"gonorteTestimonial2Details",defaultRole:"Rutinas Online de Fuerza",rating:5,avatar:"👨‍💻"},{id:"gonorteTestimonial3",quoteKey:"gonorteTestimonial3Quote",defaultQuote:"El asesoramiento nutricional fue clave para mi transformación. Aprendí a comer de forma inteligente y complementó perfectamente mi entrenamiento. Ahora tengo hábitos saludables que mantendré toda la vida.",authorKey:"gonorteTestimonial3Author",defaultAuthor:"Laura Gómez",roleKey:"gonorteTestimonial3Details",defaultRole:"Asesoramiento Nutricional",rating:5,avatar:"👩‍⚕️"},{id:"gonorteTestimonial4",quoteKey:"gonorteTestimonial4Quote",defaultQuote:"Como principiante, estaba muy nerviosa por empezar. Gonorte me hizo sentir cómoda desde el primer día. Su paciencia y conocimiento me han ayudado a construir confianza y fuerza gradualmente.",authorKey:"gonorteTestimonial4Author",defaultAuthor:"María Rodríguez",roleKey:"gonorteTestimonial4Details",defaultRole:"Entrenamiento para Principiantes",rating:5,avatar:"👩‍🎓"},{id:"gonorteTestimonial5",quoteKey:"gonorteTestimonial5Quote",defaultQuote:"Después de una lesión, necesitaba rehabilitación específica. Gonorte diseñó un programa perfecto que me ayudó a recuperarme y volver más fuerte que antes. Su experiencia es invaluable.",authorKey:"gonorteTestimonial5Author",defaultAuthor:"David Martínez",roleKey:"gonorteTestimonial5Details",defaultRole:"Rehabilitación y Recuperación",rating:5,avatar:"👨‍🦽"},{id:"gonorteTestimonial6",quoteKey:"gonorteTestimonial6Quote",defaultQuote:"Los resultados han sido increíbles. En solo 3 meses, he mejorado mi rendimiento deportivo significativamente. Gonorte entiende perfectamente las necesidades de los atletas.",authorKey:"gonorteTestimonial6Author",defaultAuthor:"Sofía Torres",roleKey:"gonorteTestimonial6Details",defaultRole:"Entrenamiento Deportivo",rating:5,avatar:"🏃‍♀️"}],eH=({rating:t})=>c.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((e,n)=>c.jsx("svg",{className:`w-4 h-4 ${n<t?"text-yellow-400":"text-gray-300 dark:text-gray-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},n))}),tH=()=>{const{t}=mt(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},n={hidden:{opacity:0,y:50,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:"easeOut"}}};return c.jsx("section",{className:"w-full py-20 lg:py-32 bg-gradient-to-br from-gray-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-teal-900/20",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:[c.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6 bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:t("testimonialsTitle","Lo Que Dicen Mis Clientes")}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("testimonialsSubtitle","Descubre las transformaciones reales y testimonios de clientes que han alcanzado sus objetivos con mi método personalizado")})]}),c.jsx(Ae.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},children:Jq.map((r,i)=>c.jsx(Ae.div,{className:"group relative",variants:n,whileHover:{y:-8,scale:1.02},transition:{duration:.3},children:c.jsxs("div",{className:"bg-surface dark:bg-neutral-surface-dark rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-300 dark:border-teal-700 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-full -translate-y-16 translate-x-16 opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),c.jsx("div",{className:"absolute top-6 left-6 text-4xl text-teal-200 dark:text-teal-700 opacity-50",children:'"'}),c.jsx("div",{className:"mb-4",children:c.jsx(eH,{rating:r.rating})}),c.jsx("blockquote",{className:"text-gray-700 dark:text-gray-200 text-lg leading-relaxed mb-6 relative z-10",children:t(r.quoteKey,r.defaultQuote)}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"text-3xl",children:r.avatar}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t(r.authorKey,r.defaultAuthor)}),r.roleKey&&c.jsx("p",{className:"text-sm text-teal-600 dark:text-teal-400 font-medium",children:t(r.roleKey,r.defaultRole||"")})]})]}),c.jsx("div",{className:"absolute bottom-4 right-4 w-8 h-8 bg-gradient-to-br from-teal-400 to-cyan-400 rounded-full opacity-20 group-hover:opacity-40 transition-opacity duration-300"})]})},r.id))}),c.jsxs(Ae.div,{className:"text-center mt-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6,delay:.3},children:[c.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:t("testimonialsCTA","¿Listo para tu transformación? Únete a estos clientes satisfechos")}),c.jsx(Ae.button,{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:t("testimonialsCTAButton","Comenzar Mi Transformación")})]})]})})},nH=[{id:1,questionKey:"faq1Question",defaultQuestion:"¿Cómo funciona el entrenamiento personalizado?",answerKey:"faq1Answer",defaultAnswer:"El entrenamiento personalizado se adapta completamente a tus necesidades. Primero realizamos una evaluación inicial de tu condición física, objetivos y disponibilidad. Luego diseñamos un programa específico que incluye ejercicios, rutinas y seguimiento continuo para maximizar tus resultados."},{id:2,questionKey:"faq2Question",defaultQuestion:"¿Ofrecen entrenamiento online?",answerKey:"faq2Answer",defaultAnswer:"¡Sí! Ofrecemos entrenamiento online completo con rutinas personalizadas, videos explicativos, seguimiento semanal y soporte 24/7. Puedes entrenar desde casa o donde quieras, manteniendo la misma calidad y personalización que el entrenamiento presencial."},{id:3,questionKey:"faq3Question",defaultQuestion:"¿Qué incluye el asesoramiento nutricional?",answerKey:"faq3Answer",defaultAnswer:"El asesoramiento nutricional incluye un plan de alimentación personalizado, educación sobre nutrición, seguimiento de progreso, ajustes según tus resultados y soporte continuo. No se trata de dietas restrictivas, sino de crear hábitos saludables y sostenibles."},{id:4,questionKey:"faq4Question",defaultQuestion:"¿Cuánto tiempo necesito para ver resultados?",answerKey:"faq4Answer",defaultAnswer:"Los resultados varían según cada persona, pero típicamente puedes notar mejoras en energía y bienestar desde la primera semana. Cambios físicos más notables suelen aparecer entre 4-8 semanas con constancia en el entrenamiento y nutrición."},{id:5,questionKey:"faq5Question",defaultQuestion:"¿Trabajan con principiantes?",answerKey:"faq5Answer",defaultAnswer:"¡Absolutamente! Nos especializamos en trabajar con personas de todos los niveles, desde principiantes hasta avanzados. Cada programa se adapta a tu nivel actual, progresando gradualmente para evitar lesiones y maximizar resultados."},{id:6,questionKey:"faq6Question",defaultQuestion:"¿Qué equipamiento necesito para entrenar?",answerKey:"faq6Answer",defaultAnswer:"Para empezar, solo necesitas tu cuerpo y ganas de entrenar. Muchos ejercicios se pueden hacer sin equipamiento. Si tienes acceso a pesas, bandas de resistencia o una pelota de ejercicio, podemos incorporarlos, pero no son necesarios para comenzar."}],rH=()=>{const{t}=mt(),[e,n]=C.useState([]),r=i=>{n(o=>o.includes(i)?o.filter(u=>u!==i):[...o,i])};return c.jsx("section",{className:"w-full bg-gradient-to-b from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 py-20 md:py-32",children:c.jsxs("div",{className:"container mx-auto px-space-md",children:[c.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 break-words whitespace-normal text-slate-800 dark:text-slate-200",children:t("faqTitle","Preguntas Frecuentes")}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("faqSubtitle","Resolvemos las dudas más comunes sobre nuestros servicios de entrenamiento personal")})]}),c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("div",{className:"space-y-4",children:nH.map((i,o)=>c.jsxs(Ae.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-300 dark:border-teal-700 overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.1},children:[c.jsxs("button",{className:"w-full px-6 py-6 text-left flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors duration-200",onClick:()=>r(i.id),children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 pr-4",children:t(i.questionKey,i.defaultQuestion)}),c.jsx(Ae.div,{className:"flex-shrink-0 w-6 h-6 text-teal-600 dark:text-teal-400",animate:{rotate:e.includes(i.id)?180:0},transition:{duration:.3},children:c.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),c.jsx(Vd,{children:e.includes(i.id)&&c.jsx(Ae.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:c.jsx("div",{className:"px-6 pb-6",children:c.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-slate-600",children:c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:t(i.answerKey,i.defaultAnswer)})})})})})]},i.id))}),c.jsx(Ae.div,{className:"text-center mt-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:c.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-600 rounded-2xl p-8 md:p-12 text-white",children:[c.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:t("faqCTA","¿Tienes más preguntas?")}),c.jsx("p",{className:"text-lg mb-6 opacity-90",children:t("faqCTASubtitle","No dudes en contactarme para resolver cualquier duda sobre tu entrenamiento personal")}),c.jsx(Ae.button,{className:"bg-white text-teal-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:t("faqCTAButton","Contactar Ahora")})]})})]})]})})},aH=[{icon:"📧",titleKey:"contactEmailTitle",defaultTitle:"Email",valueKey:"contactEmail",defaultValue:"gonorte@fitness.com",link:"mailto:gonorte@fitness.com"},{icon:"📱",titleKey:"contactPhoneTitle",defaultTitle:"Teléfono",valueKey:"contactPhone",defaultValue:"+34 600 123 456",link:"tel:+34600123456"},{icon:"📍",titleKey:"contactLocationTitle",defaultTitle:"Ubicación",valueKey:"contactLocation",defaultValue:"Madrid, España"}],iH=[{icon:"📘",name:"Facebook",url:"#",color:"hover:bg-blue-500"},{icon:"📷",name:"Instagram",url:"#",color:"hover:bg-pink-500"},{icon:"🐦",name:"Twitter",url:"#",color:"hover:bg-blue-400"},{icon:"💼",name:"LinkedIn",url:"#",color:"hover:bg-blue-600"}],sH=()=>{const{t}=mt(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},n={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return c.jsx("section",{className:"w-full py-20 lg:py-32 bg-gradient-to-br from-gray-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-teal-900/20",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:[c.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6 bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:t("contactTitle","Ponte en Contacto")}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("contactSubtitle","¿Listo para comenzar tu transformación? Contáctame y juntos crearemos el plan perfecto para alcanzar tus objetivos")})]}),c.jsxs(Ae.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},children:[c.jsx(Ae.div,{variants:n,className:"order-2 lg:order-1",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-100 dark:border-gray-700",children:[c.jsx("h3",{className:"text-2xl font-bold mb-8 text-gray-900 dark:text-white",children:t("contactInfoTitle","Información de Contacto")}),c.jsx("div",{className:"space-y-6",children:aH.map((r,i)=>c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"text-2xl",children:r.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:t(r.titleKey,r.defaultTitle)}),r.link?c.jsx("a",{href:r.link,className:"text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 transition-colors",children:t(r.valueKey,r.defaultValue)}):c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t(r.valueKey,r.defaultValue)})]})]},i))}),c.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:t("contactSocialTitle","Sígueme en Redes Sociales")}),c.jsx("div",{className:"flex space-x-4",children:iH.map((r,i)=>c.jsx("a",{href:r.url,className:`w-12 h-12 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-xl transition-all duration-300 ${r.color} hover:scale-110`,"aria-label":r.name,children:r.icon},i))})]}),c.jsx("div",{className:"mt-8 p-4 bg-teal-50 dark:bg-teal-900/20 rounded-xl border border-teal-200 dark:border-teal-800",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-teal-800 dark:text-teal-200",children:t("contactQuickResponseTitle","Respuesta Rápida")}),c.jsx("p",{className:"text-sm text-teal-700 dark:text-teal-300",children:t("contactQuickResponseText","Suelo responder en menos de 24 horas. ¡No dudes en contactarme!")})]})]})})]})}),c.jsx(Ae.div,{variants:n,className:"order-1 lg:order-2",children:c.jsx("div",{className:"bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl p-8 text-white shadow-xl",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl mb-6",children:"💪"}),c.jsx("h3",{className:"text-3xl font-bold mb-4",children:t("contactReadyTitle","¿Listo para tu Transformación?")}),c.jsx("p",{className:"text-xl mb-8 opacity-90",children:t("contactReadyText","Comienza tu viaje hacia una vida más saludable y en forma. Te ayudo a alcanzar tus objetivos fitness de manera personalizada y efectiva.")}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(zt,{to:"/contact",className:"inline-block w-full bg-white text-teal-600 font-semibold py-4 px-8 rounded-xl hover:bg-gray-50 transition-colors transform hover:scale-105",children:t("contactCTA","Enviar Mensaje")}),c.jsx("a",{href:"tel:+34600123456",className:"inline-block w-full bg-teal-600 text-white font-semibold py-4 px-8 rounded-xl hover:bg-teal-700 transition-colors border-2 border-white/20",children:t("contactCallCTA","Llamar Ahora")})]}),c.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:c.jsx("p",{className:"text-sm opacity-80",children:t("contactAvailable","Disponible ahora")})})]})})})]})]})})},oH=()=>c.jsxs(tl,{className:"flex flex-col items-center w-full min-h-full",children:[c.jsx(Fq,{}),c.jsx($q,{}),c.jsx(Yq,{}),c.jsx(Xq,{}),c.jsx(Zq,{}),c.jsx(tH,{}),c.jsx(rH,{}),c.jsx(sH,{})]}),lH=()=>{const{t}=mt();return c.jsxs(tl,{className:"container mx-auto px-space-md py-12 min-h-full flex flex-col",children:[c.jsx("h1",{className:"text-4xl font-bold mb-space-lg text-primary text-center",children:t("aboutTitle","Gonorte - About Me")}),c.jsxs("div",{className:"max-w-3xl mx-auto text-text-default dark:text-text-default-dark space-y-space-md text-left",children:[c.jsx("h2",{className:"text-3xl font-semibold mb-space-md text-primary dark:text-primary-dark",children:"Sobre mí"}),c.jsxs("div",{className:"text-lg mb-8",children:["Soy Carmen, fundadora y CEO de Gonorte Biomechanics, tu entrenadora personal y técnica en movimiento humano.",c.jsx("br",{}),"Graduada en Ciencias de la Actividad Física y el Deporte por la Universidad de Granada en 2022, y titulada con un Máster de Tecnología Humana y Medicina Deportiva por la Universidad Alemana de Colonia en 2025, una de las universidades más prestigiosas de Europa en tecnología aplicada a la salud y el movimiento humano."]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-primary-dark mb-2",children:"🧭 Misión"}),c.jsxs("p",{className:"text-lg",children:["Optimizar el movimiento humano a través de la ciencia.",c.jsx("br",{}),"Nuestra misión es ayudar a cada persona —desde deportistas hasta población general— a moverse mejor, con menos dolor y mayor eficiencia a través de tecnología biomecánica."]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-primary-dark mb-2",children:"🌍 Visión"}),c.jsxs("p",{className:"text-lg",children:["Ser referentes en biomecánica aplicada al entrenamiento y la salud a nivel nacional.",c.jsx("br",{}),"Queremos liderar una nueva forma de entender el ejercicio físico, donde el análisis del movimiento sea la base."]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-primary-dark mb-2",children:"💡 Valores"}),c.jsxs("ul",{className:"list-disc pl-6 text-lg space-y-2",children:[c.jsxs("li",{children:[c.jsx("b",{children:"Ciencia aplicada:"})," Nos guiamos por evidencia científica actualizada, sin dejarnos llevar por modas y mitos del fitness. Usamos tecnología para el análisis y la evaluación de la situación de cada persona."]}),c.jsxs("li",{children:[c.jsx("b",{children:"Individualización:"})," Cada cuerpo es único. Por eso, nuestros planes se adaptan 100% a las necesidades de cada persona."]}),c.jsxs("li",{children:[c.jsx("b",{children:"Prevención:"})," Detectar antes de corregir. Creemos en el poder del análisis para prevenir lesiones y disfunciones."]}),c.jsxs("li",{children:[c.jsx("b",{children:"Educación y cercanía:"})," No solo entrenamos, también enseñamos. Queremos que nuestros clientes entiendan su cuerpo y aprendan a cuidarlo. Escuchamos, acompañamos y apoyamos en cada paso."]})]})]}),c.jsx("h2",{className:"text-3xl font-semibold mb-space-md text-primary dark:text-primary-dark mt-space-xl",children:t("aboutSectionCertifications","Formación y Trayectoria")}),c.jsx("p",{children:t("aboutParagraph5")}),c.jsx("h2",{className:"text-3xl font-semibold mb-space-md text-primary dark:text-primary-dark mt-space-xl",children:t("aboutSectionPhilosophy","Filosofía Gonorte")}),c.jsx("p",{children:t("aboutParagraph6")})]})]})},cH=[{id:1,name:"Cosmic Ray Analyzer",description:"A tool for visualizing cosmic ray data from various observatories.",tech:["React","D3.js","Python"]},{id:2,name:"Stellar Navigation UI",description:"Next-generation user interface for interstellar spacecraft.",tech:["TypeScript","WebGL","Rust"]},{id:3,name:"Planet Colonization Sim",description:"A simulation game about establishing a colony on a new planet.",tech:["C#","Unity","Blender"]}],uH=()=>{const{t}=mt();return c.jsxs(tl,{className:"container mx-auto px-space-md py-12",children:[c.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-primary",children:t("projectsTitle")}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-space-xl",children:cH.map((e,n)=>c.jsxs(Ae.div,{className:"bg-surface p-space-lg rounded-radius-lg shadow-lg hover:shadow-xl transition-shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},children:[c.jsx("h2",{className:"text-2xl font-semibold mb-space-sm text-primary",children:e.name}),c.jsx("p",{className:"text-text-muted mb-space-md",children:e.description}),c.jsx("div",{className:"flex flex-wrap gap-space-sm",children:e.tech.map(r=>c.jsx("span",{className:"px-2 py-1 bg-primary/20 text-primary-dark dark:bg-primary/30 dark:text-primary-light text-xs rounded-radius-full",children:r},r))})]},e.id))})]})},dH=({className:t})=>c.jsxs("svg",{width:"100%",height:"200",viewBox:"0 0 400 200",className:`bg-neutral-surface dark:bg-neutral-border ${t||""}`,xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{width:"400",height:"200",fill:"currentColor"}),c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"sans-serif",fontSize:"24px",className:"fill-text-muted dark:fill-text-muted-dark",children:"Image"})]}),hH=({title:t,description:e,imageUrl:n,price:r,actionText:i,onAction:o,tags:u})=>c.jsxs(Ae.div,{className:"bg-surface rounded-radius-lg shadow-lg overflow-hidden flex flex-col h-full",whileHover:{y:-5,scale:1.05},transition:{type:"spring",stiffness:300},children:[n?c.jsx("img",{src:n,alt:t,className:"w-full h-48 object-cover"}):c.jsx(dH,{className:"h-48"}),c.jsxs("div",{className:"p-space-md flex flex-col flex-grow",children:[c.jsx("h3",{className:"text-xl font-semibold text-primary dark:text-primary-dark mb-space-xs",children:t}),c.jsx("p",{className:"text-text-muted text-sm mb-space-sm flex-grow min-h-[60px]",children:e}),u&&u.length>0&&c.jsx("div",{className:"mb-space-sm flex flex-wrap gap-space-xs",children:u.map((d,f)=>c.jsx("span",{className:"text-xs bg-accent/20 text-accent-dark dark:bg-accent/30 dark:text-accent-light px-2 py-1 rounded-radius-full",children:d},f))}),r&&c.jsx("p",{className:"text-lg font-bold text-text-default dark:text-text-default-dark mb-space-md",children:r}),i&&o&&c.jsx("button",{onClick:o,className:"mt-auto w-full bg-primary hover:opacity-90 text-white font-semibold py-space-sm px-space-md rounded-radius-md transition-opacity","aria-label":`${i} for ${t}`,children:i})]})]}),fH=[{title:"Cosmic Explorer Subscription",description:"Unlock exclusive access to our premium content, tools, and community features. Explore the universe like never before.",imageUrl:"https://images.pexels.com/photos/998641/pexels-photo-998641.jpeg?auto=compress&cs=tinysrgb&w=400&h=200&dpr=1",price:"$29.99/month",actionText:"Subscribe Now",onAction:()=>alert("Subscribe Now clicked for Cosmic Explorer!"),tags:["Subscription","Premium","Space"]},{title:"Starship Model Kit",description:"Build your own detailed replica of the famous XS-1 Starship. Perfect for hobbyists and collectors.",price:"$79.99",actionText:"Add to Cart",onAction:()=>alert("Add to Cart clicked for Starship Model!"),tags:["Model Kit","Collectibles"]},{title:"Nebula Observation Guide",description:"A comprehensive digital guide to observing and understanding various nebulae. Includes charts and expert tips.",imageUrl:"https://images.pexels.com/photos/1169754/pexels-photo-1169754.jpeg?auto=compress&cs=tinysrgb&w=400&h=200&dpr=1",price:"$14.99",actionText:"View Details",onAction:()=>alert("View Details for Nebula Guide!"),tags:["Digital","Guide","Astronomy"]},{title:"Zero-G Coffee Mug",description:"The perfect mug for your space adventures (or just your morning coffee). Spill-proof technology not included.",price:"$24.50",actionText:"Buy Now",onAction:()=>alert("Zero-G Mug purchased!"),tags:["Merchandise","Fun"]},{title:"Galaxy Mapping Service",description:"Professional service to map uncharted regions of your newly discovered galaxy. Includes detailed star charts.",imageUrl:"https://images.pexels.com/photos/1274260/pexels-photo-1274260.jpeg?auto=compress&cs=tinysrgb&w=400&h=200&dpr=1",price:"Contact for Quote",actionText:"Request Info",onAction:()=>alert("Info requested for Galaxy Mapping!"),tags:["Service","Professional"]},{title:"Anti-Gravity Boots (Prototype)",description:"Experimental footwear for brief periods of reduced gravitational effect. Use with caution. Not liable for ceiling impacts.",price:"$999.99 (Pre-order)",actionText:"Pre-order Now",onAction:()=>alert("Anti-Gravity Boots pre-ordered!"),tags:["Experimental","Tech","Limited"]}],mH=()=>{const{t}=mt();return c.jsxs(tl,{className:"container mx-auto px-space-md py-12",children:[c.jsx("h1",{className:"text-4xl font-bold mb-space-lg text-center text-primary dark:text-primary-dark",children:t("catalogTitle","Our Products & Services")}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-space-lg",children:fH.map((e,n)=>c.jsx(hH,{title:t(e.title.toLowerCase().replace(/\s+/g,"_"),e.title),description:t(e.description.toLowerCase().replace(/\s+/g,"_"),e.description),imageUrl:e.imageUrl,price:e.price,actionText:e.actionText?t(e.actionText.toLowerCase().replace(/\s+/g,"_"),e.actionText):void 0,onAction:e.onAction,tags:e.tags},e.title+n))})]})},pH=()=>{const{t}=mt(),e=new Date().toLocaleDateString(Gt.language,{year:"numeric",month:"long",day:"numeric"});return c.jsxs(tl,{className:"container mx-auto px-space-md py-12",children:[c.jsxs("header",{className:"text-center mb-space-lg",children:[c.jsx("h1",{className:"text-4xl font-bold text-primary dark:text-primary-dark",children:t("legalPageTitle","Legal Information")}),c.jsxs("p",{className:"text-sm text-text-muted mt-space-xs",children:[t("lastUpdated","Last Updated"),": ",e]})]}),c.jsxs("section",{className:"max-w-3xl mx-auto p-6 bg-white dark:bg-slate-800 rounded-radius-lg shadow-md mt-8",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Términos de Uso"}),c.jsx("p",{children:"En este espacio, el USUARIO podrá encontrar toda la información relativa a los términos y condiciones legales que definen las relaciones entre los usuarios y nosotros como responsables de esta web. Como usuario, es importante que conozcas estos términos antes de continuar tu navegación."}),c.jsx("p",{className:"mt-2",children:"Carmen María González Ortega, como responsable de esta web, asume el compromiso de procesar la información de nuestros usuarios y clientes con plenas garantías y cumplir con los requisitos nacionales y europeos que regulan la recopilación y uso de los datos personales de nuestros usuarios. Esta web, por tanto, cumple rigurosamente con el RGPD (REGLAMENTO (UE) 2016/679 de protección de datos) y la LSSI-CE (Ley 34/2002, de 11 de julio, de servicios de la sociedad de la información y de comercio electrónico)."}),c.jsx("p",{className:"mt-2",children:"Las presentes Condiciones Generales regulan el uso (incluyendo el mero acceso) de las páginas de la web, integrantes del sitio web https://gonorte.com de Carmen María González Ortega, incluidos los contenidos y servicios puestos a disposición en ellas. Toda persona que acceda a la web acepta someterse a las Condiciones Generales vigentes en cada momento del portal."}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"DATOS PERSONALES QUE RECABAMOS Y CÓMO LO HACEMOS"}),c.jsxs("p",{children:["Leer"," ",c.jsx("a",{href:"/#/privacidad",rel:"noopener noreferrer",className:"text-primary underline font-semibold",children:"Política de Privacidad"})]}),c.jsx("p",{children:"En Gonorte, la privacidad de nuestros usuarios es prioritaria. Los datos personales que nos facilites serán tratados con la máxima confidencialidad y conforme a la normativa vigente. Solo se recabarán los datos estrictamente necesarios para la prestación de los servicios y nunca serán cedidos a terceros sin tu consentimiento, salvo obligación legal."}),c.jsxs("p",{children:["Los datos personales recogidos podrán ser utilizados para gestionar tu registro, responder a tus consultas, enviarte información relevante sobre nuestros servicios y cumplir con obligaciones legales. Puedes ejercer tus derechos de acceso, rectificación, cancelación y oposición enviando un correo a ",c.jsx("a",{href:"mailto:gonorte.biomechanics@gmail.com",className:"text-primary underline",children:"gonorte.biomechanics@gmail.com"}),"."]}),c.jsx("p",{children:"Para más información sobre el tratamiento de tus datos, consulta esta sección o escríbenos a nuestro correo de contacto."}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"COMPROMISOS Y OBLIGACIONES DE LOS USUARIOS"}),c.jsx("p",{children:"El Usuario queda informado y acepta que el acceso a la presente web no supone, en modo alguno, el inicio de una relación contractual con Carmen María González Ortega. De esta forma, el usuario se compromete a utilizar el sitio web, sus servicios y contenidos sin contravenir la legislación vigente, la buena fe y el orden público."}),c.jsx("p",{children:"Queda prohibido el uso de la web con fines ilícitos o lesivos, o que puedan causar perjuicio o impedir el normal funcionamiento del sitio web. Respecto a los contenidos de esta web, se prohíbe su reproducción, distribución o modificación, total o parcial, sin la autorización explícita de sus legítimos titulares. Cualquier vulneración de los derechos del prestador o de los titulares de los contenidos, o su utilización con fines comerciales o publicitarios, queda expresamente prohibida."}),c.jsx("p",{children:"En la utilización de la web, el Usuario se compromete a no llevar a cabo ninguna conducta que pueda dañar la imagen, los intereses o los derechos de Carmen María González Ortega o de terceros, o que pueda dañar, inutilizar o sobrecargar el portal, o impedir su uso normal."}),c.jsx("p",{children:"El Usuario debe ser consciente de que las medidas de seguridad en Internet no son completamente fiables y que, por tanto, Carmen María González Ortega no puede garantizar la inexistencia de virus u otros elementos que puedan producir alteraciones en los sistemas informáticos (software y hardware) del usuario o en sus documentos electrónicos."}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"MEDIDAS DE SEGURIDAD"}),c.jsx("p",{children:"Los datos personales comunicados por el usuario a https://gonorte.com pueden ser almacenados en bases de datos automatizadas o no, cuya titularidad corresponde en exclusiva a https://gonorte.com, asumiendo todas las medidas técnicas, organizativas y de seguridad que garantizan la confidencialidad, integridad y calidad de la información, conforme a la normativa vigente en protección de datos."}),c.jsx("p",{children:"La comunicación entre usuarios y https://gonorte.com utiliza un canal seguro cifrado mediante protocolos https, garantizando la confidencialidad de los datos de los usuarios."}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"RECLAMACIONES"}),c.jsxs("p",{children:["Carmen María González Ortega informa que existen hojas de reclamación a disposición de usuarios y clientes. El Usuario podrá realizar reclamaciones solicitando la hoja de reclamación o remitiendo un correo electrónico a ",c.jsx("a",{href:"mailto:contacto@gonorte.com",className:"text-primary underline",children:"contacto@gonorte.com"}),", indicando su nombre y apellidos, el servicio adquirido y los motivos de su reclamación."]}),c.jsxs("p",{children:["Para notificar una reclamación, puede hacerlo también mediante correo electrónico a ",c.jsx("a",{href:"mailto:gonorte.biomechanics@gmail.com",className:"text-primary underline",children:"gonorte.biomechanics@gmail.com"}),", indicando:"]}),c.jsxs("ul",{className:"list-disc ml-6",children:[c.jsx("li",{children:"Servicio/producto"}),c.jsx("li",{children:"Fecha de adquisición"}),c.jsx("li",{children:"Nombre y apellidos"}),c.jsx("li",{children:"Domicilio"}),c.jsx("li",{children:"Fecha"}),c.jsx("li",{children:"Motivo de la reclamación"})]}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"PLATAFORMA DE RESOLUCIÓN DE CONFLICTO"}),c.jsxs("p",{children:["Como usuario, puedes también utilizar la plataforma de resolución de litigios de la Comisión Europea: ",c.jsx("a",{href:"http://ec.europa.eu/consumers/odr/",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"http://ec.europa.eu/consumers/odr/"})]}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"DERECHOS DE PROPIEDAD INTELECTUAL E INDUSTRIAL"}),c.jsx("p",{children:"Según los artículos 8 y 32.1.2 de la Ley de Propiedad Intelectual, queda prohibida la reproducción, distribución y comunicación pública de los contenidos de esta web sin autorización de Carmen María González Ortega. El usuario se compromete a respetar los derechos de propiedad intelectual e industrial."}),c.jsx("p",{children:"El usuario conoce y acepta que la totalidad del sitio web —textos, software, contenidos, podcasts, fotografías, material audiovisual y gráficos— está protegida por derechos de autor, marcas y propiedad industrial, conforme a los tratados internacionales y la legislación española."}),c.jsx("p",{children:"Si considera que se ha producido una violación de sus derechos de propiedad intelectual, deberá notificarlo a Carmen María González Ortega indicando:"}),c.jsxs("ul",{className:"list-disc ml-6",children:[c.jsx("li",{children:"Datos personales del solicitante"}),c.jsx("li",{children:"Representación, en su caso"}),c.jsx("li",{children:"Contenidos protegidos y ubicación"}),c.jsx("li",{children:"Acreditación de los derechos alegados"}),c.jsx("li",{children:"Declaración de veracidad"})]}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"ENLACES EXTERNOS"}),c.jsx("p",{children:"En el portal https://gonorte.com pueden existir enlaces a sitios web de terceros. El único fin de los enlaces es facilitar el acceso al usuario. No nos hacemos responsables de los contenidos o resultados derivados del uso de tales enlaces."}),c.jsx("p",{children:"Algunos enlaces pueden recopilar datos de navegación y generar perfiles. Esta información se recoge de forma anónima y el usuario no es identificado. Se recomienda revisar las políticas de privacidad de los sitios de destino."}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"POLÍTICA DE COMENTARIOS"}),c.jsx("p",{children:"En zonas de la web donde se permiten comentarios, no se admitirán:"}),c.jsxs("ul",{className:"list-disc ml-6",children:[c.jsx("li",{children:"Contenidos no relacionados con la temática"}),c.jsx("li",{children:"Difamaciones, agravios, insultos o ataques personales"}),c.jsx("li",{children:"Contenido engañoso o falso"}),c.jsx("li",{children:"Información personal sin consentimiento"}),c.jsx("li",{children:"Comentarios promocionales o spam"}),c.jsx("li",{children:"Comentarios anónimos o múltiples con distintos alias"}),c.jsx("li",{children:"Comentarios que busquen forzar un debate"})]}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"EXCLUSIÓN DE GARANTÍAS Y RESPONSABILIDAD"}),c.jsx("p",{children:"El prestador no ofrece garantías ni se hace responsable de:"}),c.jsxs("ul",{className:"list-disc ml-6",children:[c.jsx("li",{children:"Disponibilidad o funcionamiento de la web y sus servicios"}),c.jsx("li",{children:"Existencia de virus o software malicioso"}),c.jsx("li",{children:"Uso ilícito, negligente o contrario a estas condiciones"}),c.jsx("li",{children:"Calidad o utilidad de servicios prestados por terceros"}),c.jsx("li",{children:"Daños derivados del uso ilegal o indebido de la web"})]}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"LEY APLICABLE Y JURISDICCIÓN"}),c.jsx("p",{children:"Las relaciones entre Carmen María González Ortega y los usuarios de https://gonorte.com están sometidas a la legislación española y a los tribunales de la misma"}),c.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"CONTACTO"}),c.jsxs("p",{children:["Para dudas o comentarios sobre estas condiciones legales, puedes escribir a ",c.jsx("a",{href:"mailto:gonorte.biomechanics@gmail.com",className:"text-primary underline",children:"gonorte.biomechanics@gmail.com"}),"."]}),c.jsx("p",{className:"mt-8",children:"De parte del equipo de Gonorte Biomechanics, muchas gracias por dedicar tu tiempo a leer este Aviso Legal."})]})]})},gH=()=>{const{t}=mt();return c.jsx(tl,{className:"min-h-full",children:c.jsxs("div",{className:"container mx-auto px-4 py-8 text-text-default dark:text-text-default-dark min-h-full flex flex-col",children:[c.jsx("h1",{className:"text-4xl font-bold text-center mb-12 text-primary dark:text-primary-dark",children:t("servicesPageMainHeading","Nuestros Servicios")}),c.jsxs("section",{className:"mb-12",children:[c.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesPersonalTrainingTitle","Entrenamiento Personalizado")}),c.jsx("p",{className:"mb-4",children:t("servicesPersonalTrainingDesc1","Ofrecemos programas de entrenamiento individualizados, diseñados específicamente para ayudarte a alcanzar tus metas de fitness. Ya sea que busques perder peso, ganar masa muscular, mejorar tu rendimiento deportivo o simplemente adoptar un estilo de vida más activo, trabajaremos contigo para crear un plan que se ajuste a tus necesidades, habilidades y preferencias.")}),c.jsx("p",{children:t("servicesPersonalTrainingDesc2","Nuestras sesiones de entrenamiento personalizado incluyen seguimiento continuo, ajustes programáticos basados en tu progreso y la motivación necesaria para superar tus límites. Contáctanos para una consulta inicial y descubre cómo podemos transformar tu cuerpo y mente.")})]}),c.jsxs("section",{className:"mb-12",children:[c.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesOnlineRoutinesTitle","Rutinas Online")}),c.jsx("p",{className:"mb-4",children:t("servicesOnlineRoutinesDesc1","Accede a nuestros programas de entrenamiento desde cualquier lugar y en cualquier momento con nuestras rutinas online. Perfectas para quienes prefieren la flexibilidad de entrenar en casa o mientras viajan, nuestras rutinas digitales vienen con guías detalladas, videos explicativos y soporte para asegurar que ejecutes cada ejercicio de manera segura y efectiva.")}),c.jsx("p",{children:t("servicesOnlineRoutinesDesc2","Ofrecemos una variedad de rutinas que se adaptan a diferentes niveles de experiencia y objetivos, desde programas de fuerza y acondicionamiento hasta rutinas de movilidad y bienestar general. Todo accesible a través de nuestra plataforma intuitiva.")})]}),c.jsxs("section",{className:"mb-12",children:[c.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesNutritionalCoachingTitle","Asesoramiento Nutricional")}),c.jsx("p",{className:"mb-4",children:t("servicesNutritionalCoachingDesc1","El complemento perfecto para tu entrenamiento. Nuestro servicio de asesoramiento nutricional te enseñará cómo alimentar tu cuerpo de manera inteligente para maximizar tus resultados y mejorar tu salud general. No se trata de dietas restrictivas, sino de construir hábitos alimenticios sostenibles.")}),c.jsx("p",{children:t("servicesNutritionalCoachingDesc2","Desarrollamos planes de comidas personalizados, te educamos sobre la importancia de los macronutrientes y micronutrientes, y te ofrecemos el apoyo continuo para que la nutrición se convierta en una parte integral y placentera de tu estilo de vida saludable.")})]}),c.jsxs("section",{className:"mb-12",children:[c.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesGroupTrainingTitle","Entrenamiento Grupal")}),c.jsx("p",{className:"mb-4",children:t("servicesGroupTrainingDesc1","Únete a nuestras sesiones de entrenamiento grupal donde la motivación y el compañerismo se combinan para crear una experiencia de fitness excepcional. Nuestras clases están diseñadas para todos los niveles, desde principiantes hasta atletas avanzados, y ofrecen una variedad de formatos que incluyen HIIT, entrenamiento funcional, yoga y más.")}),c.jsx("p",{children:t("servicesGroupTrainingDesc2","El entrenamiento grupal no solo te ayuda a mantener la consistencia, sino que también te conecta con una comunidad de personas que comparten tus objetivos de fitness. Nuestros instructores certificados aseguran que cada participante reciba la atención necesaria mientras mantienen el dinamismo y la energía de la clase.")})]}),c.jsxs("section",{className:"mb-12",children:[c.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesRehabilitationTitle","Rehabilitación y Recuperación")}),c.jsx("p",{className:"mb-4",children:t("servicesRehabilitationDesc1","Nuestro programa de rehabilitación y recuperación está diseñado para ayudarte a recuperarte de lesiones y mejorar tu movilidad funcional. Trabajamos en estrecha colaboración con fisioterapeutas y profesionales de la salud para crear programas personalizados que aceleren tu recuperación y prevengan futuras lesiones.")}),c.jsx("p",{children:t("servicesRehabilitationDesc2","Utilizamos técnicas avanzadas de movilidad, ejercicios de estabilización y progresiones graduales para restaurar tu rango de movimiento, fuerza y confianza. Nuestro objetivo es no solo recuperarte, sino hacerte más fuerte y resistente que antes de la lesión.")})]}),c.jsxs("section",{className:"mb-12",children:[c.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesSportsPerformanceTitle","Rendimiento Deportivo")}),c.jsx("p",{className:"mb-4",children:t("servicesSportsPerformanceDesc1","Especializado en mejorar el rendimiento deportivo de atletas de todos los niveles. Nuestros programas están diseñados para optimizar la fuerza, velocidad, agilidad y resistencia específicas de tu deporte. Utilizamos análisis biomecánico y evaluaciones de rendimiento para crear programas que maximicen tu potencial atlético.")}),c.jsx("p",{children:t("servicesSportsPerformanceDesc2","Ya seas un atleta recreativo o competitivo, nuestro enfoque basado en la ciencia te ayudará a mejorar tu técnica, prevenir lesiones y alcanzar nuevos niveles de rendimiento. Trabajamos con deportistas de fútbol, baloncesto, tenis, atletismo y muchos otros deportes.")})]}),c.jsxs("section",{className:"mt-space-xl p-space-lg bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50 rounded-lg border border-neutral-border-light/30 dark:border-neutral-border-dark/30",children:[c.jsx("h2",{className:"text-2xl font-bold text-center mb-space-md text-primary dark:text-primary-dark",children:t("servicesCTATitle","¿Listo para Comenzar tu Transformación?")}),c.jsx("p",{className:"text-center text-text-muted-light dark:text-text-muted-dark mb-space-md",children:t("servicesCTADesc","Cada servicio está diseñado para adaptarse a tus necesidades específicas. Contáctanos para una consulta gratuita y descubre cómo podemos ayudarte a alcanzar tus objetivos de fitness.")}),c.jsx("div",{className:"text-center",children:c.jsx("button",{className:"bg-primary text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors duration-300",children:t("servicesCTAButton","Solicitar Consulta Gratuita")})})]})]})})},xH=()=>{const{t}=mt(),e=[{id:1,name:"María García",position:"CEO, TechStart",content:"Excelente trabajo en nuestro proyecto. El equipo demostró profesionalismo y entregó resultados excepcionales.",rating:5,avatar:"👩‍💼"},{id:2,name:"Carlos Rodríguez",position:"Director de Marketing",content:"La calidad del servicio superó nuestras expectativas. Definitivamente volveremos a trabajar juntos.",rating:5,avatar:"👨‍💼"},{id:3,name:"Ana Martínez",position:"Fundadora, InnovateLab",content:"Proceso transparente y comunicación constante. El resultado final fue exactamente lo que necesitábamos.",rating:5,avatar:"👩‍🔬"},{id:4,name:"Luis Fernández",position:"CTO, DigitalCorp",content:"Técnicamente sólido y entregado a tiempo. Un partner confiable para proyectos tecnológicos.",rating:5,avatar:"👨‍💻"},{id:5,name:"Sofia López",position:"Diseñadora Senior",content:"Creatividad y atención al detalle excepcionales. El diseño final fue perfecto para nuestra marca.",rating:5,avatar:"👩‍🎨"},{id:6,name:"Diego Morales",position:"Product Manager",content:"Colaboración fluida y resultados medibles. Transformaron nuestra visión en realidad.",rating:5,avatar:"👨‍💼"}],n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return c.jsx(Ae.div,{initial:"hidden",animate:"visible",variants:n,className:"py-8 min-h-full",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs(Ae.div,{variants:r,className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:t("testimonialsTitle","Lo que dicen nuestros clientes")}),c.jsx("p",{className:"text-lg text-text-muted max-w-2xl mx-auto",children:t("testimonialsSubtitle","Descubre por qué nuestros clientes confían en nosotros para sus proyectos más importantes")})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>c.jsxs(Ae.div,{variants:r,className:"bg-surface rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[c.jsx("div",{className:"flex mb-4",children:[...Array(i.rating)].map((o,u)=>c.jsx("span",{className:"text-yellow-400 text-xl",children:"⭐"},u))}),c.jsxs("p",{className:"text-text-muted mb-6 italic",children:['"',i.content,'"']}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"text-3xl mr-3",children:i.avatar}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-text-primary",children:i.name}),c.jsx("p",{className:"text-sm text-text-muted",children:i.position})]})]})]},i.id))}),c.jsx(Ae.div,{variants:r,className:"text-center mt-16",children:c.jsxs("div",{className:"bg-gradient-to-r from-primary-DEFAULT to-accent-DEFAULT dark:from-primary-dark dark:to-accent-dark rounded-lg p-8 text-text-default-dark dark:text-text-default-light transition-colors duration-300",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:t("testimonialsCTA","¿Listo para ser nuestro próximo caso de éxito?")}),c.jsxs("p",{className:"mb-6 text-lg opacity-90",children:[" ",t("testimonialsCTASubtitle","Únete a nuestros clientes satisfechos y transforma tu visión en realidad")]}),c.jsx("button",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark text-primary-dark dark:text-primary-light px-8 py-3 rounded-lg font-semibold hover:bg-neutral-border-light dark:hover:bg-neutral-border-dark transition-colors",children:t("testimonialsCTAButton","Comienza tu proyecto")})]})})]})})},yH=[{icon:"📧",titleKey:"contactEmailTitle",defaultTitle:"Email",valueKey:"contactEmail",defaultValue:"gonorte.biomechanics@gmail.com",link:"mailto:gonorte.biomechanics@gmail.com"},{icon:"📱",titleKey:"contactPhoneTitle",defaultTitle:"Teléfono",valueKey:"contactPhone",defaultValue:"+34 644 00 15 99",link:"tel:+34644001599"},{icon:"📍",titleKey:"contactLocationTitle",defaultTitle:"Ubicación",valueKey:"contactLocation",defaultValue:"Jaén, España"},{icon:"⏰",titleKey:"contactHoursTitle",defaultTitle:"Horarios",valueKey:"contactHours",defaultValue:"Lun-Vier: 9:00-21:00"}],vH=[{icon:"📘",name:"Facebook",url:"https://www.facebook.com/profile.php?id=61577890884590",color:"hover:bg-blue-500"},{icon:"📷",name:"Instagram",url:"https://www.instagram.com/gonorte.training/",color:"hover:bg-pink-500"},{icon:"💼",name:"LinkedIn",url:"https://www.linkedin.com/in/carmen-mar%C3%ADa-gonz%C3%A1lez-ortega-3747b5258/",color:"hover:bg-blue-600"},{icon:"🐦",name:"TikTok",url:"https://www.tiktok.com/@gonorte.training",color:"hover:bg-black"},{icon:"▶️",name:"YouTube",url:"#",color:"hover:bg-red-600"}],bH=()=>{const{t}=mt(),[e,n]=C.useState({name:"",email:"",phone:"",message:"",service:"",experience:"",goals:""}),[r,i]=C.useState(!1),[o,u]=C.useState("idle"),d=m=>{const{name:x,value:v}=m.target;n(b=>({...b,[x]:v}))},f=async m=>{m.preventDefault(),i(!0);try{await new Promise(x=>setTimeout(x,2e3)),u("success"),n({name:"",email:"",phone:"",message:"",service:"",experience:"",goals:""})}catch{u("error")}finally{i(!1)}};return c.jsx("div",{className:"min-h-full bg-gradient-to-br from-neutral-background-light via-neutral-background-light to-primary-light/20 dark:from-neutral-background-dark dark:via-neutral-background-dark dark:to-primary-dark/20 transition-colors duration-300",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-20",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[c.jsx("div",{children:c.jsxs("div",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark rounded-2xl p-8 shadow-xl border-2 border-gray-300 dark:border-neutral-border-dark transition-colors duration-300",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 text-text-default-light dark:text-text-default-dark",children:t("contactFormTitle","Envíame un Mensaje")}),o==="success"&&c.jsx("div",{className:"mb-6 p-4 bg-semantic-success-light/20 dark:bg-semantic-success-dark/20 border border-semantic-success-light dark:border-semantic-success-dark text-semantic-success-light dark:text-semantic-success-dark rounded-xl",children:t("contactSuccess","¡Mensaje enviado con éxito! Te responderemos pronto.")}),o==="error"&&c.jsx("div",{className:"mb-6 p-4 bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 border border-semantic-error-light dark:border-semantic-error-dark text-semantic-error-light dark:text-semantic-error-dark rounded-xl",children:t("contactError","Hubo un error al enviar el mensaje. Por favor, inténtalo de nuevo.")}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:[t("contactFormName","Nombre")," *"]}),c.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:d,required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark transition-colors duration-300",placeholder:t("contactFormNamePlaceholder","Tu nombre completo")})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:[t("contactFormEmail","Email")," *"]}),c.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:d,required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark transition-colors duration-300",placeholder:t("contactFormEmailPlaceholder","tu@email.com")})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("contactFormPhone","Teléfono")}),c.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:d,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark transition-colors duration-300",placeholder:t("contactFormPhonePlaceholder","+34 600 123 456")})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"service",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("contactFormService","Servicio de Interés")}),c.jsxs("select",{id:"service",name:"service",value:e.service,onChange:d,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark transition-colors duration-300 appearance-none cursor-pointer [&>option]:bg-neutral-surface-light [&>option]:dark:bg-neutral-surface-dark [&>option]:text-text-default-light [&>option]:dark:text-text-default-dark [&>option]:py-2 [&>option]:px-3 [&>option]:hover:bg-gray-100 [&>option]:dark:hover:bg-gray-700 [&>option]:border-b [&>option]:border-gray-200 [&>option]:dark:border-gray-600",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[c.jsx("option",{value:"",children:"Selecciona un servicio"}),c.jsx("option",{value:"personal-training",children:"Entrenamiento personal"}),c.jsx("option",{value:"3d-postural-analysis",children:"Análisis postural en 3D"}),c.jsx("option",{value:"rehabilitation",children:"Readaptación de lesiones"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"experience",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:"Nivel de Experiencia"}),c.jsxs("select",{id:"experience",name:"experience",value:e.experience,onChange:d,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark transition-colors duration-300 appearance-none cursor-pointer [&>option]:bg-neutral-surface-light [&>option]:dark:bg-neutral-surface-dark [&>option]:text-text-default-light [&>option]:dark:text-text-default-dark [&>option]:py-2 [&>option]:px-3 [&>option]:hover:bg-gray-100 [&>option]:dark:hover:bg-gray-700 [&>option]:border-b [&>option]:border-gray-200 [&>option]:dark:border-gray-600",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[c.jsx("option",{value:"",children:"Selecciona tu nivel"}),c.jsx("option",{value:"beginner",children:"Principiante"}),c.jsx("option",{value:"intermediate",children:"Intermedio"}),c.jsx("option",{value:"advanced",children:"Avanzado"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"goals",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:"Objetivos Principales"}),c.jsx("textarea",{id:"goals",name:"goals",value:e.goals,onChange:d,rows:3,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark resize-none transition-colors duration-300",placeholder:"Ej: Perder peso, ganar músculo, mejorar resistencia..."})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:[t("contactFormMessage","Mensaje")," *"]}),c.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:d,required:!0,rows:5,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark resize-none transition-colors duration-300",placeholder:t("contactFormMessagePlaceholder","Cuéntame sobre tus objetivos y cómo puedo ayudarte...")})]}),c.jsx(Ae.button,{type:"submit",disabled:r,className:"w-full bg-primary text-black dark:text-white font-semibold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.02},whileTap:{scale:.98},children:r?t("contactSending","Enviando..."):t("contactFormSubmit","Enviar Mensaje")})]})]})}),c.jsxs("div",{className:"h-full flex flex-col justify-between space-y-6",children:[c.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:yH.map(m=>c.jsx(Ae.div,{className:"bg-gray-200 dark:bg-neutral-surface-dark rounded-xl p-4 shadow-lg border-2 border-gray-300 dark:border-neutral-border-dark hover:shadow-xl transition-all duration-300",whileHover:{y:-4,scale:1.02},transition:{duration:.3},children:c.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[c.jsx("div",{className:"text-2xl icon-primary",children:m.icon}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-100",children:t(m.titleKey,m.defaultTitle)}),m.link?c.jsx("a",{href:m.link,className:"text-xs text-primary-700 dark:text-primary-300 hover:text-primary-900 dark:hover:text-primary-100 transition-colors break-all max-w-[140px] inline-block truncate",style:{wordBreak:"break-all"},children:t(m.valueKey,m.defaultValue)}):c.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-300 break-all max-w-[140px] inline-block truncate",style:{wordBreak:"break-all"},children:t(m.valueKey,m.defaultValue)})]})]})},m.titleKey))}),c.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:vH.map(m=>c.jsx(Ae.a,{href:m.url,className:"bg-gray-200 dark:bg-neutral-surface-dark rounded-xl p-4 shadow-lg border-2 border-gray-300 dark:border-neutral-border-dark hover:shadow-xl transition-all duration-300 group",whileHover:{y:-4,scale:1.02},whileTap:{scale:.95},children:c.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[c.jsx("div",{className:"text-2xl icon-primary",children:m.icon}),c.jsx("div",{children:c.jsx("h4",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-100",children:m.name})})]})},m.name))}),c.jsxs("div",{className:"bg-gray-200 dark:bg-neutral-surface-dark rounded-xl p-8 shadow-lg border-2 border-gray-300 dark:border-neutral-border-dark flex-1 flex flex-col",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-text-default-light dark:text-text-default-dark",children:"Ubicación"}),c.jsx("div",{className:"bg-neutral-background-light dark:bg-neutral-background-dark rounded-xl flex-1 flex items-center justify-center",children:c.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3168.632155525589!2d-3.790278!3d37.779594!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd6dd7e5b8b8b8b8%3A0x8b8b8b8b8b8b8b8!2sJa%C3%A9n%2C%20Espa%C3%B1a!5e0!3m2!1ses!2ses!4v1717430000000&maptype=roadmap&zoom=15&disableDefaultUI=true&zoomControl=false&mapTypeControl=false&scaleControl=false&streetViewControl=false&rotateControl=false&fullscreenControl=false",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"rounded-xl"})})]})]})]})})})},wH=()=>{const{t}=mt();return c.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center min-h-screen bg-background",children:c.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[c.jsx(Ae.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-8xl font-bold text-primary mb-4",children:"404"}),c.jsx(Ae.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-3xl font-bold text-text-primary mb-4",children:t("pageNotFoundTitle","Página No Encontrada")}),c.jsx(Ae.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-lg text-text-muted mb-8",children:t("pageNotFoundMessage","Lo sentimos, la página que buscas no existe.")}),c.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(zt,{to:"/",className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition-colors",children:t("navHome","Inicio")}),c.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 border border-primary text-primary rounded-lg font-semibold hover:bg-primary hover:text-white transition-colors",children:t("goBackButton","Volver")})]}),c.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-12",children:[c.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:t("helpfulLinks","Enlaces útiles")}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[c.jsx(zt,{to:"/about",className:"text-primary hover:text-primary-dark transition-colors",children:t("navAbout","Sobre Mí")}),c.jsx(zt,{to:"/services",className:"text-primary hover:text-primary-dark transition-colors",children:t("navServices","Servicios")}),c.jsx(zt,{to:"/contact",className:"text-primary hover:text-primary-dark transition-colors",children:t("navContact","Contacto")})]})]})]})})},TH=()=>c.jsx(tl,{className:"container mx-auto px-space-md py-12",children:c.jsxs("section",{className:"max-w-3xl mx-auto p-6 bg-white dark:bg-slate-800 rounded-radius-lg shadow-md mt-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Política de Privacidad"}),c.jsx("p",{className:"mb-4 text-gray-500 text-sm",children:"Última actualización: 9 de julio de 2025"}),c.jsx("p",{children:"En Gonorte, la privacidad de nuestros usuarios es prioritaria. Los datos personales que nos facilites serán tratados con la máxima confidencialidad y conforme a la normativa vigente. Solo se recabarán los datos estrictamente necesarios para la prestación de los servicios y nunca serán cedidos a terceros sin tu consentimiento, salvo obligación legal."}),c.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Responsable del Tratamiento"}),c.jsxs("p",{children:["Carmen María González Ortega",c.jsx("br",{}),"Email: ",c.jsx("a",{href:"mailto:gonorte.biomechanics@gmail.com",className:"text-primary underline",children:"gonorte.biomechanics@gmail.com"})]}),c.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Finalidad del Tratamiento"}),c.jsx("p",{children:"Los datos personales recogidos podrán ser utilizados para gestionar tu registro, responder a tus consultas, enviarte información relevante sobre nuestros servicios y cumplir con obligaciones legales."}),c.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Legitimación"}),c.jsx("p",{children:"La base legal para el tratamiento de tus datos es el consentimiento, la ejecución de un contrato y el cumplimiento de obligaciones legales."}),c.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Conservación de los Datos"}),c.jsx("p",{children:"Los datos personales proporcionados se conservarán mientras se mantenga la relación comercial o durante los años necesarios para cumplir con las obligaciones legales."}),c.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Destinatarios"}),c.jsx("p",{children:"No se cederán datos a terceros salvo obligación legal."}),c.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Derechos del Usuario"}),c.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[c.jsx("li",{children:"Acceso: Saber qué datos tuyos tratamos."}),c.jsx("li",{children:"Rectificación: Solicitar la modificación de tus datos si son inexactos."}),c.jsx("li",{children:"Cancelación: Solicitar la eliminación de tus datos."}),c.jsx("li",{children:"Oposición: Oponerte a que tratemos tus datos."}),c.jsx("li",{children:"Limitación: Solicitar la limitación del tratamiento de tus datos."}),c.jsx("li",{children:"Portabilidad: Solicitar la portabilidad de tus datos a otro responsable."})]}),c.jsxs("p",{children:["Puedes ejercer estos derechos enviando un correo a ",c.jsx("a",{href:"mailto:gonorte.biomechanics@gmail.com",className:"text-primary underline",children:"gonorte.biomechanics@gmail.com"}),"."]}),c.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Medidas de Seguridad"}),c.jsx("p",{children:"Gonorte ha adoptado todas las medidas técnicas y organizativas necesarias para garantizar la seguridad e integridad de los datos personales que trate, así como para evitar su pérdida, alteración y/o acceso por parte de terceros no autorizados."}),c.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Cambios en la Política de Privacidad"}),c.jsx("p",{children:"Gonorte se reserva el derecho a modificar la presente política para adaptarla a novedades legislativas o jurisprudenciales, así como a prácticas de la industria. En dichos supuestos, se anunciarán en esta página los cambios introducidos con razonable antelación a su puesta en práctica."}),c.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Contacto"}),c.jsxs("p",{children:["Para cualquier duda o consulta sobre esta política de privacidad, puedes escribir a ",c.jsx("a",{href:"mailto:gonorte.biomechanics@gmail.com",className:"text-primary underline",children:"gonorte.biomechanics@gmail.com"}),"."]})]})});var n6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},p_=Cs.createContext&&Cs.createContext(n6),kH=["attr","size","title"];function EH(t,e){if(t==null)return{};var n=_H(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _H(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(this,arguments)}function g_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(n),!0).forEach(function(r){SH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SH(t,e,n){return e=NH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NH(t){var e=AH(t,"string");return typeof e=="symbol"?e:e+""}function AH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r6(t){return t&&t.map((e,n)=>Cs.createElement(e.tag,Nm({key:n},e.attr),r6(e.child)))}function We(t){return e=>Cs.createElement(CH,Sm({attr:Nm({},t.attr)},e),r6(t.child))}function CH(t){var e=n=>{var{attr:r,size:i,title:o}=t,u=EH(t,kH),d=i||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Cs.createElement("svg",Sm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:f,style:Nm(Nm({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Cs.createElement("title",null,o),t.children)};return p_!==void 0?Cs.createElement(p_.Consumer,null,n=>e(n)):e(n6)}function a6(t){return We({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function Gs(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function jH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function sd(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function Ha(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function RH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function PH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h288c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-64zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function DH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function ic(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function IH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function xa(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Wd(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function i6(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function x_(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function tr(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(t)}function dp(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function hp(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function MH(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function OH(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function LH(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function y_(t){return We({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function s6(t){return We({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function $f(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function VH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function UH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function zH(t){return We({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(t)}function FH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Kf(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function sc(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Rd(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function o6(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function BH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function qH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(t)}function $s(t){return We({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function HH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Pd(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function GH(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function yc(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(t)}function $H(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"},child:[]}]})(t)}function l6(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(t)}function KH(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function YH(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function Ni(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function od(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function QH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 64h-25.98C438.44 92.28 448 125.01 448 160c0 105.87-86.13 192-192 192S64 265.87 64 160c0-34.99 9.56-67.72 25.98-96H64C28.71 64 0 92.71 0 128v320c0 35.29 28.71 64 64 64h384c35.29 0 64-28.71 64-64V128c0-35.29-28.71-64-64-64zM256 320c88.37 0 160-71.63 160-160S344.37 0 256 0 96 71.63 96 160s71.63 160 160 160zm-.3-151.94l33.58-78.36c3.5-8.17 12.94-11.92 21.03-8.41 8.12 3.48 11.88 12.89 8.41 21l-33.67 78.55C291.73 188 296 197.45 296 208c0 22.09-17.91 40-40 40s-40-17.91-40-40c0-21.98 17.76-39.77 39.7-39.94z"},child:[]}]})(t)}const XH=()=>{var O,M;const{t}=mt(),{loginWithEmailPassword:e,loginWithGoogle:n}=rr(),r=Yo(),i=mr(),[o,u]=C.useState(""),[d,f]=C.useState(""),[m,x]=C.useState(null),[v,b]=C.useState(!1),T=((M=(O=i.state)==null?void 0:O.from)==null?void 0:M.pathname)||"/dashboard/client",_=async z=>{z.preventDefault(),x(null),b(!0);try{await e(o,d),r(T,{replace:!0})}catch(L){let q=t("login.errorDefault","An unknown error occurred. Please try again.");if(L.code)switch(L.code){case"auth/user-not-found":case"auth/invalid-credential":q=t("login.errorInvalidCredentials","Invalid email or password. Please try again.");break;case"auth/wrong-password":q=t("login.errorWrongPassword","Incorrect password. Please try again.");break;case"auth/invalid-email":q=t("login.errorInvalidEmail","The email address is not valid.");break;case"auth/user-disabled":q=t("login.errorUserDisabled","This account has been disabled.");break;case"auth/network-request-failed":q=t("login.errorNetwork","A network error occurred. Please check your connection and try again.");break;default:q=t("login.errorDefault","Login failed. Please try again.")}else L.message&&(q=L.message);x(q),console.error("Login Page Error (Email):",L)}finally{b(!1)}},j=async()=>{x(null),b(!0);try{await n(),r(T,{replace:!0})}catch(z){let L=t("login.errorDefaultGoogle","An error occurred during Google Sign-In. Please try again.");if(z.code)switch(z.code){case"auth/popup-closed-by-user":L=t("login.errorPopupClosed","Google Sign-In was cancelled.");break;case"auth/cancelled-popup-request":L=t("login.errorPopupCancelled","Google Sign-In was cancelled.");break;case"auth/popup-blocked":L=t("login.errorPopupBlocked","Google Sign-In popup was blocked by the browser. Please enable popups for this site.");break;case"auth/network-request-failed":L=t("login.errorNetworkGoogle","A network error occurred during Google Sign-In. Please check your connection.");break;default:L=t("login.errorGoogleDefault","Google Sign-In failed. Please try again.")}else z.message&&(L=z.message);x(L),console.error("Login Page Error (Google):",z)}finally{b(!1)}};return c.jsx("div",{className:"flex items-center justify-center min-h-full bg-neutral-background dark:bg-neutral-background-dark py-16 selection:bg-primary selection:text-white",children:c.jsxs("div",{className:"w-full max-w-md p-6 sm:p-8 space-y-6 bg-neutral-surface dark:bg-neutral-surface-dark rounded-radius-lg shadow-2xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text-default dark:text-text-default-dark",children:t("login.clientTitle","Client Login")}),c.jsx("p",{className:"mt-2 text-sm sm:text-base text-text-muted dark:text-text-muted-dark",children:t("login.clientSubtitle","Access your personal dashboard.")})]}),m&&c.jsx("div",{className:"p-3 text-sm text-semantic-error dark:text-semantic-error-dark bg-red-100 dark:bg-red-900/30 rounded-radius-md",role:"alert",children:m}),c.jsxs("form",{onSubmit:_,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("login.emailLabel","Email Address")}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:z=>u(z.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:t("login.emailPlaceholder","you@example.com")})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("login.passwordLabel","Password")}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:d,onChange:z=>f(z.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:"••••••••"})]}),c.jsx("div",{className:"flex items-center justify-end",children:c.jsx("div",{className:"text-sm",children:c.jsx(zt,{to:"/forgot-password",className:"font-medium text-primary hover:text-primary-dark dark:text-primary-light dark:hover:text-primary transition-colors duration-300 ease-in-out",children:t("login.forgotPasswordLink","Forgot your password?")})})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:v,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-radius-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",children:v?t("login.loggingIn","Logging in..."):t("login.loginButton","Log In")})})]}),c.jsxs("div",{className:"relative my-4",children:[c.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:c.jsx("div",{className:"w-full border-t border-neutral-border dark:border-neutral-border-dark"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-neutral-surface dark:bg-neutral-surface-dark text-text-muted dark:text-text-muted-dark",children:t("login.orContinueWith","Or continue with")})})]}),c.jsx("div",{children:c.jsxs("button",{type:"button",onClick:j,disabled:v,className:"w-full flex items-center justify-center py-2.5 px-4 border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm text-sm font-medium text-text-default dark:text-text-default-dark bg-neutral-surface dark:bg-neutral-surface-dark hover:bg-neutral-background dark:hover:bg-neutral-background-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",children:[c.jsx(a6,{className:"w-5 h-5 mr-2 text-primary"}),t("login.googleButton","Sign in with Google")]})}),c.jsx("div",{className:"text-sm text-center space-y-2"})]})})},WH=()=>{const{t}=mt(),{loginWithGoogle:e}=rr(),n=Yo(),[r,i]=C.useState(""),[o,u]=C.useState(""),[d,f]=C.useState(""),[m,x]=C.useState(""),[v,b]=C.useState(null),[T,_]=C.useState(!1),j=async M=>{if(M.preventDefault(),b(null),o!==d){b(t("register.errorPasswordMismatch","Passwords do not match."));return}if(o.length<6){b(t("register.errorPasswordTooShort","Password should be at least 6 characters."));return}_(!0);try{const L=(await pN(Ts,r,o)).user,q=Vt(ht,"users",L.uid),V={uid:L.uid,email:L.email,displayName:m||L.displayName||"",role:"client",registrationDate:Ft.now(),lastLoginDate:Ft.now()};await qv(q,V),n("/dashboard/client",{replace:!0})}catch(z){let L=t("register.errorDefault","An unknown error occurred. Please try again.");if(z.code)switch(z.code){case"auth/email-already-in-use":L=t("register.errorEmailExists","This email address is already in use.");break;case"auth/invalid-email":L=t("register.errorInvalidEmail","The email address is not valid.");break;case"auth/weak-password":L=t("register.errorPasswordTooShort","Password is too weak. It should be at least 6 characters.");break;case"auth/network-request-failed":L=t("register.errorNetwork","A network error occurred. Please check your connection.");break;default:L=t("register.errorDefault","Registration failed. Please try again.")}else z.message&&(L=z.message);b(L),console.error("Registration Page Error (Email):",z)}finally{_(!1)}},O=async()=>{b(null),_(!0);try{await e(),n("/dashboard/client",{replace:!0})}catch(M){let z=t("login.errorDefaultGoogle","An error occurred during Google Sign-In. Please try again.");if(M.code)switch(M.code){case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":z=t("login.errorPopupClosed","Google Sign-In was cancelled.");break;case"auth/popup-blocked":z=t("login.errorPopupBlocked","Google Sign-In popup was blocked. Please enable popups.");break;default:z=t("login.errorGoogleDefault","Google Sign-In failed. Please try again.")}b(z),console.error("Registration Page Error (Google):",M)}finally{_(!1)}};return c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-neutral-background dark:bg-neutral-background-dark p-4 selection:bg-primary selection:text-white",children:c.jsxs("div",{className:"w-full max-w-md p-6 sm:p-8 space-y-6 bg-neutral-surface dark:bg-neutral-surface-dark rounded-radius-lg shadow-2xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text-default dark:text-text-default-dark",children:t("register.title","Create Account")}),c.jsx("p",{className:"mt-2 text-sm sm:text-base text-text-muted dark:text-text-muted-dark",children:t("register.subtitle","Join us and start your fitness journey!")})]}),v&&c.jsx("div",{className:"p-3 text-sm text-semantic-error dark:text-semantic-error-dark bg-red-100 dark:bg-red-900/30 rounded-radius-md",role:"alert",children:v}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("register.displayNameLabel","Full Name (Optional)")}),c.jsx("input",{id:"displayName",name:"displayName",type:"text",autoComplete:"name",value:m,onChange:M=>x(M.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:t("register.displayNamePlaceholder","Your Name")})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("login.emailLabel","Email Address")}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:M=>i(M.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:t("login.emailPlaceholder","you@example.com")})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("login.passwordLabel","Password")}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:o,onChange:M=>u(M.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:"••••••••"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("register.confirmPasswordLabel","Confirm Password")}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:d,onChange:M=>f(M.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:"••••••••"})]}),c.jsx("div",{className:"pt-2",children:c.jsx("button",{type:"submit",disabled:T,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-radius-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",children:T?t("register.registering","Creating Account..."):t("register.registerButton","Create Account")})})]}),c.jsxs("div",{className:"relative my-4",children:[c.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:c.jsx("div",{className:"w-full border-t border-neutral-border dark:border-neutral-border-dark"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-neutral-surface dark:bg-neutral-surface-dark text-text-muted dark:text-text-muted-dark",children:t("login.orContinueWith","Or continue with")})})]}),c.jsx("div",{children:c.jsxs("button",{type:"button",onClick:O,disabled:T,className:"w-full flex items-center justify-center py-2.5 px-4 border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm text-sm font-medium text-text-default dark:text-text-default-dark bg-neutral-surface dark:bg-neutral-surface-dark hover:bg-neutral-background dark:hover:bg-neutral-background-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",children:[c.jsx(a6,{className:"w-5 h-5 mr-2 text-primary"}),t("login.googleButton","Sign up with Google")]})}),c.jsx("div",{className:"text-sm text-center",children:c.jsxs("p",{className:"text-text-muted dark:text-text-muted-dark",children:[t("register.alreadyHaveAccount","Already have an account?")," "," ",c.jsx(zt,{to:"/login",className:"font-medium text-primary hover:text-primary-dark dark:text-primary-light dark:hover:text-primary transition-colors duration-300 ease-in-out",children:t("login.loginButton","Log In")})]})})]})})},ZH=()=>{const{t}=mt(),[e,n]=C.useState(""),[r,i]=C.useState(null),[o,u]=C.useState(null),[d,f]=C.useState(!1),m=async x=>{x.preventDefault(),i(null),u(null),f(!0);try{await A9(Ts,e),u(t("forgotPassword.successMessage","If an account exists for this email, a password reset link has been sent. Please check your inbox (and spam folder)."))}catch(v){let b=t("forgotPassword.errorDefault","Failed to send password reset email. Please try again.");if(v.code)switch(v.code){case"auth/invalid-email":b=t("forgotPassword.errorInvalidEmail","The email address is not valid.");break;case"auth/user-not-found":u(t("forgotPassword.successMessage","If an account exists for this email, a password reset link has been sent. Please check your inbox (and spam folder).")),f(!1);return;case"auth/network-request-failed":b=t("forgotPassword.errorNetwork","A network error occurred. Please check your connection.");break;default:b=t("forgotPassword.errorDefault","Failed to send password reset email. Please try again.")}i(b),console.error("Forgot Password Error:",v)}finally{f(!1)}};return c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-neutral-background dark:bg-neutral-background-dark p-4 selection:bg-primary selection:text-white",children:c.jsxs("div",{className:"w-full max-w-md p-6 sm:p-8 space-y-6 bg-neutral-surface dark:bg-neutral-surface-dark rounded-radius-lg shadow-2xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(hp,{className:"mx-auto h-12 w-12 text-primary dark:text-primary-light mb-4"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text-default dark:text-text-default-dark",children:t("forgotPassword.title","Forgot Your Password?")}),c.jsx("p",{className:"mt-2 text-sm sm:text-base text-text-muted dark:text-text-muted-dark",children:t("forgotPassword.subtitle","No problem! Enter your email address below and we'll send you a link to reset it.")})]}),r&&c.jsx("div",{className:"p-3 text-sm text-semantic-error dark:text-semantic-error-dark bg-red-100 dark:bg-red-900/30 rounded-radius-md",role:"alert",children:r}),o&&c.jsx("div",{className:"p-3 text-sm text-semantic-success dark:text-semantic-success-dark bg-green-100 dark:bg-green-900/30 rounded-radius-md",role:"status",children:o}),!o&&c.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("login.emailLabel","Email Address")}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:x=>n(x.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:t("login.emailPlaceholder","you@example.com")})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-radius-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",children:d?t("forgotPassword.sendingButton","Sending Link..."):t("forgotPassword.sendButton","Send Reset Link")})})]}),c.jsx("div",{className:"text-sm text-center mt-6",children:c.jsx(zt,{to:"/login",className:"font-medium text-primary hover:text-primary-dark dark:text-primary-light dark:hover:text-primary transition-colors duration-300 ease-in-out",children:t("forgotPassword.backToLogin","Back to Log In")})})]})})},JH=()=>{var At,le,Qe;const{t}=mt(),{userId:e}=JR(),{currentUser:n,userRole:r,loading:i}=rr(),o=Yo(),u=mr(),[d,f]=C.useState(null),[m,x]=C.useState(!0),[v,b]=C.useState(null),[T,_]=C.useState(!1),[j,O]=C.useState(""),[M,z]=C.useState(""),[L,q]=C.useState(""),[V,D]=C.useState(""),[P,N]=C.useState(""),[S,I]=C.useState(""),[B,$]=C.useState(null),[U,ye]=C.useState(""),[ke,Y]=C.useState(!1),[ie,te]=C.useState(null),ve=we=>we.split(" ").map(ue=>ue.charAt(0)).join("").toUpperCase().slice(0,2),F=we=>{switch(we){case"admin":return c.jsx(YH,{className:"w-5 h-5"});case"coach":return c.jsx(l6,{className:"w-5 h-5"});case"client":return c.jsx(Ni,{className:"w-5 h-5"});default:return c.jsx(Ni,{className:"w-5 h-5"})}},ne=we=>{switch(we){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 border-red-200 dark:border-red-800";case"coach":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 border-blue-200 dark:border-blue-800";case"client":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border-green-200 dark:border-green-800";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300 border-gray-200 dark:border-gray-800"}};C.useEffect(()=>{if(!e){b(t("profile.errorNoUserId","User ID not found.")),x(!1);return}(async()=>{var ue,Oe;x(!0),b(null);try{const et=Vt(ht,"users",e),Ct=await xc(et);if(Ct.exists()){const It=Ct.data();f(It),O(It.displayName||""),z(It.phoneNumber||""),It.role==="client"&&(q(((ue=It.weight)==null?void 0:ue.toString())||""),D(((Oe=It.bodyFatPercentage)==null?void 0:Oe.toString())||""),N(It.notes||""),I(It.assignedPlanId||""))}else b(t("profile.errorNotFound","User profile not found."))}catch(et){console.error("Error fetching profile:",et),b(t("profile.errorFetching","Failed to fetch profile."))}finally{x(!1)}})()},[e,t]),C.useEffect(()=>{new URLSearchParams(u.search).get("edit")==="1"&&_(!0)},[u.search]);const pe=()=>i||!n||!d?!1:!!(n.uid===e||r==="admin"||["coach","admin"].includes(r)&&d.role==="client"),oe=()=>{var we,ue;pe()&&(T&&d&&(O(d.displayName||""),z(d.phoneNumber||""),d.role==="client"&&(q(((we=d.weight)==null?void 0:we.toString())||""),D(((ue=d.bodyFatPercentage)==null?void 0:ue.toString())||""),N(d.notes||""),I(d.assignedPlanId||""))),_(!T))},Te=we=>{we.target.files&&we.target.files[0]&&($(we.target.files[0]),te(null))},De=async we=>{if(we.preventDefault(),!B||!n||!e||!(r==="admin"||r==="coach")){te(t("profile.coachUpload.noFileOrAuth","File or proper authorization missing."));return}if(B.size>10*1024*1024){te(t("profile.coachUpload.fileTooLarge","File is too large. Max 10MB."));return}Y(!0),te(null);const ue=B.name.split(".").pop(),Oe=`${n.uid}_${Date.now()}.${ue}`,et=`userFiles/${e}/coachUploads/${Oe}`,Ct=RC(e6,et);try{const It=await CC(Ct,B),Bi=await jC(It.ref),An=Vt(ht,"users",e),ia={url:Bi,fileName:B.name,uploadedAt:Ft.now(),uploadedBy:n.uid,fileType:B.type||ue||"unknown",description:U||""};await Rr(An,{coachUploadedFiles:ey(ia)}),f(sa=>sa?{...sa,coachUploadedFiles:[...sa.coachUploadedFiles||[],{...ia,uploadedAt:ia.uploadedAt instanceof Ft?ia.uploadedAt.toDate():ia.uploadedAt}]}:null),$(null),ye("")}catch(It){console.error("Error uploading file for coach/admin:",It),te(t("profile.coachUpload.uploadFailed","File upload failed. Error: "+It.message))}finally{Y(!1)}},Pe=async we=>{if(we.preventDefault(),!pe()||!e)return;x(!0),b(null);const ue={displayName:j,phoneNumber:M||null};(d==null?void 0:d.role)==="client"&&(ue.weight=L!==""?parseFloat(L):null,ue.bodyFatPercentage=V!==""?parseFloat(V):null,ue.notes=P||null,(r==="admin"||r==="coach")&&d.role==="client"&&(ue.assignedPlanId=S.trim()||null));try{const Oe=Vt(ht,"users",e);await Rr(Oe,ue),f(et=>et?{...et,...ue}:null),_(!1)}catch(Oe){console.error("Error updating profile:",Oe),b(t("profile.errorUpdating","Failed to update profile."))}finally{x(!1)}};return i||m?c.jsx("div",{className:"container mx-auto p-4 text-center",children:t("loading","Loading...")}):v?c.jsx("div",{className:"container mx-auto p-4 text-center text-red-500",children:v}):d?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[((At=u.state)==null?void 0:At.from)&&c.jsxs("button",{onClick:()=>o(u.state.from),className:"mb-6 flex items-center text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark transition-colors duration-300",children:[c.jsx(Gs,{className:"mr-2"}),t("common.back","Volver atrás")]}),v&&c.jsx("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30",children:v}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 mb-8 transition-colors duration-500",children:c.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:d!=null&&d.displayName?ve(d.displayName):"U"}),(d==null?void 0:d.role)&&c.jsx("div",{className:`absolute -bottom-2 -right-2 p-2 rounded-full border-2 border-white dark:border-slate-800 ${ne(d.role)}`,children:F(d.role)})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-2",children:(d==null?void 0:d.displayName)||t("profile.noName","Usuario")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark mb-3",children:d==null?void 0:d.email}),(d==null?void 0:d.role)&&c.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${ne(d.role)}`,children:[F(d.role),c.jsx("span",{className:"ml-2",children:t(`roles.${d.role}`,d.role)})]})]})]}),pe()&&c.jsx("button",{onClick:oe,className:`mt-6 lg:mt-0 flex items-center px-6 py-3 rounded-xl font-medium transition-all duration-300 transform hover:scale-105 shadow-lg
                  ${T?"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark":"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white"}`,children:T?c.jsxs(c.Fragment,{children:[c.jsx($s,{className:"mr-2"}),t("profile.cancelButton","Cancelar")]}):c.jsxs(c.Fragment,{children:[c.jsx(dp,{className:"mr-2"}),t("profile.editButton","Editar Perfil")]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 transition-colors duration-500",children:[c.jsxs("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6 flex items-center",children:[c.jsx(Ni,{className:"mr-3 text-teal-600 dark:text-teal-400"}),t("profile.personalInfo","Información Personal")]}),T?c.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.displayName","Nombre Completo")}),c.jsx("input",{type:"text",id:"displayName",value:j,onChange:we=>O(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("profile.form.displayNamePlaceholder","Tu nombre completo")})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.email","Correo Electrónico")}),c.jsx("input",{type:"email",id:"email",value:(d==null?void 0:d.email)||"",disabled:!0,className:"w-full px-4 py-3 bg-gray-100 dark:bg-slate-600 border border-gray-200 dark:border-slate-600 rounded-xl text-text-muted-light dark:text-text-muted-dark cursor-not-allowed transition-all duration-300"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.phone","Teléfono")}),c.jsx("input",{type:"tel",id:"phoneNumber",value:M,onChange:we=>z(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("profile.form.phonePlaceholder","+34 600 000 000")})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:oe,className:"px-6 py-3 rounded-xl font-medium transition-all duration-300 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark",children:t("profile.form.cancelButton","Cancelar")}),c.jsxs("button",{type:"submit",disabled:m,className:"px-6 py-3 rounded-xl font-medium transition-all duration-300 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white disabled:opacity-50 flex items-center",children:[c.jsx(Rd,{className:"mr-2"}),m?t("profile.form.savingButton","Guardando..."):t("profile.form.saveButton","Guardar")]})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx(ki,{icon:c.jsx(Ni,{className:"w-5 h-5"}),label:t("profile.display.displayName","Nombre Completo"),value:d==null?void 0:d.displayName,t}),c.jsx(ki,{icon:c.jsx(hp,{className:"w-5 h-5"}),label:t("profile.display.email","Correo Electrónico"),value:d==null?void 0:d.email,t}),c.jsx(ki,{icon:c.jsx(FH,{className:"w-5 h-5"}),label:t("profile.display.phone","Teléfono"),value:d==null?void 0:d.phoneNumber,t}),(d==null?void 0:d.registrationDate)&&c.jsx(ki,{icon:c.jsx(Ha,{className:"w-5 h-5"}),label:t("profile.display.registrationDate","Miembro Desde"),value:d.registrationDate instanceof Date?d.registrationDate.toLocaleDateString():"",t}),(d==null?void 0:d.lastLoginDate)&&c.jsx(ki,{icon:c.jsx(Wd,{className:"w-5 h-5"}),label:t("profile.display.lastLogin","Último Acceso"),value:d.lastLoginDate instanceof Date?d.lastLoginDate.toLocaleString():"",t})]})]}),(d==null?void 0:d.role)==="client"&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 transition-colors duration-500",children:[c.jsxs("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6 flex items-center",children:[c.jsx(tr,{className:"mr-3 text-teal-600 dark:text-teal-400"}),t("profile.clientDataTitle","Datos del Cliente")]}),T?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.weight","Peso (kg)")}),c.jsx("input",{type:"number",step:"0.1",id:"weight",value:L,onChange:we=>q(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:"70.5"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"bodyFatPercentage",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.bodyFat","Grasa Corporal (%)")}),c.jsx("input",{type:"number",step:"0.1",id:"bodyFatPercentage",value:V,onChange:we=>D(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:"15.0"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"clientNotes",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.clientNotes","Notas del Cliente")}),c.jsx("textarea",{id:"clientNotes",rows:3,value:P,onChange:we=>N(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300 resize-none",placeholder:t("profile.form.clientNotesPlaceholder","Notas sobre el progreso, objetivos, etc.")})]}),(r==="admin"||r==="coach")&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"assignedPlanId",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.assignedPlanId","Plan de Entrenamiento Asignado")}),c.jsx("input",{type:"text",id:"assignedPlanId",value:S,onChange:we=>I(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("profile.form.planIdPlaceholder","Ej: P001")}),c.jsx("p",{className:"mt-1 text-xs text-text-muted-light dark:text-text-muted-dark",children:t("profile.form.planIdHelp","ID del plan asignado. Los detalles se gestionan por separado.")})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx(ki,{icon:c.jsx(QH,{className:"w-5 h-5"}),label:t("profile.display.weight","Peso (kg)"),value:(le=d.weight)==null?void 0:le.toString(),t}),c.jsx(ki,{icon:c.jsx(zH,{className:"w-5 h-5"}),label:t("profile.display.bodyFat","Grasa Corporal (%)"),value:(Qe=d.bodyFatPercentage)==null?void 0:Qe.toString(),t}),c.jsx(ki,{icon:c.jsx(qH,{className:"w-5 h-5"}),label:t("profile.display.clientNotes","Notas del Cliente"),value:d.notes,isBlock:!0,t}),c.jsx(ki,{icon:c.jsx(tr,{className:"w-5 h-5"}),label:t("profile.display.assignedPlanId","Plan Asignado"),value:d.assignedPlanId,t})]})]})]}),(d==null?void 0:d.role)==="client"&&d.coachUploadedFiles&&d.coachUploadedFiles.length>0&&c.jsx("div",{className:"mt-8",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 transition-colors duration-500",children:[c.jsxs("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6 flex items-center",children:[c.jsx(x_,{className:"mr-3 text-teal-600 dark:text-teal-400"}),t("profile.coachUploadedFiles.title","Archivos del Entrenador")]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.coachUploadedFiles.map((we,ue)=>c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl border border-gray-200 dark:border-slate-600 hover:shadow-md transition-all duration-300",children:[c.jsx("div",{className:"flex items-start justify-between mb-3",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark mb-1",children:we.fileName}),we.description&&c.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark mb-2",children:we.description}),c.jsxs("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:[t("profile.coachUploadedFiles.uploadedAt","Subido:")," ",we.uploadedAt instanceof Date?we.uploadedAt.toLocaleDateString():""]})]})}),c.jsxs("a",{href:we.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 text-xs font-medium text-teal-700 dark:text-teal-300 hover:text-teal-800 dark:hover:text-teal-200 border border-teal-200 dark:border-teal-700 rounded-lg hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-all duration-300",title:t("profile.coachUploadedFiles.downloadTooltip","Descargar/Ver Archivo"),children:[c.jsx(x_,{className:"mr-1.5 h-3 w-3"}),t("profile.coachUploadedFiles.downloadButton","Ver/Descargar")]})]},ue))})]})}),T&&(r==="admin"||r==="coach")&&(d==null?void 0:d.role)==="client"&&c.jsx("div",{className:"mt-8",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 transition-colors duration-500",children:[c.jsxs("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6 flex items-center",children:[c.jsx(y_,{className:"mr-3 text-teal-600 dark:text-teal-400"}),t("profile.coachUpload.title","Subir Archivo para Cliente")]}),c.jsxs("form",{onSubmit:De,className:"space-y-4 p-6 border-2 border-dashed border-gray-200 dark:border-slate-600 rounded-xl bg-gray-50 dark:bg-slate-700/50",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"coachFile",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.coachUpload.selectFileLabel","Seleccionar Archivo (Máx 10MB)")}),c.jsx("input",{type:"file",id:"coachFile",onChange:Te,className:`w-full text-sm text-text-muted-light dark:text-text-muted-dark\r
                      file:mr-4 file:py-2 file:px-4\r
                      file:rounded-full file:border-0\r
                      file:text-sm file:font-semibold\r
                      file:bg-teal-600 file:text-white\r
                      hover:file:bg-teal-700 transition-colors`}),B&&c.jsxs("p",{className:"mt-2 text-xs text-text-muted-light dark:text-text-muted-dark",children:[t("profile.coachUpload.selectedFile","Seleccionado:")," ",B.name]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"coachFileDescription",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.coachUpload.descriptionLabel","Descripción del Archivo (Opcional)")}),c.jsx("input",{type:"text",id:"coachFileDescription",value:U,onChange:we=>ye(we.target.value),className:"w-full px-4 py-3 bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("profile.coachUpload.descriptionPlaceholder","Ej: Plan de Dieta Semanal, Notas de Forma")})]}),ie&&c.jsx("p",{className:"text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 p-3 rounded-lg",children:ie}),c.jsx("div",{children:c.jsxs("button",{type:"submit",disabled:ke||!B||m,className:"w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:opacity-50 transition-all duration-300",children:[c.jsx(y_,{className:"mr-2 h-4 w-4"}),ke?t("profile.coachUpload.uploadingButton","Subiendo..."):t("profile.coachUpload.uploadButton","Subir Archivo")]})})]})]})})]})}):c.jsx("div",{className:"container mx-auto p-4 text-center",children:t("profile.errorNotFound","User profile not found.")})},ki=({icon:t,label:e,value:n,isBlock:r,t:i})=>((n==null||n.trim()==="")&&(n=i("profile.notSet",{defaultValue:"No establecido"})),c.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 dark:bg-slate-700/50 rounded-xl border border-gray-200 dark:border-slate-600 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-teal-100 dark:bg-teal-900/30 rounded-lg flex items-center justify-center text-teal-600 dark:text-teal-400",children:t}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("dt",{className:"text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wide mb-1",children:e}),c.jsx("dd",{className:`text-sm text-text-default-light dark:text-text-default-dark ${r?"whitespace-pre-wrap":""}`,children:n})]})]})),eG=()=>{const{t}=mt(),{currentUser:e,loading:n}=rr(),[r,i]=C.useState(""),[o,u]=C.useState(null),[d,f]=C.useState(""),[m,x]=C.useState(!1),[v,b]=C.useState(null),[T,_]=C.useState(null),j=async z=>{if(z.preventDefault(),!(!e||!r.trim())){x(!0),_(null);try{const L=Vt(ht,"users",e.uid);await Rr(L,{trainingHistory:ey({date:Ft.now(),notes:r,type:"text_update"})}),i("")}catch(L){console.error("Error submitting text progress:",L),_(t("dashboard.client.progressError","Failed to submit progress."))}finally{x(!1)}}},O=z=>{z.target.files&&z.target.files[0]&&(u(z.target.files[0]),b(null))},M=async z=>{if(z.preventDefault(),!o||!e){b(t("dashboard.client.photoUpload.noFileError","Please select a photo to upload."));return}if(o.size>5*1024*1024){b(t("dashboard.client.photoUpload.fileTooLargeError","File is too large. Max 5MB."));return}x(!0),b(null);const L=o.name.split(".").pop(),q=`${e.uid}_${Date.now()}.${L}`,V=RC(e6,`userFiles/${e.uid}/progressPhotos/${q}`);try{const D=await CC(V,o),P=await jC(D.ref),N=Vt(ht,"users",e.uid);await Rr(N,{progressPhotos:ey({url:P,caption:d||"",uploadedAt:Ft.now(),fileName:q})}),u(null),f("")}catch(D){console.error("Error uploading photo:",D),b(t("dashboard.client.photoUpload.uploadFailedError","Photo upload failed. Please try again. Error: "+D.message))}finally{x(!1)}};return n||!e?c.jsx("div",{className:"container mx-auto p-4 text-center",children:t("loading","Loading...")}):c.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:c.jsxs("div",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark shadow-xl rounded-lg p-6 md:p-8 transition-colors duration-300",children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("dashboard.client.title",{name:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"Cliente"})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-primary-light/30 dark:bg-primary-dark/30 p-6 rounded-lg shadow transition-colors duration-300",children:[c.jsx("h2",{className:"text-xl font-semibold text-primary-dark dark:text-primary-light mb-3",children:t("dashboard.client.profileSummaryTitle","Profile Summary")}),c.jsxs("p",{className:"text-text-default-light dark:text-text-default-dark",children:[c.jsx("strong",{children:t("profile.display.email","Email:")})," ",e.email]}),c.jsxs("p",{className:"text-text-default-light dark:text-text-default-dark",children:[c.jsx("strong",{children:t("profile.display.phone","Phone:")})," ",e.phoneNumber||t("profile.notSet","Not set")]}),c.jsx("div",{className:"mt-4",children:c.jsxs(zt,{to:`/profile/${e.uid}`,className:"text-sm font-medium text-primary-dark hover:text-primary-DEFAULT dark:text-primary-light dark:hover:text-primary-DEFAULT transition-colors",children:[t("dashboard.client.viewEditProfile","View/Edit Full Profile")," →"]})})]}),c.jsxs("div",{className:"bg-secondary-light/30 dark:bg-secondary-dark/30 p-6 rounded-lg shadow transition-colors duration-300",children:[c.jsx("h2",{className:"text-xl font-semibold text-secondary-dark dark:text-secondary-light mb-3",children:t("dashboard.client.assignedRoutineTitle","Your Current Routine")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:e.assignedPlanId?t("dashboard.client.currentPlanInfo",`Details for plan ID: ${e.assignedPlanId} will be shown here.`):t("dashboard.client.noPlanAssigned","No training plan assigned yet. Contact your coach!")}),e.assignedPlanId&&c.jsx("div",{className:"mt-4",children:c.jsxs(zt,{to:"/training-plan",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-medium rounded-lg transition-all duration-300",children:[c.jsx(Kf,{className:"mr-2"}),t("dashboard.client.viewPlanDetails","Ver Plan de Entrenamiento")]})})]}),c.jsxs("div",{className:"bg-accent-light/30 dark:bg-accent-dark/30 p-6 rounded-lg shadow transition-colors duration-300",children:[c.jsx("h2",{className:"text-xl font-semibold text-accent-dark dark:text-accent-light mb-3",children:t("dashboard.client.trainingHistoryTitle","Training History")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.client.historyPlaceholder","Your recent workouts and completed routines will appear here.")}),c.jsx("div",{className:"mt-4",children:c.jsxs(zt,{to:"/training-history",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-sm font-medium rounded-lg transition-all duration-300",children:[c.jsx($f,{className:"mr-2"}),t("dashboard.client.viewFullHistory","Ver Historial Completo")]})})]}),c.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-6 rounded-lg shadow transition-colors duration-300",children:[c.jsx("h2",{className:"text-xl font-semibold text-orange-800 dark:text-orange-200 mb-3",children:t("dashboard.client.notificationsTitle","Notificaciones")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.client.notificationsDescription","Mantente al día con tus alertas y mensajes importantes.")}),c.jsx("div",{className:"mt-4",children:c.jsxs(zt,{to:"/notifications",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white text-sm font-medium rounded-lg transition-all duration-300",children:[c.jsx(sd,{className:"mr-2"}),t("dashboard.client.viewNotifications","Ver Notificaciones")]})})]}),c.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-6 rounded-lg shadow transition-colors duration-300",children:[c.jsx("h2",{className:"text-xl font-semibold text-purple-800 dark:text-purple-200 mb-3",children:t("dashboard.client.settingsTitle","Configuración")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.client.settingsDescription","Gestiona tus preferencias y configuración de cuenta.")}),c.jsx("div",{className:"mt-4",children:c.jsxs(zt,{to:"/settings",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white text-sm font-medium rounded-lg transition-all duration-300",children:[c.jsx(i6,{className:"mr-2"}),t("dashboard.client.viewSettings","Ver Configuración")]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8 pt-6 border-t border-neutral-border-light dark:border-neutral-border-dark transition-colors duration-300",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-text-default-light dark:text-text-default-dark mb-4",children:t("dashboard.client.progressUpdateTitle","Log Your Progress (Text)")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-4",children:t("dashboard.client.progressUpdateDesc","Share how you're feeling, any achievements, or challenges.")}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"progressUpdate",className:"sr-only",children:t("dashboard.client.progressNotesLabel","Progress Notes")}),c.jsx("textarea",{id:"progressUpdate",rows:4,value:r,onChange:z=>i(z.target.value),className:"w-full p-3 border border-neutral-border-light dark:border-neutral-border-dark rounded-md shadow-sm focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark transition-colors duration-300",placeholder:t("dashboard.client.progressPlaceholder","E.g., Felt strong today, hit a new PR on squats!")})]}),T&&c.jsx("p",{className:"text-sm text-semantic-error-light dark:text-semantic-error-dark",children:T}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:m||!r.trim(),className:"px-6 py-2 bg-primary-DEFAULT text-text-default-dark dark:text-text-default-light font-medium rounded-md hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-dark dark:focus:ring-primary-light disabled:opacity-50 transition-colors duration-300",children:m?t("dashboard.client.submittingProgress","Submitting..."):t("dashboard.client.submitProgressButton","Submit Text Update")})})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-text-default-light dark:text-text-default-dark mb-4",children:t("dashboard.client.photoUpload.title","Upload Progress Photo")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-4",children:t("dashboard.client.photoUpload.desc","Visually track your transformation. Photos are visible to you and your coach.")}),c.jsxs("form",{onSubmit:M,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"progressPhoto",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark",children:t("dashboard.client.photoUpload.selectLabel","Select Photo (Max 5MB)")}),c.jsx("input",{type:"file",id:"progressPhoto",accept:"image/png, image/jpeg, image/webp",onChange:O,className:`mt-1 block w-full text-sm text-text-muted-light dark:text-text-muted-dark\r
                    file:mr-4 file:py-2 file:px-4\r
                    file:rounded-full file:border-0\r
                    file:text-sm file:font-semibold\r
                    file:bg-primary-light file:text-primary-dark dark:file:bg-primary-dark dark:file:text-primary-light\r
                    hover:file:bg-primary-DEFAULT dark:hover:file:bg-primary-hover transition-colors duration-300`}),o&&c.jsxs("p",{className:"mt-1 text-xs text-text-muted-light dark:text-text-muted-dark",children:[t("dashboard.client.photoUpload.selectedFile","Selected:")," ",o.name]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"photoCaption",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark",children:t("dashboard.client.photoUpload.captionLabel","Caption (Optional)")}),c.jsx("input",{type:"text",id:"photoCaption",value:d,onChange:z=>f(z.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-background-light dark:bg-neutral-background-dark border border-neutral-border-light dark:border-neutral-border-dark rounded-md shadow-sm text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark sm:text-sm transition-colors duration-300",placeholder:t("dashboard.client.photoUpload.captionPlaceholder","E.g., Week 4 - Front View")})]}),v&&c.jsx("p",{className:"text-sm text-semantic-error-light dark:text-semantic-error-dark",children:v}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:m||!o,className:"px-6 py-2 bg-secondary-DEFAULT text-text-default-dark dark:text-text-default-light font-medium rounded-md hover:bg-secondary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary-dark dark:focus:ring-secondary-light disabled:opacity-50 transition-colors duration-300",children:m?t("dashboard.client.photoUpload.uploadingButton","Uploading..."):t("dashboard.client.photoUpload.uploadButton","Upload Photo")})})]})]})]})]})})},tG=()=>{const{t}=mt(),{currentUser:e,userRole:n}=rr(),r=[{id:"users",title:t("dashboard.coach.users.title","Gestión de Usuarios"),description:t("dashboard.coach.users.description","Ver y gestionar todos los usuarios del sistema"),icon:c.jsx(od,{className:"w-8 h-8"}),link:"/admin/users",color:"from-blue-500 to-cyan-600",hoverColor:"from-blue-600 to-cyan-700",available:n==="admin"||n==="coach"},{id:"plans",title:t("dashboard.coach.plans.title","Planes de Entrenamiento"),description:t("dashboard.coach.plans.description","Crear y gestionar planes de entrenamiento"),icon:c.jsx(tr,{className:"w-8 h-8"}),link:"/admin/plans",color:"from-teal-500 to-cyan-600",hoverColor:"from-teal-600 to-cyan-700",available:n==="admin"||n==="coach"},{id:"analytics",title:t("dashboard.coach.analytics.title","Analíticas"),description:t("dashboard.coach.analytics.description","Ver estadísticas y progreso de clientes"),icon:c.jsx(ic,{className:"w-8 h-8"}),link:"/analytics",color:"from-purple-500 to-pink-600",hoverColor:"from-purple-600 to-pink-700",available:n==="admin"||n==="coach"},{id:"schedule",title:t("dashboard.coach.schedule.title","Calendario"),description:t("dashboard.coach.schedule.description","Gestionar horarios y citas"),icon:c.jsx(Ha,{className:"w-8 h-8"}),link:"/dashboard/coach/schedule",color:"from-orange-500 to-red-600",hoverColor:"from-orange-600 to-red-700",available:n==="admin"||n==="coach"}];return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:c.jsx(l6,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("dashboard.coach.title","Panel de Coach")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.subtitle","Bienvenido, {{name}}",{name:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"Coach"})})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.stats.totalUsers","Total Usuarios")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:"24"})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:c.jsx(od,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.stats.activePlans","Planes Activos")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:"8"})]}),c.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-xl flex items-center justify-center",children:c.jsx(tr,{className:"w-6 h-6 text-teal-600 dark:text-teal-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.stats.thisWeek","Esta Semana")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:"12"})]}),c.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center",children:c.jsx(ic,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.stats.sessions","Sesiones")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:"5"})]}),c.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:c.jsx(Ha,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:r.map(i=>c.jsxs(zt,{to:i.link,className:`group block bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 transition-all duration-500 hover:shadow-2xl hover:scale-105 ${i.available?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-6",children:[c.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${i.color} rounded-2xl flex items-center justify-center text-white shadow-lg group-hover:shadow-xl transition-all duration-300`,children:i.icon}),c.jsx(jH,{className:"w-6 h-6 text-text-muted-light dark:text-text-muted-dark group-hover:text-text-default-light dark:group-hover:text-text-default-dark transition-colors duration-300"})]}),c.jsx("h3",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-3",children:i.title}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-6",children:i.description}),i.id==="plans"&&c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-medium rounded-lg transition-all duration-300 flex items-center",children:[c.jsx(sc,{className:"w-4 h-4 mr-2"}),t("dashboard.coach.plans.createNew","Crear Nuevo")]})})]},i.id))}),c.jsx("div",{className:"mt-12",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 transition-colors duration-500",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("dashboard.coach.recentActivity.title","Actividad Reciente")}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:c.jsx(od,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:t("dashboard.coach.recentActivity.newUser","Nuevo usuario registrado")}),c.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.recentActivity.timeAgo","Hace 2 horas")})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:c.jsx(tr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:t("dashboard.coach.recentActivity.planAssigned","Plan asignado a cliente")}),c.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.recentActivity.timeAgo","Hace 1 día")})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:c.jsx(ic,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:t("dashboard.coach.recentActivity.progressUpdate","Actualización de progreso")}),c.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.recentActivity.timeAgo","Hace 3 días")})]})]})]})]})})]})})},nG=()=>{const{t}=mt(),{currentUser:e}=rr(),[n,r]=C.useState(null),[i,o]=C.useState(!0),[u,d]=C.useState(null),[f,m]=C.useState(new Set),[x,v]=C.useState(!1),[b,T]=C.useState(!1);C.useEffect(()=>{_(),j()},[e]);const _=async()=>{if(!(e!=null&&e.assignedPlanId)){o(!1);return}o(!0),d(null);try{const q=await xc(Vt(ht,"trainingPlans",e.assignedPlanId));q.exists()?r({id:q.id,...q.data()}):d(t("clientTrainingPlan.planNotFound","Plan no encontrado"))}catch(q){console.error("Error fetching plan:",q),d(t("clientTrainingPlan.errorFetching","Error al cargar el plan"))}finally{o(!1)}},j=async()=>{if(!(!e||!e.assignedPlanId))try{const q=await xc(Vt(ht,"users",e.uid));if(q.exists()){const V=q.data();if(V.trainingProgress&&V.trainingProgress[e.assignedPlanId]){const D=V.trainingProgress[e.assignedPlanId];D.completedExercises&&m(new Set(D.completedExercises))}}}catch(q){console.error("Error fetching progress:",q)}},O=async()=>{if(!(!e||!n||f.size===0)){v(!0),d(null);try{const q=`session_${Date.now()}`,V={date:bn(),completedExercises:Array.from(f),planId:n.id,sessionId:q},D=Vt(ht,"users",e.uid);await Rr(D,{[`trainingProgress.${n.id}`]:V,updatedAt:bn()}),T(!0),setTimeout(()=>T(!1),3e3)}catch(q){console.error("Error saving progress:",q),d(t("clientTrainingPlan.errorSavingProgress","Error al guardar el progreso"))}finally{v(!1)}}},M=q=>{m(V=>{const D=new Set(V);return D.has(q)?D.delete(q):D.add(q),D}),T(!1)},z=q=>{switch(q){case"beginner":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"intermediate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"advanced":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},L=()=>!n||n.exercises.length===0?0:Math.round(f.size/n.exercises.length*100);return i?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})}):e!=null&&e.assignedPlanId?u?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[c.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx($s,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("clientTrainingPlan.errorTitle","Error al cargar el plan")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark mb-8",children:u}),c.jsxs("button",{onClick:_,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[c.jsx(Kf,{className:"mr-2"}),t("common.retry","Reintentar")]})]})})}):n?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:c.jsx(tr,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:n.name}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingPlan.yourPlan","Tu Plan de Entrenamiento")})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[f.size>0&&c.jsxs("button",{onClick:O,disabled:x,className:`px-4 py-2 rounded-xl transition-all duration-300 flex items-center ${b?"bg-green-500 text-white":"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white"} disabled:opacity-50`,children:[c.jsx(Rd,{className:"mr-2"}),x?t("clientTrainingPlan.saving","Guardando..."):b?t("clientTrainingPlan.saved","¡Guardado!"):t("clientTrainingPlan.saveProgress","Guardar Progreso")]}),c.jsxs(zt,{to:"/dashboard/client",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[c.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})]})}),u&&c.jsx("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30",children:u}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("clientTrainingPlan.planInfo","Información del Plan")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-6",children:n.description}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:c.jsx(Ha,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingPlan.duration","Duración")}),c.jsxs("p",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:[n.duration," ",t("clientTrainingPlan.weeks","semanas")]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:c.jsx(Ni,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingPlan.difficulty","Dificultad")}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z(n.difficulty)}`,children:t(`adminPlans.difficulty.${n.difficulty}`,n.difficulty)})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:c.jsx(tr,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingPlan.exercises","Ejercicios")}),c.jsx("p",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:n.exercises.length})]})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("clientTrainingPlan.progress","Progreso")}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-4",children:[c.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[c.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200 dark:text-gray-700"}),c.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-L()/100)}`,className:"text-teal-500 transition-all duration-500"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:[L(),"%"]})})]}),c.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[f.size," / ",n.exercises.length," ",t("clientTrainingPlan.completed","completados")]})]}),f.size>0&&c.jsx("div",{className:"text-center",children:c.jsxs("button",{onClick:O,disabled:x,className:"w-full px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-medium rounded-lg transition-all duration-300 flex items-center justify-center disabled:opacity-50",children:[c.jsx(Rd,{className:"mr-2"}),x?t("clientTrainingPlan.saving","Guardando..."):t("clientTrainingPlan.saveProgress","Guardar Progreso")]})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("clientTrainingPlan.exercises","Ejercicios")}),c.jsx("div",{className:"space-y-4",children:n.exercises.map((q,V)=>c.jsx("div",{className:`p-6 rounded-xl border-2 transition-all duration-300 ${f.has(q.id)?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-slate-600 hover:border-teal-300 dark:hover:border-teal-600"}`,children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[c.jsx("span",{className:"w-8 h-8 bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 rounded-full flex items-center justify-center text-sm font-medium",children:V+1}),c.jsx("h3",{className:"text-lg font-semibold text-text-default-light dark:text-text-default-dark",children:q.name}),f.has(q.id)&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[c.jsx(xa,{className:"w-3 h-3 mr-1"}),t("clientTrainingPlan.completed","Completado")]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(tr,{className:"w-4 h-4 text-text-muted-light dark:text-text-muted-dark"}),c.jsxs("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[t("clientTrainingPlan.sets","Series"),": ",c.jsx("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:q.sets})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Kf,{className:"w-4 h-4 text-text-muted-light dark:text-text-muted-dark"}),c.jsxs("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[t("clientTrainingPlan.reps","Repeticiones"),": ",c.jsx("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:q.reps})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Wd,{className:"w-4 h-4 text-text-muted-light dark:text-text-muted-dark"}),c.jsxs("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[t("clientTrainingPlan.rest","Descanso"),": ",c.jsx("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:q.rest})]})]})]}),q.notes&&c.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark bg-gray-50 dark:bg-slate-700 p-3 rounded-lg",children:[c.jsxs("strong",{children:[t("clientTrainingPlan.notes","Notas"),":"]})," ",q.notes]})]}),c.jsx("button",{onClick:()=>M(q.id),className:`ml-4 p-3 rounded-lg transition-all duration-300 ${f.has(q.id)?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50":"bg-gray-100 text-gray-600 dark:bg-slate-700 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-slate-600"}`,title:f.has(q.id)?t("clientTrainingPlan.markIncomplete","Marcar como incompleto"):t("clientTrainingPlan.markComplete","Marcar como completo"),children:f.has(q.id)?c.jsx(xa,{className:"w-5 h-5"}):c.jsx(Kf,{className:"w-5 h-5"})})]})},q.id))})]})]})}):null:c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(tr,{className:"w-12 h-12 text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("clientTrainingPlan.noPlanTitle","No tienes un plan asignado")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark mb-8",children:t("clientTrainingPlan.noPlanDescription","Contacta con tu coach o administrador para que te asigne un plan de entrenamiento personalizado.")}),c.jsxs(zt,{to:"/dashboard/client",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[c.jsx(Gs,{className:"mr-2"}),t("common.backToDashboard","Volver al Dashboard")]})]})})})},rG=()=>{const{t}=mt(),{currentUser:e}=rr(),[n,r]=C.useState([]),[i,o]=C.useState({}),[u,d]=C.useState(!0),[f,m]=C.useState(null);C.useEffect(()=>{x()},[e]);const x=async()=>{if(!e){d(!1);return}d(!0),m(null);try{const L=await xc(Vt(ht,"users",e.uid));if(L.exists()){const V=L.data().trainingProgress||{},D=Object.values(V);D.sort((S,I)=>I.date.toDate()-S.date.toDate()),r(D);const P=[...new Set(D.map(S=>S.planId))],N={};for(const S of P)try{const I=await xc(Vt(ht,"trainingPlans",S));I.exists()&&(N[S]={id:I.id,...I.data()})}catch(I){console.error(`Error fetching plan ${S}:`,I)}o(N)}}catch(L){console.error("Error fetching training history:",L),m(t("clientTrainingHistory.errorFetching","Error al cargar el historial"))}finally{d(!1)}},v=L=>L?(L.toDate?L.toDate():new Date(L)).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Fecha desconocida",b=L=>{var q;return((q=i[L])==null?void 0:q.name)||L},T=(L,q)=>{const V=i[L];if(!V)return q;const D=V.exercises.find(P=>P.id===q);return(D==null?void 0:D.name)||q},_=L=>{const q=i[L.planId];return!q||q.exercises.length===0?0:Math.round(L.completedExercises.length/q.exercises.length*100)},j=()=>n.length,O=()=>n.reduce((L,q)=>L+q.completedExercises.length,0),M=()=>{if(n.length===0)return 0;const L=n.reduce((q,V)=>q+_(V),0);return Math.round(L/n.length)},z=()=>{if(n.length===0)return 0;const L=new Date;L.setHours(0,0,0,0);let q=0,V=new Date(L);for(;n.some(P=>{const N=P.date.toDate();return N.setHours(0,0,0,0),N.getTime()===V.getTime()});)q++,V.setDate(V.getDate()-1);return q};return u?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})}):f?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[c.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx($s,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("clientTrainingHistory.errorTitle","Error al cargar el historial")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark mb-8",children:f}),c.jsxs("button",{onClick:x,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[c.jsx($f,{className:"mr-2"}),t("common.retry","Reintentar")]})]})})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:c.jsx($f,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("clientTrainingHistory.title","Historial de Entrenamiento")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.subtitle","Tu progreso y sesiones completadas")})]})]}),c.jsxs(zt,{to:"/dashboard/client",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[c.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.stats.totalSessions","Sesiones Totales")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:j()})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:c.jsx(tr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.stats.exercisesCompleted","Ejercicios Completados")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:O()})]}),c.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:c.jsx(xa,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.stats.averageCompletion","Promedio de Completado")}),c.jsxs("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:[M(),"%"]})]}),c.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center",children:c.jsx(ic,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.stats.streak","Racha Actual")}),c.jsxs("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:[z()," ",t("clientTrainingHistory.stats.days","días")]})]}),c.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:c.jsx(s6,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("clientTrainingHistory.sessionsTitle","Sesiones de Entrenamiento")}),n.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx($f,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),c.jsx("h3",{className:"text-xl font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("clientTrainingHistory.noSessions","No hay sesiones registradas")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-6",children:t("clientTrainingHistory.noSessionsDescription","Comienza a entrenar y verás tu historial aquí")}),c.jsxs(zt,{to:"/training-plan",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[c.jsx(tr,{className:"mr-2"}),t("clientTrainingHistory.startTraining","Comenzar Entrenamiento")]})]}):c.jsx("div",{className:"space-y-6",children:n.map((L,q)=>c.jsxs("div",{className:"border border-gray-200 dark:border-slate-600 rounded-xl p-6 transition-colors duration-300 hover:bg-gray-50 dark:hover:bg-slate-700",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-teal-600 dark:text-teal-400",children:n.length-q})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-text-default-light dark:text-text-default-dark",children:b(L.planId)}),c.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark flex items-center",children:[c.jsx(Ha,{className:"w-4 h-4 mr-2"}),v(L.date)]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.completion","Completado")}),c.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded-full text-xs font-medium",children:[_(L),"%"]})]}),c.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[L.completedExercises.length," ",t("clientTrainingHistory.exercises","ejercicios")]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h4",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:[t("clientTrainingHistory.completedExercises","Ejercicios Completados"),":"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:L.completedExercises.map(V=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded-full text-xs font-medium",children:[c.jsx(xa,{className:"w-3 h-3 mr-1"}),T(L.planId,V)]},V))})]})]},L.sessionId))})]})]})})},aG=()=>{const{t}=mt(),{currentUser:e,userRole:n}=rr(),[r,i]=C.useState([]),[o,u]=C.useState({}),[d,f]=C.useState([]),[m,x]=C.useState(!0),[v,b]=C.useState(null),[T,_]=C.useState("month");C.useEffect(()=>{j()},[e,T]);const j=async()=>{var V;if(!e){x(!1);return}x(!0),b(null);try{const D=ga(ht,"users"),P=qs(D,jd("role","==","client"),Hs("displayName")),N=await Li(P),S=ga(ht,"trainingPlans"),I=await Li(S),B={};I.docs.forEach(ye=>{B[ye.id]={id:ye.id,...ye.data()}}),u(B);const $=[],U={};for(const ye of N.docs){const ke=ye.data(),Y=await O(ye.id,ke,B);if($.push(Y),ke.assignedPlanId){const ie=ke.assignedPlanId;U[ie]||(U[ie]={planId:ie,planName:((V=B[ie])==null?void 0:V.name)||ie,assignedCount:0,activeCount:0,averageCompletion:0,totalCompletion:0}),U[ie].assignedCount++,Y.isActive&&U[ie].activeCount++,U[ie].totalCompletion+=Y.averageCompletion}}Object.values(U).forEach(ye=>{ye.assignedCount>0&&(ye.averageCompletion=Math.round(ye.totalCompletion/ye.assignedCount)),delete ye.totalCompletion}),i($),f(Object.values(U))}catch(D){console.error("Error fetching analytics:",D),b(t("coachAnalytics.errorFetching","Error al cargar las analíticas"))}finally{x(!1)}},O=async(V,D,P)=>{var te;const N=D.trainingProgress||{},S=Object.values(N),I=new Date,B=S.filter(ve=>{const F=ve.date.toDate();switch(T){case"week":const ne=new Date(I.getTime()-6048e5);return F>=ne;case"month":const pe=new Date(I.getTime()-30*24*60*60*1e3);return F>=pe;default:return!0}}),$=B.length,U=B.reduce((ve,F)=>ve+F.completedExercises.length,0);let ye=0;if($>0&&D.assignedPlanId){const ve=P[D.assignedPlanId];if(ve&&ve.exercises.length>0){const F=$*ve.exercises.length;ye=Math.round(U/F*100)}}const ke=B.length>0?B[0].date:null,Y=M(S),ie=ke&&I.getTime()-ke.toDate().getTime()<7*24*60*60*1e3;return{uid:V,displayName:D.displayName||"Sin nombre",email:D.email||"",assignedPlanId:D.assignedPlanId||"",planName:D.assignedPlanId?((te=P[D.assignedPlanId])==null?void 0:te.name)||D.assignedPlanId:"Sin plan",totalSessions:$,totalExercisesCompleted:U,averageCompletion:ye,lastSessionDate:ke,streakDays:Y,isActive:ie}},M=V=>{if(V.length===0)return 0;const D=new Date;D.setHours(0,0,0,0);let P=0,N=new Date(D);for(;V.some(I=>{const B=I.date.toDate();return B.setHours(0,0,0,0),B.getTime()===N.getTime()});)P++,N.setDate(N.getDate()-1);return P},z=V=>V?(V.toDate?V.toDate():new Date(V)).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Nunca",L=()=>{const V=r.length,D=r.filter(S=>S.isActive).length,P=r.reduce((S,I)=>S+I.totalSessions,0),N=V>0?Math.round(r.reduce((S,I)=>S+I.averageCompletion,0)/V):0;return{totalClients:V,activeClients:D,totalSessions:P,averageCompletion:N}};if(m)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})});if(v)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[c.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx($s,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("coachAnalytics.errorTitle","Error al cargar las analíticas")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark mb-8",children:v}),c.jsxs("button",{onClick:j,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[c.jsx(ic,{className:"mr-2"}),t("common.retry","Reintentar")]})]})})});const q=L();return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:c.jsx(ic,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("coachAnalytics.title","Analíticas de Clientes")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.subtitle","Progreso y estadísticas de tus clientes")})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("select",{value:T,onChange:V=>_(V.target.value),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 transition-all duration-300",children:[c.jsx("option",{value:"week",children:t("coachAnalytics.timeframe.week","Esta Semana")}),c.jsx("option",{value:"month",children:t("coachAnalytics.timeframe.month","Este Mes")}),c.jsx("option",{value:"all",children:t("coachAnalytics.timeframe.all","Todo el Tiempo")})]}),c.jsxs(zt,{to:"/dashboard/coach",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[c.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.stats.totalClients","Total Clientes")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:q.totalClients})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:c.jsx(od,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.stats.activeClients","Clientes Activos")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:q.activeClients})]}),c.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:c.jsx(yc,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.stats.totalSessions","Sesiones Totales")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:q.totalSessions})]}),c.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center",children:c.jsx(tr,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.stats.averageCompletion","Promedio Completado")}),c.jsxs("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:[q.averageCompletion,"%"]})]}),c.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:c.jsx(GH,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),d.length>0&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 mb-8",children:[c.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("coachAnalytics.planStats.title","Estadísticas por Plan")}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(V=>c.jsxs("div",{className:"border border-gray-200 dark:border-slate-600 rounded-xl p-4",children:[c.jsx("h3",{className:"font-semibold text-text-default-light dark:text-text-default-dark mb-3",children:V.planName}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{className:"text-text-muted-light dark:text-text-muted-dark",children:[t("coachAnalytics.planStats.assigned","Asignado"),":"]}),c.jsx("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:V.assignedCount})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{className:"text-text-muted-light dark:text-text-muted-dark",children:[t("coachAnalytics.planStats.active","Activos"),":"]}),c.jsx("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:V.activeCount})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{className:"text-text-muted-light dark:text-text-muted-dark",children:[t("coachAnalytics.planStats.avgCompletion","Promedio"),":"]}),c.jsxs("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:[V.averageCompletion,"%"]})]})]})]},V.planId))})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("coachAnalytics.clientProgress.title","Progreso de Clientes")}),r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(od,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),c.jsx("h3",{className:"text-xl font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachAnalytics.noClients","No hay clientes registrados")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.noClientsDescription","Los clientes aparecerán aquí cuando se registren")})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-600",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.client","Cliente")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.plan","Plan")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.sessions","Sesiones")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.completion","Completado")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.streak","Racha")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.lastSession","Última Sesión")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.status","Estado")})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-600",children:r.map(V=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:V.displayName}),c.jsx("div",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:V.email})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-default-light dark:text-text-default-dark",children:V.planName}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-default-light dark:text-text-default-dark",children:V.totalSessions}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V.averageCompletion>=80?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":V.averageCompletion>=60?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:[V.averageCompletion,"%"]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-default-light dark:text-text-default-dark",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(s6,{className:"w-4 h-4 text-orange-500 mr-1"}),V.streakDays," ",t("coachAnalytics.table.days","días")]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-muted-light dark:text-text-muted-dark",children:z(V.lastSessionDate)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${V.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}`,children:V.isActive?c.jsxs(c.Fragment,{children:[c.jsx(yc,{className:"w-3 h-3 mr-1"}),t("coachAnalytics.table.active","Activo")]}):c.jsxs(c.Fragment,{children:[c.jsx($H,{className:"w-3 h-3 mr-1"}),t("coachAnalytics.table.inactive","Inactivo")]})})})]},V.uid))})]})})]})]})})},iG=()=>{const{t}=mt(),{currentUser:e}=rr(),[n,r]=C.useState([]),[i,o]=C.useState([]),[u,d]=C.useState(!0),[f,m]=C.useState(null),[x,v]=C.useState(!1),[b,T]=C.useState(null),[_,j]=C.useState("week"),[O,M]=C.useState(new Date),[z,L]=C.useState(""),[q,V]=C.useState(""),[D,P]=C.useState(""),[N,S]=C.useState("training"),[I,B]=C.useState(""),[$,U]=C.useState(""),[ye,ke]=C.useState(60);C.useEffect(()=>{Y(),ie()},[e]);const Y=async()=>{if(!e){d(!1);return}d(!0),m(null);try{const le=ga(ht,"appointments"),Qe=qs(le,jd("createdBy","==",e.uid),Hs("startTime","asc")),ue=(await Li(Qe)).docs.map(Oe=>({id:Oe.id,...Oe.data()}));r(ue)}catch(le){console.error("Error fetching appointments:",le),m(t("coachSchedule.errorFetching","Error al cargar las citas"))}finally{d(!1)}},ie=async()=>{try{const le=ga(ht,"users"),Qe=qs(le,jd("role","==","client"),Hs("displayName")),ue=(await Li(Qe)).docs.map(Oe=>({uid:Oe.id,...Oe.data()}));o(ue)}catch(le){console.error("Error fetching clients:",le)}},te=async le=>{if(le.preventDefault(),!(!e||!D)){d(!0),m(null);try{const Qe=i.find(et=>et.uid===D);if(!Qe)throw new Error("Cliente no encontrado");const we=new Date(`${I}T${$}`),ue=new Date(we.getTime()+ye*6e4),Oe={title:z,description:q,clientId:D,clientName:Qe.displayName||"Sin nombre",clientEmail:Qe.email||"",startTime:bn(),endTime:bn(),status:"scheduled",type:N,createdBy:e.uid,createdAt:bn(),updatedAt:bn()};await dC(ga(ht,"appointments"),Oe),L(""),V(""),P(""),S("training"),B(""),U(""),ke(60),v(!1),await Y()}catch(Qe){console.error("Error creating appointment:",Qe),m(t("coachSchedule.errorCreating","Error al crear la cita"))}finally{d(!1)}}},ve=async le=>{if(le.preventDefault(),!!b){d(!0),m(null);try{const Qe=i.find(et=>et.uid===D);if(!Qe)throw new Error("Cliente no encontrado");const we=new Date(`${I}T${$}`),ue=new Date(we.getTime()+ye*6e4),Oe=Vt(ht,"appointments",b.id);await Rr(Oe,{title:z,description:q,clientId:D,clientName:Qe.displayName||"Sin nombre",clientEmail:Qe.email||"",startTime:bn(),endTime:bn(),type:N,updatedAt:bn()}),T(null),L(""),V(""),P(""),S("training"),B(""),U(""),ke(60),await Y()}catch(Qe){console.error("Error updating appointment:",Qe),m(t("coachSchedule.errorUpdating","Error al actualizar la cita"))}finally{d(!1)}}},F=async le=>{if(confirm(t("coachSchedule.confirmDelete","¿Estás seguro de que quieres eliminar esta cita?"))){d(!0),m(null);try{await km(Vt(ht,"appointments",le)),await Y()}catch(Qe){console.error("Error deleting appointment:",Qe),m(t("coachSchedule.errorDeleting","Error al eliminar la cita"))}finally{d(!1)}}},ne=async(le,Qe)=>{d(!0),m(null);try{const we=Vt(ht,"appointments",le);await Rr(we,{status:Qe,updatedAt:bn()}),await Y()}catch(we){console.error("Error updating appointment status:",we),m(t("coachSchedule.errorUpdatingStatus","Error al actualizar el estado de la cita"))}finally{d(!1)}},pe=le=>{T(le),L(le.title),V(le.description||""),P(le.clientId),S(le.type);const Qe=le.startTime.toDate();B(Qe.toISOString().split("T")[0]),U(Qe.toTimeString().slice(0,5));const we=Math.round((le.endTime.toDate().getTime()-Qe.getTime())/6e4);ke(we)},oe=()=>{v(!1),T(null),L(""),V(""),P(""),S("training"),B(""),U(""),ke(60),m(null)},Te=le=>{switch(le){case"scheduled":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},De=le=>{switch(le){case"consultation":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"training":return"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-300";case"follow-up":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300";case"assessment":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},Pe=le=>le?(le.toDate?le.toDate():new Date(le)).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Fecha no disponible",At=()=>{const le=new Date;return n.filter(Qe=>Qe.startTime.toDate()>=le&&Qe.status==="scheduled").slice(0,5)};return u&&n.length===0?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:c.jsx(Ha,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("coachSchedule.title","Calendario de Citas")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.subtitle","Gestiona horarios y citas con tus clientes")})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>v(!0),className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[c.jsx(sc,{className:"mr-2"}),t("coachSchedule.createAppointment","Nueva Cita")]}),c.jsxs(zt,{to:"/dashboard/coach",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[c.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})]})}),f&&c.jsx("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30",children:f}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex items-center space-x-2 bg-white dark:bg-slate-800 rounded-xl p-1 shadow-lg",children:[c.jsxs("button",{onClick:()=>j("day"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${_==="day"?"bg-teal-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[c.jsx(RH,{className:"mr-2"}),t("coachSchedule.view.day","Día")]}),c.jsxs("button",{onClick:()=>j("week"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${_==="week"?"bg-teal-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[c.jsx(PH,{className:"mr-2"}),t("coachSchedule.view.week","Semana")]}),c.jsxs("button",{onClick:()=>j("month"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${_==="month"?"bg-teal-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[c.jsx(DH,{className:"mr-2"}),t("coachSchedule.view.month","Mes")]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.stats.total","Total Citas")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:n.length})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:c.jsx(Ha,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.stats.scheduled","Programadas")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:n.filter(le=>le.status==="scheduled").length})]}),c.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:c.jsx(Wd,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.stats.completed","Completadas")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:n.filter(le=>le.status==="completed").length})]}),c.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center",children:c.jsx(xa,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.stats.clients","Clientes Únicos")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:new Set(n.map(le=>le.clientId)).size})]}),c.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:c.jsx(Ni,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 mb-8",children:[c.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("coachSchedule.upcoming","Próximas Citas")}),At().length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Ha,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.noUpcoming","No hay citas programadas próximamente")})]}):c.jsx("div",{className:"space-y-4",children:At().map(le=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-xl flex items-center justify-center",children:c.jsx(Ni,{className:"w-6 h-6 text-teal-600 dark:text-teal-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:le.title}),c.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[le.clientName," • ",Pe(le.startTime)]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${De(le.type)}`,children:t(`coachSchedule.type.${le.type}`,le.type)}),c.jsx("button",{onClick:()=>ne(le.id,"completed"),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:t("coachSchedule.markCompleted","Marcar como completada"),children:c.jsx(xa,{className:"w-4 h-4"})})]})]},le.id))})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("coachSchedule.allAppointments","Todas las Citas")}),n.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Ha,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),c.jsx("h3",{className:"text-xl font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.noAppointments","No hay citas programadas")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-6",children:t("coachSchedule.noAppointmentsDescription","Crea tu primera cita para comenzar")}),c.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[c.jsx(sc,{className:"mr-2"}),t("coachSchedule.createFirstAppointment","Crear Primera Cita")]})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-600",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.title","Título")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.client","Cliente")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.date","Fecha")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.type","Tipo")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.status","Estado")}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.actions","Acciones")})]})}),c.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-600",children:n.map(le=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:le.title}),le.description&&c.jsx("div",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:le.description})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:le.clientName}),c.jsx("div",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:le.clientEmail})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-default-light dark:text-text-default-dark",children:Pe(le.startTime)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${De(le.type)}`,children:t(`coachSchedule.type.${le.type}`,le.type)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te(le.status)}`,children:t(`coachSchedule.status.${le.status}`,le.status)})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[c.jsx("button",{onClick:()=>pe(le),className:"text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 p-1 rounded transition-colors",title:t("coachSchedule.edit","Editar"),children:c.jsx(dp,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>F(le.id),className:"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 p-1 rounded transition-colors",title:t("coachSchedule.delete","Eliminar"),children:c.jsx(Pd,{className:"w-4 h-4"})}),le.status==="scheduled"&&c.jsx("button",{onClick:()=>ne(le.id,"completed"),className:"text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 p-1 rounded transition-colors",title:t("coachSchedule.markCompleted","Marcar como completada"),children:c.jsx(xa,{className:"w-4 h-4"})})]})]},le.id))})]})})]}),(x||b)&&c.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 dark:bg-black/80 z-50 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl m-4",children:[c.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:c.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:b?t("coachSchedule.editAppointment","Editar Cita"):t("coachSchedule.createAppointment","Nueva Cita")})}),c.jsxs("form",{onSubmit:b?ve:te,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.title","Título de la Cita")}),c.jsx("input",{type:"text",value:z,onChange:le=>L(le.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("coachSchedule.form.titlePlaceholder","Ej: Entrenamiento de Fuerza"),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.type","Tipo de Cita")}),c.jsxs("select",{value:N,onChange:le=>S(le.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",children:[c.jsx("option",{value:"consultation",children:t("coachSchedule.type.consultation","Consulta")}),c.jsx("option",{value:"training",children:t("coachSchedule.type.training","Entrenamiento")}),c.jsx("option",{value:"follow-up",children:t("coachSchedule.type.follow-up","Seguimiento")}),c.jsx("option",{value:"assessment",children:t("coachSchedule.type.assessment","Evaluación")})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.description","Descripción (Opcional)")}),c.jsx("textarea",{value:q,onChange:le=>V(le.target.value),rows:3,className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300 resize-none",placeholder:t("coachSchedule.form.descriptionPlaceholder","Detalles adicionales sobre la cita")})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.client","Cliente")}),c.jsxs("select",{value:D,onChange:le=>P(le.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",required:!0,children:[c.jsx("option",{value:"",children:t("coachSchedule.form.selectClient","Seleccionar Cliente")}),i.map(le=>c.jsxs("option",{value:le.uid,children:[le.displayName||"Sin nombre"," (",le.email,")"]},le.uid))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.date","Fecha")}),c.jsx("input",{type:"date",value:I,onChange:le=>B(le.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.time","Hora")}),c.jsx("input",{type:"time",value:$,onChange:le=>U(le.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.duration","Duración (minutos)")}),c.jsxs("select",{value:ye,onChange:le=>ke(parseInt(le.target.value)),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",children:[c.jsxs("option",{value:30,children:["30 ",t("coachSchedule.form.minutes","minutos")]}),c.jsxs("option",{value:45,children:["45 ",t("coachSchedule.form.minutes","minutos")]}),c.jsxs("option",{value:60,children:["60 ",t("coachSchedule.form.minutes","minutos")]}),c.jsxs("option",{value:90,children:["90 ",t("coachSchedule.form.minutes","minutos")]}),c.jsxs("option",{value:120,children:["120 ",t("coachSchedule.form.minutes","minutos")]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("button",{type:"button",onClick:oe,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300",children:t("common.cancel","Cancelar")}),c.jsx("button",{type:"submit",disabled:u,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center disabled:opacity-50",children:u?t("common.saving","Guardando..."):b?t("common.save","Guardar"):t("common.create","Crear")})]})]})]})})]})})},sG=()=>{const{t}=mt(),{currentUser:e}=rr(),[n,r]=C.useState([]),[i,o]=C.useState(!0),[u,d]=C.useState(null),[f,m]=C.useState("all");C.useEffect(()=>{x()},[e]);const x=async()=>{if(!e){o(!1);return}o(!0),d(null);try{const V=ga(ht,"notifications"),D=qs(V,jd("userId","==",e.uid),Hs("createdAt","desc")),N=(await Li(D)).docs.map(S=>({id:S.id,...S.data()}));r(N)}catch(V){console.error("Error fetching notifications:",V),d(t("notifications.errorFetching","Error al cargar las notificaciones"))}finally{o(!1)}},v=async V=>{o(!0),d(null);try{const D=Vt(ht,"notifications",V);await Rr(D,{read:!0,updatedAt:bn()}),await x()}catch(D){console.error("Error marking notification as read:",D),d(t("notifications.errorMarkingRead","Error al marcar como leída"))}finally{o(!1)}},b=async()=>{o(!0),d(null);try{const D=n.filter(P=>!P.read).map(P=>{const N=Vt(ht,"notifications",P.id);return Rr(N,{read:!0,updatedAt:bn()})});await Promise.all(D),await x()}catch(V){console.error("Error marking all notifications as read:",V),d(t("notifications.errorMarkingAllRead","Error al marcar todas como leídas"))}finally{o(!1)}},T=async V=>{if(confirm(t("notifications.confirmDelete","¿Estás seguro de que quieres eliminar esta notificación?"))){o(!0),d(null);try{await km(Vt(ht,"notifications",V)),await x()}catch(D){console.error("Error deleting notification:",D),d(t("notifications.errorDeleting","Error al eliminar la notificación"))}finally{o(!1)}}},_=async()=>{if(confirm(t("notifications.confirmClearAll","¿Estás seguro de que quieres eliminar todas las notificaciones leídas?"))){o(!0),d(null);try{const D=n.filter(P=>P.read).map(P=>km(Vt(ht,"notifications",P.id)));await Promise.all(D),await x()}catch(V){console.error("Error clearing read notifications:",V),d(t("notifications.errorClearing","Error al eliminar las notificaciones leídas"))}finally{o(!1)}}},j=V=>{switch(V){case"success":return c.jsx(IH,{className:"w-5 h-5 text-green-500"});case"warning":return c.jsx(MH,{className:"w-5 h-5 text-yellow-500"});case"error":return c.jsx($s,{className:"w-5 h-5 text-red-500"});case"info":default:return c.jsx(VH,{className:"w-5 h-5 text-blue-500"})}},O=V=>{switch(V){case"success":return"border-l-green-500 bg-green-50 dark:bg-green-900/20";case"warning":return"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";case"error":return"border-l-red-500 bg-red-50 dark:bg-red-900/20";case"info":default:return"border-l-blue-500 bg-blue-50 dark:bg-blue-900/20"}},M=V=>{if(!V)return"Fecha no disponible";const D=V.toDate?V.toDate():new Date(V),N=Math.floor((new Date().getTime()-D.getTime())/(1e3*60*60));if(N<1)return t("notifications.justNow","Justo ahora");if(N<24)return t("notifications.hoursAgo","Hace {{hours}} horas",{hours:N});{const S=Math.floor(N/24);return t("notifications.daysAgo","Hace {{days}} días",{days:S})}},z=n.filter(V=>f==="unread"?!V.read:f==="read"?V.read:!0),L=n.filter(V=>!V.read).length,q=n.filter(V=>V.read).length;return i&&n.length===0?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:c.jsx(sd,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("notifications.title","Notificaciones")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("notifications.subtitle","Mantente al día con tus alertas y mensajes")})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[L>0&&c.jsxs("button",{onClick:b,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[c.jsx(xa,{className:"mr-2"}),t("notifications.markAllRead","Marcar Todo como Leído")]}),q>0&&c.jsxs("button",{onClick:_,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[c.jsx(Pd,{className:"mr-2"}),t("notifications.clearRead","Limpiar Leídas")]}),c.jsxs(zt,{to:"/dashboard/client",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[c.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})]})}),u&&c.jsx("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30",children:u}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("notifications.stats.total","Total")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:n.length})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:c.jsx(sd,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("notifications.stats.unread","No Leídas")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:L})]}),c.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:c.jsx(hp,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("notifications.stats.read","Leídas")}),c.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:q})]}),c.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:c.jsx(xa,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex items-center space-x-2 bg-white dark:bg-slate-800 rounded-xl p-1 shadow-lg",children:[c.jsxs("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${f==="all"?"bg-blue-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[t("notifications.filter.all","Todas")," (",n.length,")"]}),c.jsxs("button",{onClick:()=>m("unread"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${f==="unread"?"bg-blue-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[t("notifications.filter.unread","No Leídas")," (",L,")"]}),c.jsxs("button",{onClick:()=>m("read"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${f==="read"?"bg-blue-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[t("notifications.filter.read","Leídas")," (",q,")"]})]})}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:z.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(sd,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),c.jsx("h3",{className:"text-xl font-medium text-text-default-light dark:text-text-default-dark mb-2",children:f==="all"?t("notifications.noNotifications","No hay notificaciones"):f==="unread"?t("notifications.noUnread","No hay notificaciones sin leer"):t("notifications.noRead","No hay notificaciones leídas")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:f==="all"?t("notifications.noNotificationsDescription","Las notificaciones aparecerán aquí cuando las recibas"):f==="unread"?t("notifications.noUnreadDescription","¡Excelente! Estás al día con todas tus notificaciones"):t("notifications.noReadDescription","Las notificaciones leídas aparecerán aquí")})]}):c.jsx("div",{className:"space-y-4",children:z.map(V=>c.jsx("div",{className:`p-6 rounded-xl border-l-4 transition-all duration-300 ${V.read?"bg-white dark:bg-slate-700 border-l-gray-300 dark:border-l-gray-600":O(V.type)}`,children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:j(V.type)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("h3",{className:`text-lg font-semibold ${V.read?"text-text-muted-light dark:text-text-muted-dark":"text-text-default-light dark:text-text-default-dark"}`,children:V.title}),!V.read&&c.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),c.jsx("p",{className:`text-sm mb-3 ${V.read?"text-text-muted-light dark:text-text-muted-dark":"text-text-default-light dark:text-text-default-dark"}`,children:V.message}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"text-xs text-text-muted-light dark:text-text-muted-dark flex items-center",children:[c.jsx(Wd,{className:"w-3 h-3 mr-1"}),M(V.createdAt)]}),V.actionUrl&&V.actionText&&c.jsx(zt,{to:V.actionUrl,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:V.actionText})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[!V.read&&c.jsx("button",{onClick:()=>v(V.id),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:t("notifications.markAsRead","Marcar como leída"),children:c.jsx(xa,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>T(V.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:t("notifications.delete","Eliminar"),children:c.jsx(Pd,{className:"w-4 h-4"})})]})]})},V.id))})})]})})},oG=()=>{var N;const{t}=mt(),{currentUser:e,userRole:n}=rr(),[r,i]=C.useState({notifications:{email:!0,push:!0,trainingReminders:!0,progressUpdates:!0,weeklyReports:!1},privacy:{profileVisibility:"coaches",showProgress:!0,showStats:!0,allowMessages:!0},preferences:{language:"es",theme:"auto",timezone:"Europe/Madrid",units:"metric"}}),[o,u]=C.useState(!1),[d,f]=C.useState(null),[m,x]=C.useState(null),[v,b]=C.useState("notifications"),[T,_]=C.useState(!1),[j,O]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""});C.useEffect(()=>{M()},[e]);const M=async()=>{if(e)try{console.log("Loading user settings...")}catch(S){console.error("Error loading user settings:",S),f(t("settings.errorLoading","Error al cargar la configuración"))}},z=async()=>{if(e){u(!0),f(null),x(null);try{const S=Vt(ht,"users",e.uid);await Rr(S,{settings:r,updatedAt:bn()}),x(t("settings.savedSuccessfully","Configuración guardada correctamente")),setTimeout(()=>x(null),3e3)}catch(S){console.error("Error saving settings:",S),f(t("settings.errorSaving","Error al guardar la configuración"))}finally{u(!1)}}},L=async S=>{if(S.preventDefault(),j.newPassword!==j.confirmPassword){f(t("settings.passwordMismatch","Las contraseñas no coinciden"));return}if(j.newPassword.length<6){f(t("settings.passwordTooShort","La contraseña debe tener al menos 6 caracteres"));return}u(!0),f(null);try{console.log("Changing password..."),x(t("settings.passwordChanged","Contraseña cambiada correctamente")),O({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>x(null),3e3)}catch(I){console.error("Error changing password:",I),f(t("settings.errorChangingPassword","Error al cambiar la contraseña"))}finally{u(!1)}},q=(S,I,B)=>{i($=>({...$,[S]:{...$[S],[I]:B}}))},V=(S,I)=>{i(B=>({...B,[S]:{...B[S],[I]:!B[S][I]}}))},D=(S,I)=>c.jsx("button",{onClick:I,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 ${S?"bg-teal-600":"bg-gray-200 dark:bg-gray-700"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${S?"translate-x-6":"translate-x-1"}`})}),P=[{id:"notifications",label:t("settings.tabs.notifications","Notificaciones"),icon:c.jsx(sd,{className:"w-5 h-5"})},{id:"privacy",label:t("settings.tabs.privacy","Privacidad"),icon:c.jsx(BH,{className:"w-5 h-5"})},{id:"preferences",label:t("settings.tabs.preferences","Preferencias"),icon:c.jsx(UH,{className:"w-5 h-5"})},{id:"account",label:t("settings.tabs.account","Cuenta"),icon:c.jsx(Ni,{className:"w-5 h-5"})}];return e?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:c.jsx(i6,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("settings.title","Configuración")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("settings.subtitle","Gestiona tus preferencias y configuración de cuenta")})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:z,disabled:o,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl disabled:opacity-50",children:[c.jsx(Rd,{className:"mr-2"}),o?t("common.saving","Guardando..."):t("common.save","Guardar")]}),c.jsxs(zt,{to:"/dashboard/client",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[c.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})]})}),d&&c.jsxs("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30 flex items-center",children:[c.jsx($s,{className:"mr-2"}),d]}),m&&c.jsxs("div",{className:"mb-6 p-4 text-sm text-semantic-success-light dark:text-semantic-success-dark bg-semantic-success-light/20 dark:bg-semantic-success-dark/20 rounded-xl border border-semantic-success-light/30 dark:border-semantic-success-dark/30 flex items-center",children:[c.jsx(xa,{className:"mr-2"}),m]}),c.jsx("div",{className:"mb-8",children:c.jsx("div",{className:"flex items-center space-x-2 bg-white dark:bg-slate-800 rounded-xl p-1 shadow-lg",children:P.map(S=>c.jsxs("button",{onClick:()=>b(S.id),className:`px-4 py-3 rounded-lg transition-all duration-300 flex items-center space-x-2 ${v===S.id?"bg-teal-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[S.icon,c.jsx("span",{children:S.label})]},S.id))})}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8",children:[v==="notifications"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("settings.notifications.title","Configuración de Notificaciones")}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.notifications.email","Notificaciones por Email")}),c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.notifications.emailDesc","Recibe notificaciones importantes por correo electrónico")})]}),D(r.notifications.email,()=>V("notifications","email"))]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.notifications.push","Notificaciones Push")}),c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.notifications.pushDesc","Recibe notificaciones en tiempo real en tu dispositivo")})]}),D(r.notifications.push,()=>V("notifications","push"))]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.notifications.trainingReminders","Recordatorios de Entrenamiento")}),c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.notifications.trainingRemindersDesc","Recibe recordatorios para tus sesiones de entrenamiento")})]}),D(r.notifications.trainingReminders,()=>V("notifications","trainingReminders"))]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.notifications.progressUpdates","Actualizaciones de Progreso")}),c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.notifications.progressUpdatesDesc","Recibe notificaciones sobre tu progreso y logros")})]}),D(r.notifications.progressUpdates,()=>V("notifications","progressUpdates"))]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.notifications.weeklyReports","Reportes Semanales")}),c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.notifications.weeklyReportsDesc","Recibe un resumen semanal de tu actividad")})]}),D(r.notifications.weeklyReports,()=>V("notifications","weeklyReports"))]})]})]}),v==="privacy"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("settings.privacy.title","Configuración de Privacidad")}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.privacy.profileVisibility","Visibilidad del Perfil")}),c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark mb-4",children:t("settings.privacy.profileVisibilityDesc","Controla quién puede ver tu perfil")}),c.jsxs("select",{value:r.privacy.profileVisibility,onChange:S=>q("privacy","profileVisibility",S.target.value),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",children:[c.jsx("option",{value:"public",children:t("settings.privacy.public","Público")}),c.jsx("option",{value:"coaches",children:t("settings.privacy.coaches","Solo Coaches")}),c.jsx("option",{value:"private",children:t("settings.privacy.private","Privado")})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.privacy.showProgress","Mostrar Progreso")}),c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.privacy.showProgressDesc","Permite que otros vean tu progreso de entrenamiento")})]}),D(r.privacy.showProgress,()=>V("privacy","showProgress"))]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.privacy.showStats","Mostrar Estadísticas")}),c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.privacy.showStatsDesc","Permite que otros vean tus estadísticas de entrenamiento")})]}),D(r.privacy.showStats,()=>V("privacy","showStats"))]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.privacy.allowMessages","Permitir Mensajes")}),c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.privacy.allowMessagesDesc","Permite que otros usuarios te envíen mensajes")})]}),D(r.privacy.allowMessages,()=>V("privacy","allowMessages"))]})]})]}),v==="preferences"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("settings.preferences.title","Preferencias Generales")}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.preferences.language","Idioma")}),c.jsxs("select",{value:r.preferences.language,onChange:S=>q("preferences","language",S.target.value),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",children:[c.jsx("option",{value:"es",children:"Español"}),c.jsx("option",{value:"en",children:"English"}),c.jsx("option",{value:"fr",children:"Français"})]})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.preferences.theme","Tema")}),c.jsxs("select",{value:r.preferences.theme,onChange:S=>q("preferences","theme",S.target.value),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",children:[c.jsx("option",{value:"light",children:t("settings.preferences.light","Claro")}),c.jsx("option",{value:"dark",children:t("settings.preferences.dark","Oscuro")}),c.jsx("option",{value:"auto",children:t("settings.preferences.auto","Automático")})]})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.preferences.timezone","Zona Horaria")}),c.jsxs("select",{value:r.preferences.timezone,onChange:S=>q("preferences","timezone",S.target.value),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",children:[c.jsx("option",{value:"Europe/Madrid",children:"Madrid (GMT+1)"}),c.jsx("option",{value:"America/New_York",children:"New York (GMT-5)"}),c.jsx("option",{value:"America/Los_Angeles",children:"Los Angeles (GMT-8)"}),c.jsx("option",{value:"Europe/London",children:"London (GMT+0)"})]})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.preferences.units","Unidades")}),c.jsxs("select",{value:r.preferences.units,onChange:S=>q("preferences","units",S.target.value),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",children:[c.jsx("option",{value:"metric",children:t("settings.preferences.metric","Métrico (kg, km)")}),c.jsx("option",{value:"imperial",children:t("settings.preferences.imperial","Imperial (lb, mi)")})]})]})]})]}),v==="account"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("settings.account.title","Configuración de Cuenta")}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("h3",{className:"text-lg font-medium text-text-default-light dark:text-text-default-dark mb-4",children:t("settings.account.information","Información de la Cuenta")}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ni,{className:"w-5 h-5 text-gray-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.account.name","Nombre")}),c.jsx("p",{className:"text-text-default-light dark:text-text-default-dark",children:e.displayName||t("settings.account.notSet","No establecido")})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(hp,{className:"w-5 h-5 text-gray-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.account.email","Email")}),c.jsx("p",{className:"text-text-default-light dark:text-text-default-dark",children:e.email})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ha,{className:"w-5 h-5 text-gray-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.account.memberSince","Miembro desde")}),c.jsx("p",{className:"text-text-default-light dark:text-text-default-dark",children:(N=e.metadata)!=null&&N.creationTime?new Date(e.metadata.creationTime).toLocaleDateString():t("settings.account.unknown","Desconocido")})]})]})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[c.jsx("h3",{className:"text-lg font-medium text-text-default-light dark:text-text-default-dark mb-4",children:t("settings.account.changePassword","Cambiar Contraseña")}),c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.account.currentPassword","Contraseña Actual")}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:T?"text":"password",value:j.currentPassword,onChange:S=>O(I=>({...I,currentPassword:S.target.value})),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 pr-10",required:!0}),c.jsx("button",{type:"button",onClick:()=>_(!T),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:T?c.jsx(OH,{className:"w-4 h-4"}):c.jsx(LH,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.account.newPassword","Nueva Contraseña")}),c.jsx("input",{type:"password",value:j.newPassword,onChange:S=>O(I=>({...I,newPassword:S.target.value})),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.account.confirmPassword","Confirmar Nueva Contraseña")}),c.jsx("input",{type:"password",value:j.confirmPassword,onChange:S=>O(I=>({...I,confirmPassword:S.target.value})),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),c.jsx("button",{type:"submit",disabled:o||!j.currentPassword||!j.newPassword||!j.confirmPassword,className:"px-6 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-lg transition-all duration-300 disabled:opacity-50",children:o?t("common.saving","Guardando..."):t("settings.account.updatePassword","Actualizar Contraseña")})]})]})]})]})]})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})})},lG=()=>{const{t}=mt(),{currentUser:e,userRole:n}=rr(),[r,i]=C.useState([]),[o,u]=C.useState(!0),[d,f]=C.useState(null),[m,x]=C.useState(""),[v,b]=C.useState(!1),[T,_]=C.useState({displayName:"",email:"",password:"",role:"client",phoneNumber:""}),[j,O]=C.useState(!1),[M,z]=C.useState(null),[L,q]=C.useState([]),[V,D]=C.useState(!1),[P,N]=C.useState(null),[S,I]=C.useState(""),B=Yo();mr(),C.useEffect(()=>{const te=async()=>{u(!0),f(null);try{const F=ga(ht,"users"),ne=qs(F,Hs("registrationDate","desc")),oe=(await Li(ne)).docs.map(Te=>({...Te.data(),uid:Te.id}));i(oe)}catch(F){console.error("Error fetching users:",F),f(t("adminUsers.errorFetching","Failed to fetch users."))}finally{u(!1)}},ve=async()=>{try{const F=ga(ht,"trainingPlans"),ne=qs(F,Hs("name")),oe=(await Li(ne)).docs.map(Te=>({id:Te.id,...Te.data()}));q(oe)}catch(F){console.error("Error fetching plans:",F)}};te(),ve()},[t,n,e]);const $=C.useMemo(()=>m?r.filter(te=>{var ve,F,ne;return(((ve=te.displayName)==null?void 0:ve.toLowerCase())||"").includes(m.toLowerCase())||(((F=te.email)==null?void 0:F.toLowerCase())||"").includes(m.toLowerCase())||(((ne=te.role)==null?void 0:ne.toLowerCase())||"").includes(m.toLowerCase())}):r,[r,m]),U=async te=>{if(n!=="admin"){alert(t("adminUsers.deleteForbidden","Only admins can delete users."));return}window.confirm(t("adminUsers.deleteConfirm",`Are you sure you want to delete user ${te}? This action cannot be undone.`))&&(console.log(`TODO: Implement delete for user ${te}`),alert(t("adminUsers.deleteNotImplemented","Delete functionality not yet fully implemented.")))},ye=async te=>{te.preventDefault(),O(!0),z(null);try{let ve;Dk().some(oe=>oe.name==="Secondary")?ve=Dk().find(oe=>oe.name==="Secondary"):ve=Xy(Xd.options,"Secondary");const F=NN(ve),pe=(await pN(F,T.email,T.password)).user;await qv(Vt(ht,"users",pe.uid),{uid:pe.uid,email:T.email,displayName:T.displayName,phoneNumber:T.phoneNumber,role:T.role,registrationDate:bn()}),b(!1),_({displayName:"",email:"",password:"",role:"client",phoneNumber:""}),await F.signOut()}catch(ve){z(ve.message||"Error al crear usuario")}finally{O(!1)}},ke=async te=>{if(te.preventDefault(),!(!P||!S)){O(!0),f(null);try{const ve=Vt(ht,"users",P.uid);await Rr(ve,{assignedPlanId:S,updatedAt:bn()}),i(F=>F.map(ne=>ne.uid===P.uid?{...ne,assignedPlanId:S}:ne)),N(null),I(""),D(!1),alert(t("adminUsers.planAssignedSuccess","Plan asignado correctamente"))}catch(ve){console.error("Error assigning plan:",ve),f(t("adminUsers.errorAssigningPlan","Error al asignar el plan"))}finally{O(!1)}}},Y=te=>{N(te),I(te.assignedPlanId||""),D(!0)},ie=te=>{const ve=L.find(F=>F.id===te);return ve?ve.name:te};return o?c.jsx("div",{className:"container mx-auto p-4 text-center",children:t("loading","Loading users...")}):d?c.jsx("div",{className:"container mx-auto p-4 text-center text-red-500",children:d}):c.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:c.jsxs("div",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark shadow-xl rounded-lg p-6 md:p-8 transition-colors duration-300",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("adminUsers.title","User Management")}),n==="admin"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>b(!0),className:"flex items-center px-4 py-2 bg-semantic-success-light dark:bg-semantic-success-dark text-text-default-dark dark:text-text-default-light rounded-lg hover:bg-semantic-success-light/80 dark:hover:bg-semantic-success-dark/80 transition-colors text-sm font-medium",children:[c.jsx(KH,{className:"mr-2 icon-default"})," ",t("adminUsers.addUserButton","Añadir Nuevo Usuario")]}),v&&c.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 dark:bg-black/80 z-50 backdrop-blur-sm",children:c.jsxs("form",{onSubmit:ye,className:"bg-neutral-surface-light dark:bg-neutral-surface-dark p-8 rounded-xl shadow-2xl w-full max-w-md space-y-6 border border-neutral-border-light dark:border-neutral-border-dark transition-colors duration-300",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:"Añadir Usuario"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-default-light dark:text-text-default-dark font-semibold mb-1",children:"Nombre"}),c.jsx("input",{type:"text",placeholder:"Nombre",value:T.displayName,onChange:te=>_({...T,displayName:te.target.value}),required:!0,className:"w-full p-2 border border-neutral-border-light dark:border-neutral-border-dark rounded bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-default-light dark:text-text-default-dark font-semibold mb-1",children:"Email"}),c.jsx("input",{type:"email",placeholder:"Email",value:T.email,onChange:te=>_({...T,email:te.target.value}),required:!0,className:"w-full p-2 border border-neutral-border-light dark:border-neutral-border-dark rounded bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-default-light dark:text-text-default-dark font-semibold mb-1",children:"Contraseña"}),c.jsx("input",{type:"password",placeholder:"Contraseña",value:T.password,onChange:te=>_({...T,password:te.target.value}),required:!0,minLength:6,className:"w-full p-2 border border-neutral-border-light dark:border-neutral-border-dark rounded bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-default-light dark:text-text-default-dark font-semibold mb-1",children:"Teléfono"}),c.jsx("input",{type:"tel",placeholder:"Teléfono",value:T.phoneNumber,onChange:te=>_({...T,phoneNumber:te.target.value}),className:"w-full p-2 border border-neutral-border-light dark:border-neutral-border-dark rounded bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-default-light dark:text-text-default-dark font-semibold mb-1",children:"Rol"}),c.jsxs("select",{value:T.role,onChange:te=>_({...T,role:te.target.value}),className:"w-full p-2 border border-neutral-border-light dark:border-neutral-border-dark rounded bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300",children:[c.jsx("option",{value:"client",children:"Cliente"}),c.jsx("option",{value:"coach",children:"Coach"}),c.jsx("option",{value:"admin",children:"Admin"})]})]}),M&&c.jsx("div",{className:"text-semantic-error-light dark:text-semantic-error-dark font-semibold",children:M}),c.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[c.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 rounded bg-neutral-border-light dark:bg-neutral-border-dark text-text-default-light dark:text-text-default-dark font-semibold hover:opacity-80 transition-opacity",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 rounded bg-semantic-success-light dark:bg-semantic-success-dark text-text-default-dark dark:text-text-default-light font-semibold hover:bg-semantic-success-light/80 dark:hover:bg-semantic-success-dark/80 transition disabled:opacity-60",children:j?"Creando...":"Crear"})]})]})})]})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(o6,{className:"h-5 w-5 text-text-muted-light dark:text-text-muted-dark icon-default"})}),c.jsx("input",{type:"text",placeholder:t("adminUsers.searchPlaceholder","Search by name, email, or role..."),value:m,onChange:te=>x(te.target.value),className:"block w-full pl-10 pr-3 py-2 border border-neutral-border-light dark:border-neutral-border-dark rounded-md leading-5 bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark sm:text-sm transition-colors duration-300"})]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-neutral-border-light dark:divide-neutral-border-dark transition-colors duration-300",children:[c.jsx("thead",{className:"bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.name","Name")}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.email","Email")}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.role","Role")}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.phone","Phone")}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.assignedPlan","Assigned Plan")}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.registered","Registered")}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.actions","Actions")})]})}),c.jsx("tbody",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark divide-y divide-neutral-border-light dark:divide-neutral-border-dark transition-colors duration-300",children:$.length>0?$.map(te=>c.jsxs("tr",{className:"hover:bg-neutral-background-light dark:hover:bg-neutral-background-dark/50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:te.displayName||t("adminUsers.noName","N/A")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:te.email})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${te.role==="admin"?"bg-semantic-error-light/30 text-semantic-error-dark dark:bg-semantic-error-dark/30 dark:text-semantic-error-light":te.role==="coach"?"bg-accent-light/30 text-accent-dark dark:bg-accent-dark/30 dark:text-accent-light":te.role==="client"?"bg-semantic-success-light/30 text-semantic-success-dark dark:bg-semantic-success-dark/30 dark:text-semantic-success-light":"bg-neutral-border-light text-text-muted-light dark:bg-neutral-border-dark dark:text-text-muted-dark"}`,children:te.role?t(`roles.${te.role}`,te.role):t("roles.unknown","Unknown")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-muted-light dark:text-text-muted-dark",children:te.phoneNumber||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[te.assignedPlanId?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-300",children:[c.jsx(tr,{className:"w-3 h-3 mr-1"}),ie(te.assignedPlanId)]}):c.jsx("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:"-"}),(n==="admin"||n==="coach")&&te.role==="client"&&c.jsx("button",{onClick:()=>Y(te),className:"p-1 text-teal-600 dark:text-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/20 rounded transition-colors",title:t("adminUsers.assignPlan","Asignar Plan"),children:c.jsx(yc,{className:"w-4 h-4"})})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-muted-light dark:text-text-muted-dark",children:te.registrationDate?te.registrationDate.toDate().toLocaleDateString():"-"}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[c.jsx("button",{onClick:()=>B(`/profile/${te.uid}?edit=1`,{state:{from:"/admin/users"}}),className:"text-primary-DEFAULT hover:text-primary-dark dark:text-primary-light dark:hover:text-primary-DEFAULT mr-2 transition-colors",title:t("adminUsers.editTooltip","Edit User"),children:c.jsx(dp,{className:"inline h-5 w-5 icon-primary"})}),n==="admin"&&te.uid!==(e==null?void 0:e.uid)&&c.jsx("button",{onClick:()=>U(te.uid),className:"text-semantic-error-light hover:text-semantic-error-dark dark:text-semantic-error-dark dark:hover:text-semantic-error-light transition-colors",title:t("adminUsers.deleteTooltip","Delete User"),children:c.jsx(HH,{className:"inline h-5 w-5 icon-default"})})]})]},te.uid)):c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-text-muted-light dark:text-text-muted-dark",children:m?t("adminUsers.noResults","No users found matching your search."):t("adminUsers.noUsers","No users found.")})})})]})}),V&&P&&c.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 dark:bg-black/80 z-50 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark rounded-xl shadow-2xl w-full max-w-md m-4 border border-neutral-border-light dark:border-neutral-border-dark transition-colors duration-300",children:[c.jsx("div",{className:"p-6 border-b border-neutral-border-light dark:border-neutral-border-dark",children:c.jsxs("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark",children:[t("adminUsers.assignPlanTo","Asignar Plan a")," ",P.displayName||P.email]})}),c.jsxs("form",{onSubmit:ke,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminUsers.selectPlan","Seleccionar Plan")}),c.jsxs("select",{value:S,onChange:te=>I(te.target.value),className:"w-full p-3 bg-neutral-background-light dark:bg-neutral-background-dark border border-neutral-border-light dark:border-neutral-border-dark rounded-lg text-text-default-light dark:text-text-default-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300",children:[c.jsx("option",{value:"",children:t("adminUsers.noPlan","Sin plan asignado")}),L.map(te=>c.jsxs("option",{value:te.id,children:[te.name," (",t(`adminPlans.difficulty.${te.difficulty}`,te.difficulty),")"]},te.id))]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-border-light dark:border-neutral-border-dark",children:[c.jsx("button",{type:"button",onClick:()=>{D(!1),N(null),I("")},className:"px-4 py-2 bg-neutral-border-light dark:bg-neutral-border-dark text-text-default-light dark:text-text-default-dark font-medium rounded-lg transition-colors duration-300",children:t("common.cancel","Cancelar")}),c.jsxs("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-lg transition-all duration-300 flex items-center disabled:opacity-50",children:[c.jsx(yc,{className:"mr-2"}),j?t("common.assigning","Asignando..."):t("adminUsers.assignPlan","Asignar Plan")]})]})]})]})})]})})},cG=()=>{const{t}=mt(),{currentUser:e,userRole:n}=rr(),[r,i]=C.useState([]),[o,u]=C.useState([]),[d,f]=C.useState(!0),[m,x]=C.useState(null),[v,b]=C.useState(!1),[T,_]=C.useState(!1),[j,O]=C.useState(null),[M,z]=C.useState(null),[L,q]=C.useState(""),[V,D]=C.useState(""),[P,N]=C.useState(""),[S,I]=C.useState(""),[B,$]=C.useState("beginner"),[U,ye]=C.useState(4),[ke,Y]=C.useState([]);C.useEffect(()=>{ie(),te()},[]);const ie=async()=>{f(!0),x(null);try{const ue=ga(ht,"trainingPlans"),Oe=qs(ue,Hs("createdAt","desc")),Ct=(await Li(Oe)).docs.map(It=>({id:It.id,...It.data()}));i(Ct)}catch(ue){console.error("Error fetching plans:",ue),x(t("adminPlans.errorFetching","Error al cargar los planes"))}finally{f(!1)}},te=async()=>{try{const ue=ga(ht,"users"),Oe=qs(ue,jd("role","==","client"),Hs("displayName")),Ct=(await Li(Oe)).docs.map(It=>({uid:It.id,...It.data()}));u(Ct)}catch(ue){console.error("Error fetching clients:",ue)}},ve=async ue=>{if(ue.preventDefault(),!!e){f(!0),x(null);try{const Oe={name:P,description:S,difficulty:B,duration:U,exercises:ke,createdBy:e.uid,createdAt:bn(),updatedAt:bn()};await dC(ga(ht,"trainingPlans"),Oe),N(""),I(""),$("beginner"),ye(4),Y([]),b(!1),await ie()}catch(Oe){console.error("Error creating plan:",Oe),x(t("adminPlans.errorCreating","Error al crear el plan"))}finally{f(!1)}}},F=async ue=>{if(ue.preventDefault(),!!j){f(!0),x(null);try{const Oe=Vt(ht,"trainingPlans",j.id);await Rr(Oe,{name:P,description:S,difficulty:B,duration:U,exercises:ke,updatedAt:bn()}),O(null),N(""),I(""),$("beginner"),ye(4),Y([]),await ie()}catch(Oe){console.error("Error updating plan:",Oe),x(t("adminPlans.errorUpdating","Error al actualizar el plan"))}finally{f(!1)}}},ne=async ue=>{if(confirm(t("adminPlans.confirmDelete","¿Estás seguro de que quieres eliminar este plan?"))){f(!0),x(null);try{await km(Vt(ht,"trainingPlans",ue)),await ie()}catch(Oe){console.error("Error deleting plan:",Oe),x(t("adminPlans.errorDeleting","Error al eliminar el plan"))}finally{f(!1)}}},pe=async ue=>{if(ue.preventDefault(),!(!M||!L)){f(!0),x(null);try{const Oe=Vt(ht,"users",L);await Rr(Oe,{assignedPlanId:M.id,updatedAt:bn()}),z(null),q(""),_(!1),await te(),alert(t("adminPlans.planAssignedSuccess","Plan asignado correctamente"))}catch(Oe){console.error("Error assigning plan:",Oe),x(t("adminPlans.errorAssigning","Error al asignar el plan"))}finally{f(!1)}}},oe=ue=>{z(ue),q(""),_(!0)},Te=()=>{const ue={id:Date.now().toString(),name:"",sets:3,reps:"10-12",rest:"60s",notes:""};Y([...ke,ue])},De=(ue,Oe,et)=>{Y(ke.map(Ct=>Ct.id===ue?{...Ct,[Oe]:et}:Ct))},Pe=ue=>{Y(ke.filter(Oe=>Oe.id!==ue))},At=ue=>{O(ue),N(ue.name),I(ue.description),$(ue.difficulty),ye(ue.duration),Y([...ue.exercises])},le=()=>{b(!1),_(!1),O(null),z(null),q(""),N(""),I(""),$("beginner"),ye(4),Y([]),x(null)},Qe=ue=>{switch(ue){case"beginner":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"intermediate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"advanced":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},we=o.filter(ue=>{var Oe,et;return((Oe=ue.displayName)==null?void 0:Oe.toLowerCase().includes(V.toLowerCase()))||((et=ue.email)==null?void 0:et.toLowerCase().includes(V.toLowerCase()))});return d&&r.length===0?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:c.jsx(tr,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("adminPlans.title","Planes de Entrenamiento")}),c.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("adminPlans.subtitle","Gestiona los planes de entrenamiento")})]})]}),c.jsxs("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[c.jsx(sc,{className:"mr-2"}),t("adminPlans.createPlan","Crear Plan")]})]})}),m&&c.jsx("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30",children:m}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(ue=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 transition-all duration-500 hover:shadow-2xl hover:scale-105",children:[c.jsx("div",{className:"flex items-start justify-between mb-4",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-2",children:ue.name}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark text-sm mb-3",children:ue.description})]})}),c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Qe(ue.difficulty)}`,children:t(`adminPlans.difficulty.${ue.difficulty}`,ue.difficulty)}),c.jsxs("span",{className:"flex items-center text-xs text-text-muted-light dark:text-text-muted-dark",children:[c.jsx(Wd,{className:"mr-1"}),ue.duration," ",t("adminPlans.weeks","semanas")]})]}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark mb-2",children:[t("adminPlans.exercises","Ejercicios"),": ",ue.exercises.length]})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>At(ue),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:t("adminPlans.edit","Editar"),children:c.jsx(dp,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>ne(ue.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:t("adminPlans.delete","Eliminar"),children:c.jsx(Pd,{className:"w-4 h-4"})})]}),c.jsxs("button",{onClick:()=>oe(ue),className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-medium rounded-lg transition-all duration-300 flex items-center",title:t("adminPlans.assign","Asignar a Cliente"),children:[c.jsx(yc,{className:"w-4 h-4 mr-2"}),t("adminPlans.assign","Asignar")]})]})]},ue.id))}),r.length===0&&!d&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(tr,{className:"w-16 h-16 text-text-muted-light dark:text-text-muted-dark mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.noPlans","No hay planes creados")}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-6",children:t("adminPlans.noPlansDescription","Crea tu primer plan de entrenamiento para comenzar")}),c.jsxs("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center mx-auto",children:[c.jsx(sc,{className:"mr-2"}),t("adminPlans.createFirstPlan","Crear Primer Plan")]})]}),(v||j)&&c.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 dark:bg-black/80 z-50 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto m-4",children:[c.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:j?t("adminPlans.editPlan","Editar Plan"):t("adminPlans.createPlan","Crear Plan")}),c.jsx("button",{onClick:le,className:"p-2 text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark rounded-lg transition-colors",children:c.jsx($s,{className:"w-6 h-6"})})]})}),c.jsxs("form",{onSubmit:j?F:ve,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.form.name","Nombre del Plan")}),c.jsx("input",{type:"text",value:P,onChange:ue=>N(ue.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("adminPlans.form.namePlaceholder","Ej: Plan de Fuerza Básica"),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.form.difficulty","Dificultad")}),c.jsxs("select",{value:B,onChange:ue=>$(ue.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",children:[c.jsx("option",{value:"beginner",children:t("adminPlans.difficulty.beginner","Principiante")}),c.jsx("option",{value:"intermediate",children:t("adminPlans.difficulty.intermediate","Intermedio")}),c.jsx("option",{value:"advanced",children:t("adminPlans.difficulty.advanced","Avanzado")})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.form.description","Descripción")}),c.jsx("textarea",{value:S,onChange:ue=>I(ue.target.value),rows:3,className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300 resize-none",placeholder:t("adminPlans.form.descriptionPlaceholder","Describe el objetivo y enfoque del plan"),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.form.duration","Duración (semanas)")}),c.jsx("input",{type:"number",min:"1",max:"52",value:U,onChange:ue=>ye(parseInt(ue.target.value)),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",required:!0})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-text-default-light dark:text-text-default-dark",children:t("adminPlans.form.exercises","Ejercicios")}),c.jsxs("button",{type:"button",onClick:Te,className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-medium rounded-lg transition-all duration-300 flex items-center",children:[c.jsx(sc,{className:"w-4 h-4 mr-2"}),t("adminPlans.form.addExercise","Agregar Ejercicio")]})]}),c.jsx("div",{className:"space-y-4",children:ke.map((ue,Oe)=>c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl border border-gray-200 dark:border-slate-600",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h4",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:[t("adminPlans.form.exercise","Ejercicio")," ",Oe+1]}),c.jsx("button",{type:"button",onClick:()=>Pe(ue.id),className:"p-1 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:c.jsx(Pd,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:t("adminPlans.form.exerciseName","Nombre")}),c.jsx("input",{type:"text",value:ue.name,onChange:et=>De(ue.id,"name",et.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-sm text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("adminPlans.form.exerciseNamePlaceholder","Ej: Sentadillas"),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:t("adminPlans.form.sets","Series")}),c.jsx("input",{type:"number",min:"1",value:ue.sets,onChange:et=>De(ue.id,"sets",parseInt(et.target.value)),className:"w-full px-3 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-sm text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:t("adminPlans.form.reps","Repeticiones")}),c.jsx("input",{type:"text",value:ue.reps,onChange:et=>De(ue.id,"reps",et.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-sm text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:"10-12",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:t("adminPlans.form.rest","Descanso")}),c.jsx("input",{type:"text",value:ue.rest,onChange:et=>De(ue.id,"rest",et.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-sm text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:"60s",required:!0})]})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("label",{className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:t("adminPlans.form.notes","Notas (Opcional)")}),c.jsx("input",{type:"text",value:ue.notes||"",onChange:et=>De(ue.id,"notes",et.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-sm text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("adminPlans.form.notesPlaceholder","Notas adicionales sobre el ejercicio")})]})]},ue.id))})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("button",{type:"button",onClick:le,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300",children:t("common.cancel","Cancelar")}),c.jsxs("button",{type:"submit",disabled:d,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center disabled:opacity-50",children:[c.jsx(Rd,{className:"mr-2"}),d?t("common.saving","Guardando..."):j?t("common.save","Guardar"):t("common.create","Crear")]})]})]})]})}),T&&M&&c.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 dark:bg-black/80 z-50 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl m-4",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:t("adminPlans.assignPlan","Asignar Plan")}),c.jsx("button",{onClick:le,className:"p-2 text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark rounded-lg transition-colors",children:c.jsx($s,{className:"w-6 h-6"})})]}),c.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mt-2",children:t("adminPlans.assignPlanDescription",'Asignar "{{planName}}" a un cliente',{planName:M.name})})]}),c.jsxs("form",{onSubmit:pe,className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.selectClient","Seleccionar Cliente")}),c.jsxs("div",{className:"relative mb-4",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(o6,{className:"h-5 w-5 text-text-muted-light dark:text-text-muted-dark"})}),c.jsx("input",{type:"text",value:V,onChange:ue=>D(ue.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("adminPlans.searchClients","Buscar clientes...")})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:we.map(ue=>c.jsx("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ${L===ue.uid?"border-teal-500 bg-teal-50 dark:bg-teal-900/20":"border-gray-200 dark:border-slate-600 hover:border-teal-300 dark:hover:border-teal-600"}`,onClick:()=>q(ue.uid),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:ue.displayName||t("adminPlans.noName","Sin nombre")}),c.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:ue.email})]}),ue.assignedPlanId&&c.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 px-2 py-1 rounded-full",children:t("adminPlans.alreadyAssigned","Ya tiene plan")})]})},ue.uid))})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("button",{type:"button",onClick:le,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300",children:t("common.cancel","Cancelar")}),c.jsxs("button",{type:"submit",disabled:d||!L,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center disabled:opacity-50",children:[c.jsx(yc,{className:"mr-2"}),d?t("common.assigning","Asignando..."):t("adminPlans.assignPlan","Asignar Plan")]})]})]})]})})]})})},uG=()=>c.jsxs("div",{className:"container mx-auto p-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Admin - Platform Settings"}),c.jsx("p",{children:"Platform-wide settings will be configured here."})]}),Ou=({allowedRoles:t,loginPath:e="/login",unauthorizedPath:n="/"})=>{const{isAuthenticated:r,loading:i,userRole:o}=rr(),u=mr();return i?c.jsx("div",{children:"Loading authentication status..."}):r?t&&t.length>0&&(!o||!t.includes(o))?c.jsx(lT,{to:n,state:{from:u},replace:!0}):c.jsx(K_,{}):c.jsx(lT,{to:e,state:{from:u},replace:!0})},dG=[{path:"/",element:c.jsx(Uq,{}),children:[{index:!0,element:c.jsx(oH,{})},{path:"about",element:c.jsx(lH,{})},{path:"projects",element:c.jsx(uH,{})},{path:"catalog",element:c.jsx(mH,{})},{path:"services",element:c.jsx(gH,{})},{path:"legal",element:c.jsx(pH,{})},{path:"testimonials",element:c.jsx(xH,{})},{path:"contact",element:c.jsx(bH,{})},{path:"login",element:c.jsx(XH,{})},{path:"register",element:c.jsx(WH,{})},{path:"forgot-password",element:c.jsx(ZH,{})},{path:"privacidad",element:c.jsx(TH,{})},{element:c.jsx(Ou,{allowedRoles:["client","coach","admin"],loginPath:"/login"}),children:[{path:"profile/:userId",element:c.jsx(JH,{})}]},{element:c.jsx(Ou,{allowedRoles:["client"],loginPath:"/login"}),children:[{path:"dashboard/client",element:c.jsx(eG,{})},{path:"training-plan",element:c.jsx(nG,{})},{path:"training-history",element:c.jsx(rG,{})},{path:"notifications",element:c.jsx(sG,{})},{path:"settings",element:c.jsx(oG,{})}]},{element:c.jsx(Ou,{allowedRoles:["coach","admin"],loginPath:"/login"}),children:[{path:"dashboard/coach",element:c.jsx(tG,{})},{path:"analytics",element:c.jsx(aG,{})},{path:"schedule",element:c.jsx(iG,{})}]},{element:c.jsx(Ou,{allowedRoles:["admin","coach"],loginPath:"/login"}),children:[{path:"admin/users",element:c.jsx(lG,{})},{path:"admin/plans",element:c.jsx(cG,{})}]},{element:c.jsx(Ou,{allowedRoles:["admin"],loginPath:"/login"}),children:[{path:"admin/settings",element:c.jsx(uG,{})}]}]},{path:"*",element:c.jsx(wH,{})}],hG=BP(dG),fG=()=>c.jsx(eD,{router:hG});Bj.createRoot(document.getElementById("root")).render(c.jsx(C.StrictMode,{children:c.jsx(C.Suspense,{fallback:"Loading...",children:c.jsx(VM,{children:c.jsx(Dq,{children:c.jsx(fG,{})})})})}));
