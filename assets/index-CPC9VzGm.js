(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function I3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c0={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function D3(){if(uw)return Nu;uw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:o}}return Nu.Fragment=e,Nu.jsx=n,Nu.jsxs=n,Nu}var dw;function M3(){return dw||(dw=1,c0.exports=D3()),c0.exports}var u=M3(),u0={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function O3(){if(hw)return Je;hw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,j={};function O(F,ne,pe){this.props=F,this.context=ne,this.refs=j,this.updater=pe||T}O.prototype.isReactComponent={},O.prototype.setState=function(F,ne){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ne,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=O.prototype;function z(F,ne,pe){this.props=F,this.context=ne,this.refs=j,this.updater=pe||T}var L=z.prototype=new M;L.constructor=z,E(L,O.prototype),L.isPureReactComponent=!0;var q=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function P(F,ne,pe,oe,Te,Ie){return pe=Ie.ref,{$$typeof:t,type:F,key:ne,ref:pe!==void 0?pe:null,props:Ie}}function N(F,ne){return P(F.type,ne,void 0,void 0,void 0,F.props)}function S(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function D(F){var ne={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return ne[pe]})}var B=/\/+/g;function $(F,ne){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):ne.toString(36)}function U(){}function ye(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(ne){F.status==="pending"&&(F.status="fulfilled",F.value=ne)},function(ne){F.status==="pending"&&(F.status="rejected",F.reason=ne)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ke(F,ne,pe,oe,Te){var Ie=typeof F;(Ie==="undefined"||Ie==="boolean")&&(F=null);var Pe=!1;if(F===null)Pe=!0;else switch(Ie){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(F.$$typeof){case t:case e:Pe=!0;break;case x:return Pe=F._init,ke(Pe(F._payload),ne,pe,oe,Te)}}if(Pe)return Te=Te(F),Pe=oe===""?"."+$(F,0):oe,q(Te)?(pe="",Pe!=null&&(pe=Pe.replace(B,"$&/")+"/"),ke(Te,ne,pe,"",function(Qe){return Qe})):Te!=null&&(S(Te)&&(Te=N(Te,pe+(Te.key==null||F&&F.key===Te.key?"":(""+Te.key).replace(B,"$&/")+"/")+Pe)),ne.push(Te)),1;Pe=0;var At=oe===""?".":oe+":";if(q(F))for(var le=0;le<F.length;le++)oe=F[le],Ie=At+$(oe,le),Pe+=ke(oe,ne,pe,Ie,Te);else if(le=b(F),typeof le=="function")for(F=le.call(F),le=0;!(oe=F.next()).done;)oe=oe.value,Ie=At+$(oe,le++),Pe+=ke(oe,ne,pe,Ie,Te);else if(Ie==="object"){if(typeof F.then=="function")return ke(ye(F),ne,pe,oe,Te);throw ne=String(F),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function Y(F,ne,pe){if(F==null)return F;var oe=[],Te=0;return ke(F,oe,"","",function(Ie){return ne.call(pe,Ie,Te++)}),oe}function ie(F){if(F._status===-1){var ne=F._result;ne=ne(),ne.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=ne)}if(F._status===1)return F._result.default;throw F._result}var te=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ve(){}return Je.Children={map:Y,forEach:function(F,ne,pe){Y(F,function(){ne.apply(this,arguments)},pe)},count:function(F){var ne=0;return Y(F,function(){ne++}),ne},toArray:function(F){return Y(F,function(ne){return ne})||[]},only:function(F){if(!S(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Je.Component=O,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=z,Je.StrictMode=r,Je.Suspense=f,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Je.__COMPILER_RUNTIME={__proto__:null,c:function(F){return V.H.useMemoCache(F)}},Je.cache=function(F){return function(){return F.apply(null,arguments)}},Je.cloneElement=function(F,ne,pe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var oe=E({},F.props),Te=F.key,Ie=void 0;if(ne!=null)for(Pe in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(Te=""+ne.key),ne)!I.call(ne,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ne.ref===void 0||(oe[Pe]=ne[Pe]);var Pe=arguments.length-2;if(Pe===1)oe.children=pe;else if(1<Pe){for(var At=Array(Pe),le=0;le<Pe;le++)At[le]=arguments[le+2];oe.children=At}return P(F.type,Te,void 0,void 0,Ie,oe)},Je.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Je.createElement=function(F,ne,pe){var oe,Te={},Ie=null;if(ne!=null)for(oe in ne.key!==void 0&&(Ie=""+ne.key),ne)I.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Te[oe]=ne[oe]);var Pe=arguments.length-2;if(Pe===1)Te.children=pe;else if(1<Pe){for(var At=Array(Pe),le=0;le<Pe;le++)At[le]=arguments[le+2];Te.children=At}if(F&&F.defaultProps)for(oe in Pe=F.defaultProps,Pe)Te[oe]===void 0&&(Te[oe]=Pe[oe]);return P(F,Ie,void 0,void 0,null,Te)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(F){return{$$typeof:d,render:F}},Je.isValidElement=S,Je.lazy=function(F){return{$$typeof:x,_payload:{_status:-1,_result:F},_init:ie}},Je.memo=function(F,ne){return{$$typeof:m,type:F,compare:ne===void 0?null:ne}},Je.startTransition=function(F){var ne=V.T,pe={};V.T=pe;try{var oe=F(),Te=V.S;Te!==null&&Te(pe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ve,te)}catch(Ie){te(Ie)}finally{V.T=ne}},Je.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Je.use=function(F){return V.H.use(F)},Je.useActionState=function(F,ne,pe){return V.H.useActionState(F,ne,pe)},Je.useCallback=function(F,ne){return V.H.useCallback(F,ne)},Je.useContext=function(F){return V.H.useContext(F)},Je.useDebugValue=function(){},Je.useDeferredValue=function(F,ne){return V.H.useDeferredValue(F,ne)},Je.useEffect=function(F,ne,pe){var oe=V.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(F,ne)},Je.useId=function(){return V.H.useId()},Je.useImperativeHandle=function(F,ne,pe){return V.H.useImperativeHandle(F,ne,pe)},Je.useInsertionEffect=function(F,ne){return V.H.useInsertionEffect(F,ne)},Je.useLayoutEffect=function(F,ne){return V.H.useLayoutEffect(F,ne)},Je.useMemo=function(F,ne){return V.H.useMemo(F,ne)},Je.useOptimistic=function(F,ne){return V.H.useOptimistic(F,ne)},Je.useReducer=function(F,ne,pe){return V.H.useReducer(F,ne,pe)},Je.useRef=function(F){return V.H.useRef(F)},Je.useState=function(F){return V.H.useState(F)},Je.useSyncExternalStore=function(F,ne,pe){return V.H.useSyncExternalStore(F,ne,pe)},Je.useTransition=function(){return V.H.useTransition()},Je.version="19.1.0",Je}var fw;function ry(){return fw||(fw=1,u0.exports=O3()),u0.exports}var C=ry();const Cs=I3(C);var d0={exports:{}},Au={},h0={exports:{}},f0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function L3(){return mw||(mw=1,function(t){function e(Y,ie){var te=Y.length;Y.push(ie);e:for(;0<te;){var ve=te-1>>>1,F=Y[ve];if(0<i(F,ie))Y[ve]=ie,Y[te]=F,te=ve;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ie=Y[0],te=Y.pop();if(te!==ie){Y[0]=te;e:for(var ve=0,F=Y.length,ne=F>>>1;ve<ne;){var pe=2*(ve+1)-1,oe=Y[pe],Te=pe+1,Ie=Y[Te];if(0>i(oe,te))Te<F&&0>i(Ie,oe)?(Y[ve]=Ie,Y[Te]=te,ve=Te):(Y[ve]=oe,Y[pe]=te,ve=pe);else if(Te<F&&0>i(Ie,te))Y[ve]=Ie,Y[Te]=te,ve=Te;else break e}}return ie}function i(Y,ie){var te=Y.sortIndex-ie.sortIndex;return te!==0?te:Y.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],x=1,v=null,b=3,T=!1,E=!1,j=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function q(Y){for(var ie=n(m);ie!==null;){if(ie.callback===null)r(m);else if(ie.startTime<=Y)r(m),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=n(m)}}function V(Y){if(j=!1,q(Y),!E)if(n(f)!==null)E=!0,I||(I=!0,$());else{var ie=n(m);ie!==null&&ke(V,ie.startTime-Y)}}var I=!1,P=-1,N=5,S=-1;function D(){return O?!0:!(t.unstable_now()-S<N)}function B(){if(O=!1,I){var Y=t.unstable_now();S=Y;var ie=!0;try{e:{E=!1,j&&(j=!1,z(P),P=-1),T=!0;var te=b;try{t:{for(q(Y),v=n(f);v!==null&&!(v.expirationTime>Y&&D());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,b=v.priorityLevel;var F=ve(v.expirationTime<=Y);if(Y=t.unstable_now(),typeof F=="function"){v.callback=F,q(Y),ie=!0;break t}v===n(f)&&r(f),q(Y)}else r(f);v=n(f)}if(v!==null)ie=!0;else{var ne=n(m);ne!==null&&ke(V,ne.startTime-Y),ie=!1}}break e}finally{v=null,b=te,T=!1}ie=void 0}}finally{ie?$():I=!1}}}var $;if(typeof L=="function")$=function(){L(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ye=U.port2;U.port1.onmessage=B,$=function(){ye.postMessage(null)}}else $=function(){M(B,0)};function ke(Y,ie){P=M(function(){Y(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var te=b;b=ie;try{return Y()}finally{b=te}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var te=b;b=Y;try{return ie()}finally{b=te}},t.unstable_scheduleCallback=function(Y,ie,te){var ve=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ve+te:ve):te=ve,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=te+F,Y={id:x++,callback:ie,priorityLevel:Y,startTime:te,expirationTime:F,sortIndex:-1},te>ve?(Y.sortIndex=te,e(m,Y),n(f)===null&&Y===n(m)&&(j?(z(P),P=-1):j=!0,ke(V,te-ve))):(Y.sortIndex=F,e(f,Y),E||T||(E=!0,I||(I=!0,$()))),Y},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Y){var ie=b;return function(){var te=b;b=ie;try{return Y.apply(this,arguments)}finally{b=te}}}}(f0)),f0}var pw;function V3(){return pw||(pw=1,h0.exports=L3()),h0.exports}var m0={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function U3(){if(gw)return Bn;gw=1;var t=ry();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:f,containerInfo:m,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bn.createPortal=function(f,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,x)},Bn.flushSync=function(f){var m=c.T,x=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=x,r.d.f()}},Bn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Bn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Bn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var x=m.as,v=d(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:T}):x==="script"&&r.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Bn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Bn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=d(x,m.crossOrigin);r.d.L(f,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Bn.preloadModule=function(f,m){if(typeof f=="string")if(m){var x=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Bn.requestFormReset=function(f){r.d.r(f)},Bn.unstable_batchedUpdates=function(f,m){return f(m)},Bn.useFormState=function(f,m,x){return c.H.useFormState(f,m,x)},Bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Bn.version="19.1.0",Bn}var xw;function vE(){if(xw)return m0.exports;xw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m0.exports=U3(),m0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function z3(){if(yw)return Au;yw=1;var t=V3(),e=ry(),n=vE();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function c(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var l=a,h=s;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return d(g),a;if(y===h)return d(g),s;y=y.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=y;else{for(var _=!1,A=g.child;A;){if(A===l){_=!0,l=g,h=y;break}if(A===h){_=!0,h=g,l=y;break}A=A.sibling}if(!_){for(A=y.child;A;){if(A===l){_=!0,l=y,h=g;break}if(A===h){_=!0,h=y,l=g;break}A=A.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function ye(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case O:return"Profiler";case j:return"StrictMode";case V:return"Suspense";case I:return"SuspenseList";case S:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case L:return(a.displayName||"Context")+".Provider";case z:return(a._context.displayName||"Context")+".Consumer";case q:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return s=a.displayName||null,s!==null?s:ye(a.type)||"Memo";case N:s=a._payload,a=a._init;try{return ye(a(s))}catch{}}return null}var ke=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ve=[],F=-1;function ne(a){return{current:a}}function pe(a){0>F||(a.current=ve[F],ve[F]=null,F--)}function oe(a,s){F++,ve[F]=a.current,a.current=s}var Te=ne(null),Ie=ne(null),Pe=ne(null),At=ne(null);function le(a,s){switch(oe(Pe,s),oe(Ie,a),oe(Te,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?V2(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=V2(s),a=U2(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}pe(Te),oe(Te,a)}function Qe(){pe(Te),pe(Ie),pe(Pe)}function we(a){a.memoizedState!==null&&oe(At,a);var s=Te.current,l=U2(s,a.type);s!==l&&(oe(Ie,a),oe(Te,l))}function ue(a){Ie.current===a&&(pe(Te),pe(Ie)),At.current===a&&(pe(At),Tu._currentValue=te)}var Oe=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,Ct=t.unstable_cancelCallback,Dt=t.unstable_shouldYield,Bi=t.unstable_requestPaint,An=t.unstable_now,ia=t.unstable_getCurrentPriorityLevel,sa=t.unstable_ImmediatePriority,qi=t.unstable_UserBlockingPriority,Ja=t.unstable_NormalPriority,oa=t.unstable_LowPriority,Pr=t.unstable_IdlePriority,Hi=t.log,Gi=t.unstable_setDisableYieldValue,wt=null,tt=null;function Un(a){if(typeof Hi=="function"&&Gi(a),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(wt,a)}catch{}}var on=Math.clz32?Math.clz32:Ta,tl=Math.log,Ir=Math.LN2;function Ta(a){return a>>>=0,a===0?32:31-(tl(a)/Ir|0)|0}var ka=256,_a=4194304;function pr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ei(a,s,l){var h=a.pendingLanes;if(h===0)return 0;var g=0,y=a.suspendedLanes,_=a.pingedLanes;a=a.warmLanes;var A=h&134217727;return A!==0?(h=A&~y,h!==0?g=pr(h):(_&=A,_!==0?g=pr(_):l||(l=A&~a,l!==0&&(g=pr(l))))):(A=h&~y,A!==0?g=pr(A):_!==0?g=pr(_):l||(l=h&~a,l!==0&&(g=pr(l)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:g}function Dr(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function $i(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var a=ka;return ka<<=1,(ka&4194048)===0&&(ka=256),a}function Zs(){var a=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),a}function Mr(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function la(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ki(a,s,l,h,g,y){var _=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var A=a.entanglements,H=a.expirationTimes,ee=a.hiddenUpdates;for(l=_&~l;0<l;){var ce=31-on(l),fe=1<<ce;A[ce]=0,H[ce]=-1;var re=ee[ce];if(re!==null)for(ee[ce]=null,ce=0;ce<re.length;ce++){var ae=re[ce];ae!==null&&(ae.lane&=-536870913)}l&=~fe}h!==0&&Yn(a,h,0),y!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=y&~(_&~s))}function Yn(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var h=31-on(s);a.entangledLanes|=s,a.entanglements[h]=a.entanglements[h]|1073741824|l&4194090}function Ea(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var h=31-on(l),g=1<<h;g&s|a[h]&s&&(a[h]|=s),l&=~g}}function Sa(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Yi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function G(){var a=ie.p;return a!==0?a:(a=window.event,a===void 0?32:aw(a.type))}function X(a,s){var l=ie.p;try{return ie.p=a,s()}finally{ie.p=l}}var J=Math.random().toString(36).slice(2),he="__reactFiber$"+J,xe="__reactProps$"+J,_e="__reactContainer$"+J,Ve="__reactEvents$"+J,Ne="__reactListeners$"+J,je="__reactHandles$"+J,De="__reactResources$"+J,Ue="__reactMarker$"+J;function Re(a){delete a[he],delete a[xe],delete a[Ve],delete a[Ne],delete a[je]}function Fe(a){var s=a[he];if(s)return s;for(var l=a.parentNode;l;){if(s=l[_e]||l[he]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=q2(a);a!==null;){if(l=a[he])return l;a=q2(a)}return s}a=l,l=a.parentNode}return null}function ot(a){if(a=a[he]||a[_e]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function kt(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function vt(a){var s=a[De];return s||(s=a[De]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ft(a){a[Ue]=!0}var at=new Set,Or={};function pn(a,s){Qn(a,s),Qn(a+"Capture",s)}function Qn(a,s){for(Or[a]=s,a=0;a<s.length;a++)at.add(s[a])}var Cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Na={},gr={};function Qi(a){return Oe.call(gr,a)?!0:Oe.call(Na,a)?!1:Cn.test(a)?gr[a]=!0:(Na[a]=!0,!1)}function zn(a,s,l){if(Qi(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function Xn(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function Ke(a,s,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+h)}}var ln,xr;function ar(a){if(ln===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ln=s&&s[1]||"",xr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ln+a+xr}var Aa=!1;function Mt(a,s){if(!a||Aa)return"";Aa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ae){var re=ae}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(ae){re=ae}a.call(fe.prototype)}}else{try{throw Error()}catch(ae){re=ae}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ae){if(ae&&re&&typeof ae.stack=="string")return[ae.stack,re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),_=y[0],A=y[1];if(_&&A){var H=_.split(`
`),ee=A.split(`
`);for(g=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(h===H.length||g===ee.length)for(h=H.length-1,g=ee.length-1;1<=h&&0<=g&&H[h]!==ee[g];)g--;for(;1<=h&&0<=g;h--,g--)if(H[h]!==ee[g]){if(h!==1||g!==1)do if(h--,g--,0>g||H[h]!==ee[g]){var ce=`
`+H[h].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=h&&0<=g);break}}}finally{Aa=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?ar(l):""}function Lr(a){switch(a.tag){case 26:case 27:case 5:return ar(a.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return Mt(a.type,!1);case 11:return Mt(a.type.render,!1);case 1:return Mt(a.type,!0);case 31:return ar("Activity");default:return""}}function ni(a){try{var s="";do s+=Lr(a),a=a.return;while(a);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function jn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function jc(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fp(a){var s=jc(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),h=""+a[s];if(!a.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return g.call(this)},set:function(_){h=""+_,y.call(this,_)}}),Object.defineProperty(a,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function nl(a){a._valueTracker||(a._valueTracker=fp(a))}function Rc(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return a&&(h=jc(a)?a.checked?"true":"false":a.value),a=h,a!==l?(s.setValue(a),!0):!1}function Js(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var mp=/[\n"\\]/g;function cn(a){return a.replace(mp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yr(a,s,l,h,g,y,_,A){a.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.type=_:a.removeAttribute("type"),s!=null?_==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+jn(s)):a.value!==""+jn(s)&&(a.value=""+jn(s)):_!=="submit"&&_!=="reset"||a.removeAttribute("value"),s!=null?Xi(a,_,jn(s)):l!=null?Xi(a,_,jn(l)):h!=null&&a.removeAttribute("value"),g==null&&y!=null&&(a.defaultChecked=!!y),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+jn(A):a.removeAttribute("name")}function eo(a,s,l,h,g,y,_,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+jn(l):"",s=s!=null?""+jn(s):l,A||s===a.value||(a.value=s),a.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=A?a.checked:!!h,a.defaultChecked=!!h,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.name=_)}function Xi(a,s,l){s==="number"&&Js(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function ri(a,s,l,h){if(a=a.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<a.length;l++)g=s.hasOwnProperty("$"+a[l].value),a[l].selected!==g&&(a[l].selected=g),g&&h&&(a[l].defaultSelected=!0)}else{for(l=""+jn(l),s=null,g=0;g<a.length;g++){if(a[g].value===l){a[g].selected=!0,h&&(a[g].defaultSelected=!0);return}s!==null||a[g].disabled||(s=a[g])}s!==null&&(s.selected=!0)}}function jt(a,s,l){if(s!=null&&(s=""+jn(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+jn(l):""}function to(a,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(ke(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=jn(s),a.defaultValue=l,h=a.textContent,h===l&&h!==""&&h!==null&&(a.value=h)}function Vr(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var no=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zd(a,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":h?a.setProperty(s,l):typeof l!="number"||l===0||no.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function Pc(a,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&l[g]!==h&&Zd(a,g,h)}else for(var y in s)s.hasOwnProperty(y)&&Zd(a,y,s[y])}function Ic(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(a){return gp.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ai=null;function Ur(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ii=null,si=null;function Dc(a){var s=ot(a);if(s&&(a=s.stateNode)){var l=a[xe]||null;e:switch(a=s.stateNode,s.type){case"input":if(yr(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+cn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==a&&h.form===a.form){var g=h[xe]||null;if(!g)throw Error(r(90));yr(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===a.form&&Rc(h)}break e;case"textarea":jt(a,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ri(a,!!l.multiple,s,!1)}}}var Ca=!1;function Jd(a,s,l){if(Ca)return a(s,l);Ca=!0;try{var h=a(s);return h}finally{if(Ca=!1,(ii!==null||si!==null)&&($h(),ii&&(s=ii,a=si,si=ii=null,Dc(s),a)))for(s=0;s<a.length;s++)Dc(a[s])}}function ro(a,s){var l=a.stateNode;if(l===null)return null;var h=l[xe]||null;if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(ca)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){zr=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{zr=!1}var ja=null,Wi=null,oi=null;function Mc(){if(oi)return oi;var a,s=Wi,l=s.length,h,g="value"in ja?ja.value:ja.textContent,y=g.length;for(a=0;a<l&&s[a]===g[a];a++);var _=l-a;for(h=1;h<=_&&s[l-h]===g[y-h];h++);return oi=g.slice(a,1<h?1-h:void 0)}function Ra(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Pa(){return!0}function Oc(){return!1}function Tn(a){function s(l,h,g,y,_){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(l=a[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Pa:Oc,this.isPropagationStopped=Oc,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),s}var _t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Tn(_t),io=x({},_t,{view:0,detail:0}),eh=Tn(io),il,sl,Ia,so=x({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ia&&(Ia&&a.type==="mousemove"?(il=a.screenX-Ia.screenX,sl=a.screenY-Ia.screenY):sl=il=0,Ia=a),il)},movementY:function(a){return"movementY"in a?a.movementY:sl}}),Fr=Tn(so),th=x({},so,{dataTransfer:0}),xp=Tn(th),oo=x({},io,{relatedTarget:0}),ol=Tn(oo),Lc=x({},_t,{animationName:0,elapsedTime:0,pseudoElement:0}),ll=Tn(Lc),nh=x({},_t,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),cl=Tn(nh),yp=x({},_t,{data:0}),Vc=Tn(yp),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uc(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=ah[a])?!!s[a]:!1}function co(){return Uc}var ih=x({},io,{key:function(a){if(a.key){var s=lo[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Ra(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?rh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(a){return a.type==="keypress"?Ra(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ra(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ul=Tn(ih),sh=x({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=Tn(sh),li=x({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),oh=Tn(li),lh=x({},_t,{propertyName:0,elapsedTime:0,pseudoElement:0}),ch=Tn(lh),uh=x({},so,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),dl=Tn(uh),Wn=x({},_t,{newState:0,oldState:0}),dh=Tn(Wn),hh=[9,13,27,32],Da=ca&&"CompositionEvent"in window,p=null;ca&&"documentMode"in document&&(p=document.documentMode);var w=ca&&"TextEvent"in window&&!p,k=ca&&(!Da||p&&8<p&&11>=p),R=" ",W=!1;function se(a,s){switch(a){case"keyup":return hh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var pt=!1;function gn(a,s){switch(a){case"compositionend":return be(s);case"keypress":return s.which!==32?null:(W=!0,R);case"textInput":return a=s.data,a===R&&W?null:a;default:return null}}function gt(a,s){if(pt)return a==="compositionend"||!Da&&se(a,s)?(a=Mc(),oi=Wi=ja=null,pt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return k&&s.locale!=="ko"?null:s.data;default:return null}}var kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!kn[a.type]:s==="textarea"}function ci(a,s,l,h){ii?si?si.push(h):si=[h]:ii=h,s=Zh(s,"onChange"),0<s.length&&(l=new al("onChange","change",null,l,h),a.push({event:l,listeners:s}))}var Rn=null,Ma=null;function Fc(a){I2(a,0)}function fh(a){var s=kt(a);if(Rc(s))return a}function eb(a,s){if(a==="change")return s}var tb=!1;if(ca){var vp;if(ca){var bp="oninput"in document;if(!bp){var nb=document.createElement("div");nb.setAttribute("oninput","return;"),bp=typeof nb.oninput=="function"}vp=bp}else vp=!1;tb=vp&&(!document.documentMode||9<document.documentMode)}function rb(){Rn&&(Rn.detachEvent("onpropertychange",ab),Ma=Rn=null)}function ab(a){if(a.propertyName==="value"&&fh(Ma)){var s=[];ci(s,Ma,a,Ur(a)),Jd(Fc,s)}}function cC(a,s,l){a==="focusin"?(rb(),Rn=s,Ma=l,Rn.attachEvent("onpropertychange",ab)):a==="focusout"&&rb()}function uC(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return fh(Ma)}function dC(a,s){if(a==="click")return fh(s)}function hC(a,s){if(a==="input"||a==="change")return fh(s)}function fC(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var vr=typeof Object.is=="function"?Object.is:fC;function Bc(a,s){if(vr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Oe.call(s,g)||!vr(a[g],s[g]))return!1}return!0}function ib(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function sb(a,s){var l=ib(a);a=0;for(var h;l;){if(l.nodeType===3){if(h=a+l.textContent.length,a<=s&&h>=s)return{node:l,offset:s-a};a=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ib(l)}}function ob(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?ob(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function lb(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Js(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)a=s.contentWindow;else break;s=Js(a.document)}return s}function wp(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var mC=ca&&"documentMode"in document&&11>=document.documentMode,hl=null,Tp=null,qc=null,kp=!1;function cb(a,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;kp||hl==null||hl!==Js(h)||(h=hl,"selectionStart"in h&&wp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),qc&&Bc(qc,h)||(qc=h,h=Zh(Tp,"onSelect"),0<h.length&&(s=new al("onSelect","select",null,s,l),a.push({event:s,listeners:h}),s.target=hl)))}function uo(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var fl={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionrun:uo("Transition","TransitionRun"),transitionstart:uo("Transition","TransitionStart"),transitioncancel:uo("Transition","TransitionCancel"),transitionend:uo("Transition","TransitionEnd")},_p={},ub={};ca&&(ub=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function ho(a){if(_p[a])return _p[a];if(!fl[a])return a;var s=fl[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in ub)return _p[a]=s[l];return a}var db=ho("animationend"),hb=ho("animationiteration"),fb=ho("animationstart"),pC=ho("transitionrun"),gC=ho("transitionstart"),xC=ho("transitioncancel"),mb=ho("transitionend"),pb=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ep.push("scrollEnd");function ua(a,s){pb.set(a,s),pn(s,[a])}var gb=new WeakMap;function Br(a,s){if(typeof a=="object"&&a!==null){var l=gb.get(a);return l!==void 0?l:(s={value:a,source:s,stack:ni(s)},gb.set(a,s),s)}return{value:a,source:s,stack:ni(s)}}var qr=[],ml=0,Sp=0;function mh(){for(var a=ml,s=Sp=ml=0;s<a;){var l=qr[s];qr[s++]=null;var h=qr[s];qr[s++]=null;var g=qr[s];qr[s++]=null;var y=qr[s];if(qr[s++]=null,h!==null&&g!==null){var _=h.pending;_===null?g.next=g:(g.next=_.next,_.next=g),h.pending=g}y!==0&&xb(l,g,y)}}function ph(a,s,l,h){qr[ml++]=a,qr[ml++]=s,qr[ml++]=l,qr[ml++]=h,Sp|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Np(a,s,l,h){return ph(a,s,l,h),gh(a)}function pl(a,s){return ph(a,null,null,s),gh(a)}function xb(a,s,l){a.lanes|=l;var h=a.alternate;h!==null&&(h.lanes|=l);for(var g=!1,y=a.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(g=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,g&&s!==null&&(g=31-on(l),a=y.hiddenUpdates,h=a[g],h===null?a[g]=[s]:h.push(s),s.lane=l|536870912),y):null}function gh(a){if(50<mu)throw mu=0,Ig=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var gl={};function yC(a,s,l,h){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(a,s,l,h){return new yC(a,s,l,h)}function Ap(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ui(a,s){var l=a.alternate;return l===null?(l=br(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function yb(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function xh(a,s,l,h,g,y){var _=0;if(h=a,typeof a=="function")Ap(a)&&(_=1);else if(typeof a=="string")_=b3(a,l,Te.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case S:return a=br(31,l,s,g),a.elementType=S,a.lanes=y,a;case E:return fo(l.children,g,y,s);case j:_=8,g|=24;break;case O:return a=br(12,l,s,g|2),a.elementType=O,a.lanes=y,a;case V:return a=br(13,l,s,g),a.elementType=V,a.lanes=y,a;case I:return a=br(19,l,s,g),a.elementType=I,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:case L:_=10;break e;case z:_=9;break e;case q:_=11;break e;case P:_=14;break e;case N:_=16,h=null;break e}_=29,l=Error(r(130,a===null?"null":typeof a,"")),h=null}return s=br(_,l,s,g),s.elementType=a,s.type=h,s.lanes=y,s}function fo(a,s,l,h){return a=br(7,a,h,s),a.lanes=l,a}function Cp(a,s,l){return a=br(6,a,null,s),a.lanes=l,a}function jp(a,s,l){return s=br(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var xl=[],yl=0,yh=null,vh=0,Hr=[],Gr=0,mo=null,di=1,hi="";function po(a,s){xl[yl++]=vh,xl[yl++]=yh,yh=a,vh=s}function vb(a,s,l){Hr[Gr++]=di,Hr[Gr++]=hi,Hr[Gr++]=mo,mo=a;var h=di;a=hi;var g=32-on(h)-1;h&=~(1<<g),l+=1;var y=32-on(s)+g;if(30<y){var _=g-g%5;y=(h&(1<<_)-1).toString(32),h>>=_,g-=_,di=1<<32-on(s)+g|l<<g|h,hi=y+a}else di=1<<y|l<<g|h,hi=a}function Rp(a){a.return!==null&&(po(a,1),vb(a,1,0))}function Pp(a){for(;a===yh;)yh=xl[--yl],xl[yl]=null,vh=xl[--yl],xl[yl]=null;for(;a===mo;)mo=Hr[--Gr],Hr[Gr]=null,hi=Hr[--Gr],Hr[Gr]=null,di=Hr[--Gr],Hr[Gr]=null}var Zn=null,Qt=null,Tt=!1,go=null,Oa=!1,Ip=Error(r(519));function xo(a){var s=Error(r(418,""));throw $c(Br(s,a)),Ip}function bb(a){var s=a.stateNode,l=a.type,h=a.memoizedProps;switch(s[he]=a,s[xe]=h,l){case"dialog":ct("cancel",s),ct("close",s);break;case"iframe":case"object":case"embed":ct("load",s);break;case"video":case"audio":for(l=0;l<gu.length;l++)ct(gu[l],s);break;case"source":ct("error",s);break;case"img":case"image":case"link":ct("error",s),ct("load",s);break;case"details":ct("toggle",s);break;case"input":ct("invalid",s),eo(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),nl(s);break;case"select":ct("invalid",s);break;case"textarea":ct("invalid",s),to(s,h.value,h.defaultValue,h.children),nl(s)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||L2(s.textContent,l)?(h.popover!=null&&(ct("beforetoggle",s),ct("toggle",s)),h.onScroll!=null&&ct("scroll",s),h.onScrollEnd!=null&&ct("scrollend",s),h.onClick!=null&&(s.onclick=Jh),s=!0):s=!1,s||xo(a)}function wb(a){for(Zn=a.return;Zn;)switch(Zn.tag){case 5:case 13:Oa=!1;return;case 27:case 3:Oa=!0;return;default:Zn=Zn.return}}function Hc(a){if(a!==Zn)return!1;if(!Tt)return wb(a),Tt=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Qg(a.type,a.memoizedProps)),l=!l),l&&Qt&&xo(a),wb(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(s===0){Qt=ha(a.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;a=a.nextSibling}Qt=null}}else s===27?(s=Qt,fs(a.type)?(a=Jg,Jg=null,Qt=a):Qt=s):Qt=Zn?ha(a.stateNode.nextSibling):null;return!0}function Gc(){Qt=Zn=null,Tt=!1}function Tb(){var a=go;return a!==null&&(or===null?or=a:or.push.apply(or,a),go=null),a}function $c(a){go===null?go=[a]:go.push(a)}var Dp=ne(null),yo=null,fi=null;function Zi(a,s,l){oe(Dp,s._currentValue),s._currentValue=l}function mi(a){a._currentValue=Dp.current,pe(Dp)}function Mp(a,s,l){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===l)break;a=a.return}}function Op(a,s,l,h){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var y=g.dependencies;if(y!==null){var _=g.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=g;for(var H=0;H<s.length;H++)if(A.context===s[H]){y.lanes|=l,A=y.alternate,A!==null&&(A.lanes|=l),Mp(y.return,l,a),h||(_=null);break e}y=A.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(r(341));_.lanes|=l,y=_.alternate,y!==null&&(y.lanes|=l),Mp(_,l,a),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===a){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function Kc(a,s,l,h){a=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=g.type;vr(g.pendingProps.value,_.value)||(a!==null?a.push(A):a=[A])}}else if(g===At.current){if(_=g.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(Tu):a=[Tu])}g=g.return}a!==null&&Op(s,a,l,h),s.flags|=262144}function bh(a){for(a=a.firstContext;a!==null;){if(!vr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function vo(a){yo=a,fi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Fn(a){return kb(yo,a)}function wh(a,s){return yo===null&&vo(a),kb(a,s)}function kb(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},fi===null){if(a===null)throw Error(r(308));fi=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else fi=fi.next=s;return l}var vC=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,h){a.push(h)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},bC=t.unstable_scheduleCallback,wC=t.unstable_NormalPriority,yn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lp(){return{controller:new vC,data:new Map,refCount:0}}function Yc(a){a.refCount--,a.refCount===0&&bC(wC,function(){a.controller.abort()})}var Qc=null,Vp=0,vl=0,bl=null;function TC(a,s){if(Qc===null){var l=Qc=[];Vp=0,vl=zg(),bl={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Vp++,s.then(_b,_b),s}function _b(){if(--Vp===0&&Qc!==null){bl!==null&&(bl.status="fulfilled");var a=Qc;Qc=null,vl=0,bl=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function kC(a,s){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return a.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var Eb=Y.S;Y.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&TC(a,s),Eb!==null&&Eb(a,s)};var bo=ne(null);function Up(){var a=bo.current;return a!==null?a:Lt.pooledCache}function Th(a,s){s===null?oe(bo,bo.current):oe(bo,s.pool)}function Sb(){var a=Up();return a===null?null:{parent:yn._currentValue,pool:a}}var Xc=Error(r(460)),Nb=Error(r(474)),kh=Error(r(542)),zp={then:function(){}};function Ab(a){return a=a.status,a==="fulfilled"||a==="rejected"}function _h(){}function Cb(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(_h,_h),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Rb(a),a;default:if(typeof s.status=="string")s.then(_h,_h);else{if(a=Lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Rb(a),a}throw Wc=s,Xc}}var Wc=null;function jb(){if(Wc===null)throw Error(r(459));var a=Wc;return Wc=null,a}function Rb(a){if(a===Xc||a===kh)throw Error(r(483))}var Ji=!1;function Fp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function es(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ts(a,s,l){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(St&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=gh(a),xb(a,null,l),s}return ph(a,h,s,l),gh(a)}function Zc(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=a.pendingLanes,l|=h,s.lanes=l,Ea(a,l)}}function qp(a,s){var l=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?g=y=s:y=y.next=s}else g=y=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var Hp=!1;function Jc(){if(Hp){var a=bl;if(a!==null)throw a}}function eu(a,s,l,h){Hp=!1;var g=a.updateQueue;Ji=!1;var y=g.firstBaseUpdate,_=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var H=A,ee=H.next;H.next=null,_===null?y=ee:_.next=ee,_=H;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,A=ce.lastBaseUpdate,A!==_&&(A===null?ce.firstBaseUpdate=ee:A.next=ee,ce.lastBaseUpdate=H))}if(y!==null){var fe=g.baseState;_=0,ce=ee=H=null,A=y;do{var re=A.lane&-536870913,ae=re!==A.lane;if(ae?(xt&re)===re:(h&re)===re){re!==0&&re===vl&&(Hp=!0),ce!==null&&(ce=ce.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ge=a,ze=A;re=s;var It=l;switch(ze.tag){case 1:if(Ge=ze.payload,typeof Ge=="function"){fe=Ge.call(It,fe,re);break e}fe=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=ze.payload,re=typeof Ge=="function"?Ge.call(It,fe,re):Ge,re==null)break e;fe=x({},fe,re);break e;case 2:Ji=!0}}re=A.callback,re!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=g.callbacks,ae===null?g.callbacks=[re]:ae.push(re))}else ae={lane:re,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ce===null?(ee=ce=ae,H=fe):ce=ce.next=ae,_|=re;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;ae=A,A=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);ce===null&&(H=fe),g.baseState=H,g.firstBaseUpdate=ee,g.lastBaseUpdate=ce,y===null&&(g.shared.lanes=0),cs|=_,a.lanes=_,a.memoizedState=fe}}function Pb(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Ib(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Pb(l[a],s)}var wl=ne(null),Eh=ne(0);function Db(a,s){a=wi,oe(Eh,a),oe(wl,s),wi=a|s.baseLanes}function Gp(){oe(Eh,wi),oe(wl,wl.current)}function $p(){wi=Eh.current,pe(wl),pe(Eh)}var ns=0,nt=null,Rt=null,un=null,Sh=!1,Tl=!1,wo=!1,Nh=0,tu=0,kl=null,_C=0;function tn(){throw Error(r(321))}function Kp(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!vr(a[l],s[l]))return!1;return!0}function Yp(a,s,l,h,g,y){return ns=y,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=a===null||a.memoizedState===null?x1:y1,wo=!1,y=l(h,g),wo=!1,Tl&&(y=Ob(s,l,h,g)),Mb(a),y}function Mb(a){Y.H=Ih;var s=Rt!==null&&Rt.next!==null;if(ns=0,un=Rt=nt=null,Sh=!1,tu=0,kl=null,s)throw Error(r(300));a===null||_n||(a=a.dependencies,a!==null&&bh(a)&&(_n=!0))}function Ob(a,s,l,h){nt=a;var g=0;do{if(Tl&&(kl=null),tu=0,Tl=!1,25<=g)throw Error(r(301));if(g+=1,un=Rt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=RC,y=s(l,h)}while(Tl);return y}function EC(){var a=Y.H,s=a.useState()[0];return s=typeof s.then=="function"?nu(s):s,a=a.useState()[0],(Rt!==null?Rt.memoizedState:null)!==a&&(nt.flags|=1024),s}function Qp(){var a=Nh!==0;return Nh=0,a}function Xp(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function Wp(a){if(Sh){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Sh=!1}ns=0,un=Rt=nt=null,Tl=!1,tu=Nh=0,kl=null}function ir(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?nt.memoizedState=un=a:un=un.next=a,un}function dn(){if(Rt===null){var a=nt.alternate;a=a!==null?a.memoizedState:null}else a=Rt.next;var s=un===null?nt.memoizedState:un.next;if(s!==null)un=s,Rt=a;else{if(a===null)throw nt.alternate===null?Error(r(467)):Error(r(310));Rt=a,a={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},un===null?nt.memoizedState=un=a:un=un.next=a}return un}function Zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nu(a){var s=tu;return tu+=1,kl===null&&(kl=[]),a=Cb(kl,a,s),s=nt,(un===null?s.memoizedState:un.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?x1:y1),a}function Ah(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nu(a);if(a.$$typeof===L)return Fn(a)}throw Error(r(438,String(a)))}function Jp(a){var s=null,l=nt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=nt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Zp(),nt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),h=0;h<a;h++)l[h]=D;return s.index++,l}function pi(a,s){return typeof s=="function"?s(a):s}function Ch(a){var s=dn();return eg(s,Rt,a)}function eg(a,s,l){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=a.baseQueue,y=h.pending;if(y!==null){if(g!==null){var _=g.next;g.next=y.next,y.next=_}s.baseQueue=g=y,h.pending=null}if(y=a.baseState,g===null)a.memoizedState=y;else{s=g.next;var A=_=null,H=null,ee=s,ce=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(xt&fe)===fe:(ns&fe)===fe){var re=ee.revertLane;if(re===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===vl&&(ce=!0);else if((ns&re)===re){ee=ee.next,re===vl&&(ce=!0);continue}else fe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(A=H=fe,_=y):H=H.next=fe,nt.lanes|=re,cs|=re;fe=ee.action,wo&&l(y,fe),y=ee.hasEagerState?ee.eagerState:l(y,fe)}else re={lane:fe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(A=H=re,_=y):H=H.next=re,nt.lanes|=fe,cs|=fe;ee=ee.next}while(ee!==null&&ee!==s);if(H===null?_=y:H.next=A,!vr(y,a.memoizedState)&&(_n=!0,ce&&(l=bl,l!==null)))throw l;a.memoizedState=y,a.baseState=_,a.baseQueue=H,h.lastRenderedState=y}return g===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function tg(a){var s=dn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=l.dispatch,g=l.pending,y=s.memoizedState;if(g!==null){l.pending=null;var _=g=g.next;do y=a(y,_.action),_=_.next;while(_!==g);vr(y,s.memoizedState)||(_n=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Lb(a,s,l){var h=nt,g=dn(),y=Tt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var _=!vr((Rt||g).memoizedState,l);_&&(g.memoizedState=l,_n=!0),g=g.queue;var A=zb.bind(null,h,g,a);if(ru(2048,8,A,[a]),g.getSnapshot!==s||_||un!==null&&un.memoizedState.tag&1){if(h.flags|=2048,_l(9,jh(),Ub.bind(null,h,g,l,s),null),Lt===null)throw Error(r(349));y||(ns&124)!==0||Vb(h,s,l)}return l}function Vb(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=nt.updateQueue,s===null?(s=Zp(),nt.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function Ub(a,s,l,h){s.value=l,s.getSnapshot=h,Fb(s)&&Bb(a)}function zb(a,s,l){return l(function(){Fb(s)&&Bb(a)})}function Fb(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!vr(a,l)}catch{return!0}}function Bb(a){var s=pl(a,2);s!==null&&Er(s,a,2)}function ng(a){var s=ir();if(typeof a=="function"){var l=a;if(a=l(),wo){Un(!0);try{l()}finally{Un(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:a},s}function qb(a,s,l,h){return a.baseState=l,eg(a,Rt,typeof h=="function"?h:pi)}function SC(a,s,l,h,g){if(Ph(a))throw Error(r(485));if(a=s.action,a!==null){var y={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};Y.T!==null?l(!0):y.isTransition=!1,h(y),l=s.pending,l===null?(y.next=s.pending=y,Hb(s,y)):(y.next=l.next,s.pending=l.next=y)}}function Hb(a,s){var l=s.action,h=s.payload,g=a.state;if(s.isTransition){var y=Y.T,_={};Y.T=_;try{var A=l(g,h),H=Y.S;H!==null&&H(_,A),Gb(a,s,A)}catch(ee){rg(a,s,ee)}finally{Y.T=y}}else try{y=l(g,h),Gb(a,s,y)}catch(ee){rg(a,s,ee)}}function Gb(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){$b(a,s,h)},function(h){return rg(a,s,h)}):$b(a,s,l)}function $b(a,s,l){s.status="fulfilled",s.value=l,Kb(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,Hb(a,l)))}function rg(a,s,l){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,Kb(s),s=s.next;while(s!==h)}a.action=null}function Kb(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Yb(a,s){return s}function Qb(a,s){if(Tt){var l=Lt.formState;if(l!==null){e:{var h=nt;if(Tt){if(Qt){t:{for(var g=Qt,y=Oa;g.nodeType!==8;){if(!y){g=null;break t}if(g=ha(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Qt=ha(g.nextSibling),h=g.data==="F!";break e}}xo(h)}h=!1}h&&(s=l[0])}}return l=ir(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yb,lastRenderedState:s},l.queue=h,l=m1.bind(null,nt,h),h.dispatch=l,h=ng(!1),y=lg.bind(null,nt,!1,h.queue),h=ir(),g={state:s,dispatch:null,action:a,pending:null},h.queue=g,l=SC.bind(null,nt,g,y,l),g.dispatch=l,h.memoizedState=a,[s,l,!1]}function Xb(a){var s=dn();return Wb(s,Rt,a)}function Wb(a,s,l){if(s=eg(a,s,Yb)[0],a=Ch(pi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=nu(s)}catch(_){throw _===Xc?kh:_}else h=s;s=dn();var g=s.queue,y=g.dispatch;return l!==s.memoizedState&&(nt.flags|=2048,_l(9,jh(),NC.bind(null,g,l),null)),[h,y,a]}function NC(a,s){a.action=s}function Zb(a){var s=dn(),l=Rt;if(l!==null)return Wb(s,l,a);dn(),s=s.memoizedState,l=dn();var h=l.queue.dispatch;return l.memoizedState=a,[s,h,!1]}function _l(a,s,l,h){return a={tag:a,create:l,deps:h,inst:s,next:null},s=nt.updateQueue,s===null&&(s=Zp(),nt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(h=l.next,l.next=a,a.next=h,s.lastEffect=a),a}function jh(){return{destroy:void 0,resource:void 0}}function Jb(){return dn().memoizedState}function Rh(a,s,l,h){var g=ir();h=h===void 0?null:h,nt.flags|=a,g.memoizedState=_l(1|s,jh(),l,h)}function ru(a,s,l,h){var g=dn();h=h===void 0?null:h;var y=g.memoizedState.inst;Rt!==null&&h!==null&&Kp(h,Rt.memoizedState.deps)?g.memoizedState=_l(s,y,l,h):(nt.flags|=a,g.memoizedState=_l(1|s,y,l,h))}function e1(a,s){Rh(8390656,8,a,s)}function t1(a,s){ru(2048,8,a,s)}function n1(a,s){return ru(4,2,a,s)}function r1(a,s){return ru(4,4,a,s)}function a1(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function i1(a,s,l){l=l!=null?l.concat([a]):null,ru(4,4,a1.bind(null,s,a),l)}function ag(){}function s1(a,s){var l=dn();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&Kp(s,h[1])?h[0]:(l.memoizedState=[a,s],a)}function o1(a,s){var l=dn();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&Kp(s,h[1]))return h[0];if(h=a(),wo){Un(!0);try{a()}finally{Un(!1)}}return l.memoizedState=[h,s],h}function ig(a,s,l){return l===void 0||(ns&1073741824)!==0?a.memoizedState=s:(a.memoizedState=l,a=u2(),nt.lanes|=a,cs|=a,l)}function l1(a,s,l,h){return vr(l,s)?l:wl.current!==null?(a=ig(a,l,h),vr(a,s)||(_n=!0),a):(ns&42)===0?(_n=!0,a.memoizedState=l):(a=u2(),nt.lanes|=a,cs|=a,s)}function c1(a,s,l,h,g){var y=ie.p;ie.p=y!==0&&8>y?y:8;var _=Y.T,A={};Y.T=A,lg(a,!1,s,l);try{var H=g(),ee=Y.S;if(ee!==null&&ee(A,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ce=kC(H,h);au(a,s,ce,_r(a))}else au(a,s,h,_r(a))}catch(fe){au(a,s,{then:function(){},status:"rejected",reason:fe},_r())}finally{ie.p=y,Y.T=_}}function AC(){}function sg(a,s,l,h){if(a.tag!==5)throw Error(r(476));var g=u1(a).queue;c1(a,g,s,te,l===null?AC:function(){return d1(a),l(h)})}function u1(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:te},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function d1(a){var s=u1(a).next.queue;au(a,s,{},_r())}function og(){return Fn(Tu)}function h1(){return dn().memoizedState}function f1(){return dn().memoizedState}function CC(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=_r();a=es(l);var h=ts(s,a,l);h!==null&&(Er(h,s,l),Zc(h,s,l)),s={cache:Lp()},a.payload=s;return}s=s.return}}function jC(a,s,l){var h=_r();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ph(a)?p1(s,l):(l=Np(a,s,l,h),l!==null&&(Er(l,a,h),g1(l,s,h)))}function m1(a,s,l){var h=_r();au(a,s,l,h)}function au(a,s,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ph(a))p1(s,g);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var _=s.lastRenderedState,A=y(_,l);if(g.hasEagerState=!0,g.eagerState=A,vr(A,_))return ph(a,s,g,0),Lt===null&&mh(),!1}catch{}finally{}if(l=Np(a,s,g,h),l!==null)return Er(l,a,h),g1(l,s,h),!0}return!1}function lg(a,s,l,h){if(h={lane:2,revertLane:zg(),action:h,hasEagerState:!1,eagerState:null,next:null},Ph(a)){if(s)throw Error(r(479))}else s=Np(a,l,h,2),s!==null&&Er(s,a,2)}function Ph(a){var s=a.alternate;return a===nt||s!==null&&s===nt}function p1(a,s){Tl=Sh=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function g1(a,s,l){if((l&4194048)!==0){var h=s.lanes;h&=a.pendingLanes,l|=h,s.lanes=l,Ea(a,l)}}var Ih={readContext:Fn,use:Ah,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},x1={readContext:Fn,use:Ah,useCallback:function(a,s){return ir().memoizedState=[a,s===void 0?null:s],a},useContext:Fn,useEffect:e1,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,Rh(4194308,4,a1.bind(null,s,a),l)},useLayoutEffect:function(a,s){return Rh(4194308,4,a,s)},useInsertionEffect:function(a,s){Rh(4,2,a,s)},useMemo:function(a,s){var l=ir();s=s===void 0?null:s;var h=a();if(wo){Un(!0);try{a()}finally{Un(!1)}}return l.memoizedState=[h,s],h},useReducer:function(a,s,l){var h=ir();if(l!==void 0){var g=l(s);if(wo){Un(!0);try{l(s)}finally{Un(!1)}}}else g=s;return h.memoizedState=h.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},h.queue=a,a=a.dispatch=jC.bind(null,nt,a),[h.memoizedState,a]},useRef:function(a){var s=ir();return a={current:a},s.memoizedState=a},useState:function(a){a=ng(a);var s=a.queue,l=m1.bind(null,nt,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:ag,useDeferredValue:function(a,s){var l=ir();return ig(l,a,s)},useTransition:function(){var a=ng(!1);return a=c1.bind(null,nt,a.queue,!0,!1),ir().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var h=nt,g=ir();if(Tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Lt===null)throw Error(r(349));(xt&124)!==0||Vb(h,s,l)}g.memoizedState=l;var y={value:l,getSnapshot:s};return g.queue=y,e1(zb.bind(null,h,y,a),[a]),h.flags|=2048,_l(9,jh(),Ub.bind(null,h,y,l,s),null),l},useId:function(){var a=ir(),s=Lt.identifierPrefix;if(Tt){var l=hi,h=di;l=(h&~(1<<32-on(h)-1)).toString(32)+l,s="«"+s+"R"+l,l=Nh++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=_C++,s="«"+s+"r"+l.toString(32)+"»";return a.memoizedState=s},useHostTransitionStatus:og,useFormState:Qb,useActionState:Qb,useOptimistic:function(a){var s=ir();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=lg.bind(null,nt,!0,l),l.dispatch=s,[a,s]},useMemoCache:Jp,useCacheRefresh:function(){return ir().memoizedState=CC.bind(null,nt)}},y1={readContext:Fn,use:Ah,useCallback:s1,useContext:Fn,useEffect:t1,useImperativeHandle:i1,useInsertionEffect:n1,useLayoutEffect:r1,useMemo:o1,useReducer:Ch,useRef:Jb,useState:function(){return Ch(pi)},useDebugValue:ag,useDeferredValue:function(a,s){var l=dn();return l1(l,Rt.memoizedState,a,s)},useTransition:function(){var a=Ch(pi)[0],s=dn().memoizedState;return[typeof a=="boolean"?a:nu(a),s]},useSyncExternalStore:Lb,useId:h1,useHostTransitionStatus:og,useFormState:Xb,useActionState:Xb,useOptimistic:function(a,s){var l=dn();return qb(l,Rt,a,s)},useMemoCache:Jp,useCacheRefresh:f1},RC={readContext:Fn,use:Ah,useCallback:s1,useContext:Fn,useEffect:t1,useImperativeHandle:i1,useInsertionEffect:n1,useLayoutEffect:r1,useMemo:o1,useReducer:tg,useRef:Jb,useState:function(){return tg(pi)},useDebugValue:ag,useDeferredValue:function(a,s){var l=dn();return Rt===null?ig(l,a,s):l1(l,Rt.memoizedState,a,s)},useTransition:function(){var a=tg(pi)[0],s=dn().memoizedState;return[typeof a=="boolean"?a:nu(a),s]},useSyncExternalStore:Lb,useId:h1,useHostTransitionStatus:og,useFormState:Zb,useActionState:Zb,useOptimistic:function(a,s){var l=dn();return Rt!==null?qb(l,Rt,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:Jp,useCacheRefresh:f1},El=null,iu=0;function Dh(a){var s=iu;return iu+=1,El===null&&(El=[]),Cb(El,a,s)}function su(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Mh(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function v1(a){var s=a._init;return s(a._payload)}function b1(a){function s(Q,K){if(a){var Z=Q.deletions;Z===null?(Q.deletions=[K],Q.flags|=16):Z.push(K)}}function l(Q,K){if(!a)return null;for(;K!==null;)s(Q,K),K=K.sibling;return null}function h(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function g(Q,K){return Q=ui(Q,K),Q.index=0,Q.sibling=null,Q}function y(Q,K,Z){return Q.index=Z,a?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<K?(Q.flags|=67108866,K):Z):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function _(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function A(Q,K,Z,de){return K===null||K.tag!==6?(K=Cp(Z,Q.mode,de),K.return=Q,K):(K=g(K,Z),K.return=Q,K)}function H(Q,K,Z,de){var Ce=Z.type;return Ce===E?ce(Q,K,Z.props.children,de,Z.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===N&&v1(Ce)===K.type)?(K=g(K,Z.props),su(K,Z),K.return=Q,K):(K=xh(Z.type,Z.key,Z.props,null,Q.mode,de),su(K,Z),K.return=Q,K)}function ee(Q,K,Z,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=jp(Z,Q.mode,de),K.return=Q,K):(K=g(K,Z.children||[]),K.return=Q,K)}function ce(Q,K,Z,de,Ce){return K===null||K.tag!==7?(K=fo(Z,Q.mode,de,Ce),K.return=Q,K):(K=g(K,Z),K.return=Q,K)}function fe(Q,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Cp(""+K,Q.mode,Z),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return Z=xh(K.type,K.key,K.props,null,Q.mode,Z),su(Z,K),Z.return=Q,Z;case T:return K=jp(K,Q.mode,Z),K.return=Q,K;case N:var de=K._init;return K=de(K._payload),fe(Q,K,Z)}if(ke(K)||$(K))return K=fo(K,Q.mode,Z,null),K.return=Q,K;if(typeof K.then=="function")return fe(Q,Dh(K),Z);if(K.$$typeof===L)return fe(Q,wh(Q,K),Z);Mh(Q,K)}return null}function re(Q,K,Z,de){var Ce=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ce!==null?null:A(Q,K,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Ce?H(Q,K,Z,de):null;case T:return Z.key===Ce?ee(Q,K,Z,de):null;case N:return Ce=Z._init,Z=Ce(Z._payload),re(Q,K,Z,de)}if(ke(Z)||$(Z))return Ce!==null?null:ce(Q,K,Z,de,null);if(typeof Z.then=="function")return re(Q,K,Dh(Z),de);if(Z.$$typeof===L)return re(Q,K,wh(Q,Z),de);Mh(Q,Z)}return null}function ae(Q,K,Z,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Q=Q.get(Z)||null,A(K,Q,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return Q=Q.get(de.key===null?Z:de.key)||null,H(K,Q,de,Ce);case T:return Q=Q.get(de.key===null?Z:de.key)||null,ee(K,Q,de,Ce);case N:var it=de._init;return de=it(de._payload),ae(Q,K,Z,de,Ce)}if(ke(de)||$(de))return Q=Q.get(Z)||null,ce(K,Q,de,Ce,null);if(typeof de.then=="function")return ae(Q,K,Z,Dh(de),Ce);if(de.$$typeof===L)return ae(Q,K,Z,wh(K,de),Ce);Mh(K,de)}return null}function Ge(Q,K,Z,de){for(var Ce=null,it=null,Me=K,Be=K=0,Sn=null;Me!==null&&Be<Z.length;Be++){Me.index>Be?(Sn=Me,Me=null):Sn=Me.sibling;var bt=re(Q,Me,Z[Be],de);if(bt===null){Me===null&&(Me=Sn);break}a&&Me&&bt.alternate===null&&s(Q,Me),K=y(bt,K,Be),it===null?Ce=bt:it.sibling=bt,it=bt,Me=Sn}if(Be===Z.length)return l(Q,Me),Tt&&po(Q,Be),Ce;if(Me===null){for(;Be<Z.length;Be++)Me=fe(Q,Z[Be],de),Me!==null&&(K=y(Me,K,Be),it===null?Ce=Me:it.sibling=Me,it=Me);return Tt&&po(Q,Be),Ce}for(Me=h(Me);Be<Z.length;Be++)Sn=ae(Me,Q,Be,Z[Be],de),Sn!==null&&(a&&Sn.alternate!==null&&Me.delete(Sn.key===null?Be:Sn.key),K=y(Sn,K,Be),it===null?Ce=Sn:it.sibling=Sn,it=Sn);return a&&Me.forEach(function(ys){return s(Q,ys)}),Tt&&po(Q,Be),Ce}function ze(Q,K,Z,de){if(Z==null)throw Error(r(151));for(var Ce=null,it=null,Me=K,Be=K=0,Sn=null,bt=Z.next();Me!==null&&!bt.done;Be++,bt=Z.next()){Me.index>Be?(Sn=Me,Me=null):Sn=Me.sibling;var ys=re(Q,Me,bt.value,de);if(ys===null){Me===null&&(Me=Sn);break}a&&Me&&ys.alternate===null&&s(Q,Me),K=y(ys,K,Be),it===null?Ce=ys:it.sibling=ys,it=ys,Me=Sn}if(bt.done)return l(Q,Me),Tt&&po(Q,Be),Ce;if(Me===null){for(;!bt.done;Be++,bt=Z.next())bt=fe(Q,bt.value,de),bt!==null&&(K=y(bt,K,Be),it===null?Ce=bt:it.sibling=bt,it=bt);return Tt&&po(Q,Be),Ce}for(Me=h(Me);!bt.done;Be++,bt=Z.next())bt=ae(Me,Q,Be,bt.value,de),bt!==null&&(a&&bt.alternate!==null&&Me.delete(bt.key===null?Be:bt.key),K=y(bt,K,Be),it===null?Ce=bt:it.sibling=bt,it=bt);return a&&Me.forEach(function(P3){return s(Q,P3)}),Tt&&po(Q,Be),Ce}function It(Q,K,Z,de){if(typeof Z=="object"&&Z!==null&&Z.type===E&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Ce=Z.key;K!==null;){if(K.key===Ce){if(Ce=Z.type,Ce===E){if(K.tag===7){l(Q,K.sibling),de=g(K,Z.props.children),de.return=Q,Q=de;break e}}else if(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===N&&v1(Ce)===K.type){l(Q,K.sibling),de=g(K,Z.props),su(de,Z),de.return=Q,Q=de;break e}l(Q,K);break}else s(Q,K);K=K.sibling}Z.type===E?(de=fo(Z.props.children,Q.mode,de,Z.key),de.return=Q,Q=de):(de=xh(Z.type,Z.key,Z.props,null,Q.mode,de),su(de,Z),de.return=Q,Q=de)}return _(Q);case T:e:{for(Ce=Z.key;K!==null;){if(K.key===Ce)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){l(Q,K.sibling),de=g(K,Z.children||[]),de.return=Q,Q=de;break e}else{l(Q,K);break}else s(Q,K);K=K.sibling}de=jp(Z,Q.mode,de),de.return=Q,Q=de}return _(Q);case N:return Ce=Z._init,Z=Ce(Z._payload),It(Q,K,Z,de)}if(ke(Z))return Ge(Q,K,Z,de);if($(Z)){if(Ce=$(Z),typeof Ce!="function")throw Error(r(150));return Z=Ce.call(Z),ze(Q,K,Z,de)}if(typeof Z.then=="function")return It(Q,K,Dh(Z),de);if(Z.$$typeof===L)return It(Q,K,wh(Q,Z),de);Mh(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(l(Q,K.sibling),de=g(K,Z),de.return=Q,Q=de):(l(Q,K),de=Cp(Z,Q.mode,de),de.return=Q,Q=de),_(Q)):l(Q,K)}return function(Q,K,Z,de){try{iu=0;var Ce=It(Q,K,Z,de);return El=null,Ce}catch(Me){if(Me===Xc||Me===kh)throw Me;var it=br(29,Me,null,Q.mode);return it.lanes=de,it.return=Q,it}finally{}}}var Sl=b1(!0),w1=b1(!1),$r=ne(null),La=null;function rs(a){var s=a.alternate;oe(vn,vn.current&1),oe($r,a),La===null&&(s===null||wl.current!==null||s.memoizedState!==null)&&(La=a)}function T1(a){if(a.tag===22){if(oe(vn,vn.current),oe($r,a),La===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(La=a)}}else as()}function as(){oe(vn,vn.current),oe($r,$r.current)}function gi(a){pe($r),La===a&&(La=null),pe(vn)}var vn=ne(0);function Oh(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Zg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function cg(a,s,l,h){s=a.memoizedState,l=l(h,s),l=l==null?s:x({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var ug={enqueueSetState:function(a,s,l){a=a._reactInternals;var h=_r(),g=es(h);g.payload=s,l!=null&&(g.callback=l),s=ts(a,g,h),s!==null&&(Er(s,a,h),Zc(s,a,h))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var h=_r(),g=es(h);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ts(a,g,h),s!==null&&(Er(s,a,h),Zc(s,a,h))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=_r(),h=es(l);h.tag=2,s!=null&&(h.callback=s),s=ts(a,h,l),s!==null&&(Er(s,a,l),Zc(s,a,l))}};function k1(a,s,l,h,g,y,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,y,_):s.prototype&&s.prototype.isPureReactComponent?!Bc(l,h)||!Bc(g,y):!0}function _1(a,s,l,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==a&&ug.enqueueReplaceState(s,s.state,null)}function To(a,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(a=a.defaultProps){l===s&&(l=x({},l));for(var g in a)l[g]===void 0&&(l[g]=a[g])}return l}var Lh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function E1(a){Lh(a)}function S1(a){console.error(a)}function N1(a){Lh(a)}function Vh(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function A1(a,s,l){try{var h=a.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function dg(a,s,l){return l=es(l),l.tag=3,l.payload={element:null},l.callback=function(){Vh(a,s)},l}function C1(a){return a=es(a),a.tag=3,a}function j1(a,s,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;a.payload=function(){return g(y)},a.callback=function(){A1(s,l,h)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){A1(s,l,h),typeof g!="function"&&(us===null?us=new Set([this]):us.add(this));var A=h.stack;this.componentDidCatch(h.value,{componentStack:A!==null?A:""})})}function PC(a,s,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Kc(s,l,g,!0),l=$r.current,l!==null){switch(l.tag){case 13:return La===null?Mg():l.alternate===null&&Xt===0&&(Xt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===zp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),Lg(a,h,g)),!1;case 22:return l.flags|=65536,h===zp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),Lg(a,h,g)),!1}throw Error(r(435,l.tag))}return Lg(a,h,g),Mg(),!1}if(Tt)return s=$r.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==Ip&&(a=Error(r(422),{cause:h}),$c(Br(a,l)))):(h!==Ip&&(s=Error(r(423),{cause:h}),$c(Br(s,l))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,h=Br(h,l),g=dg(a.stateNode,h,g),qp(a,g),Xt!==4&&(Xt=2)),!1;var y=Error(r(520),{cause:h});if(y=Br(y,l),fu===null?fu=[y]:fu.push(y),Xt!==4&&(Xt=2),s===null)return!0;h=Br(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=g&-g,l.lanes|=a,a=dg(l.stateNode,h,a),qp(l,a),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(us===null||!us.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=C1(g),j1(g,a,l,h),qp(l,g),!1}l=l.return}while(l!==null);return!1}var R1=Error(r(461)),_n=!1;function Pn(a,s,l,h){s.child=a===null?w1(s,null,l,h):Sl(s,a.child,l,h)}function P1(a,s,l,h,g){l=l.render;var y=s.ref;if("ref"in h){var _={};for(var A in h)A!=="ref"&&(_[A]=h[A])}else _=h;return vo(s),h=Yp(a,s,l,_,y,g),A=Qp(),a!==null&&!_n?(Xp(a,s,g),xi(a,s,g)):(Tt&&A&&Rp(s),s.flags|=1,Pn(a,s,h,g),s.child)}function I1(a,s,l,h,g){if(a===null){var y=l.type;return typeof y=="function"&&!Ap(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,D1(a,s,y,h,g)):(a=xh(l.type,null,h,s,s.mode,g),a.ref=s.ref,a.return=s,s.child=a)}if(y=a.child,!vg(a,g)){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:Bc,l(_,h)&&a.ref===s.ref)return xi(a,s,g)}return s.flags|=1,a=ui(y,h),a.ref=s.ref,a.return=s,s.child=a}function D1(a,s,l,h,g){if(a!==null){var y=a.memoizedProps;if(Bc(y,h)&&a.ref===s.ref)if(_n=!1,s.pendingProps=h=y,vg(a,g))(a.flags&131072)!==0&&(_n=!0);else return s.lanes=a.lanes,xi(a,s,g)}return hg(a,s,l,h,g)}function M1(a,s,l){var h=s.pendingProps,g=h.children,y=a!==null?a.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=y!==null?y.baseLanes|l:l,a!==null){for(g=s.child=a.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;s.childLanes=y&~h}else s.childLanes=0,s.child=null;return O1(a,s,h,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Th(s,y!==null?y.cachePool:null),y!==null?Db(s,y):Gp(),T1(s);else return s.lanes=s.childLanes=536870912,O1(a,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(Th(s,y.cachePool),Db(s,y),as(),s.memoizedState=null):(a!==null&&Th(s,null),Gp(),as());return Pn(a,s,g,l),s.child}function O1(a,s,l,h){var g=Up();return g=g===null?null:{parent:yn._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},a!==null&&Th(s,null),Gp(),T1(s),a!==null&&Kc(a,s,h,!0),null}function Uh(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function hg(a,s,l,h,g){return vo(s),l=Yp(a,s,l,h,void 0,g),h=Qp(),a!==null&&!_n?(Xp(a,s,g),xi(a,s,g)):(Tt&&h&&Rp(s),s.flags|=1,Pn(a,s,l,g),s.child)}function L1(a,s,l,h,g,y){return vo(s),s.updateQueue=null,l=Ob(s,h,l,g),Mb(a),h=Qp(),a!==null&&!_n?(Xp(a,s,y),xi(a,s,y)):(Tt&&h&&Rp(s),s.flags|=1,Pn(a,s,l,y),s.child)}function V1(a,s,l,h,g){if(vo(s),s.stateNode===null){var y=gl,_=l.contextType;typeof _=="object"&&_!==null&&(y=Fn(_)),y=new l(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ug,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},Fp(s),_=l.contextType,y.context=typeof _=="object"&&_!==null?Fn(_):gl,y.state=s.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(cg(s,l,_,h),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&ug.enqueueReplaceState(y,y.state,null),eu(s,h,y,g),Jc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(a===null){y=s.stateNode;var A=s.memoizedProps,H=To(l,A);y.props=H;var ee=y.context,ce=l.contextType;_=gl,typeof ce=="object"&&ce!==null&&(_=Fn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||ee!==_)&&_1(s,y,h,_),Ji=!1;var re=s.memoizedState;y.state=re,eu(s,h,y,g),Jc(),ee=s.memoizedState,A||re!==ee||Ji?(typeof fe=="function"&&(cg(s,l,fe,h),ee=s.memoizedState),(H=Ji||k1(s,l,H,h,re,ee,_))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=ee),y.props=h,y.state=ee,y.context=_,h=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,Bp(a,s),_=s.memoizedProps,ce=To(l,_),y.props=ce,fe=s.pendingProps,re=y.context,ee=l.contextType,H=gl,typeof ee=="object"&&ee!==null&&(H=Fn(ee)),A=l.getDerivedStateFromProps,(ee=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==fe||re!==H)&&_1(s,y,h,H),Ji=!1,re=s.memoizedState,y.state=re,eu(s,h,y,g),Jc();var ae=s.memoizedState;_!==fe||re!==ae||Ji||a!==null&&a.dependencies!==null&&bh(a.dependencies)?(typeof A=="function"&&(cg(s,l,A,h),ae=s.memoizedState),(ce=Ji||k1(s,l,ce,h,re,ae,H)||a!==null&&a.dependencies!==null&&bh(a.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,ae,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,ae,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ae),y.props=h,y.state=ae,y.context=H,h=ce):(typeof y.componentDidUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),h=!1)}return y=h,Uh(a,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,a!==null&&h?(s.child=Sl(s,a.child,null,g),s.child=Sl(s,null,l,g)):Pn(a,s,l,g),s.memoizedState=y.state,a=s.child):a=xi(a,s,g),a}function U1(a,s,l,h){return Gc(),s.flags|=256,Pn(a,s,l,h),s.child}var fg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mg(a){return{baseLanes:a,cachePool:Sb()}}function pg(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=Kr),a}function z1(a,s,l){var h=s.pendingProps,g=!1,y=(s.flags&128)!==0,_;if((_=y)||(_=a!==null&&a.memoizedState===null?!1:(vn.current&2)!==0),_&&(g=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,a===null){if(Tt){if(g?rs(s):as(),Tt){var A=Qt,H;if(H=A){e:{for(H=A,A=Oa;H.nodeType!==8;){if(!A){A=null;break e}if(H=ha(H.nextSibling),H===null){A=null;break e}}A=H}A!==null?(s.memoizedState={dehydrated:A,treeContext:mo!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},H=br(18,null,null,0),H.stateNode=A,H.return=s,s.child=H,Zn=s,Qt=null,H=!0):H=!1}H||xo(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Zg(A)?s.lanes=32:s.lanes=536870912,null;gi(s)}return A=h.children,h=h.fallback,g?(as(),g=s.mode,A=zh({mode:"hidden",children:A},g),h=fo(h,g,l,null),A.return=s,h.return=s,A.sibling=h,s.child=A,g=s.child,g.memoizedState=mg(l),g.childLanes=pg(a,_,l),s.memoizedState=fg,h):(rs(s),gg(s,A))}if(H=a.memoizedState,H!==null&&(A=H.dehydrated,A!==null)){if(y)s.flags&256?(rs(s),s.flags&=-257,s=xg(a,s,l)):s.memoizedState!==null?(as(),s.child=a.child,s.flags|=128,s=null):(as(),g=h.fallback,A=s.mode,h=zh({mode:"visible",children:h.children},A),g=fo(g,A,l,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,Sl(s,a.child,null,l),h=s.child,h.memoizedState=mg(l),h.childLanes=pg(a,_,l),s.memoizedState=fg,s=g);else if(rs(s),Zg(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var ee=_.dgst;_=ee,h=Error(r(419)),h.stack="",h.digest=_,$c({value:h,source:null,stack:null}),s=xg(a,s,l)}else if(_n||Kc(a,s,l,!1),_=(l&a.childLanes)!==0,_n||_){if(_=Lt,_!==null&&(h=l&-l,h=(h&42)!==0?1:Sa(h),h=(h&(_.suspendedLanes|l))!==0?0:h,h!==0&&h!==H.retryLane))throw H.retryLane=h,pl(a,h),Er(_,a,h),R1;A.data==="$?"||Mg(),s=xg(a,s,l)}else A.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=H.treeContext,Qt=ha(A.nextSibling),Zn=s,Tt=!0,go=null,Oa=!1,a!==null&&(Hr[Gr++]=di,Hr[Gr++]=hi,Hr[Gr++]=mo,di=a.id,hi=a.overflow,mo=s),s=gg(s,h.children),s.flags|=4096);return s}return g?(as(),g=h.fallback,A=s.mode,H=a.child,ee=H.sibling,h=ui(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,ee!==null?g=ui(ee,g):(g=fo(g,A,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,A=a.child.memoizedState,A===null?A=mg(l):(H=A.cachePool,H!==null?(ee=yn._currentValue,H=H.parent!==ee?{parent:ee,pool:ee}:H):H=Sb(),A={baseLanes:A.baseLanes|l,cachePool:H}),g.memoizedState=A,g.childLanes=pg(a,_,l),s.memoizedState=fg,h):(rs(s),l=a.child,a=l.sibling,l=ui(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,a!==null&&(_=s.deletions,_===null?(s.deletions=[a],s.flags|=16):_.push(a)),s.child=l,s.memoizedState=null,l)}function gg(a,s){return s=zh({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function zh(a,s){return a=br(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function xg(a,s,l){return Sl(s,a.child,null,l),a=gg(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function F1(a,s,l){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),Mp(a.return,s,l)}function yg(a,s,l,h,g){var y=a.memoizedState;y===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=g)}function B1(a,s,l){var h=s.pendingProps,g=h.revealOrder,y=h.tail;if(Pn(a,s,h.children,l),h=vn.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&F1(a,l,s);else if(a.tag===19)F1(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}switch(oe(vn,h),g){case"forwards":for(l=s.child,g=null;l!==null;)a=l.alternate,a!==null&&Oh(a)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),yg(s,!1,g,l,y);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(a=g.alternate,a!==null&&Oh(a)===null){s.child=g;break}a=g.sibling,g.sibling=l,l=g,g=a}yg(s,!0,l,null,y);break;case"together":yg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xi(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),cs|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(Kc(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,l=ui(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=ui(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function vg(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&bh(a)))}function IC(a,s,l){switch(s.tag){case 3:le(s,s.stateNode.containerInfo),Zi(s,yn,a.memoizedState.cache),Gc();break;case 27:case 5:we(s);break;case 4:le(s,s.stateNode.containerInfo);break;case 10:Zi(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(rs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?z1(a,s,l):(rs(s),a=xi(a,s,l),a!==null?a.sibling:null);rs(s);break;case 19:var g=(a.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Kc(a,s,l,!1),h=(l&s.childLanes)!==0),g){if(h)return B1(a,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),oe(vn,vn.current),h)break;return null;case 22:case 23:return s.lanes=0,M1(a,s,l);case 24:Zi(s,yn,a.memoizedState.cache)}return xi(a,s,l)}function q1(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)_n=!0;else{if(!vg(a,l)&&(s.flags&128)===0)return _n=!1,IC(a,s,l);_n=(a.flags&131072)!==0}else _n=!1,Tt&&(s.flags&1048576)!==0&&vb(s,vh,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")Ap(h)?(a=To(h,a),s.tag=1,s=V1(null,s,h,a,l)):(s.tag=0,s=hg(null,s,h,a,l));else{if(h!=null){if(g=h.$$typeof,g===q){s.tag=11,s=P1(null,s,h,a,l);break e}else if(g===P){s.tag=14,s=I1(null,s,h,a,l);break e}}throw s=ye(h)||h,Error(r(306,s,""))}}return s;case 0:return hg(a,s,s.type,s.pendingProps,l);case 1:return h=s.type,g=To(h,s.pendingProps),V1(a,s,h,g,l);case 3:e:{if(le(s,s.stateNode.containerInfo),a===null)throw Error(r(387));h=s.pendingProps;var y=s.memoizedState;g=y.element,Bp(a,s),eu(s,h,null,l);var _=s.memoizedState;if(h=_.cache,Zi(s,yn,h),h!==y.cache&&Op(s,[yn],l,!0),Jc(),h=_.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=U1(a,s,h,l);break e}else if(h!==g){g=Br(Error(r(424)),s),$c(g),s=U1(a,s,h,l);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Qt=ha(a.firstChild),Zn=s,Tt=!0,go=null,Oa=!0,l=w1(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Gc(),h===g){s=xi(a,s,l);break e}Pn(a,s,h,l)}s=s.child}return s;case 26:return Uh(a,s),a===null?(l=K2(s.type,null,s.pendingProps,null))?s.memoizedState=l:Tt||(l=s.type,a=s.pendingProps,h=ef(Pe.current).createElement(l),h[he]=s,h[xe]=a,Dn(h,l,a),ft(h),s.stateNode=h):s.memoizedState=K2(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return we(s),a===null&&Tt&&(h=s.stateNode=H2(s.type,s.pendingProps,Pe.current),Zn=s,Oa=!0,g=Qt,fs(s.type)?(Jg=g,Qt=ha(h.firstChild)):Qt=g),Pn(a,s,s.pendingProps.children,l),Uh(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Tt&&((g=h=Qt)&&(h=o3(h,s.type,s.pendingProps,Oa),h!==null?(s.stateNode=h,Zn=s,Qt=ha(h.firstChild),Oa=!1,g=!0):g=!1),g||xo(s)),we(s),g=s.type,y=s.pendingProps,_=a!==null?a.memoizedProps:null,h=y.children,Qg(g,y)?h=null:_!==null&&Qg(g,_)&&(s.flags|=32),s.memoizedState!==null&&(g=Yp(a,s,EC,null,null,l),Tu._currentValue=g),Uh(a,s),Pn(a,s,h,l),s.child;case 6:return a===null&&Tt&&((a=l=Qt)&&(l=l3(l,s.pendingProps,Oa),l!==null?(s.stateNode=l,Zn=s,Qt=null,a=!0):a=!1),a||xo(s)),null;case 13:return z1(a,s,l);case 4:return le(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=Sl(s,null,h,l):Pn(a,s,h,l),s.child;case 11:return P1(a,s,s.type,s.pendingProps,l);case 7:return Pn(a,s,s.pendingProps,l),s.child;case 8:return Pn(a,s,s.pendingProps.children,l),s.child;case 12:return Pn(a,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,Zi(s,s.type,h.value),Pn(a,s,h.children,l),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,vo(s),g=Fn(g),h=h(g),s.flags|=1,Pn(a,s,h,l),s.child;case 14:return I1(a,s,s.type,s.pendingProps,l);case 15:return D1(a,s,s.type,s.pendingProps,l);case 19:return B1(a,s,l);case 31:return h=s.pendingProps,l=s.mode,h={mode:h.mode,children:h.children},a===null?(l=zh(h,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=ui(a.child,h),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return M1(a,s,l);case 24:return vo(s),h=Fn(yn),a===null?(g=Up(),g===null&&(g=Lt,y=Lp(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),s.memoizedState={parent:h,cache:g},Fp(s),Zi(s,yn,g)):((a.lanes&l)!==0&&(Bp(a,s),eu(s,null,null,l),Jc()),g=a.memoizedState,y=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Zi(s,yn,h)):(h=y.cache,Zi(s,yn,h),h!==g.cache&&Op(s,[yn],l,!0))),Pn(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function yi(a){a.flags|=4}function H1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Z2(s)){if(s=$r.current,s!==null&&((xt&4194048)===xt?La!==null:(xt&62914560)!==xt&&(xt&536870912)===0||s!==La))throw Wc=zp,Nb;a.flags|=8192}}function Fh(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Zs():536870912,a.lanes|=s,jl|=s)}function ou(a,s){if(!Tt)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Ht(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,h=0;if(s)for(var g=a.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=h,a.childLanes=l,s}function DC(a,s,l){var h=s.pendingProps;switch(Pp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return Ht(s),null;case 3:return l=s.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),mi(yn),Qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Hc(s)?yi(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Tb())),Ht(s),null;case 26:return l=s.memoizedState,a===null?(yi(s),l!==null?(Ht(s),H1(s,l)):(Ht(s),s.flags&=-16777217)):l?l!==a.memoizedState?(yi(s),Ht(s),H1(s,l)):(Ht(s),s.flags&=-16777217):(a.memoizedProps!==h&&yi(s),Ht(s),s.flags&=-16777217),null;case 27:ue(s),l=Pe.current;var g=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==h&&yi(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Ht(s),null}a=Te.current,Hc(s)?bb(s):(a=H2(g,h,l),s.stateNode=a,yi(s))}return Ht(s),null;case 5:if(ue(s),l=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&yi(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Ht(s),null}if(a=Te.current,Hc(s))bb(s);else{switch(g=ef(Pe.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?a.multiple=!0:h.size&&(a.size=h.size);break;default:a=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}a[he]=s,a[xe]=h;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=a;e:switch(Dn(a,l,h),l){case"button":case"input":case"select":case"textarea":a=!!h.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&yi(s)}}return Ht(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==h&&yi(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(a=Pe.current,Hc(s)){if(a=s.stateNode,l=s.memoizedProps,h=null,g=Zn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}a[he]=s,a=!!(a.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||L2(a.nodeValue,l)),a||xo(s)}else a=ef(a).createTextNode(h),a[he]=s,s.stateNode=a}return Ht(s),null;case 13:if(h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Hc(s),h!==null&&h.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[he]=s}else Gc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ht(s),g=!1}else g=Tb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(gi(s),s):(gi(s),null)}if(gi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=h!==null,a=a!==null&&a.memoizedState!==null,l){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return l!==a&&l&&(s.child.flags|=8192),Fh(s,s.updateQueue),Ht(s),null;case 4:return Qe(),a===null&&Hg(s.stateNode.containerInfo),Ht(s),null;case 10:return mi(s.type),Ht(s),null;case 19:if(pe(vn),g=s.memoizedState,g===null)return Ht(s),null;if(h=(s.flags&128)!==0,y=g.rendering,y===null)if(h)ou(g,!1);else{if(Xt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(y=Oh(a),y!==null){for(s.flags|=128,ou(g,!1),a=y.updateQueue,s.updateQueue=a,Fh(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)yb(l,a),l=l.sibling;return oe(vn,vn.current&1|2),s.child}a=a.sibling}g.tail!==null&&An()>Hh&&(s.flags|=128,h=!0,ou(g,!1),s.lanes=4194304)}else{if(!h)if(a=Oh(y),a!==null){if(s.flags|=128,h=!0,a=a.updateQueue,s.updateQueue=a,Fh(s,a),ou(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Tt)return Ht(s),null}else 2*An()-g.renderingStartTime>Hh&&l!==536870912&&(s.flags|=128,h=!0,ou(g,!1),s.lanes=4194304);g.isBackwards?(y.sibling=s.child,s.child=y):(a=g.last,a!==null?a.sibling=y:s.child=y,g.last=y)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=An(),s.sibling=null,a=vn.current,oe(vn,h?a&1|2:a&1),s):(Ht(s),null);case 22:case 23:return gi(s),$p(),h=s.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),l=s.updateQueue,l!==null&&Fh(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),a!==null&&pe(bo),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),mi(yn),Ht(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function MC(a,s){switch(Pp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return mi(yn),Qe(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return ue(s),null;case 13:if(gi(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Gc()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return pe(vn),null;case 4:return Qe(),null;case 10:return mi(s.type),null;case 22:case 23:return gi(s),$p(),a!==null&&pe(bo),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return mi(yn),null;case 25:return null;default:return null}}function G1(a,s){switch(Pp(s),s.tag){case 3:mi(yn),Qe();break;case 26:case 27:case 5:ue(s);break;case 4:Qe();break;case 13:gi(s);break;case 19:pe(vn);break;case 10:mi(s.type);break;case 22:case 23:gi(s),$p(),a!==null&&pe(bo);break;case 24:mi(yn)}}function lu(a,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&a)===a){h=void 0;var y=l.create,_=l.inst;h=y(),_.destroy=h}l=l.next}while(l!==g)}}catch(A){Ot(s,s.return,A)}}function is(a,s,l){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&a)===a){var _=h.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,g=s;var H=l,ee=A;try{ee()}catch(ce){Ot(g,H,ce)}}}h=h.next}while(h!==y)}}catch(ce){Ot(s,s.return,ce)}}function $1(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{Ib(s,l)}catch(h){Ot(a,a.return,h)}}}function K1(a,s,l){l.props=To(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(h){Ot(a,s,h)}}function cu(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof l=="function"?a.refCleanup=l(h):l.current=h}}catch(g){Ot(a,s,g)}}function Va(a,s){var l=a.ref,h=a.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Ot(a,s,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ot(a,s,g)}else l.current=null}function Y1(a){var s=a.type,l=a.memoizedProps,h=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Ot(a,a.return,g)}}function bg(a,s,l){try{var h=a.stateNode;n3(h,a.type,l,s),h[xe]=s}catch(g){Ot(a,a.return,g)}}function Q1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&fs(a.type)||a.tag===4}function wg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Q1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&fs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Tg(a,s,l){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Jh));else if(h!==4&&(h===27&&fs(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(Tg(a,s,l),a=a.sibling;a!==null;)Tg(a,s,l),a=a.sibling}function Bh(a,s,l){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(h!==4&&(h===27&&fs(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(Bh(a,s,l),a=a.sibling;a!==null;)Bh(a,s,l),a=a.sibling}function X1(a){var s=a.stateNode,l=a.memoizedProps;try{for(var h=a.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Dn(s,h,l),s[he]=a,s[xe]=l}catch(y){Ot(a,a.return,y)}}var vi=!1,nn=!1,kg=!1,W1=typeof WeakSet=="function"?WeakSet:Set,En=null;function OC(a,s){if(a=a.containerInfo,Kg=of,a=lb(a),wp(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,A=-1,H=-1,ee=0,ce=0,fe=a,re=null;t:for(;;){for(var ae;fe!==l||g!==0&&fe.nodeType!==3||(A=_+g),fe!==y||h!==0&&fe.nodeType!==3||(H=_+h),fe.nodeType===3&&(_+=fe.nodeValue.length),(ae=fe.firstChild)!==null;)re=fe,fe=ae;for(;;){if(fe===a)break t;if(re===l&&++ee===g&&(A=_),re===y&&++ce===h&&(H=_),(ae=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=ae}l=A===-1||H===-1?null:{start:A,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yg={focusedElem:a,selectionRange:l},of=!1,En=s;En!==null;)if(s=En,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,En=a;else for(;En!==null;){switch(s=En,y=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,l=s,g=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var Ge=To(l.type,g,l.elementType===l.type);a=h.getSnapshotBeforeUpdate(Ge,y),h.__reactInternalSnapshotBeforeUpdate=a}catch(ze){Ot(l,l.return,ze)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)Wg(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Wg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,En=a;break}En=s.return}}function Z1(a,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:ss(a,l),h&4&&lu(5,l);break;case 1:if(ss(a,l),h&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(_){Ot(l,l.return,_)}else{var g=To(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(g,s,a.__reactInternalSnapshotBeforeUpdate)}catch(_){Ot(l,l.return,_)}}h&64&&$1(l),h&512&&cu(l,l.return);break;case 3:if(ss(a,l),h&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ib(a,s)}catch(_){Ot(l,l.return,_)}}break;case 27:s===null&&h&4&&X1(l);case 26:case 5:ss(a,l),s===null&&h&4&&Y1(l),h&512&&cu(l,l.return);break;case 12:ss(a,l);break;case 13:ss(a,l),h&4&&t2(a,l),h&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=GC.bind(null,l),c3(a,l))));break;case 22:if(h=l.memoizedState!==null||vi,!h){s=s!==null&&s.memoizedState!==null||nn,g=vi;var y=nn;vi=h,(nn=s)&&!y?os(a,l,(l.subtreeFlags&8772)!==0):ss(a,l),vi=g,nn=y}break;case 30:break;default:ss(a,l)}}function J1(a){var s=a.alternate;s!==null&&(a.alternate=null,J1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Re(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Bt=null,sr=!1;function bi(a,s,l){for(l=l.child;l!==null;)e2(a,s,l),l=l.sibling}function e2(a,s,l){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(wt,l)}catch{}switch(l.tag){case 26:nn||Va(l,s),bi(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nn||Va(l,s);var h=Bt,g=sr;fs(l.type)&&(Bt=l.stateNode,sr=!1),bi(a,s,l),yu(l.stateNode),Bt=h,sr=g;break;case 5:nn||Va(l,s);case 6:if(h=Bt,g=sr,Bt=null,bi(a,s,l),Bt=h,sr=g,Bt!==null)if(sr)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(l.stateNode)}catch(y){Ot(l,s,y)}else try{Bt.removeChild(l.stateNode)}catch(y){Ot(l,s,y)}break;case 18:Bt!==null&&(sr?(a=Bt,B2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Su(a)):B2(Bt,l.stateNode));break;case 4:h=Bt,g=sr,Bt=l.stateNode.containerInfo,sr=!0,bi(a,s,l),Bt=h,sr=g;break;case 0:case 11:case 14:case 15:nn||is(2,l,s),nn||is(4,l,s),bi(a,s,l);break;case 1:nn||(Va(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&K1(l,s,h)),bi(a,s,l);break;case 21:bi(a,s,l);break;case 22:nn=(h=nn)||l.memoizedState!==null,bi(a,s,l),nn=h;break;default:bi(a,s,l)}}function t2(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Su(a)}catch(l){Ot(s,s.return,l)}}function LC(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new W1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new W1),s;default:throw Error(r(435,a.tag))}}function _g(a,s){var l=LC(a);s.forEach(function(h){var g=$C.bind(null,a,h);l.has(h)||(l.add(h),h.then(g,g))})}function wr(a,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],y=a,_=s,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(fs(A.type)){Bt=A.stateNode,sr=!1;break e}break;case 5:Bt=A.stateNode,sr=!1;break e;case 3:case 4:Bt=A.stateNode.containerInfo,sr=!0;break e}A=A.return}if(Bt===null)throw Error(r(160));e2(y,_,g),Bt=null,sr=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)n2(s,a),s=s.sibling}var da=null;function n2(a,s){var l=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:wr(s,a),Tr(a),h&4&&(is(3,a,a.return),lu(3,a),is(5,a,a.return));break;case 1:wr(s,a),Tr(a),h&512&&(nn||l===null||Va(l,l.return)),h&64&&vi&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=da;if(wr(s,a),Tr(a),h&512&&(nn||l===null||Va(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=a.memoizedState,l===null)if(h===null)if(a.stateNode===null){e:{h=a.type,l=a.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ue]||y[he]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Dn(y,h,l),y[he]=a,ft(y),h=y;break e;case"link":var _=X2("link","href",g).get(h+(l.href||""));if(_){for(var A=0;A<_.length;A++)if(y=_[A],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(A,1);break t}}y=g.createElement(h),Dn(y,h,l),g.head.appendChild(y);break;case"meta":if(_=X2("meta","content",g).get(h+(l.content||""))){for(A=0;A<_.length;A++)if(y=_[A],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(A,1);break t}}y=g.createElement(h),Dn(y,h,l),g.head.appendChild(y);break;default:throw Error(r(468,h))}y[he]=a,ft(y),h=y}a.stateNode=h}else W2(g,a.type,a.stateNode);else a.stateNode=Q2(g,h,a.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?W2(g,a.type,a.stateNode):Q2(g,h,a.memoizedProps)):h===null&&a.stateNode!==null&&bg(a,a.memoizedProps,l.memoizedProps)}break;case 27:wr(s,a),Tr(a),h&512&&(nn||l===null||Va(l,l.return)),l!==null&&h&4&&bg(a,a.memoizedProps,l.memoizedProps);break;case 5:if(wr(s,a),Tr(a),h&512&&(nn||l===null||Va(l,l.return)),a.flags&32){g=a.stateNode;try{Vr(g,"")}catch(ae){Ot(a,a.return,ae)}}h&4&&a.stateNode!=null&&(g=a.memoizedProps,bg(a,g,l!==null?l.memoizedProps:g)),h&1024&&(kg=!0);break;case 6:if(wr(s,a),Tr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,l=a.stateNode;try{l.nodeValue=h}catch(ae){Ot(a,a.return,ae)}}break;case 3:if(rf=null,g=da,da=tf(s.containerInfo),wr(s,a),da=g,Tr(a),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Su(s.containerInfo)}catch(ae){Ot(a,a.return,ae)}kg&&(kg=!1,r2(a));break;case 4:h=da,da=tf(a.stateNode.containerInfo),wr(s,a),Tr(a),da=h;break;case 12:wr(s,a),Tr(a);break;case 13:wr(s,a),Tr(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jg=An()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,_g(a,h)));break;case 22:g=a.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,ee=vi,ce=nn;if(vi=ee||g,nn=ce||H,wr(s,a),nn=ce,vi=ee,Tr(a),h&8192)e:for(s=a.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||H||vi||nn||ko(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){H=l=s;try{if(y=H.stateNode,g)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=H.stateNode;var fe=H.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;A.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ae){Ot(H,H.return,ae)}}}else if(s.tag===6){if(l===null){H=s;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(ae){Ot(H,H.return,ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=a.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,_g(a,l))));break;case 19:wr(s,a),Tr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,_g(a,h)));break;case 30:break;case 21:break;default:wr(s,a),Tr(a)}}function Tr(a){var s=a.flags;if(s&2){try{for(var l,h=a.return;h!==null;){if(Q1(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=wg(a);Bh(a,y,g);break;case 5:var _=l.stateNode;l.flags&32&&(Vr(_,""),l.flags&=-33);var A=wg(a);Bh(a,A,_);break;case 3:case 4:var H=l.stateNode.containerInfo,ee=wg(a);Tg(a,ee,H);break;default:throw Error(r(161))}}catch(ce){Ot(a,a.return,ce)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function r2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;r2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function ss(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Z1(a,s.alternate,s),s=s.sibling}function ko(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:is(4,s,s.return),ko(s);break;case 1:Va(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&K1(s,s.return,l),ko(s);break;case 27:yu(s.stateNode);case 26:case 5:Va(s,s.return),ko(s);break;case 22:s.memoizedState===null&&ko(s);break;case 30:ko(s);break;default:ko(s)}a=a.sibling}}function os(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=a,y=s,_=y.flags;switch(y.tag){case 0:case 11:case 15:os(g,y,l),lu(4,y);break;case 1:if(os(g,y,l),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){Ot(h,h.return,ee)}if(h=y,g=h.updateQueue,g!==null){var A=h.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)Pb(H[g],A)}catch(ee){Ot(h,h.return,ee)}}l&&_&64&&$1(y),cu(y,y.return);break;case 27:X1(y);case 26:case 5:os(g,y,l),l&&h===null&&_&4&&Y1(y),cu(y,y.return);break;case 12:os(g,y,l);break;case 13:os(g,y,l),l&&_&4&&t2(g,y);break;case 22:y.memoizedState===null&&os(g,y,l),cu(y,y.return);break;case 30:break;default:os(g,y,l)}s=s.sibling}}function Eg(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&Yc(l))}function Sg(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Yc(a))}function Ua(a,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a2(a,s,l,h),s=s.sibling}function a2(a,s,l,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ua(a,s,l,h),g&2048&&lu(9,s);break;case 1:Ua(a,s,l,h);break;case 3:Ua(a,s,l,h),g&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Yc(a)));break;case 12:if(g&2048){Ua(a,s,l,h),a=s.stateNode;try{var y=s.memoizedProps,_=y.id,A=y.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){Ot(s,s.return,H)}}else Ua(a,s,l,h);break;case 13:Ua(a,s,l,h);break;case 23:break;case 22:y=s.stateNode,_=s.alternate,s.memoizedState!==null?y._visibility&2?Ua(a,s,l,h):uu(a,s):y._visibility&2?Ua(a,s,l,h):(y._visibility|=2,Nl(a,s,l,h,(s.subtreeFlags&10256)!==0)),g&2048&&Eg(_,s);break;case 24:Ua(a,s,l,h),g&2048&&Sg(s.alternate,s);break;default:Ua(a,s,l,h)}}function Nl(a,s,l,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=a,_=s,A=l,H=h,ee=_.flags;switch(_.tag){case 0:case 11:case 15:Nl(y,_,A,H,g),lu(8,_);break;case 23:break;case 22:var ce=_.stateNode;_.memoizedState!==null?ce._visibility&2?Nl(y,_,A,H,g):uu(y,_):(ce._visibility|=2,Nl(y,_,A,H,g)),g&&ee&2048&&Eg(_.alternate,_);break;case 24:Nl(y,_,A,H,g),g&&ee&2048&&Sg(_.alternate,_);break;default:Nl(y,_,A,H,g)}s=s.sibling}}function uu(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,h=s,g=h.flags;switch(h.tag){case 22:uu(l,h),g&2048&&Eg(h.alternate,h);break;case 24:uu(l,h),g&2048&&Sg(h.alternate,h);break;default:uu(l,h)}s=s.sibling}}var du=8192;function Al(a){if(a.subtreeFlags&du)for(a=a.child;a!==null;)i2(a),a=a.sibling}function i2(a){switch(a.tag){case 26:Al(a),a.flags&du&&a.memoizedState!==null&&T3(da,a.memoizedState,a.memoizedProps);break;case 5:Al(a);break;case 3:case 4:var s=da;da=tf(a.stateNode.containerInfo),Al(a),da=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=du,du=16777216,Al(a),du=s):Al(a));break;default:Al(a)}}function s2(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function hu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];En=h,l2(h,a)}s2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)o2(a),a=a.sibling}function o2(a){switch(a.tag){case 0:case 11:case 15:hu(a),a.flags&2048&&is(9,a,a.return);break;case 3:hu(a);break;case 12:hu(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,qh(a)):hu(a);break;default:hu(a)}}function qh(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];En=h,l2(h,a)}s2(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:is(8,s,s.return),qh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,qh(s));break;default:qh(s)}a=a.sibling}}function l2(a,s){for(;En!==null;){var l=En;switch(l.tag){case 0:case 11:case 15:is(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Yc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,En=h;else e:for(l=a;En!==null;){h=En;var g=h.sibling,y=h.return;if(J1(h),h===l){En=null;break e}if(g!==null){g.return=y,En=g;break e}En=y}}}var VC={getCacheForType:function(a){var s=Fn(yn),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l}},UC=typeof WeakMap=="function"?WeakMap:Map,St=0,Lt=null,lt=null,xt=0,Nt=0,kr=null,ls=!1,Cl=!1,Ng=!1,wi=0,Xt=0,cs=0,_o=0,Ag=0,Kr=0,jl=0,fu=null,or=null,Cg=!1,jg=0,Hh=1/0,Gh=null,us=null,In=0,ds=null,Rl=null,Pl=0,Rg=0,Pg=null,c2=null,mu=0,Ig=null;function _r(){if((St&2)!==0&&xt!==0)return xt&-xt;if(Y.T!==null){var a=vl;return a!==0?a:zg()}return G()}function u2(){Kr===0&&(Kr=(xt&536870912)===0||Tt?ti():536870912);var a=$r.current;return a!==null&&(a.flags|=32),Kr}function Er(a,s,l){(a===Lt&&(Nt===2||Nt===9)||a.cancelPendingCommit!==null)&&(Il(a,0),hs(a,xt,Kr,!1)),la(a,l),((St&2)===0||a!==Lt)&&(a===Lt&&((St&2)===0&&(_o|=l),Xt===4&&hs(a,xt,Kr,!1)),za(a))}function d2(a,s,l){if((St&6)!==0)throw Error(r(327));var h=!l&&(s&124)===0&&(s&a.expiredLanes)===0||Dr(a,s),g=h?BC(a,s):Og(a,s,!0),y=h;do{if(g===0){Cl&&!h&&hs(a,s,0,!1);break}else{if(l=a.current.alternate,y&&!zC(l)){g=Og(a,s,!1),y=!1;continue}if(g===2){if(y=s,a.errorRecoveryDisabledLanes&y)var _=0;else _=a.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var A=a;g=fu;var H=A.current.memoizedState.isDehydrated;if(H&&(Il(A,_).flags|=256),_=Og(A,_,!1),_!==2){if(Ng&&!H){A.errorRecoveryDisabledLanes|=y,_o|=y,g=4;break e}y=or,or=g,y!==null&&(or===null?or=y:or.push.apply(or,y))}g=_}if(y=!1,g!==2)continue}}if(g===1){Il(a,0),hs(a,s,0,!0);break}e:{switch(h=a,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:hs(h,s,Kr,!ls);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=jg+300-An(),10<g)){if(hs(h,s,Kr,!ls),ei(h,0,!0)!==0)break e;h.timeoutHandle=z2(h2.bind(null,h,l,or,Gh,Cg,s,Kr,_o,jl,ls,y,2,-0,0),g);break e}h2(h,l,or,Gh,Cg,s,Kr,_o,jl,ls,y,0,-0,0)}}break}while(!0);za(a)}function h2(a,s,l,h,g,y,_,A,H,ee,ce,fe,re,ae){if(a.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(wu={stylesheets:null,count:0,unsuspend:w3},i2(s),fe=k3(),fe!==null)){a.cancelPendingCommit=fe(v2.bind(null,a,s,y,l,h,g,_,A,H,ce,1,re,ae)),hs(a,y,_,!ee);return}v2(a,s,y,l,h,g,_,A,H)}function zC(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!vr(y(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hs(a,s,l,h){s&=~Ag,s&=~_o,a.suspendedLanes|=s,a.pingedLanes&=~s,h&&(a.warmLanes|=s),h=a.expirationTimes;for(var g=s;0<g;){var y=31-on(g),_=1<<y;h[y]=-1,g&=~_}l!==0&&Yn(a,l,s)}function $h(){return(St&6)===0?(pu(0),!1):!0}function Dg(){if(lt!==null){if(Nt===0)var a=lt.return;else a=lt,fi=yo=null,Wp(a),El=null,iu=0,a=lt;for(;a!==null;)G1(a.alternate,a),a=a.return;lt=null}}function Il(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,a3(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Dg(),Lt=a,lt=l=ui(a.current,null),xt=s,Nt=0,kr=null,ls=!1,Cl=Dr(a,s),Ng=!1,jl=Kr=Ag=_o=cs=Xt=0,or=fu=null,Cg=!1,(s&8)!==0&&(s|=s&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=s;0<h;){var g=31-on(h),y=1<<g;s|=a[g],h&=~y}return wi=s,mh(),l}function f2(a,s){nt=null,Y.H=Ih,s===Xc||s===kh?(s=jb(),Nt=3):s===Nb?(s=jb(),Nt=4):Nt=s===R1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,kr=s,lt===null&&(Xt=1,Vh(a,Br(s,a.current)))}function m2(){var a=Y.H;return Y.H=Ih,a===null?Ih:a}function p2(){var a=Y.A;return Y.A=VC,a}function Mg(){Xt=4,ls||(xt&4194048)!==xt&&$r.current!==null||(Cl=!0),(cs&134217727)===0&&(_o&134217727)===0||Lt===null||hs(Lt,xt,Kr,!1)}function Og(a,s,l){var h=St;St|=2;var g=m2(),y=p2();(Lt!==a||xt!==s)&&(Gh=null,Il(a,s)),s=!1;var _=Xt;e:do try{if(Nt!==0&&lt!==null){var A=lt,H=kr;switch(Nt){case 8:Dg(),_=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(s=!0);var ee=Nt;if(Nt=0,kr=null,Dl(a,A,H,ee),l&&Cl){_=0;break e}break;default:ee=Nt,Nt=0,kr=null,Dl(a,A,H,ee)}}FC(),_=Xt;break}catch(ce){f2(a,ce)}while(!0);return s&&a.shellSuspendCounter++,fi=yo=null,St=h,Y.H=g,Y.A=y,lt===null&&(Lt=null,xt=0,mh()),_}function FC(){for(;lt!==null;)g2(lt)}function BC(a,s){var l=St;St|=2;var h=m2(),g=p2();Lt!==a||xt!==s?(Gh=null,Hh=An()+500,Il(a,s)):Cl=Dr(a,s);e:do try{if(Nt!==0&&lt!==null){s=lt;var y=kr;t:switch(Nt){case 1:Nt=0,kr=null,Dl(a,s,y,1);break;case 2:case 9:if(Ab(y)){Nt=0,kr=null,x2(s);break}s=function(){Nt!==2&&Nt!==9||Lt!==a||(Nt=7),za(a)},y.then(s,s);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:Ab(y)?(Nt=0,kr=null,x2(s)):(Nt=0,kr=null,Dl(a,s,y,7));break;case 5:var _=null;switch(lt.tag){case 26:_=lt.memoizedState;case 5:case 27:var A=lt;if(!_||Z2(_)){Nt=0,kr=null;var H=A.sibling;if(H!==null)lt=H;else{var ee=A.return;ee!==null?(lt=ee,Kh(ee)):lt=null}break t}}Nt=0,kr=null,Dl(a,s,y,5);break;case 6:Nt=0,kr=null,Dl(a,s,y,6);break;case 8:Dg(),Xt=6;break e;default:throw Error(r(462))}}qC();break}catch(ce){f2(a,ce)}while(!0);return fi=yo=null,Y.H=h,Y.A=g,St=l,lt!==null?0:(Lt=null,xt=0,mh(),Xt)}function qC(){for(;lt!==null&&!Dt();)g2(lt)}function g2(a){var s=q1(a.alternate,a,wi);a.memoizedProps=a.pendingProps,s===null?Kh(a):lt=s}function x2(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=L1(l,s,s.pendingProps,s.type,void 0,xt);break;case 11:s=L1(l,s,s.pendingProps,s.type.render,s.ref,xt);break;case 5:Wp(s);default:G1(l,s),s=lt=yb(s,wi),s=q1(l,s,wi)}a.memoizedProps=a.pendingProps,s===null?Kh(a):lt=s}function Dl(a,s,l,h){fi=yo=null,Wp(s),El=null,iu=0;var g=s.return;try{if(PC(a,g,s,l,xt)){Xt=1,Vh(a,Br(l,a.current)),lt=null;return}}catch(y){if(g!==null)throw lt=g,y;Xt=1,Vh(a,Br(l,a.current)),lt=null;return}s.flags&32768?(Tt||h===1?a=!0:Cl||(xt&536870912)!==0?a=!1:(ls=a=!0,(h===2||h===9||h===3||h===6)&&(h=$r.current,h!==null&&h.tag===13&&(h.flags|=16384))),y2(s,a)):Kh(s)}function Kh(a){var s=a;do{if((s.flags&32768)!==0){y2(s,ls);return}a=s.return;var l=DC(s.alternate,s,wi);if(l!==null){lt=l;return}if(s=s.sibling,s!==null){lt=s;return}lt=s=a}while(s!==null);Xt===0&&(Xt=5)}function y2(a,s){do{var l=MC(a.alternate,a);if(l!==null){l.flags&=32767,lt=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){lt=a;return}lt=a=l}while(a!==null);Xt=6,lt=null}function v2(a,s,l,h,g,y,_,A,H){a.cancelPendingCommit=null;do Yh();while(In!==0);if((St&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Sp,Ki(a,l,y,_,A,H),a===Lt&&(lt=Lt=null,xt=0),Rl=s,ds=a,Pl=l,Rg=y,Pg=g,c2=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,KC(Ja,function(){return _2(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,g=ie.p,ie.p=2,_=St,St|=4;try{OC(a,s,l)}finally{St=_,ie.p=g,Y.T=h}}In=1,b2(),w2(),T2()}}function b2(){if(In===1){In=0;var a=ds,s=Rl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var h=ie.p;ie.p=2;var g=St;St|=4;try{n2(s,a);var y=Yg,_=lb(a.containerInfo),A=y.focusedElem,H=y.selectionRange;if(_!==A&&A&&A.ownerDocument&&ob(A.ownerDocument.documentElement,A)){if(H!==null&&wp(A)){var ee=H.start,ce=H.end;if(ce===void 0&&(ce=ee),"selectionStart"in A)A.selectionStart=ee,A.selectionEnd=Math.min(ce,A.value.length);else{var fe=A.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var ae=re.getSelection(),Ge=A.textContent.length,ze=Math.min(H.start,Ge),It=H.end===void 0?ze:Math.min(H.end,Ge);!ae.extend&&ze>It&&(_=It,It=ze,ze=_);var Q=sb(A,ze),K=sb(A,It);if(Q&&K&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==K.node||ae.focusOffset!==K.offset)){var Z=fe.createRange();Z.setStart(Q.node,Q.offset),ae.removeAllRanges(),ze>It?(ae.addRange(Z),ae.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ae.addRange(Z))}}}}for(fe=[],ae=A;ae=ae.parentNode;)ae.nodeType===1&&fe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<fe.length;A++){var de=fe[A];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}of=!!Kg,Yg=Kg=null}finally{St=g,ie.p=h,Y.T=l}}a.current=s,In=2}}function w2(){if(In===2){In=0;var a=ds,s=Rl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var h=ie.p;ie.p=2;var g=St;St|=4;try{Z1(a,s.alternate,s)}finally{St=g,ie.p=h,Y.T=l}}In=3}}function T2(){if(In===4||In===3){In=0,Bi();var a=ds,s=Rl,l=Pl,h=c2;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?In=5:(In=0,Rl=ds=null,k2(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(us=null),Yi(l),s=s.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(wt,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=Y.T,g=ie.p,ie.p=2,Y.T=null;try{for(var y=a.onRecoverableError,_=0;_<h.length;_++){var A=h[_];y(A.value,{componentStack:A.stack})}}finally{Y.T=s,ie.p=g}}(Pl&3)!==0&&Yh(),za(a),g=a.pendingLanes,(l&4194090)!==0&&(g&42)!==0?a===Ig?mu++:(mu=0,Ig=a):mu=0,pu(0)}}function k2(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Yc(s)))}function Yh(a){return b2(),w2(),T2(),_2()}function _2(){if(In!==5)return!1;var a=ds,s=Rg;Rg=0;var l=Yi(Pl),h=Y.T,g=ie.p;try{ie.p=32>l?32:l,Y.T=null,l=Pg,Pg=null;var y=ds,_=Pl;if(In=0,Rl=ds=null,Pl=0,(St&6)!==0)throw Error(r(331));var A=St;if(St|=4,o2(y.current),a2(y,y.current,_,l),St=A,pu(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(wt,y)}catch{}return!0}finally{ie.p=g,Y.T=h,k2(a,s)}}function E2(a,s,l){s=Br(l,s),s=dg(a.stateNode,s,2),a=ts(a,s,2),a!==null&&(la(a,2),za(a))}function Ot(a,s,l){if(a.tag===3)E2(a,a,l);else for(;s!==null;){if(s.tag===3){E2(s,a,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(us===null||!us.has(h))){a=Br(l,a),l=C1(2),h=ts(s,l,2),h!==null&&(j1(l,h,s,a),la(h,2),za(h));break}}s=s.return}}function Lg(a,s,l){var h=a.pingCache;if(h===null){h=a.pingCache=new UC;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(Ng=!0,g.add(l),a=HC.bind(null,a,s,l),s.then(a,a))}function HC(a,s,l){var h=a.pingCache;h!==null&&h.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Lt===a&&(xt&l)===l&&(Xt===4||Xt===3&&(xt&62914560)===xt&&300>An()-jg?(St&2)===0&&Il(a,0):Ag|=l,jl===xt&&(jl=0)),za(a)}function S2(a,s){s===0&&(s=Zs()),a=pl(a,s),a!==null&&(la(a,s),za(a))}function GC(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),S2(a,l)}function $C(a,s){var l=0;switch(a.tag){case 13:var h=a.stateNode,g=a.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),S2(a,l)}function KC(a,s){return et(a,s)}var Qh=null,Ml=null,Vg=!1,Xh=!1,Ug=!1,Eo=0;function za(a){a!==Ml&&a.next===null&&(Ml===null?Qh=Ml=a:Ml=Ml.next=a),Xh=!0,Vg||(Vg=!0,QC())}function pu(a,s){if(!Ug&&Xh){Ug=!0;do for(var l=!1,h=Qh;h!==null;){if(a!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var _=h.suspendedLanes,A=h.pingedLanes;y=(1<<31-on(42|a)+1)-1,y&=g&~(_&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,j2(h,y))}else y=xt,y=ei(h,h===Lt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Dr(h,y)||(l=!0,j2(h,y));h=h.next}while(l);Ug=!1}}function YC(){N2()}function N2(){Xh=Vg=!1;var a=0;Eo!==0&&(r3()&&(a=Eo),Eo=0);for(var s=An(),l=null,h=Qh;h!==null;){var g=h.next,y=A2(h,s);y===0?(h.next=null,l===null?Qh=g:l.next=g,g===null&&(Ml=l)):(l=h,(a!==0||(y&3)!==0)&&(Xh=!0)),h=g}pu(a)}function A2(a,s){for(var l=a.suspendedLanes,h=a.pingedLanes,g=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var _=31-on(y),A=1<<_,H=g[_];H===-1?((A&l)===0||(A&h)!==0)&&(g[_]=$i(A,s)):H<=s&&(a.expiredLanes|=A),y&=~A}if(s=Lt,l=xt,l=ei(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,l===0||a===s&&(Nt===2||Nt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Ct(h),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Dr(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(h!==null&&Ct(h),Yi(l)){case 2:case 8:l=qi;break;case 32:l=Ja;break;case 268435456:l=Pr;break;default:l=Ja}return h=C2.bind(null,a),l=et(l,h),a.callbackPriority=s,a.callbackNode=l,s}return h!==null&&h!==null&&Ct(h),a.callbackPriority=2,a.callbackNode=null,2}function C2(a,s){if(In!==0&&In!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Yh()&&a.callbackNode!==l)return null;var h=xt;return h=ei(a,a===Lt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(d2(a,h,s),A2(a,An()),a.callbackNode!=null&&a.callbackNode===l?C2.bind(null,a):null)}function j2(a,s){if(Yh())return null;d2(a,s,!0)}function QC(){i3(function(){(St&6)!==0?et(sa,YC):N2()})}function zg(){return Eo===0&&(Eo=ti()),Eo}function R2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:rl(""+a)}function P2(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function XC(a,s,l,h,g){if(s==="submit"&&l&&l.stateNode===g){var y=R2((g[xe]||null).action),_=h.submitter;_&&(s=(s=_[xe]||null)?R2(s.formAction):_.getAttribute("formAction"),s!==null&&(y=s,_=null));var A=new al("action","action",null,h,g);a.push({event:A,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Eo!==0){var H=_?P2(g,_):new FormData(g);sg(l,{pending:!0,data:H,method:g.method,action:y},null,H)}}else typeof y=="function"&&(A.preventDefault(),H=_?P2(g,_):new FormData(g),sg(l,{pending:!0,data:H,method:g.method,action:y},y,H))},currentTarget:g}]})}}for(var Fg=0;Fg<Ep.length;Fg++){var Bg=Ep[Fg],WC=Bg.toLowerCase(),ZC=Bg[0].toUpperCase()+Bg.slice(1);ua(WC,"on"+ZC)}ua(db,"onAnimationEnd"),ua(hb,"onAnimationIteration"),ua(fb,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(pC,"onTransitionRun"),ua(gC,"onTransitionStart"),ua(xC,"onTransitionCancel"),ua(mb,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function I2(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var h=a[l],g=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var _=h.length-1;0<=_;_--){var A=h[_],H=A.instance,ee=A.currentTarget;if(A=A.listener,H!==y&&g.isPropagationStopped())break e;y=A,g.currentTarget=ee;try{y(g)}catch(ce){Lh(ce)}g.currentTarget=null,y=H}else for(_=0;_<h.length;_++){if(A=h[_],H=A.instance,ee=A.currentTarget,A=A.listener,H!==y&&g.isPropagationStopped())break e;y=A,g.currentTarget=ee;try{y(g)}catch(ce){Lh(ce)}g.currentTarget=null,y=H}}}}function ct(a,s){var l=s[Ve];l===void 0&&(l=s[Ve]=new Set);var h=a+"__bubble";l.has(h)||(D2(s,a,2,!1),l.add(h))}function qg(a,s,l){var h=0;s&&(h|=4),D2(l,a,h,s)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function Hg(a){if(!a[Wh]){a[Wh]=!0,at.forEach(function(l){l!=="selectionchange"&&(JC.has(l)||qg(l,!1,a),qg(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Wh]||(s[Wh]=!0,qg("selectionchange",!1,s))}}function D2(a,s,l,h){switch(aw(s)){case 2:var g=S3;break;case 8:g=N3;break;default:g=a0}l=g.bind(null,s,l,a),g=void 0,!zr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?a.addEventListener(s,l,{capture:!0,passive:g}):a.addEventListener(s,l,!0):g!==void 0?a.addEventListener(s,l,{passive:g}):a.addEventListener(s,l,!1)}function Gg(a,s,l,h,g){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var A=h.stateNode.containerInfo;if(A===g)break;if(_===4)for(_=h.return;_!==null;){var H=_.tag;if((H===3||H===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;A!==null;){if(_=Fe(A),_===null)return;if(H=_.tag,H===5||H===6||H===26||H===27){h=y=_;continue e}A=A.parentNode}}h=h.return}Jd(function(){var ee=y,ce=Ur(l),fe=[];e:{var re=pb.get(a);if(re!==void 0){var ae=al,Ge=a;switch(a){case"keypress":if(Ra(l)===0)break e;case"keydown":case"keyup":ae=ul;break;case"focusin":Ge="focus",ae=ol;break;case"focusout":Ge="blur",ae=ol;break;case"beforeblur":case"afterblur":ae=ol;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=oh;break;case db:case hb:case fb:ae=ll;break;case mb:ae=ch;break;case"scroll":case"scrollend":ae=eh;break;case"wheel":ae=dl;break;case"copy":case"cut":case"paste":ae=cl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=zc;break;case"toggle":case"beforetoggle":ae=dh}var ze=(s&4)!==0,It=!ze&&(a==="scroll"||a==="scrollend"),Q=ze?re!==null?re+"Capture":null:re;ze=[];for(var K=ee,Z;K!==null;){var de=K;if(Z=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Z===null||Q===null||(de=ro(K,Q),de!=null&&ze.push(xu(K,de,Z))),It)break;K=K.return}0<ze.length&&(re=new ae(re,Ge,null,l,ce),fe.push({event:re,listeners:ze}))}}if((s&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",re&&l!==ai&&(Ge=l.relatedTarget||l.fromElement)&&(Fe(Ge)||Ge[_e]))break e;if((ae||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,ae?(Ge=l.relatedTarget||l.toElement,ae=ee,Ge=Ge?Fe(Ge):null,Ge!==null&&(It=o(Ge),ze=Ge.tag,Ge!==It||ze!==5&&ze!==27&&ze!==6)&&(Ge=null)):(ae=null,Ge=ee),ae!==Ge)){if(ze=Fr,de="onMouseLeave",Q="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(ze=zc,de="onPointerLeave",Q="onPointerEnter",K="pointer"),It=ae==null?re:kt(ae),Z=Ge==null?re:kt(Ge),re=new ze(de,K+"leave",ae,l,ce),re.target=It,re.relatedTarget=Z,de=null,Fe(ce)===ee&&(ze=new ze(Q,K+"enter",Ge,l,ce),ze.target=Z,ze.relatedTarget=It,de=ze),It=de,ae&&Ge)t:{for(ze=ae,Q=Ge,K=0,Z=ze;Z;Z=Ol(Z))K++;for(Z=0,de=Q;de;de=Ol(de))Z++;for(;0<K-Z;)ze=Ol(ze),K--;for(;0<Z-K;)Q=Ol(Q),Z--;for(;K--;){if(ze===Q||Q!==null&&ze===Q.alternate)break t;ze=Ol(ze),Q=Ol(Q)}ze=null}else ze=null;ae!==null&&M2(fe,re,ae,ze,!1),Ge!==null&&It!==null&&M2(fe,It,Ge,ze,!0)}}e:{if(re=ee?kt(ee):window,ae=re.nodeName&&re.nodeName.toLowerCase(),ae==="select"||ae==="input"&&re.type==="file")var Ce=eb;else if(xn(re))if(tb)Ce=hC;else{Ce=uC;var it=cC}else ae=re.nodeName,!ae||ae.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&Ic(ee.elementType)&&(Ce=eb):Ce=dC;if(Ce&&(Ce=Ce(a,ee))){ci(fe,Ce,l,ce);break e}it&&it(a,re,ee),a==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&Xi(re,"number",re.value)}switch(it=ee?kt(ee):window,a){case"focusin":(xn(it)||it.contentEditable==="true")&&(hl=it,Tp=ee,qc=null);break;case"focusout":qc=Tp=hl=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,cb(fe,l,ce);break;case"selectionchange":if(mC)break;case"keydown":case"keyup":cb(fe,l,ce)}var Me;if(Da)e:{switch(a){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else pt?se(a,l)&&(Be="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(k&&l.locale!=="ko"&&(pt||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&pt&&(Me=Mc()):(ja=ce,Wi="value"in ja?ja.value:ja.textContent,pt=!0)),it=Zh(ee,Be),0<it.length&&(Be=new Vc(Be,a,null,l,ce),fe.push({event:Be,listeners:it}),Me?Be.data=Me:(Me=be(l),Me!==null&&(Be.data=Me)))),(Me=w?gn(a,l):gt(a,l))&&(Be=Zh(ee,"onBeforeInput"),0<Be.length&&(it=new Vc("onBeforeInput","beforeinput",null,l,ce),fe.push({event:it,listeners:Be}),it.data=Me)),XC(fe,a,ee,l,ce)}I2(fe,s)})}function xu(a,s,l){return{instance:a,listener:s,currentTarget:l}}function Zh(a,s){for(var l=s+"Capture",h=[];a!==null;){var g=a,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ro(a,l),g!=null&&h.unshift(xu(a,g,y)),g=ro(a,s),g!=null&&h.push(xu(a,g,y))),a.tag===3)return h;a=a.return}return[]}function Ol(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function M2(a,s,l,h,g){for(var y=s._reactName,_=[];l!==null&&l!==h;){var A=l,H=A.alternate,ee=A.stateNode;if(A=A.tag,H!==null&&H===h)break;A!==5&&A!==26&&A!==27||ee===null||(H=ee,g?(ee=ro(l,y),ee!=null&&_.unshift(xu(l,ee,H))):g||(ee=ro(l,y),ee!=null&&_.push(xu(l,ee,H)))),l=l.return}_.length!==0&&a.push({event:s,listeners:_})}var e3=/\r\n?/g,t3=/\u0000|\uFFFD/g;function O2(a){return(typeof a=="string"?a:""+a).replace(e3,`
`).replace(t3,"")}function L2(a,s){return s=O2(s),O2(a)===s}function Jh(){}function Pt(a,s,l,h,g,y){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Vr(a,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Vr(a,""+h);break;case"className":Xn(a,"class",h);break;case"tabIndex":Xn(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(a,l,h);break;case"style":Pc(a,h,y);break;case"data":if(s!=="object"){Xn(a,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(l);break}h=rl(""+h),a.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Pt(a,s,"name",g.name,g,null),Pt(a,s,"formEncType",g.formEncType,g,null),Pt(a,s,"formMethod",g.formMethod,g,null),Pt(a,s,"formTarget",g.formTarget,g,null)):(Pt(a,s,"encType",g.encType,g,null),Pt(a,s,"method",g.method,g,null),Pt(a,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(l);break}h=rl(""+h),a.setAttribute(l,h);break;case"onClick":h!=null&&(a.onclick=Jh);break;case"onScroll":h!=null&&ct("scroll",a);break;case"onScrollEnd":h!=null&&ct("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}l=rl(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(l,""+h):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":h===!0?a.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(l,h):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(l,h):a.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(l):a.setAttribute(l,h);break;case"popover":ct("beforetoggle",a),ct("toggle",a),zn(a,"popover",h);break;case"xlinkActuate":Ke(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ke(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ke(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ke(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ke(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ke(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ke(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ke(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ke(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":zn(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=pp.get(l)||l,zn(a,l,h))}}function $g(a,s,l,h,g,y){switch(l){case"style":Pc(a,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"children":typeof h=="string"?Vr(a,h):(typeof h=="number"||typeof h=="bigint")&&Vr(a,""+h);break;case"onScroll":h!=null&&ct("scroll",a);break;case"onScrollEnd":h!=null&&ct("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),y=a[xe]||null,y=y!=null?y[l]:null,typeof y=="function"&&a.removeEventListener(s,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,h,g);break e}l in a?a[l]=h:h===!0?a.setAttribute(l,""):zn(a,l,h)}}}function Dn(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",a),ct("load",a);var h=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var _=l[y];if(_!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pt(a,s,y,_,l,null)}}g&&Pt(a,s,"srcSet",l.srcSet,l,null),h&&Pt(a,s,"src",l.src,l,null);return;case"input":ct("invalid",a);var A=y=_=g=null,H=null,ee=null;for(h in l)if(l.hasOwnProperty(h)){var ce=l[h];if(ce!=null)switch(h){case"name":g=ce;break;case"type":_=ce;break;case"checked":H=ce;break;case"defaultChecked":ee=ce;break;case"value":y=ce;break;case"defaultValue":A=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:Pt(a,s,h,ce,l,null)}}eo(a,y,A,H,ee,_,g,!1),nl(a);return;case"select":ct("invalid",a),h=_=y=null;for(g in l)if(l.hasOwnProperty(g)&&(A=l[g],A!=null))switch(g){case"value":y=A;break;case"defaultValue":_=A;break;case"multiple":h=A;default:Pt(a,s,g,A,l,null)}s=y,l=_,a.multiple=!!h,s!=null?ri(a,!!h,s,!1):l!=null&&ri(a,!!h,l,!0);return;case"textarea":ct("invalid",a),y=g=h=null;for(_ in l)if(l.hasOwnProperty(_)&&(A=l[_],A!=null))switch(_){case"value":h=A;break;case"defaultValue":g=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Pt(a,s,_,A,l,null)}to(a,h,g,y),nl(a);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(h=l[H],h!=null))switch(H){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Pt(a,s,H,h,l,null)}return;case"dialog":ct("beforetoggle",a),ct("toggle",a),ct("cancel",a),ct("close",a);break;case"iframe":case"object":ct("load",a);break;case"video":case"audio":for(h=0;h<gu.length;h++)ct(gu[h],a);break;case"image":ct("error",a),ct("load",a);break;case"details":ct("toggle",a);break;case"embed":case"source":case"link":ct("error",a),ct("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(h=l[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pt(a,s,ee,h,l,null)}return;default:if(Ic(s)){for(ce in l)l.hasOwnProperty(ce)&&(h=l[ce],h!==void 0&&$g(a,s,ce,h,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(h=l[A],h!=null&&Pt(a,s,A,h,l,null))}function n3(a,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,_=null,A=null,H=null,ee=null,ce=null;for(ae in l){var fe=l[ae];if(l.hasOwnProperty(ae)&&fe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":H=fe;default:h.hasOwnProperty(ae)||Pt(a,s,ae,null,h,fe)}}for(var re in h){var ae=h[re];if(fe=l[re],h.hasOwnProperty(re)&&(ae!=null||fe!=null))switch(re){case"type":y=ae;break;case"name":g=ae;break;case"checked":ee=ae;break;case"defaultChecked":ce=ae;break;case"value":_=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:ae!==fe&&Pt(a,s,re,ae,h,fe)}}yr(a,_,A,H,ee,ce,y,g);return;case"select":ae=_=A=re=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":ae=H;default:h.hasOwnProperty(y)||Pt(a,s,y,null,h,H)}for(g in h)if(y=h[g],H=l[g],h.hasOwnProperty(g)&&(y!=null||H!=null))switch(g){case"value":re=y;break;case"defaultValue":A=y;break;case"multiple":_=y;default:y!==H&&Pt(a,s,g,y,h,H)}s=A,l=_,h=ae,re!=null?ri(a,!!l,re,!1):!!h!=!!l&&(s!=null?ri(a,!!l,s,!0):ri(a,!!l,l?[]:"",!1));return;case"textarea":ae=re=null;for(A in l)if(g=l[A],l.hasOwnProperty(A)&&g!=null&&!h.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Pt(a,s,A,null,h,g)}for(_ in h)if(g=h[_],y=l[_],h.hasOwnProperty(_)&&(g!=null||y!=null))switch(_){case"value":re=g;break;case"defaultValue":ae=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Pt(a,s,_,g,h,y)}jt(a,re,ae);return;case"option":for(var Ge in l)if(re=l[Ge],l.hasOwnProperty(Ge)&&re!=null&&!h.hasOwnProperty(Ge))switch(Ge){case"selected":a.selected=!1;break;default:Pt(a,s,Ge,null,h,re)}for(H in h)if(re=h[H],ae=l[H],h.hasOwnProperty(H)&&re!==ae&&(re!=null||ae!=null))switch(H){case"selected":a.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Pt(a,s,H,re,h,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)re=l[ze],l.hasOwnProperty(ze)&&re!=null&&!h.hasOwnProperty(ze)&&Pt(a,s,ze,null,h,re);for(ee in h)if(re=h[ee],ae=l[ee],h.hasOwnProperty(ee)&&re!==ae&&(re!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Pt(a,s,ee,re,h,ae)}return;default:if(Ic(s)){for(var It in l)re=l[It],l.hasOwnProperty(It)&&re!==void 0&&!h.hasOwnProperty(It)&&$g(a,s,It,void 0,h,re);for(ce in h)re=h[ce],ae=l[ce],!h.hasOwnProperty(ce)||re===ae||re===void 0&&ae===void 0||$g(a,s,ce,re,h,ae);return}}for(var Q in l)re=l[Q],l.hasOwnProperty(Q)&&re!=null&&!h.hasOwnProperty(Q)&&Pt(a,s,Q,null,h,re);for(fe in h)re=h[fe],ae=l[fe],!h.hasOwnProperty(fe)||re===ae||re==null&&ae==null||Pt(a,s,fe,re,h,ae)}var Kg=null,Yg=null;function ef(a){return a.nodeType===9?a:a.ownerDocument}function V2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U2(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Qg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xg=null;function r3(){var a=window.event;return a&&a.type==="popstate"?a===Xg?!1:(Xg=a,!0):(Xg=null,!1)}var z2=typeof setTimeout=="function"?setTimeout:void 0,a3=typeof clearTimeout=="function"?clearTimeout:void 0,F2=typeof Promise=="function"?Promise:void 0,i3=typeof queueMicrotask=="function"?queueMicrotask:typeof F2<"u"?function(a){return F2.resolve(null).then(a).catch(s3)}:z2;function s3(a){setTimeout(function(){throw a})}function fs(a){return a==="head"}function B2(a,s){var l=s,h=0,g=0;do{var y=l.nextSibling;if(a.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<h&&8>h){l=h;var _=a.ownerDocument;if(l&1&&yu(_.documentElement),l&2&&yu(_.body),l&4)for(l=_.head,yu(l),_=l.firstChild;_;){var A=_.nextSibling,H=_.nodeName;_[Ue]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=A}}if(g===0){a.removeChild(y),Su(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=y}while(l);Su(s)}function Wg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wg(l),Re(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function o3(a,s,l,h){for(;a.nodeType===1;){var g=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Ue])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=ha(a.nextSibling),a===null)break}return null}function l3(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=ha(a.nextSibling),a===null))return null;return a}function Zg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function c3(a,s){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function ha(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var Jg=null;function q2(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return a;s--}else l==="/$"&&s++}a=a.previousSibling}return null}function H2(a,s,l){switch(s=ef(l),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function yu(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Re(a)}var Yr=new Map,G2=new Set;function tf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ti=ie.d;ie.d={f:u3,r:d3,D:h3,C:f3,L:m3,m:p3,X:x3,S:g3,M:y3};function u3(){var a=Ti.f(),s=$h();return a||s}function d3(a){var s=ot(a);s!==null&&s.tag===5&&s.type==="form"?d1(s):Ti.r(a)}var Ll=typeof document>"u"?null:document;function $2(a,s,l){var h=Ll;if(h&&typeof s=="string"&&s){var g=cn(s);g='link[rel="'+a+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),G2.has(g)||(G2.add(g),a={rel:a,crossOrigin:l,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Dn(s,"link",a),ft(s),h.head.appendChild(s)))}}function h3(a){Ti.D(a),$2("dns-prefetch",a,null)}function f3(a,s){Ti.C(a,s),$2("preconnect",a,s)}function m3(a,s,l){Ti.L(a,s,l);var h=Ll;if(h&&a&&s){var g='link[rel="preload"][as="'+cn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+cn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+cn(l.imageSizes)+'"]')):g+='[href="'+cn(a)+'"]';var y=g;switch(s){case"style":y=Vl(a);break;case"script":y=Ul(a)}Yr.has(y)||(a=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),Yr.set(y,a),h.querySelector(g)!==null||s==="style"&&h.querySelector(vu(y))||s==="script"&&h.querySelector(bu(y))||(s=h.createElement("link"),Dn(s,"link",a),ft(s),h.head.appendChild(s)))}}function p3(a,s){Ti.m(a,s);var l=Ll;if(l&&a){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+cn(h)+'"][href="'+cn(a)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ul(a)}if(!Yr.has(y)&&(a=x({rel:"modulepreload",href:a},s),Yr.set(y,a),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bu(y)))return}h=l.createElement("link"),Dn(h,"link",a),ft(h),l.head.appendChild(h)}}}function g3(a,s,l){Ti.S(a,s,l);var h=Ll;if(h&&a){var g=vt(h).hoistableStyles,y=Vl(a);s=s||"default";var _=g.get(y);if(!_){var A={loading:0,preload:null};if(_=h.querySelector(vu(y)))A.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":s},l),(l=Yr.get(y))&&e0(a,l);var H=_=h.createElement("link");ft(H),Dn(H,"link",a),H._p=new Promise(function(ee,ce){H.onload=ee,H.onerror=ce}),H.addEventListener("load",function(){A.loading|=1}),H.addEventListener("error",function(){A.loading|=2}),A.loading|=4,nf(_,s,h)}_={type:"stylesheet",instance:_,count:1,state:A},g.set(y,_)}}}function x3(a,s){Ti.X(a,s);var l=Ll;if(l&&a){var h=vt(l).hoistableScripts,g=Ul(a),y=h.get(g);y||(y=l.querySelector(bu(g)),y||(a=x({src:a,async:!0},s),(s=Yr.get(g))&&t0(a,s),y=l.createElement("script"),ft(y),Dn(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function y3(a,s){Ti.M(a,s);var l=Ll;if(l&&a){var h=vt(l).hoistableScripts,g=Ul(a),y=h.get(g);y||(y=l.querySelector(bu(g)),y||(a=x({src:a,async:!0,type:"module"},s),(s=Yr.get(g))&&t0(a,s),y=l.createElement("script"),ft(y),Dn(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function K2(a,s,l,h){var g=(g=Pe.current)?tf(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Vl(l.href),l=vt(g).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Vl(l.href);var y=vt(g).hoistableStyles,_=y.get(a);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,_),(y=g.querySelector(vu(a)))&&!y._p&&(_.instance=y,_.state.loading=5),Yr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Yr.set(a,l),y||v3(g,a,l,_.state))),s&&h===null)throw Error(r(528,""));return _}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ul(l),l=vt(g).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Vl(a){return'href="'+cn(a)+'"'}function vu(a){return'link[rel="stylesheet"]['+a+"]"}function Y2(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function v3(a,s,l,h){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=a.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Dn(s,"link",l),ft(s),a.head.appendChild(s))}function Ul(a){return'[src="'+cn(a)+'"]'}function bu(a){return"script[async]"+a}function Q2(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=a.querySelector('style[data-href~="'+cn(l.href)+'"]');if(h)return s.instance=h,ft(h),h;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),ft(h),Dn(h,"style",g),nf(h,l.precedence,a),s.instance=h;case"stylesheet":g=Vl(l.href);var y=a.querySelector(vu(g));if(y)return s.state.loading|=4,s.instance=y,ft(y),y;h=Y2(l),(g=Yr.get(g))&&e0(h,g),y=(a.ownerDocument||a).createElement("link"),ft(y);var _=y;return _._p=new Promise(function(A,H){_.onload=A,_.onerror=H}),Dn(y,"link",h),s.state.loading|=4,nf(y,l.precedence,a),s.instance=y;case"script":return y=Ul(l.src),(g=a.querySelector(bu(y)))?(s.instance=g,ft(g),g):(h=l,(g=Yr.get(y))&&(h=x({},l),t0(h,g)),a=a.ownerDocument||a,g=a.createElement("script"),ft(g),Dn(g,"link",h),a.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,nf(h,l.precedence,a));return s.instance}function nf(a,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,_=0;_<h.length;_++){var A=h[_];if(A.dataset.precedence===s)y=A;else if(y!==g)break}y?y.parentNode.insertBefore(a,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function e0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function t0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var rf=null;function X2(a,s,l){if(rf===null){var h=new Map,g=rf=new Map;g.set(l,h)}else g=rf,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(a))return h;for(h.set(a,null),l=l.getElementsByTagName(a),g=0;g<l.length;g++){var y=l[g];if(!(y[Ue]||y[he]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(s)||"";_=a+_;var A=h.get(_);A?A.push(y):h.set(_,[y])}}return h}function W2(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function b3(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Z2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var wu=null;function w3(){}function T3(a,s,l){if(wu===null)throw Error(r(475));var h=wu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Vl(l.href),y=a.querySelector(vu(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(h.count++,h=af.bind(h),a.then(h,h)),s.state.loading|=4,s.instance=y,ft(y);return}y=a.ownerDocument||a,l=Y2(l),(g=Yr.get(g))&&e0(l,g),y=y.createElement("link"),ft(y);var _=y;_._p=new Promise(function(A,H){_.onload=A,_.onerror=H}),Dn(y,"link",l),s.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=af.bind(h),a.addEventListener("load",s),a.addEventListener("error",s))}}function k3(){if(wu===null)throw Error(r(475));var a=wu;return a.stylesheets&&a.count===0&&n0(a,a.stylesheets),0<a.count?function(s){var l=setTimeout(function(){if(a.stylesheets&&n0(a,a.stylesheets),a.unsuspend){var h=a.unsuspend;a.unsuspend=null,h()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(l)}}:null}function af(){if(this.count--,this.count===0){if(this.stylesheets)n0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var sf=null;function n0(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,sf=new Map,s.forEach(_3,a),sf=null,af.call(a))}function _3(a,s){if(!(s.state.loading&4)){var l=sf.get(a);if(l)var h=l.get(null);else{l=new Map,sf.set(a,l);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var _=g[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),h=_)}h&&l.set(null,h)}g=s.instance,_=g.getAttribute("data-precedence"),y=l.get(_)||h,y===h&&l.set(null,g),l.set(_,g),this.count++,h=af.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),s.state.loading|=4}}var Tu={$$typeof:L,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function E3(a,s,l,h,g,y,_,A){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function J2(a,s,l,h,g,y,_,A,H,ee,ce,fe){return a=new E3(a,s,l,_,A,H,ee,fe),s=1,y===!0&&(s|=24),y=br(3,null,null,s),a.current=y,y.stateNode=a,s=Lp(),s.refCount++,a.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:s},Fp(y),a}function ew(a){return a?(a=gl,a):gl}function tw(a,s,l,h,g,y){g=ew(g),h.context===null?h.context=g:h.pendingContext=g,h=es(s),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=ts(a,h,s),l!==null&&(Er(l,a,s),Zc(l,a,s))}function nw(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function r0(a,s){nw(a,s),(a=a.alternate)&&nw(a,s)}function rw(a){if(a.tag===13){var s=pl(a,67108864);s!==null&&Er(s,a,67108864),r0(a,67108864)}}var of=!0;function S3(a,s,l,h){var g=Y.T;Y.T=null;var y=ie.p;try{ie.p=2,a0(a,s,l,h)}finally{ie.p=y,Y.T=g}}function N3(a,s,l,h){var g=Y.T;Y.T=null;var y=ie.p;try{ie.p=8,a0(a,s,l,h)}finally{ie.p=y,Y.T=g}}function a0(a,s,l,h){if(of){var g=i0(h);if(g===null)Gg(a,s,h,lf,l),iw(a,h);else if(C3(g,a,s,l,h))h.stopPropagation();else if(iw(a,h),s&4&&-1<A3.indexOf(a)){for(;g!==null;){var y=ot(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=pr(y.pendingLanes);if(_!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var H=1<<31-on(_);A.entanglements[1]|=H,_&=~H}za(y),(St&6)===0&&(Hh=An()+500,pu(0))}}break;case 13:A=pl(y,2),A!==null&&Er(A,y,2),$h(),r0(y,2)}if(y=i0(h),y===null&&Gg(a,s,h,lf,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else Gg(a,s,h,null,l)}}function i0(a){return a=Ur(a),s0(a)}var lf=null;function s0(a){if(lf=null,a=Fe(a),a!==null){var s=o(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=c(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return lf=a,null}function aw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case sa:return 2;case qi:return 8;case Ja:case oa:return 32;case Pr:return 268435456;default:return 32}default:return 32}}var o0=!1,ms=null,ps=null,gs=null,ku=new Map,_u=new Map,xs=[],A3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iw(a,s){switch(a){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":ku.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(s.pointerId)}}function Eu(a,s,l,h,g,y){return a===null||a.nativeEvent!==y?(a={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},s!==null&&(s=ot(s),s!==null&&rw(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),a)}function C3(a,s,l,h,g){switch(s){case"focusin":return ms=Eu(ms,a,s,l,h,g),!0;case"dragenter":return ps=Eu(ps,a,s,l,h,g),!0;case"mouseover":return gs=Eu(gs,a,s,l,h,g),!0;case"pointerover":var y=g.pointerId;return ku.set(y,Eu(ku.get(y)||null,a,s,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,_u.set(y,Eu(_u.get(y)||null,a,s,l,h,g)),!0}return!1}function sw(a){var s=Fe(a.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){a.blockedOn=s,X(a.priority,function(){if(l.tag===13){var h=_r();h=Sa(h);var g=pl(l,h);g!==null&&Er(g,l,h),r0(l,h)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function cf(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=i0(a.nativeEvent);if(l===null){l=a.nativeEvent;var h=new l.constructor(l.type,l);ai=h,l.target.dispatchEvent(h),ai=null}else return s=ot(l),s!==null&&rw(s),a.blockedOn=l,!1;s.shift()}return!0}function ow(a,s,l){cf(a)&&l.delete(s)}function j3(){o0=!1,ms!==null&&cf(ms)&&(ms=null),ps!==null&&cf(ps)&&(ps=null),gs!==null&&cf(gs)&&(gs=null),ku.forEach(ow),_u.forEach(ow)}function uf(a,s){a.blockedOn===s&&(a.blockedOn=null,o0||(o0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,j3)))}var df=null;function lw(a){df!==a&&(df=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){df===a&&(df=null);for(var s=0;s<a.length;s+=3){var l=a[s],h=a[s+1],g=a[s+2];if(typeof h!="function"){if(s0(h||l)===null)continue;break}var y=ot(l);y!==null&&(a.splice(s,3),s-=3,sg(y,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Su(a){function s(H){return uf(H,a)}ms!==null&&uf(ms,a),ps!==null&&uf(ps,a),gs!==null&&uf(gs,a),ku.forEach(s),_u.forEach(s);for(var l=0;l<xs.length;l++){var h=xs[l];h.blockedOn===a&&(h.blockedOn=null)}for(;0<xs.length&&(l=xs[0],l.blockedOn===null);)sw(l),l.blockedOn===null&&xs.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],y=l[h+1],_=g[xe]||null;if(typeof y=="function")_||lw(l);else if(_){var A=null;if(y&&y.hasAttribute("formAction")){if(g=y,_=y[xe]||null)A=_.formAction;else if(s0(g)!==null)continue}else A=_.action;typeof A=="function"?l[h+1]=A:(l.splice(h,3),h-=3),lw(l)}}}function l0(a){this._internalRoot=a}hf.prototype.render=l0.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=_r();tw(l,h,a,s,null,null)},hf.prototype.unmount=l0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;tw(a.current,2,null,a,null,null),$h(),s[_e]=null}};function hf(a){this._internalRoot=a}hf.prototype.unstable_scheduleHydration=function(a){if(a){var s=G();a={blockedOn:null,target:a,priority:s};for(var l=0;l<xs.length&&s!==0&&s<xs[l].priority;l++);xs.splice(l,0,a),l===0&&sw(a)}};var cw=e.version;if(cw!=="19.1.0")throw Error(r(527,cw,"19.1.0"));ie.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var R3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{wt=ff.inject(R3),tt=ff}catch{}}return Au.createRoot=function(a,s){if(!i(a))throw Error(r(299));var l=!1,h="",g=E1,y=S1,_=N1,A=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=J2(a,1,!1,null,null,l,h,g,y,_,A,null),a[_e]=s.current,Hg(a),new l0(s)},Au.hydrateRoot=function(a,s,l){if(!i(a))throw Error(r(299));var h=!1,g="",y=E1,_=S1,A=N1,H=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),s=J2(a,1,!0,s,l??null,h,g,y,_,A,H,ee),s.context=ew(null),l=s.current,h=_r(),h=Sa(h),g=es(h),g.callback=null,ts(l,g,h),l=h,s.current.lanes=l,la(s,l),za(s),a[_e]=s.current,Hg(a),new hf(s)},Au.version="19.1.0",Au}var vw;function F3(){if(vw)return d0.exports;vw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d0.exports=z3(),d0.exports}var B3=F3();const Ye=t=>typeof t=="string",Cu=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},bw=t=>t==null?"":""+t,q3=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},H3=/###/g,ww=t=>t&&t.indexOf("###")>-1?t.replace(H3,"."):t,Tw=t=>!t||Ye(t),$u=(t,e,n)=>{const r=Ye(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Tw(t))return{};const o=ww(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return Tw(t)?{}:{obj:t,k:ww(r[i])}},kw=(t,e,n)=>{const{obj:r,k:i}=$u(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],c=e.slice(0,e.length-1),d=$u(t,c,Object);for(;d.obj===void 0&&c.length;)o=`${c[c.length-1]}.${o}`,c=c.slice(0,c.length-1),d=$u(t,c,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${o}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${o}`]=n},G3=(t,e,n,r)=>{const{obj:i,k:o}=$u(t,e,Object);i[o]=i[o]||[],i[o].push(n)},Yf=(t,e)=>{const{obj:n,k:r}=$u(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},$3=(t,e,n)=>{const r=Yf(t,n);return r!==void 0?r:Yf(e,n)},bE=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Ye(t[r])||t[r]instanceof String||Ye(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):bE(t[r],e[r],n):t[r]=e[r]);return t},zl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var K3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Y3=t=>Ye(t)?t.replace(/[&<>"'\/]/g,e=>K3[e]):t;class Q3{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const X3=[" ",",","?","!",";"],W3=new Q3(20),Z3=(t,e,n)=>{e=e||"",n=n||"";const r=X3.filter(c=>e.indexOf(c)<0&&n.indexOf(c)<0);if(r.length===0)return!0;const i=W3.getRegExp(`(${r.map(c=>c==="?"?"\\?":c).join("|")})`);let o=!i.test(t);if(!o){const c=t.indexOf(n);c>0&&!i.test(t.substring(0,c))&&(o=!0)}return o},W0=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let c,d="";for(let f=o;f<r.length;++f)if(f!==o&&(d+=n),d+=r[f],c=i[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&f<r.length-1)continue;o+=f-o+1;break}i=c}return i},ld=t=>t==null?void 0:t.replace("_","-"),J3={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};let ej=class Z0{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||J3,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Ye(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Z0(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Z0(this.logger,e)}};var Ba=new ej;class Am{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let c=0;c<o;c++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let c=0;c<o;c++)i.apply(i,[e,...n])})}}class _w extends Am{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var m,x;const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,c=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,n],r&&(Array.isArray(r)?d.push(...r):Ye(r)&&o?d.push(...r.split(o)):d.push(r)));const f=Yf(this.data,d);return!f&&!n&&!r&&e.indexOf(".")>-1&&(e=d[0],n=d[1],r=d.slice(2).join(".")),f||!c||!Ye(r)?f:W0((x=(m=this.data)==null?void 0:m[e])==null?void 0:x[n],r,o)}addResource(e,n,r,i,o={silent:!1}){const c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let d=[e,n];r&&(d=d.concat(c?r.split(c):r)),e.indexOf(".")>-1&&(d=e.split("."),i=n,n=d[1]),this.addNamespaces(n),kw(this.data,d,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const o in r)(Ye(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o,c={silent:!1,skipCopy:!1}){let d=[e,n];e.indexOf(".")>-1&&(d=e.split("."),i=r,r=n,n=d[1]),this.addNamespaces(n);let f=Yf(this.data,d)||{};c.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?bE(f,r,o):f={...f,...r},kw(this.data,d,f),c.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var wE={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{var c;e=((c=this.processors[o])==null?void 0:c.process(e,n,r,i))??e}),e}};const Ew={},Sw=t=>!Ye(t)&&typeof t!="boolean"&&typeof t!="number";class Qf extends Am{constructor(e,n={}){super(),q3(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ba.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const c=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Z3(e,r,i);if(c&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Ye(o)?[o]:o};const m=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(m[0])>-1)&&(o=m.shift()),e=m.join(i)}return{key:e,namespaces:Ye(o)?[o]:o}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(e[e.length-1],i),m=f[f.length-1];let x=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;x===void 0&&(x=":");const v=i.lng||this.language,b=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((v==null?void 0:v.toLowerCase())==="cimode")return b?o?{res:`${m}${x}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(i)}:`${m}${x}${d}`:o?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(i)}:d;const T=this.resolve(e,i);let E=T==null?void 0:T.res;const j=(T==null?void 0:T.usedKey)||d,O=(T==null?void 0:T.exactUsedKey)||d,M=["[object Number]","[object Function]","[object RegExp]"],z=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject,q=i.count!==void 0&&!Ye(i.count),V=Qf.hasDefaultValue(i),I=q?this.pluralResolver.getSuffix(v,i.count,i):"",P=i.ordinal&&q?this.pluralResolver.getSuffix(v,i.count,{ordinal:!1}):"",N=q&&!i.ordinal&&i.count===0,S=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${I}`]||i[`defaultValue${P}`]||i.defaultValue;let D=E;L&&!E&&V&&(D=S);const B=Sw(D),$=Object.prototype.toString.apply(D);if(L&&D&&B&&M.indexOf($)<0&&!(Ye(z)&&Array.isArray(D))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,D,{...i,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return o?(T.res=U,T.usedParams=this.getUsedParamsDetails(i),T):U}if(c){const U=Array.isArray(D),ye=U?[]:{},ke=U?O:j;for(const Y in D)if(Object.prototype.hasOwnProperty.call(D,Y)){const ie=`${ke}${c}${Y}`;V&&!E?ye[Y]=this.translate(ie,{...i,defaultValue:Sw(S)?S[Y]:void 0,joinArrays:!1,ns:f}):ye[Y]=this.translate(ie,{...i,joinArrays:!1,ns:f}),ye[Y]===ie&&(ye[Y]=D[Y])}E=ye}}else if(L&&Ye(z)&&Array.isArray(E))E=E.join(z),E&&(E=this.extendTranslation(E,e,i,r));else{let U=!1,ye=!1;!this.isValidLookup(E)&&V&&(U=!0,E=S),this.isValidLookup(E)||(ye=!0,E=d);const Y=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ye?void 0:E,ie=V&&S!==E&&this.options.updateMissing;if(ye||U||ie){if(this.logger.log(ie?"updateKey":"missingKey",v,m,d,ie?S:E),c){const ne=this.resolve(d,{...i,keySeparator:!1});ne&&ne.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const ve=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ve&&ve[0])for(let ne=0;ne<ve.length;ne++)te.push(ve[ne]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(i.lng||this.language):te.push(i.lng||this.language);const F=(ne,pe,oe)=>{var Ie;const Te=V&&oe!==E?oe:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(ne,m,pe,Te,ie,i):(Ie=this.backendConnector)!=null&&Ie.saveMissing&&this.backendConnector.saveMissing(ne,m,pe,Te,ie,i),this.emit("missingKey",ne,m,pe,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?te.forEach(ne=>{const pe=this.pluralResolver.getSuffixes(ne,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&pe.indexOf(`${this.options.pluralSeparator}zero`)<0&&pe.push(`${this.options.pluralSeparator}zero`),pe.forEach(oe=>{F([ne],d+oe,i[`defaultValue${oe}`]||S)})}):F(te,d,S))}E=this.extendTranslation(E,e,i,T,r),ye&&E===d&&this.options.appendNamespaceToMissingKey&&(E=`${m}${x}${d}`),(ye||U)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${x}${d}`:d,U?E:void 0,i))}return o?(T.res=E,T.usedParams=this.getUsedParamsDetails(i),T):E}extendTranslation(e,n,r,i,o){var f,m;if((f=this.i18nFormat)!=null&&f.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const x=Ye(e)&&(((m=r==null?void 0:r.interpolation)==null?void 0:m.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(x){const T=e.match(this.interpolator.nestingRegexp);v=T&&T.length}let b=r.replace&&!Ye(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),e=this.interpolator.interpolate(e,b,r.lng||this.language||i.usedLng,r),x){const T=e.match(this.interpolator.nestingRegexp),E=T&&T.length;v<E&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(o==null?void 0:o[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${n[0]}`),null):this.translate(...T,n),r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,d=Ye(c)?[c]:c;return e!=null&&(d!=null&&d.length)&&r.applyPostProcessor!==!1&&(e=wE.handle(d,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,o,c,d;return Ye(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,n),x=m.key;i=x;let v=m.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=n.count!==void 0&&!Ye(n.count),T=b&&!n.ordinal&&n.count===0,E=n.context!==void 0&&(Ye(n.context)||typeof n.context=="number")&&n.context!=="",j=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(O=>{var M,z;this.isValidLookup(r)||(d=O,!Ew[`${j[0]}-${O}`]&&((M=this.utils)!=null&&M.hasLoadedNamespace)&&!((z=this.utils)!=null&&z.hasLoadedNamespace(d))&&(Ew[`${j[0]}-${O}`]=!0,this.logger.warn(`key "${i}" for languages "${j.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(L=>{var I;if(this.isValidLookup(r))return;c=L;const q=[x];if((I=this.i18nFormat)!=null&&I.addLookupKeys)this.i18nFormat.addLookupKeys(q,x,L,O,n);else{let P;b&&(P=this.pluralResolver.getSuffix(L,n.count,n));const N=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(q.push(x+P),n.ordinal&&P.indexOf(S)===0&&q.push(x+P.replace(S,this.options.pluralSeparator)),T&&q.push(x+N)),E){const D=`${x}${this.options.contextSeparator}${n.context}`;q.push(D),b&&(q.push(D+P),n.ordinal&&P.indexOf(S)===0&&q.push(D+P.replace(S,this.options.pluralSeparator)),T&&q.push(D+N))}}let V;for(;V=q.pop();)this.isValidLookup(r)||(o=V,r=this.getResource(L,O,V,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ye(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Nw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ba.create("languageUtils")}getScriptPartFromCode(e){if(e=ld(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=ld(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ye(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(c=>{if(c===o)return c;if(!(c.indexOf("-")<0&&o.indexOf("-")<0)&&(c.indexOf("-")>0&&o.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===o||c.indexOf(o)===0&&o.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ye(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],o=c=>{c&&(this.isSupportedCode(c)?i.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Ye(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Ye(e)&&o(this.formatLanguageCode(e)),r.forEach(c=>{i.indexOf(c)<0&&o(this.formatLanguageCode(c))}),i}}const Aw={zero:0,one:1,two:2,few:3,many:4,other:5},Cw={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class tj{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Ba.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=ld(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let c;try{c=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Cw;if(!e.match(/-|_/))return Cw;const f=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(f,n)}return this.pluralRulesCache[o]=c,c}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>Aw[i]-Aw[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const jw=(t,e,n,r=".",i=!0)=>{let o=$3(t,e,n);return!o&&i&&Ye(n)&&(o=W0(t,n,r),o===void 0&&(o=W0(e,n,r))),o},p0=t=>t.replace(/\$/g,"$$$$");class nj{constructor(e={}){var n;this.logger=Ba.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:c,suffix:d,suffixEscaped:f,formatSeparator:m,unescapeSuffix:x,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:T,nestingSuffix:E,nestingSuffixEscaped:j,nestingOptionsSeparator:O,maxReplaces:M,alwaysFormat:z}=e.interpolation;this.escape=n!==void 0?n:Y3,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?zl(o):c||"{{",this.suffix=d?zl(d):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=x?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":x||"",this.nestingPrefix=b?zl(b):T||zl("$t("),this.nestingSuffix=E?zl(E):j||zl(")"),this.nestingOptionsSeparator=O||",",this.maxReplaces=M||1e3,this.alwaysFormat=z!==void 0?z:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var T;let o,c,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=E=>{if(E.indexOf(this.formatSeparator)<0){const z=jw(n,f,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(z,void 0,r,{...i,...n,interpolationkey:E}):z}const j=E.split(this.formatSeparator),O=j.shift().trim(),M=j.join(this.formatSeparator).trim();return this.format(jw(n,f,O,this.options.keySeparator,this.options.ignoreJSONStructure),M,r,{...i,...n,interpolationkey:O})};this.resetRegExp();const x=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((T=i==null?void 0:i.interpolation)==null?void 0:T.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>p0(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?p0(this.escape(E)):p0(E)}].forEach(E=>{for(d=0;o=E.regex.exec(e);){const j=o[1].trim();if(c=m(j),c===void 0)if(typeof x=="function"){const M=x(e,o,i);c=Ye(M)?M:""}else if(i&&Object.prototype.hasOwnProperty.call(i,j))c="";else if(v){c=o[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${e}`),c="";else!Ye(c)&&!this.useRawValueToEscape&&(c=bw(c));const O=E.safeValue(c);if(e=e.replace(o[0],O),v?(E.regex.lastIndex+=c.length,E.regex.lastIndex-=o[0].length):E.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,o,c;const d=(f,m)=>{const x=this.nestingOptionsSeparator;if(f.indexOf(x)<0)return f;const v=f.split(new RegExp(`${x}[ ]*{`));let b=`{${v[1]}`;f=v[0],b=this.interpolate(b,c);const T=b.match(/'/g),E=b.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!E||E.length%2!==0)&&(b=b.replace(/'/g,'"'));try{c=JSON.parse(b),m&&(c={...m,...c})}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,j),`${f}${x}${b}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,f};for(;i=this.nestingRegexp.exec(e);){let f=[];c={...r},c=c.replace&&!Ye(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;let m=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const x=i[1].split(this.formatSeparator).map(v=>v.trim());i[1]=x.shift(),f=x,m=!0}if(o=n(d.call(this,i[1].trim(),c),c),o&&i[0]===e&&!Ye(o))return o;Ye(o)||(o=bw(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),m&&(o=f.reduce((x,v)=>this.format(x,v,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const rj=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(c=>{if(c){const[d,...f]=c.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),x=d.trim();n[x]||(n[x]=m),m==="false"&&(n[x]=!1),m==="true"&&(n[x]=!0),isNaN(m)||(n[x]=parseInt(m,10))}})}return{formatName:e,formatOptions:n}},Rw=t=>{const e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const c=r+JSON.stringify(o);let d=e[c];return d||(d=t(ld(r),i),e[c]=d),d(n)}},aj=t=>(e,n,r)=>t(ld(n),r)(e);class ij{constructor(e={}){this.logger=Ba.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Rw:aj;this.formats={number:r((i,o)=>{const c=new Intl.NumberFormat(i,{...o});return d=>c.format(d)}),currency:r((i,o)=>{const c=new Intl.NumberFormat(i,{...o,style:"currency"});return d=>c.format(d)}),datetime:r((i,o)=>{const c=new Intl.DateTimeFormat(i,{...o});return d=>c.format(d)}),relativetime:r((i,o)=>{const c=new Intl.RelativeTimeFormat(i,{...o});return d=>c.format(d,o.range||"day")}),list:r((i,o)=>{const c=new Intl.ListFormat(i,{...o});return d=>c.format(d)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Rw(n)}format(e,n,r,i={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(d=>d.indexOf(")")>-1)){const d=o.findIndex(f=>f.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,d)].join(this.formatSeparator)}return o.reduce((d,f)=>{var v;const{formatName:m,formatOptions:x}=rj(f);if(this.formats[m]){let b=d;try{const T=((v=i==null?void 0:i.formatParams)==null?void 0:v[i.interpolationkey])||{},E=T.locale||T.lng||i.locale||i.lng||r;b=this.formats[m](d,E,{...x,...i,...T})}catch(T){this.logger.warn(T)}return b}else this.logger.warn(`there was no format function for ${m}`);return d},e)}}const sj=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class oj extends Am{constructor(e,n,r,i={}){var o,c;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ba.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(c=(o=this.backend)==null?void 0:o.init)==null||c.call(o,r,i.backend,i)}queueLoad(e,n,r,i){const o={},c={},d={},f={};return e.forEach(m=>{let x=!0;n.forEach(v=>{const b=`${m}|${v}`;!r.reload&&this.store.hasResourceBundle(m,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?c[b]===void 0&&(c[b]=!0):(this.state[b]=1,x=!1,c[b]===void 0&&(c[b]=!0),o[b]===void 0&&(o[b]=!0),f[v]===void 0&&(f[v]=!0)))}),x||(d[m]=!0)}),(Object.keys(o).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,n,r){const i=e.split("|"),o=i[0],c=i[1];n&&this.emit("failedLoading",o,c,n),!n&&r&&this.store.addResourceBundle(o,c,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{G3(f.loaded,[o],c),sj(f,e),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{d[m]||(d[m]={});const x=f.loaded[m];x.length&&x.forEach(v=>{d[m][v]===void 0&&(d[m][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,n,r,i=0,o=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:c});return}this.readingCalls++;const d=(m,x)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&x&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,c)},o);return}c(m,x)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,n);m&&typeof m.then=="function"?m.then(x=>d(null,x)).catch(d):d(null,m)}catch(m){d(m)}return}return f(e,n,d)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ye(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ye(n)&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(c=>{this.loadOne(c)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,c),!c&&d&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,d),this.loaded(e,c,d)})}saveMissing(e,n,r,i,o,c={},d=()=>{}){var f,m,x,v,b;if((m=(f=this.services)==null?void 0:f.utils)!=null&&m.hasLoadedNamespace&&!((v=(x=this.services)==null?void 0:x.utils)!=null&&v.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((b=this.backend)!=null&&b.create){const T={...c,isUpdate:o},E=this.backend.create.bind(this.backend);if(E.length<6)try{let j;E.length===5?j=E(e,n,r,i,T):j=E(e,n,r,i),j&&typeof j.then=="function"?j.then(O=>d(null,O)).catch(d):d(null,j)}catch(j){d(j)}else E(e,n,r,i,d,T)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Pw=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ye(t[1])&&(e.defaultValue=t[1]),Ye(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Iw=t=>{var e,n;return Ye(t.ns)&&(t.ns=[t.ns]),Ye(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ye(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},mf=()=>{},lj=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class cd extends Am{constructor(e={},n){if(super(),this.options=Iw(e),this.services={},this.logger=Ba,this.modules={external:[]},lj(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ye(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Pw();this.options={...r,...this.options,...Iw(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?Ba.init(i(this.modules.logger),this.options):Ba.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=ij;const x=new Nw(this.options);this.store=new _w(this.options.resources,this.options);const v=this.services;v.logger=Ba,v.resourceStore=this.store,v.languageUtils=x,v.pluralResolver=new tj(x,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),m&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=i(m),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new nj(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new oj(i(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(b,...T)=>{this.emit(b,...T)}),this.modules.languageDetector&&(v.languageDetector=i(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=i(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Qf(this.services,this.options),this.translator.on("*",(b,...T)=>{this.emit(b,...T)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=mf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...x)=>this.store[m](...x)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...x)=>(this.store[m](...x),this)});const d=Cu(),f=()=>{const m=(x,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),n(x,v)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(e,n=mf){var o,c;let r=n;const i=Ye(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],f=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(v=>{v!=="cimode"&&d.indexOf(v)<0&&d.push(v)})};i?f(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(x=>f(x)),(c=(o=this.options.preload)==null?void 0:o.forEach)==null||c.call(o,m=>f(m)),this.services.backendConnector.load(d,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(m)})}else r(null)}reloadResources(e,n,r){const i=Cu();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=mf),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&wE.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Cu();this.emit("languageChanging",e);const i=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},o=(d,f)=>{f?this.isLanguageChangingTo===e&&(i(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...m)=>this.t(...m)),n&&n(d,(...m)=>this.t(...m))},c=d=>{var x,v;!e&&!d&&this.services.languageDetector&&(d=[]);const f=Ye(d)?d:d&&d[0],m=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Ye(d)?[d]:d);m&&(this.language||i(m),this.translator.language||this.translator.changeLanguage(m),(v=(x=this.services.languageDetector)==null?void 0:x.cacheUserLanguage)==null||v.call(x,m)),this.loadResources(m,b=>{o(b,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),r}getFixedT(e,n,r){const i=(o,c,...d)=>{let f;typeof c!="object"?f=this.options.overloadTranslationOptionHandler([o,c].concat(d)):f={...c},f.lng=f.lng||i.lng,f.lngs=f.lngs||i.lngs,f.ns=f.ns||i.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||i.keyPrefix);const m=this.options.keySeparator||".";let x;return f.keyPrefix&&Array.isArray(o)?x=o.map(v=>`${f.keyPrefix}${m}${v}`):x=f.keyPrefix?`${f.keyPrefix}${m}${o}`:o,this.t(x,f)};return Ye(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const c=(d,f)=>{const m=this.services.backendConnector.state[`${d}|${f}`];return m===-1||m===0||m===2};if(n.precheck){const d=n.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(r,e)&&(!i||c(o,e)))}loadNamespaces(e,n){const r=Cu();return this.options.ns?(Ye(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Cu();Ye(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(c=>i.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return o.length?(this.options.preload=i.concat(o),this.loadResources(c=>{r.resolve(),n&&n(c)}),r):(n&&n(),Promise.resolve())}dir(e){var i,o;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new Nw(Pw());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new cd(e,n)}cloneInstance(e={},n=mf){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new cd(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(d=>{o[d]=this[d]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const d=Object.keys(this.store.data).reduce((f,m)=>(f[m]={...this.store.data[m]},f[m]=Object.keys(f[m]).reduce((x,v)=>(x[v]={...f[m][v]},x),f[m]),f),{});o.store=new _w(d,i),o.services.resourceStore=o.store}return o.translator=new Qf(o.services,i),o.translator.on("*",(d,...f)=>{o.emit(d,...f)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Gt=cd.createInstance();Gt.createInstance=cd.createInstance;Gt.createInstance;Gt.dir;Gt.init;Gt.loadResources;Gt.reloadResources;Gt.use;Gt.changeLanguage;Gt.getFixedT;Gt.t;Gt.exists;Gt.setDefaultNamespace;Gt.hasLoadedNamespace;Gt.loadNamespaces;Gt.loadLanguages;const cj=(t,e,n,r)=>{var o,c,d,f;const i=[n,{code:e,...r||{}}];if((c=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&c.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Oo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(f=(d=t==null?void 0:t.services)==null?void 0:d.logger)!=null&&f.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},Dw={},J0=(t,e,n,r)=>{Oo(n)&&Dw[n]||(Oo(n)&&(Dw[n]=new Date),cj(t,e,n,r))},TE=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},ex=(t,e,n)=>{t.loadNamespaces(e,TE(t,n))},Mw=(t,e,n,r)=>{if(Oo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return ex(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,TE(t,r))},uj=(t,e,n={})=>!e.languages||!e.languages.length?(J0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Oo=t=>typeof t=="string",dj=t=>typeof t=="object"&&t!==null,hj=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,fj={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},mj=t=>fj[t],pj=t=>t.replace(hj,mj);let tx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pj};const gj=(t={})=>{tx={...tx,...t}},xj=()=>tx;let kE;const yj=t=>{kE=t},vj=()=>kE,bj={type:"3rdParty",init(t){gj(t.options.react),yj(t)}},wj=C.createContext();class Tj{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const kj=(t,e)=>{const n=C.useRef();return C.useEffect(()=>{n.current=t},[t,e]),n.current},_E=(t,e,n,r)=>t.getFixedT(e,n,r),_j=(t,e,n,r)=>C.useCallback(_E(t,e,n,r),[t,e,n,r]),mt=(t,e={})=>{var q,V,I,P;const{i18n:n}=e,{i18n:r,defaultNS:i}=C.useContext(wj)||{},o=n||r||vj();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Tj),!o){J0(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(D,B)=>Oo(B)?B:dj(B)&&Oo(B.defaultValue)?B.defaultValue:Array.isArray(D)?D[D.length-1]:D,S=[N,{},!1];return S.t=N,S.i18n={},S.ready=!1,S}(q=o.options.react)!=null&&q.wait&&J0(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...xj(),...o.options.react,...e},{useSuspense:d,keyPrefix:f}=c;let m=i||((V=o.options)==null?void 0:V.defaultNS);m=Oo(m)?[m]:m||["translation"],(P=(I=o.reportNamespaces).addUsedNamespaces)==null||P.call(I,m);const x=(o.isInitialized||o.initializedStoreOnce)&&m.every(N=>uj(N,o,c)),v=_j(o,e.lng||null,c.nsMode==="fallback"?m:m[0],f),b=()=>v,T=()=>_E(o,e.lng||null,c.nsMode==="fallback"?m:m[0],f),[E,j]=C.useState(b);let O=m.join();e.lng&&(O=`${e.lng}${O}`);const M=kj(O),z=C.useRef(!0);C.useEffect(()=>{const{bindI18n:N,bindI18nStore:S}=c;z.current=!0,!x&&!d&&(e.lng?Mw(o,e.lng,m,()=>{z.current&&j(T)}):ex(o,m,()=>{z.current&&j(T)})),x&&M&&M!==O&&z.current&&j(T);const D=()=>{z.current&&j(T)};return N&&(o==null||o.on(N,D)),S&&(o==null||o.store.on(S,D)),()=>{z.current=!1,o&&(N==null||N.split(" ").forEach(B=>o.off(B,D))),S&&o&&S.split(" ").forEach(B=>o.store.off(B,D))}},[o,O]),C.useEffect(()=>{z.current&&x&&j(b)},[o,f,x]);const L=[E,o,x];if(L.t=E,L.i18n=o,L.ready=x,x||!x&&!d)return L;throw new Promise(N=>{e.lng?Mw(o,e.lng,m,()=>N()):ex(o,m,()=>N())})},{slice:Ej,forEach:Sj}=[];function Nj(t){return Sj.call(Ej.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function Aj(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const Ow=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Cj=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let o=`${t}=${i}`;if(r.maxAge>0){const c=r.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(c)}`}if(r.domain){if(!Ow.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!Ow.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},Lw={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=Cj(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var jj={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Lw.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=e;n&&typeof document<"u"&&Lw.create(n,t,r,i,o)}},Rj={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const c=i.substring(1).split("&");for(let d=0;d<c.length;d++){const f=c[d].indexOf("=");f>0&&c[d].substring(0,f)===e&&(n=c[d].substring(f+1))}}return n}},Pj={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const c=o.substring(1);if(e){const d=c.split("&");for(let f=0;f<d.length;f++){const m=d[f].indexOf("=");m>0&&d[f].substring(0,m)===e&&(r=d[f].substring(m+1))}}if(r)return r;if(!r&&n>-1){const d=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?(i=d[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Fl=null;const Vw=()=>{if(Fl!==null)return Fl;try{if(Fl=typeof window<"u"&&window.localStorage!==null,!Fl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Fl=!1}return Fl};var Ij={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Vw())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&Vw()&&window.localStorage.setItem(n,t)}};let Bl=null;const Uw=()=>{if(Bl!==null)return Bl;try{if(Bl=typeof window<"u"&&window.sessionStorage!==null,!Bl)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Bl=!1}return Bl};var Dj={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Uw())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&Uw()&&window.sessionStorage.setItem(n,t)}},Mj={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},Oj={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Lj={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},Vj={name:"subdomain",lookup(t){var i,o;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let EE=!1;try{document.cookie,EE=!0}catch{}const SE=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];EE||SE.splice(1,1);const Uj=()=>({order:SE,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class NE{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Nj(n,this.options||{},Uj()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(jj),this.addDetector(Rj),this.addDetector(Ij),this.addDetector(Dj),this.addDetector(Mj),this.addDetector(Oj),this.addDetector(Lj),this.addDetector(Vj),this.addDetector(Pj)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!Aj(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}NE.type="languageDetector";const zj={navHome:"Home",navAbout:"About Me",navServices:"Services",navTestimonials:"Testimonials",navContact:"Contact",selectLanguage:"Select language",loading:"Loading...","login.clientTitle":"Client Login","login.clientSubtitle":"Access your personal dashboard.","login.adminTitle":"Admin & Coach Login","login.adminSubtitle":"Access the management panel.","login.emailLabel":"Email Address","login.emailPlaceholder":"you@example.com","login.passwordLabel":"Password","login.loginButton":"Log In","login.loggingIn":"Logging in...","login.orContinueWith":"Or continue with","login.googleButton":"Sign in with Google","login.errorDefault":"Login failed. Check your credentials.","login.errorGoogle":"Google sign-in failed.","login.adminLoginLink":"Are you an Admin or Coach?","login.clientLoginLink":"Are you a Client?","navbar.login":"Login","navbar.logout":"Logout","navbar.profile":"Profile","navbar.dashboard":"Dashboard","navbar.loadingUser":"Loading...","navbar.toggleMenu":"Toggle mobile menu","navbar.closeMenu":"Close menu","profile.errorNoUserId":"User ID not found.","profile.errorNotFound":"User profile not found.","profile.errorFetching":"Failed to load profile.","profile.errorUpdating":"Failed to update profile.","profile.editTitle":"Edit Profile","profile.viewTitle":"User Profile","profile.noName":"N/A","profile.cancelButton":"Cancel","profile.editButton":"Edit Profile","profile.form.displayName":"Full Name","profile.form.email":"Email Address","profile.form.phone":"Phone Number","profile.clientDataTitle":"Client Data","profile.form.weight":"Weight (kg)","profile.form.bodyFat":"Body Fat (%)","profile.form.clientNotes":"Client Notes (Visible to Coach/Admin)","profile.form.assignedPlanId":"Assigned Training Plan ID","profile.form.planIdPlaceholder":"Enter Plan ID (e.g., P001)","profile.form.planIdHelp":"Assign a plan ID. Plan details are managed separately.","profile.form.saveButton":"Save Changes","profile.form.savingButton":"Saving...","profile.form.cancelButton":"Cancel","profile.display.displayName":"Full Name:","profile.display.email":"Email:","profile.display.phone":"Phone:","profile.display.role":"Role:","profile.display.registrationDate":"Member Since:","profile.display.lastLogin":"Last Login:","profile.display.weight":"Weight (kg):","profile.display.bodyFat":"Body Fat (%):","profile.display.clientNotes":"Client Notes:","profile.display.assignedPlanId":"Assigned Plan ID:","profile.notSet":"Not set","roles.admin":"Administrator","roles.coach":"Coach","roles.client":"Client","roles.unknown":"Unknown","profile.coachUpload.title":"Upload File for Client","profile.coachUpload.selectFileLabel":"Select File (Max 10MB)","profile.coachUpload.selectedFile":"Selected:","profile.coachUpload.descriptionLabel":"File Description (Optional)","profile.coachUpload.descriptionPlaceholder":"E.g., Weekly Diet Plan, Video Check Notes...","profile.coachUpload.uploadingButton":"Uploading...","profile.coachUpload.uploadButton":"Upload File","profile.coachUpload.noFileOrAuth":"File or proper authorization missing.","profile.coachUpload.fileTooLarge":"File is too large. Max 10MB.","profile.coachUpload.uploadFailed":"File upload failed.","profile.coachUploadedFiles.title":"Files from Coach/Admin","profile.coachUploadedFiles.uploadedAt":"Uploaded:","profile.coachUploadedFiles.downloadTooltip":"Download/View File","profile.coachUploadedFiles.downloadButton":"View/Download","dashboard.client.title":"Welcome, {{name}}!","dashboard.client.profileSummaryTitle":"Profile Summary","dashboard.client.viewEditProfile":"View/Edit Full Profile","dashboard.client.assignedRoutineTitle":"Your Current Routine","dashboard.client.currentPlanInfo":"Details for plan ID: {{planId}} will be shown here.","dashboard.client.noPlanAssigned":"No training plan assigned yet. Contact your coach!","dashboard.client.viewPlanDetails":"View Plan Details","dashboard.client.trainingHistoryTitle":"Training History","dashboard.client.historyPlaceholder":"Your recent workouts and completed routines will appear here.","dashboard.client.viewFullHistory":"View Full History","dashboard.client.progressUpdateTitle":"Log Your Progress (Text)","dashboard.client.progressUpdateDesc":"Share how you're feeling, any achievements, or challenges.","dashboard.client.progressNotesLabel":"Progress Notes","dashboard.client.progressPlaceholder":"E.g., Felt strong today, hit a new PR on squats!","dashboard.client.submittingProgress":"Submitting...","dashboard.client.submitProgressButton":"Submit Text Update","dashboard.client.progressError":"Failed to submit progress.","dashboard.client.photoUpload.title":"Upload Progress Photo","dashboard.client.photoUpload.desc":"Visually track your transformation. Photos are visible to you and your coach.","dashboard.client.photoUpload.selectLabel":"Select Photo (Max 5MB)","dashboard.client.photoUpload.selectedFile":"Selected:","dashboard.client.photoUpload.captionLabel":"Caption (Optional)","dashboard.client.photoUpload.captionPlaceholder":"E.g., Week 4 - Front View","dashboard.client.photoUpload.uploadingButton":"Uploading...","dashboard.client.photoUpload.uploadButton":"Upload Photo","dashboard.client.photoUpload.noFileError":"Please select a photo to upload.","dashboard.client.photoUpload.fileTooLargeError":"File is too large. Max 5MB.","dashboard.client.photoUpload.uploadFailedError":"Photo upload failed. Please try again.","adminUsers.title":"User Management","adminUsers.addUserNotImplemented":"Add user functionality not yet implemented.","adminUsers.addUserButton":"Add New User","adminUsers.searchPlaceholder":"Search by name, email, or role...","adminUsers.table.name":"Name","adminUsers.table.email":"Email","adminUsers.table.role":"Role","adminUsers.table.phone":"Phone","adminUsers.table.registered":"Registered","adminUsers.table.actions":"Actions","adminUsers.noName":"N/A","adminUsers.editTooltip":"Edit User","adminUsers.deleteTooltip":"Delete User","adminUsers.deleteForbidden":"Only admins can delete users.","adminUsers.deleteConfirm":"Are you sure you want to delete user {{userId}}? This action cannot be undone.","adminUsers.deleteNotImplemented":"Delete functionality not yet fully implemented.","adminUsers.errorFetching":"Failed to load users.","adminUsers.errorDeleting":"Failed to delete user.","adminUsers.noResults":"No users found matching your search.","adminUsers.noUsers":"No users found."},Fj={translation:zj},Bj=JSON.parse('{"navHome":"Inicio","navAbout":"Sobre Mí","navServices":"Servicios","navTestimonials":"Testimonios","navContact":"Contacto","homeTitle":"Gonorte - Inicio","aboutTitlePage":"Gonorte - Sobre Mí","servicesTitlePage":"Gonorte - Servicios","testimonialsTitlePage":"Gonorte - Testimonios","contactTitlePage":"Gonorte - Contacto","heroTitle":"Transforma Tu Cuerpo, Supera Tus Límites","heroSubtitle":"Entrenamiento personalizado y online con Gonorte. Alcanza tus metas de fitness y bienestar.","heroCTA":"Empieza Hoy","heroSecondaryCTA":"Ver Servicios","heroBadge":"Entrenadora Personal Certificada","heroStatsClients":"Clientes Satisfechos","heroStatsYears":"Años de Experiencia","heroStatsSuccess":"Tasa de Éxito","featuresTitle":"Características Clave","featuresSubtitle":"Descubre las ventajas de entrenar con una profesional certificada que se adapta a tus necesidades","featuresCTA":"¿Listo para Transformar Tu Vida?","featuresCTASubtitle":"Únete a cientos de personas que ya han alcanzado sus metas con Gonorte","featuresCTAButton":"Comenzar Ahora","feature1Title":"Entrenamiento Personalizado","feature1Desc":"Planes completamente personalizados adaptados a tus objetivos, nivel y estilo de vida.","feature2Title":"Asesoría Nutricional","feature2Desc":"Guía nutricional personalizada para complementar tu entrenamiento y maximizar resultados.","feature3Title":"Clases Online","feature3Desc":"Entrena desde donde quieras con clases en vivo y rutinas grabadas de alta calidad.","carouselTitle":"Galería de Proyectos Anteriores","previousSlide":"Diapositiva Anterior","nextSlide":"Siguiente Diapositiva","goToSlide":"Ir a la diapositiva","testimonialsTitle":"Lo Que Dicen Mis Clientes","testimonialsSubtitle":"Descubre las transformaciones reales y testimonios de clientes que han alcanzado sus objetivos con mi método personalizado","testimonialsCTA":"¿Listo para tu transformación? Únete a estos clientes satisfechos","testimonialsCTAButton":"Comenzar Mi Transformación","gonorteTestimonial1Quote":"¡Increíble transformación! Gracias a Gonorte y su método personalizado, perdí 15kg en 6 meses y me siento con más energía que nunca. Su enfoque en la nutrición y el entrenamiento funcional cambió mi vida completamente.","gonorteTestimonial1Author":"Ana Pérez","gonorteTestimonial1Details":"Plan de Pérdida de Peso","gonorteTestimonial2Quote":"Las rutinas online son súper prácticas y efectivas. He ganado mucha fuerza y resistencia entrenando desde casa. Gonorte siempre está disponible para ajustar los ejercicios según mi progreso.","gonorteTestimonial2Author":"Carlos López","gonorteTestimonial2Details":"Rutinas Online de Fuerza","gonorteTestimonial3Quote":"El asesoramiento nutricional fue clave para mi transformación. Aprendí a comer de forma inteligente y complementó perfectamente mi entrenamiento. Ahora tengo hábitos saludables que mantendré toda la vida.","gonorteTestimonial3Author":"Laura Gómez","gonorteTestimonial3Details":"Asesoramiento Nutricional","gonorteTestimonial4Quote":"Como principiante, estaba muy nerviosa por empezar. Gonorte me hizo sentir cómoda desde el primer día. Su paciencia y conocimiento me han ayudado a construir confianza y fuerza gradualmente.","gonorteTestimonial4Author":"María Rodríguez","gonorteTestimonial4Details":"Entrenamiento para Principiantes","gonorteTestimonial5Quote":"Después de una lesión, necesitaba rehabilitación específica. Gonorte diseñó un programa perfecto que me ayudó a recuperarme y volver más fuerte que antes. Su experiencia es invaluable.","gonorteTestimonial5Author":"David Martínez","gonorteTestimonial5Details":"Rehabilitación y Recuperación","gonorteTestimonial6Quote":"Los resultados han sido increíbles. En solo 3 meses, he mejorado mi rendimiento deportivo significativamente. Gonorte entiende perfectamente las necesidades de los atletas.","gonorteTestimonial6Author":"Sofía Torres","gonorteTestimonial6Details":"Entrenamiento Deportivo","secondaryCTATitle":"¿Listo Para Dar el Siguiente Paso?","secondaryCTADescription":"Únete a miles de innovadores que aprovechan nuestra plataforma para construir el futuro. No te quedes afuera.","secondaryCTAButton":"Leer Más","statsTitle":"Resultados que Hablan por Sí Mismos","statsSubtitle":"Estos números representan la dedicación y el compromiso con la excelencia en el entrenamiento personal","statsClients":"Clientes Transformados","statsSupport":"Soporte Disponible","statsCTA":"¿Quieres ser parte de estas estadísticas?","profileTitle":"Conoce a Gonorte","profileSubtitle":"Tu entrenadora personal dedicada a transformar vidas a través del fitness y el bienestar","profileName":"Gonorte","profileDescription":"Soy una entrenadora personal apasionada por el fitness y el bienestar. Con más de 5 años de experiencia, he ayudado a cientos de personas a alcanzar sus metas de salud y transformar sus vidas a través del ejercicio físico y la nutrición equilibrada.","profileMission":"Mi misión es inspirar y guiar a cada persona en su viaje hacia una vida más saludable, proporcionando programas personalizados que se adapten a sus necesidades, objetivos y estilo de vida.","profileCertifications":"Certificaciones y Especialidades","profileAchievements":"Logros Destacados","profilePhotoPlaceholder":"Foto de Gonorte","profileCTA":"Conoce Mi Historia Completa","certification1":"Entrenadora Personal Certificada","certification2":"Especialista en Nutrición Deportiva","certification3":"Instructora de Yoga y Pilates","certification4":"Coach de Bienestar Integral","achievement1":"Clientes Transformados","achievement2":"Años de Experiencia","achievement3":"Tasa de Satisfacción","faqTitle":"Preguntas Frecuentes","faqSubtitle":"Resolvemos las dudas más comunes sobre nuestros servicios de entrenamiento personal","faq1Question":"¿Cómo funciona el entrenamiento personalizado?","faq1Answer":"El entrenamiento personalizado se adapta completamente a tus necesidades. Primero realizamos una evaluación inicial de tu condición física, objetivos y disponibilidad. Luego diseñamos un programa específico que incluye ejercicios, rutinas y seguimiento continuo para maximizar tus resultados.","faq2Question":"¿Ofrecen entrenamiento online?","faq2Answer":"¡Sí! Ofrecemos entrenamiento online completo con rutinas personalizadas, videos explicativos, seguimiento semanal y soporte 24/7. Puedes entrenar desde casa o donde quieras, manteniendo la misma calidad y personalización que el entrenamiento presencial.","faq3Question":"¿Qué incluye el asesoramiento nutricional?","faq3Answer":"El asesoramiento nutricional incluye un plan de alimentación personalizado, educación sobre nutrición, seguimiento de progreso, ajustes según tus resultados y soporte continuo. No se trata de dietas restrictivas, sino de crear hábitos saludables y sostenibles.","faq4Question":"¿Cuánto tiempo necesito para ver resultados?","faq4Answer":"Los resultados varían según cada persona, pero típicamente puedes notar mejoras en energía y bienestar desde la primera semana. Cambios físicos más notables suelen aparecer entre 4-8 semanas con constancia en el entrenamiento y nutrición.","faq5Question":"¿Trabajan con principiantes?","faq5Answer":"¡Absolutamente! Nos especializamos en trabajar con personas de todos los niveles, desde principiantes hasta avanzados. Cada programa se adapta a tu nivel actual, progresando gradualmente para evitar lesiones y maximizar resultados.","faq6Question":"¿Qué equipamiento necesito para entrenar?","faq6Answer":"Para empezar, solo necesitas tu cuerpo y ganas de entrenar. Muchos ejercicios se pueden hacer sin equipamiento. Si tienes acceso a pesas, bandas de resistencia o una pelota de ejercicio, podemos incorporarlos, pero no son necesarios para comenzar.","faqCTA":"¿Tienes más preguntas?","faqCTASubtitle":"No dudes en contactarme para resolver cualquier duda sobre tu entrenamiento personal","faqCTAButton":"Contactar Ahora","servicesTitle":"Mis Servicios","servicesSubtitle":"Ofrezco una amplia gama de servicios personalizados para ayudarte a alcanzar tus objetivos fitness de manera efectiva y sostenible","servicesCTA":"¿No encuentras lo que buscas? Contáctame para un plan personalizado","servicesCTAButton":"Consulta Personalizada","popularBadge":"Más Popular","serviceCTA":"Comenzar","service1Title":"Entrenamiento Personalizado","service1Desc":"Planes completamente personalizados adaptados a tus objetivos, nivel y estilo de vida.","service2Title":"Asesoría Nutricional","service2Desc":"Guía nutricional personalizada para complementar tu entrenamiento y maximizar resultados.","service3Title":"Clases Online","service3Desc":"Entrena desde donde quieras con clases en vivo y rutinas grabadas de alta calidad.","service4Title":"Rehabilitación y Recuperación","service4Desc":"Programas especializados para recuperación de lesiones y mejora de movilidad.","service5Title":"Entrenamiento Deportivo","service5Desc":"Mejora tu rendimiento deportivo con entrenamiento específico para tu disciplina.","service6Title":"Sesiones Grupales","service6Desc":"Entrena en grupo con amigos o familiares para mayor motivación y diversión.","contactTitle":"Ponte en Contacto","contactSubtitle":"¿Listo para comenzar tu transformación? Contáctame y juntos crearemos el plan perfecto para alcanzar tus objetivos","contactInfoTitle":"Información de Contacto","contactEmailTitle":"Email","contactEmail":"gonorte@fitness.com","contactPhoneTitle":"Teléfono","contactPhone":"+34 600 123 456","contactLocationTitle":"Ubicación","contactLocation":"Madrid, España","contactHoursTitle":"Horarios","contactHours":"Lun-Vie: 6:00-22:00","contactSocialTitle":"Sígueme en Redes Sociales","contactQuickResponseTitle":"Respuesta Rápida","contactQuickResponseText":"Normalmente respondo en menos de 24 horas. ¡No dudes en contactarme!","contactReadyTitle":"¿Listo para tu Transformación?","contactReadyText":"Comienza tu viaje hacia una vida más saludable y en forma. Te ayudo a alcanzar tus objetivos fitness de manera personalizada y efectiva.","contactCTA":"Enviar Mensaje","contactCallCTA":"Llamar Ahora","contactAvailable":"Disponible ahora","contactFormTitle":"Envíame un Mensaje","contactFormName":"Nombre","contactFormNamePlaceholder":"Tu nombre completo","contactFormEmail":"Email","contactFormEmailPlaceholder":"tu@email.com","contactFormPhone":"Teléfono","contactFormPhonePlaceholder":"+34 600 123 456","contactFormService":"Servicio de Interés","contactFormServicePlaceholder":"Selecciona un servicio","contactFormMessage":"Mensaje","contactFormMessagePlaceholder":"Cuéntame sobre tus objetivos y cómo puedo ayudarte...","contactFormSubmit":"Enviar Mensaje","contactSuccess":"¡Mensaje enviado con éxito! Te responderemos pronto.","contactError":"Hubo un error al enviar el mensaje. Por favor, inténtalo de nuevo.","contactSending":"Enviando...","contactMapPlaceholder":"Mapa interactivo aquí","footerText":"© 2024 Gonorte. Todos los derechos reservados.","footer.quickLinks":"Enlaces Rápidos","footer.legal":"Legal","footer.contactUs":"Contáctanos","footer.settingsSocial":"Ajustes y Social","footer.companyName":"Gonorte","footer.allRightsReserved":"Todos los derechos reservados.","selectLanguage":"Seleccionar idioma","changeLanguageToEnglish":"Cambiar a Inglés","changeLanguageToSpanish":"Cambiar a Español","cookieConsentText":"Usamos cookies para mejorar tu experiencia. Al usar nuestro sitio, aceptas nuestro uso de cookies.","cookieConsentAccept":"Aceptar","legalPageTitle":"Gonorte - Información Legal","termsOfUseTitle":"Términos de Uso","privacyPolicyTitle":"Política de Privacidad","lastUpdated":"Última Actualización","ariaLabelGoToHome":"Gonorte - Ir a la página principal","pageNotFoundTitle":"Página No Encontrada","pageNotFoundMessage":"Lo sentimos, la página que buscas no existe.","goBackButton":"Volver","aboutSectionMainHeading":"Conoce a tu Entrenador","aboutParagraph1":"Hola, soy [Nombre del Entrenador], tu entrenador personal y coach de fitness en Gonorte.","aboutParagraph2":"Desde que tengo memoria, el deporte y la actividad física han sido una parte fundamental de mi vida. Esta pasión me llevó a estudiar ciencias del deporte y a certificarme como entrenador personal, con el objetivo de compartir mis conocimientos y ayudar a otros a descubrir los beneficios de un cuerpo activo y una mente sana.","aboutParagraph3":"Mi misión es ayudarte a alcanzar tus objetivos de fitness, ya sea perder peso, ganar músculo, mejorar tu resistencia o simplemente adoptar un estilo de vida más saludable. Creo en un enfoque personalizado, adaptando cada programa de entrenamiento y plan nutricional a tus necesidades, preferencias y capacidades individuales.","aboutParagraph4":"Con años de experiencia y una dedicación continua al estudio del bienestar y el rendimiento humano, estoy aquí para guiarte y motivarte en cada paso de tu transformación. Juntos, podemos superar obstáculos, establecer metas realistas y celebrar cada logro en tu camino hacia una mejor versión de ti mismo.","servicesPageMainHeading":"Nuestros Servicios","servicesPersonalTrainingTitle":"Entrenamiento Personalizado","servicesPersonalTrainingDesc1":"Ofrecemos programas de entrenamiento individualizados, diseñados específicamente para ayudarte a alcanzar tus metas de fitness. Ya sea que busques perder peso, ganar masa muscular, mejorar tu rendimiento deportivo o simplemente adoptar un estilo de vida más activo, trabajaremos contigo para crear un plan que se ajuste a tus necesidades, habilidades y preferencias.","servicesPersonalTrainingDesc2":"Nuestras sesiones de entrenamiento personalizado incluyen seguimiento continuo, ajustes programáticos basados en tu progreso y la motivación necesaria para superar tus límites. Contáctanos para una consulta inicial y descubre cómo podemos transformar tu cuerpo y mente.","servicesOnlineRoutinesTitle":"Rutinas Online","servicesOnlineRoutinesDesc1":"Accede a nuestros programas de entrenamiento desde cualquier lugar y en cualquier momento con nuestras rutinas online. Perfectas para quienes prefieren la flexibilidad de entrenar en casa o mientras viajan, nuestras rutinas digitales vienen con guías detalladas, videos explicativos y soporte para asegurar que ejecutes cada ejercicio de manera segura y efectiva.","servicesOnlineRoutinesDesc2":"Ofrecemos una variedad de rutinas que se adaptan a diferentes niveles de experiencia y objetivos, desde programas de fuerza y acondicionamiento hasta rutinas de movilidad y bienestar general. Todo accesible a través de nuestra plataforma intuitiva.","servicesNutritionalCoachingTitle":"Asesoramiento Nutricional","servicesNutritionalCoachingDesc1":"El complemento perfecto para tu entrenamiento. Nuestro servicio de asesoramiento nutricional te enseñará cómo alimentar tu cuerpo de manera inteligente para maximizar tus resultados y mejorar tu salud general. No se trata de dietas restrictivas, sino de construir hábitos alimenticios sostenibles.","servicesNutritionalCoachingDesc2":"Desarrollamos planes de comidas personalizados, te educamos sobre la importancia de los macronutrientes y micronutrientes, y te ofrecemos el apoyo continuo para que la nutrición se convierta en una parte integral y placentera de tu estilo de vida saludable.","aboutTitle":"Acerca de Gonorte","aboutTextPlaceholder":"Aquí irá una breve introducción sobre Gonorte, su filosofía de entrenamiento y su pasión por ayudar a otros a alcanzar sus metas de fitness. Este contenido se personalizará para reflejar la identidad y experiencia del entrenador.","contactTextPlaceholder":"¿Listo para empezar tu transformación? Envíame un mensaje o encuéntrame en redes sociales.","loading":"Cargando...","login.clientTitle":"Acceso Clientes","login.clientSubtitle":"Accede a tu panel personal.","login.adminTitle":"Acceso Admin & Coach","login.adminSubtitle":"Accede al panel de gestión.","login.emailLabel":"Correo Electrónico","login.emailPlaceholder":"tu@ejemplo.com","login.passwordLabel":"Contraseña","login.loginButton":"Iniciar Sesión","login.loggingIn":"Iniciando sesión...","login.orContinueWith":"O continuar con","login.googleButton":"Iniciar sesión con Google","login.errorDefault":"Error al iniciar sesión. Verifica tus credenciales.","login.errorGoogle":"Error al iniciar sesión con Google.","login.adminLoginLink":"¿Eres Admin o Coach?","login.clientLoginLink":"¿Eres Cliente?","navbar.login":"Acceder","navbar.logout":"Cerrar Sesión","navbar.profile":"Perfil","navbar.dashboard":"Panel","navbar.loadingUser":"Cargando...","navbar.toggleMenu":"Alternar menú móvil","navbar.closeMenu":"Cerrar menú","profile.errorNoUserId":"ID de usuario no encontrado.","profile.errorNotFound":"Perfil de usuario no encontrado.","profile.errorFetching":"Error al cargar el perfil.","profile.errorUpdating":"Error al actualizar el perfil.","profile.editTitle":"Editar Perfil","profile.viewTitle":"Perfil de Usuario","profile.noName":"N/A","profile.cancelButton":"Cancelar","profile.editButton":"Editar Perfil","profile.form.displayName":"Nombre Completo","profile.form.email":"Correo Electrónico","profile.form.phone":"Número de Teléfono","profile.clientDataTitle":"Datos del Cliente","profile.form.weight":"Peso (kg)","profile.form.bodyFat":"Grasa Corporal (%)","profile.form.clientNotes":"Notas del Cliente (Visible para Coach/Admin)","profile.form.assignedPlanId":"ID Plan de Entrenamiento Asignado","profile.form.planIdPlaceholder":"Introduce ID del Plan (ej: P001)","profile.form.planIdHelp":"Asigna un ID de plan. Los detalles del plan se gestionan aparte.","profile.form.saveButton":"Guardar Cambios","profile.form.savingButton":"Guardando...","profile.form.cancelButton":"Cancelar","profile.display.displayName":"Nombre Completo:","profile.display.email":"Email:","profile.display.phone":"Teléfono:","profile.display.role":"Rol:","profile.display.registrationDate":"Miembro Desde:","profile.display.lastLogin":"Último Acceso:","profile.display.weight":"Peso (kg):","profile.display.bodyFat":"Grasa Corporal (%):","profile.display.clientNotes":"Notas del Cliente:","profile.display.assignedPlanId":"Plan Asignado (ID):","profile.notSet":"No establecido","profile.personalInfo":"Información Personal","profile.form.displayNamePlaceholder":"Tu nombre completo","profile.form.phonePlaceholder":"+34 600 000 000","profile.form.clientNotesPlaceholder":"Notas sobre el progreso, objetivos, etc.","common.back":"Volver atrás","roles.admin":"Administrador","roles.coach":"Entrenador(a)","roles.client":"Cliente","roles.unknown":"Desconocido","profile.coachUpload.title":"Subir Archivo para Cliente","profile.coachUpload.selectFileLabel":"Seleccionar Archivo (Max 10MB)","profile.coachUpload.selectedFile":"Seleccionado:","profile.coachUpload.descriptionLabel":"Descripción del Archivo (Opcional)","profile.coachUpload.descriptionPlaceholder":"Ej: Plan de dieta semanal, Notas de video...","profile.coachUpload.uploadingButton":"Subiendo...","profile.coachUpload.uploadButton":"Subir Archivo","profile.coachUpload.noFileOrAuth":"Archivo o autorización adecuada ausente.","profile.coachUpload.fileTooLarge":"El archivo es demasiado grande. Máximo 10MB.","profile.coachUpload.uploadFailed":"Error al subir el archivo.","profile.coachUploadedFiles.title":"Archivos del Entrenador/Admin","profile.coachUploadedFiles.uploadedAt":"Subido:","profile.coachUploadedFiles.downloadTooltip":"Descargar/Ver Archivo","profile.coachUploadedFiles.downloadButton":"Ver/Descargar","dashboard.coach.title":"Panel de Coach","dashboard.coach.subtitle":"Bienvenido, {{name}}","dashboard.coach.users.title":"Gestión de Usuarios","dashboard.coach.users.description":"Ver y gestionar todos los usuarios del sistema","dashboard.coach.plans.title":"Planes de Entrenamiento","dashboard.coach.plans.description":"Crear y gestionar planes de entrenamiento","dashboard.coach.plans.createNew":"Crear Nuevo","dashboard.coach.analytics.title":"Analíticas","dashboard.coach.analytics.description":"Ver estadísticas y progreso de clientes","dashboard.coach.schedule.title":"Calendario","dashboard.coach.schedule.description":"Gestionar horarios y citas","dashboard.coach.stats.totalUsers":"Total Usuarios","dashboard.coach.stats.activePlans":"Planes Activos","dashboard.coach.stats.thisWeek":"Esta Semana","dashboard.coach.stats.sessions":"Sesiones","dashboard.coach.recentActivity.title":"Actividad Reciente","dashboard.coach.recentActivity.newUser":"Nuevo usuario registrado","dashboard.coach.recentActivity.planAssigned":"Plan asignado a cliente","dashboard.coach.recentActivity.progressUpdate":"Actualización de progreso","dashboard.coach.recentActivity.timeAgo":"Hace {{time}}","adminPlans.title":"Planes de Entrenamiento","adminPlans.subtitle":"Gestiona los planes de entrenamiento","adminPlans.createPlan":"Crear Plan","adminPlans.editPlan":"Editar Plan","adminPlans.delete":"Eliminar","adminPlans.edit":"Editar","adminPlans.assign":"Asignar","adminPlans.confirmDelete":"¿Estás seguro de que quieres eliminar este plan?","adminPlans.noPlans":"No hay planes creados","adminPlans.noPlansDescription":"Crea tu primer plan de entrenamiento para comenzar","adminPlans.createFirstPlan":"Crear Primer Plan","adminPlans.errorFetching":"Error al cargar los planes","adminPlans.errorCreating":"Error al crear el plan","adminPlans.errorUpdating":"Error al actualizar el plan","adminPlans.errorDeleting":"Error al eliminar el plan","adminPlans.difficulty.beginner":"Principiante","adminPlans.difficulty.intermediate":"Intermedio","adminPlans.difficulty.advanced":"Avanzado","adminPlans.weeks":"semanas","adminPlans.exercises":"Ejercicios","adminPlans.form.name":"Nombre del Plan","adminPlans.form.namePlaceholder":"Ej: Plan de Fuerza Básica","adminPlans.form.description":"Descripción","adminPlans.form.descriptionPlaceholder":"Describe el objetivo y enfoque del plan","adminPlans.form.difficulty":"Dificultad","adminPlans.form.duration":"Duración (semanas)","adminPlans.form.exercises":"Ejercicios","adminPlans.form.addExercise":"Agregar Ejercicio","adminPlans.form.exercise":"Ejercicio","adminPlans.form.exerciseName":"Nombre","adminPlans.form.exerciseNamePlaceholder":"Ej: Sentadillas","adminPlans.form.sets":"Series","adminPlans.form.reps":"Repeticiones","adminPlans.form.rest":"Descanso","adminPlans.form.notes":"Notas (Opcional)","adminPlans.form.notesPlaceholder":"Notas adicionales sobre el ejercicio","adminPlans.assignPlan":"Asignar Plan","adminPlans.assignPlanDescription":"Asignar \\"{{planName}}\\" a un cliente","adminPlans.selectClient":"Seleccionar Cliente","adminPlans.searchClients":"Buscar clientes...","adminPlans.noName":"Sin nombre","adminPlans.alreadyAssigned":"Ya tiene plan","adminPlans.planAssignedSuccess":"Plan asignado correctamente","adminPlans.errorAssigning":"Error al asignar el plan","common.cancel":"Cancelar","common.save":"Guardar","common.create":"Crear","common.saving":"Guardando...","common.assigning":"Asignando...","common.backToDashboard":"Volver al Dashboard","common.retry":"Reintentar","dashboard.client.title":"¡Bienvenido/a, {{name}}!","dashboard.client.profileSummaryTitle":"Resumen del Perfil","dashboard.client.viewEditProfile":"Ver/Editar Perfil Completo","dashboard.client.assignedRoutineTitle":"Tu Rutina Actual","dashboard.client.currentPlanInfo":"Detalles para el plan ID: {{planId}} se mostrarán aquí.","dashboard.client.noPlanAssigned":"Aún no tienes un plan de entrenamiento asignado. ¡Contacta a tu entrenador!","dashboard.client.viewPlanDetails":"Ver Plan de Entrenamiento","dashboard.client.trainingHistoryTitle":"Historial de Entrenamiento","dashboard.client.historyPlaceholder":"Tus entrenamientos recientes y rutinas completadas aparecerán aquí.","dashboard.client.viewFullHistory":"Ver Historial Completo","dashboard.client.progressUpdateTitle":"Registra tu Progreso (Texto)","dashboard.client.progressUpdateDesc":"Comparte cómo te sientes, logros o desafíos.","dashboard.client.progressNotesLabel":"Notas de Progreso","dashboard.client.progressPlaceholder":"Ej: ¡Hoy me sentí fuerte, nuevo PR en sentadillas!","dashboard.client.submittingProgress":"Enviando...","dashboard.client.submitProgressButton":"Enviar Actualización de Texto","dashboard.client.progressError":"Error al enviar el progreso.","dashboard.client.photoUpload.title":"Subir Foto de Progreso","dashboard.client.photoUpload.desc":"Realiza un seguimiento visual de tu transformación. Las fotos son visibles para ti y tu entrenador.","dashboard.client.photoUpload.selectLabel":"Seleccionar Foto (Max 5MB)","dashboard.client.photoUpload.selectedFile":"Seleccionado:","dashboard.client.photoUpload.captionLabel":"Leyenda (Opcional)","dashboard.client.photoUpload.captionPlaceholder":"Ej: Semana 4 - Vista Frontal","dashboard.client.photoUpload.uploadingButton":"Subiendo...","dashboard.client.photoUpload.uploadButton":"Subir Foto","dashboard.client.photoUpload.noFileError":"Por favor, selecciona una foto para subir.","dashboard.client.photoUpload.fileTooLargeError":"El archivo es demasiado grande. Máximo 5MB.","dashboard.client.photoUpload.uploadFailedError":"Error al subir la foto. Inténtalo de nuevo.","dashboard.client.notificationsTitle":"Notificaciones","dashboard.client.notificationsDescription":"Mantente al día con tus alertas y mensajes importantes.","dashboard.client.viewNotifications":"Ver Notificaciones","dashboard.client.settingsTitle":"Configuración","dashboard.client.settingsDescription":"Gestiona tus preferencias y configuración de cuenta.","dashboard.client.viewSettings":"Ver Configuración","adminUsers.title":"Gestión de Usuarios","adminUsers.addUserNotImplemented":"Funcionalidad de añadir usuario aún no implementada.","adminUsers.addUserButton":"Añadir Nuevo Usuario","adminUsers.searchPlaceholder":"Buscar por nombre, email o rol...","adminUsers.table.name":"Nombre","adminUsers.table.email":"Email","adminUsers.table.role":"Rol","adminUsers.table.phone":"Teléfono","adminUsers.table.assignedPlan":"Plan Asignado","adminUsers.table.registered":"Registrado","adminUsers.table.actions":"Acciones","adminUsers.noName":"N/A","adminUsers.editTooltip":"Editar Usuario","adminUsers.deleteTooltip":"Eliminar Usuario","adminUsers.deleteForbidden":"Solo los administradores pueden eliminar usuarios.","adminUsers.deleteConfirm":"¿Seguro que quieres eliminar al usuario {{userId}}? Esta acción no se puede deshacer.","adminUsers.deleteNotImplemented":"Funcionalidad de eliminar aún no implementada completamente.","adminUsers.errorFetching":"Error al cargar usuarios.","adminUsers.errorDeleting":"Error al eliminar usuario.","adminUsers.assignPlan":"Asignar Plan","adminUsers.assignPlanTo":"Asignar Plan a","adminUsers.selectPlan":"Seleccionar Plan","adminUsers.noPlan":"Sin plan asignado","adminUsers.planAssignedSuccess":"Plan asignado correctamente","adminUsers.errorAssigningPlan":"Error al asignar el plan","adminUsers.noResults":"No se encontraron usuarios que coincidan con tu búsqueda.","clientTrainingPlan.yourPlan":"Tu Plan de Entrenamiento","clientTrainingPlan.noPlanTitle":"No tienes un plan asignado","clientTrainingPlan.noPlanDescription":"Contacta con tu coach o administrador para que te asigne un plan de entrenamiento personalizado.","clientTrainingPlan.errorTitle":"Error al cargar el plan","clientTrainingPlan.planNotFound":"Plan no encontrado","clientTrainingPlan.errorFetching":"Error al cargar el plan","clientTrainingPlan.planInfo":"Información del Plan","clientTrainingPlan.duration":"Duración","clientTrainingPlan.weeks":"semanas","clientTrainingPlan.difficulty":"Dificultad","clientTrainingPlan.exercises":"Ejercicios","clientTrainingPlan.progress":"Progreso","clientTrainingPlan.completed":"completados","clientTrainingPlan.sets":"Series","clientTrainingPlan.reps":"Repeticiones","clientTrainingPlan.rest":"Descanso","clientTrainingPlan.notes":"Notas","clientTrainingPlan.markComplete":"Marcar como completo","clientTrainingPlan.markIncomplete":"Marcar como incompleto","clientTrainingPlan.saveProgress":"Guardar Progreso","clientTrainingPlan.saving":"Guardando...","clientTrainingPlan.saved":"¡Guardado!","clientTrainingPlan.errorSavingProgress":"Error al guardar el progreso","clientTrainingHistory.title":"Historial de Entrenamiento","clientTrainingHistory.subtitle":"Tu progreso y sesiones completadas","clientTrainingHistory.errorTitle":"Error al cargar el historial","clientTrainingHistory.errorFetching":"Error al cargar el historial","clientTrainingHistory.stats.totalSessions":"Sesiones Totales","clientTrainingHistory.stats.exercisesCompleted":"Ejercicios Completados","clientTrainingHistory.stats.averageCompletion":"Promedio de Completado","clientTrainingHistory.stats.streak":"Racha Actual","clientTrainingHistory.stats.days":"días","clientTrainingHistory.sessionsTitle":"Sesiones de Entrenamiento","clientTrainingHistory.noSessions":"No hay sesiones registradas","clientTrainingHistory.noSessionsDescription":"Comienza a entrenar y verás tu historial aquí","clientTrainingHistory.startTraining":"Comenzar Entrenamiento","clientTrainingHistory.completion":"Completado","clientTrainingHistory.exercises":"ejercicios","clientTrainingHistory.completedExercises":"Ejercicios Completados","coachAnalytics.title":"Analíticas de Clientes","coachAnalytics.subtitle":"Progreso y estadísticas de tus clientes","coachAnalytics.errorTitle":"Error al cargar las analíticas","coachAnalytics.errorFetching":"Error al cargar las analíticas","coachAnalytics.timeframe.week":"Esta Semana","coachAnalytics.timeframe.month":"Este Mes","coachAnalytics.timeframe.all":"Todo el Tiempo","coachAnalytics.stats.totalClients":"Total Clientes","coachAnalytics.stats.activeClients":"Clientes Activos","coachAnalytics.stats.totalSessions":"Sesiones Totales","coachAnalytics.stats.averageCompletion":"Promedio Completado","coachAnalytics.planStats.title":"Estadísticas por Plan","coachAnalytics.planStats.assigned":"Asignado","coachAnalytics.planStats.active":"Activos","coachAnalytics.planStats.avgCompletion":"Promedio","coachAnalytics.clientProgress.title":"Progreso de Clientes","coachAnalytics.noClients":"No hay clientes registrados","coachAnalytics.noClientsDescription":"Los clientes aparecerán aquí cuando se registren","coachAnalytics.table.client":"Cliente","coachAnalytics.table.plan":"Plan","coachAnalytics.table.sessions":"Sesiones","coachAnalytics.table.completion":"Completado","coachAnalytics.table.streak":"Racha","coachAnalytics.table.lastSession":"Última Sesión","coachAnalytics.table.status":"Estado","coachAnalytics.table.days":"días","coachAnalytics.table.active":"Activo","coachAnalytics.table.inactive":"Inactivo","adminUsers.noUsers":"No se encontraron usuarios.","coachSchedule":{"title":"Calendario de Citas","subtitle":"Gestiona horarios y citas con tus clientes","createAppointment":"Nueva Cita","editAppointment":"Editar Cita","view":{"day":"Día","week":"Semana","month":"Mes"},"stats":{"total":"Total Citas","scheduled":"Programadas","completed":"Completadas","clients":"Clientes Únicos"},"upcoming":"Próximas Citas","noUpcoming":"No hay citas programadas próximamente","allAppointments":"Todas las Citas","noAppointments":"No hay citas programadas","noAppointmentsDescription":"Crea tu primera cita para comenzar","createFirstAppointment":"Crear Primera Cita","table":{"title":"Título","client":"Cliente","date":"Fecha","type":"Tipo","status":"Estado","actions":"Acciones"},"type":{"consultation":"Consulta","training":"Entrenamiento","follow-up":"Seguimiento","assessment":"Evaluación"},"status":{"scheduled":"Programada","completed":"Completada","cancelled":"Cancelada"},"form":{"title":"Título de la Cita","titlePlaceholder":"Ej: Entrenamiento de Fuerza","type":"Tipo de Cita","description":"Descripción (Opcional)","descriptionPlaceholder":"Detalles adicionales sobre la cita","client":"Cliente","selectClient":"Seleccionar Cliente","date":"Fecha","time":"Hora","duration":"Duración (minutos)","minutes":"minutos"},"edit":"Editar","delete":"Eliminar","markCompleted":"Marcar como completada","confirmDelete":"¿Estás seguro de que quieres eliminar esta cita?","errorFetching":"Error al cargar las citas","errorCreating":"Error al crear la cita","errorUpdating":"Error al actualizar la cita","errorDeleting":"Error al eliminar la cita","errorUpdatingStatus":"Error al actualizar el estado de la cita"},"notifications":{"title":"Notificaciones","subtitle":"Mantente al día con tus alertas y mensajes","markAllRead":"Marcar Todo como Leído","clearRead":"Limpiar Leídas","stats":{"total":"Total","unread":"No Leídas","read":"Leídas"},"filter":{"all":"Todas","unread":"No Leídas","read":"Leídas"},"noNotifications":"No hay notificaciones","noNotificationsDescription":"Las notificaciones aparecerán aquí cuando las recibas","noUnread":"No hay notificaciones sin leer","noUnreadDescription":"¡Excelente! Estás al día con todas tus notificaciones","noRead":"No hay notificaciones leídas","noReadDescription":"Las notificaciones leídas aparecerán aquí","markAsRead":"Marcar como leída","delete":"Eliminar","confirmDelete":"¿Estás seguro de que quieres eliminar esta notificación?","confirmClearAll":"¿Estás seguro de que quieres eliminar todas las notificaciones leídas?","justNow":"Justo ahora","hoursAgo":"Hace {{hours}} horas","daysAgo":"Hace {{days}} días","errorFetching":"Error al cargar las notificaciones","errorMarkingRead":"Error al marcar como leída","errorMarkingAllRead":"Error al marcar todas como leídas","errorDeleting":"Error al eliminar la notificación","errorClearing":"Error al eliminar las notificaciones leídas"},"settings":{"title":"Configuración","subtitle":"Gestiona tus preferencias y configuración de cuenta","savedSuccessfully":"Configuración guardada correctamente","errorLoading":"Error al cargar la configuración","errorSaving":"Error al guardar la configuración","passwordMismatch":"Las contraseñas no coinciden","passwordTooShort":"La contraseña debe tener al menos 6 caracteres","passwordChanged":"Contraseña cambiada correctamente","errorChangingPassword":"Error al cambiar la contraseña","tabs":{"notifications":"Notificaciones","privacy":"Privacidad","preferences":"Preferencias","account":"Cuenta"},"notifications":{"title":"Configuración de Notificaciones","email":"Notificaciones por Email","emailDesc":"Recibe notificaciones importantes por correo electrónico","push":"Notificaciones Push","pushDesc":"Recibe notificaciones en tiempo real en tu dispositivo","trainingReminders":"Recordatorios de Entrenamiento","trainingRemindersDesc":"Recibe recordatorios para tus sesiones de entrenamiento","progressUpdates":"Actualizaciones de Progreso","progressUpdatesDesc":"Recibe notificaciones sobre tu progreso y logros","weeklyReports":"Reportes Semanales","weeklyReportsDesc":"Recibe un resumen semanal de tu actividad"},"privacy":{"title":"Configuración de Privacidad","profileVisibility":"Visibilidad del Perfil","profileVisibilityDesc":"Controla quién puede ver tu perfil","public":"Público","coaches":"Solo Coaches","private":"Privado","showProgress":"Mostrar Progreso","showProgressDesc":"Permite que otros vean tu progreso de entrenamiento","showStats":"Mostrar Estadísticas","showStatsDesc":"Permite que otros vean tus estadísticas de entrenamiento","allowMessages":"Permitir Mensajes","allowMessagesDesc":"Permite que otros usuarios te envíen mensajes"},"preferences":{"title":"Preferencias Generales","language":"Idioma","theme":"Tema","light":"Claro","dark":"Oscuro","auto":"Automático","timezone":"Zona Horaria","units":"Unidades","metric":"Métrico (kg, km)","imperial":"Imperial (lb, mi)"},"account":{"title":"Configuración de Cuenta","information":"Información de la Cuenta","name":"Nombre","notSet":"No establecido","email":"Email","memberSince":"Miembro desde","unknown":"Desconocido","changePassword":"Cambiar Contraseña","currentPassword":"Contraseña Actual","newPassword":"Nueva Contraseña","confirmPassword":"Confirmar Nueva Contraseña","updatePassword":"Actualizar Contraseña"}}}'),qj={translation:Bj},Hj=JSON.parse(`{"navHome":"Accueil","navAbout":"A propos de moi","navServices":"Services","navTestimonials":"Temoignages","navContact":"Contact","homeTitle":"Gonorte - Accueil","aboutTitlePage":"Gonorte - A propos de moi","servicesTitlePage":"Gonorte - Services","testimonialsTitlePage":"Gonorte - Temoignages","contactTitlePage":"Gonorte - Contact","heroTitle":"Transformez Votre Corps, Depassez Vos Limites","heroSubtitle":"Entrainement personnalise et en ligne avec Gonorte. Atteignez vos objectifs de fitness et de bien-etre.","heroCTA":"Commencer Aujourd'hui","heroSecondaryCTA":"Voir les Services","heroBadge":"Entraineuse Personnelle Certifiee","heroStatsClients":"Clients Satisfaits","heroStatsYears":"Annees d'Experience","heroStatsSuccess":"Taux de Reussite","featuresTitle":"Caracteristiques Cles","featuresSubtitle":"Decouvrez les avantages de s'entrainer avec une professionnelle certifiee qui s'adapte a vos besoins","featuresCTA":"Pret a Transformer Votre Vie ?","featuresCTASubtitle":"Rejoignez des centaines de personnes qui ont deja atteint leurs objectifs avec Gonorte","featuresCTAButton":"Commencer Maintenant","feature1Title":"Entrainement Personnalise","feature1Desc":"Plans completement personnalises adaptes a vos objectifs, niveau et style de vie.","feature2Title":"Conseil Nutritionnel","feature2Desc":"Guidance nutritionnelle personnalisee pour completer votre entrainement et maximiser les resultats.","feature3Title":"Cours en Ligne","feature3Desc":"Entrainez-vous de n'importe ou avec des cours en direct et des routines enregistrees de haute qualite.","carouselTitle":"Galerie de Projets Precedents","previousSlide":"Diapositive Precedente","nextSlide":"Diapositive Suivante","goToSlide":"Aller a la diapositive","testimonialsTitle":"Ce Que Disent Mes Clients","testimonialsSubtitle":"Decouvrez les vraies transformations et temoignages de clients qui ont atteint leurs objectifs avec ma methode personnalisee","testimonialsCTA":"Pret pour votre transformation ? Rejoignez ces clients satisfaits","testimonialsCTAButton":"Commencer Ma Transformation","gonorteTestimonial1Quote":"Transformation incroyable ! Grace a Gonorte et sa methode personnalisee, j'ai perdu 15kg en 6 mois et je me sens plus energique que jamais. Son approche de la nutrition et de l'entrainement fonctionnel a completement change ma vie.","gonorteTestimonial1Author":"Ana Perez","gonorteTestimonial1Details":"Plan de Perte de Poids","gonorteTestimonial2Quote":"Les routines en ligne sont super pratiques et efficaces. J'ai gagne beaucoup de force et d'endurance en m'entrainant depuis chez moi. Gonorte est toujours disponible pour ajuster les exercices selon mes progres.","gonorteTestimonial2Author":"Carlos Lopez","gonorteTestimonial2Details":"Routines de Force en Ligne","gonorteTestimonial3Quote":"Le conseil nutritionnel etait cle pour ma transformation. J'ai appris a manger intelligemment et cela a parfaitement complete mon entrainement. Maintenant j'ai des habitudes saines que je maintiendrai toute ma vie.","gonorteTestimonial3Author":"Laura Gomez","gonorteTestimonial3Details":"Conseil Nutritionnel","gonorteTestimonial4Quote":"En tant que debutante, j'etais tres nerveuse de commencer. Gonorte m'a fait me sentir a l'aise des le premier jour. Sa patience et ses connaissances m'ont aidee a construire confiance et force progressivement.","gonorteTestimonial4Author":"Maria Rodriguez","gonorteTestimonial4Details":"Entrainement pour Debutants","gonorteTestimonial5Quote":"Apres une blessure, j'avais besoin de reeducation specifique. Gonorte a concu un programme parfait qui m'a aidee a recuperer et revenir plus forte qu'avant. Son experience est inestimable.","gonorteTestimonial5Author":"David Martinez","gonorteTestimonial5Details":"Reeducation et Recuperation","gonorteTestimonial6Quote":"Les resultats ont ete incroyables. En seulement 3 mois, j'ai considerablement ameliore mes performances sportives. Gonorte comprend parfaitement les besoins des athletes.","gonorteTestimonial6Author":"Sofia Torres","gonorteTestimonial6Details":"Entrainement Sportif","secondaryCTATitle":"Pret a Faire le Prochain Pas ?","secondaryCTADescription":"Rejoignez des milliers d'innovateurs qui utilisent notre plateforme pour construire l'avenir. Ne manquez pas.","secondaryCTAButton":"Lire Plus","statsTitle":"Des Resultats Qui Parlent d'Eux-Memes","statsSubtitle":"Ces chiffres representent le devouement et l'engagement envers l'excellence dans l'entrainement personnel","statsClients":"Clients Transformes","statsSupport":"Support Disponible","statsCTA":"Voulez-vous faire partie de ces statistiques ?","profileTitle":"Rencontrez Gonorte","profileSubtitle":"Votre entraineuse personnelle dediee a transformer des vies a travers le fitness et le bien-etre","profileName":"Gonorte","profileDescription":"Je suis une entraineuse personnelle passionnee par le fitness et le bien-etre. Avec plus de 5 ans d'experience, j'ai aide des centaines de personnes a atteindre leurs objectifs de sante et transformer leurs vies a travers l'exercice physique et la nutrition equilibree.","profileMission":"Ma mission est d'inspirer et guider chaque personne dans son voyage vers une vie plus saine, en fournissant des programmes personnalises qui s'adaptent a leurs besoins, objectifs et style de vie.","profileCertifications":"Certifications et Specialites","profileAchievements":"Realisations Exceptionnelles","profilePhotoPlaceholder":"Photo de Gonorte","profileCTA":"Decouvrez Mon Histoire Complete","certification1":"Entraineuse Personnelle Certifiee","certification2":"Specialiste en Nutrition Sportive","certification3":"Instructrice de Yoga et Pilates","certification4":"Coach de Bien-etre Integral","achievement1":"Clients Transformes","achievement2":"Annees d'Experience","achievement3":"Taux de Satisfaction","faqTitle":"Questions Frequemment Posees","faqSubtitle":"Nous repondons aux questions les plus courantes sur nos services d'entrainement personnel","faq1Question":"Comment fonctionne l'entrainement personnalise ?","faq1Answer":"L'entrainement personnalise s'adapte completement a vos besoins. D'abord, nous effectuons une evaluation initiale de votre condition physique, objectifs et disponibilite. Ensuite, nous concevons un programme specifique qui inclut exercices, routines et suivi continu pour maximiser vos resultats.","faq2Question":"Proposez-vous un entrainement en ligne ?","faq2Answer":"Oui ! Nous proposons un entrainement en ligne complet avec des routines personnalisees, des videos explicatives, un suivi hebdomadaire et un support 24/7. Vous pouvez vous entrainer depuis chez vous ou ou vous voulez, en maintenant la meme qualite et personnalisation que l'entrainement en personne.","faq3Question":"Que comprend le conseil nutritionnel ?","faq3Answer":"Le conseil nutritionnel comprend un plan de repas personnalise, l'education nutritionnelle, le suivi des progres, les ajustements bases sur vos resultats et le support continu. Il ne s'agit pas de regimes restrictifs, mais de creer des habitudes alimentaires saines et durables.","faq4Question":"Combien de temps faut-il pour voir des resultats ?","faq4Answer":"Les resultats varient selon chaque personne, mais vous pouvez generalement remarquer des ameliorations en energie et bien-etre des la premiere semaine. Des changements physiques plus notables apparaissent generalement entre 4-8 semaines avec constance dans l'entrainement et la nutrition.","faq5Question":"Travaillez-vous avec des debutants ?","faq5Answer":"Absolument ! Nous nous specialisons dans le travail avec des personnes de tous niveaux, des debutants aux avances. Chaque programme s'adapte a votre niveau actuel, progressant graduellement pour eviter les blessures et maximiser les resultats.","faq6Question":"Quel equipement ai-je besoin pour m'entrainer ?","faq6Answer":"Pour commencer, vous n'avez besoin que de votre corps et de l'envie de vous entrainer. Beaucoup d'exercices peuvent etre faits sans equipement. Si vous avez acces a des poids, des bandes de resistance ou un ballon d'exercice, nous pouvons les incorporer, mais ils ne sont pas necessaires pour commencer.","faqCTA":"Vous avez plus de questions ?","faqCTASubtitle":"N'hesitez pas a me contacter pour resoudre toute question sur votre entrainement personnel","faqCTAButton":"Contacter Maintenant","servicesTitle":"Mes Services","servicesSubtitle":"Je propose une large gamme de services personnalises pour vous aider a atteindre vos objectifs fitness de maniere efficace et durable","servicesCTA":"Vous ne trouvez pas ce que vous cherchez ? Contactez-moi pour un plan personnalise","servicesCTAButton":"Consultation Personnelle","popularBadge":"Plus Populaire","serviceCTA":"Commencer","service1Title":"Entrainement Personnalise","service1Desc":"Plans completement personnalises adaptes a vos objectifs, niveau et style de vie.","service2Title":"Conseil Nutritionnel","service2Desc":"Guidance nutritionnelle personnalisee pour completer votre entrainement et maximiser les resultats.","service3Title":"Cours en Ligne","service3Desc":"Entrainez-vous de n'importe ou avec des cours en direct et des routines enregistrees de haute qualite.","service4Title":"Reeducation et Recuperation","service4Desc":"Programmes specialises pour la recuperation des blessures et l'amelioration de la mobilite.","service5Title":"Entrainement Sportif","service5Desc":"Ameliorez vos performances sportives avec un entrainement specifique pour votre discipline.","service6Title":"Sessions de Groupe","service6Desc":"Entrainez-vous en groupe avec des amis ou de la famille pour plus de motivation et de plaisir.","contactTitle":"Entrez en Contact","contactSubtitle":"Pret a commencer votre transformation ? Contactez-moi et ensemble nous creerons le plan parfait pour atteindre vos objectifs","contactInfoTitle":"Informations de Contact","contactEmailTitle":"Email","contactEmail":"gonorte@fitness.com","contactPhoneTitle":"Telephone","contactPhone":"+34 600 123 456","contactLocationTitle":"Localisation","contactLocation":"Madrid, Espagne","contactHoursTitle":"Horaires","contactHours":"Lun-Ven: 6:00-22:00","contactSocialTitle":"Suivez-moi sur les Reseaux Sociaux","contactQuickResponseTitle":"Reponse Rapide","contactQuickResponseText":"Je reponds generalement en moins de 24 heures. N'hesitez pas a me contacter !","contactReadyTitle":"Pret pour Votre Transformation ?","contactReadyText":"Commencez votre voyage vers une vie plus saine et en forme. Je vous aide a atteindre vos objectifs fitness de maniere personnalisee et efficace.","contactCTA":"Envoyer un Message","contactCallCTA":"Appeler Maintenant","contactAvailable":"Disponible maintenant","contactFormTitle":"Envoyez-moi un Message","contactFormName":"Nom","contactFormNamePlaceholder":"Votre nom complet","contactFormEmail":"Email","contactFormEmailPlaceholder":"votre@email.com","contactFormPhone":"Telephone","contactFormPhonePlaceholder":"+34 600 123 456","contactFormService":"Service d'Interet","contactFormServicePlaceholder":"Selectionnez un service","contactFormMessage":"Message","contactFormMessagePlaceholder":"Parlez-moi de vos objectifs et comment je peux vous aider...","contactFormSubmit":"Envoyer le Message","contactSuccess":"Message envoye avec succes ! Nous vous repondrons bientot.","contactError":"Il y a eu une erreur en envoyant le message. Veuillez reessayer.","contactSending":"Envoi...","contactMapPlaceholder":"Carte interactive ici","footerText":"© 2024 Gonorte. Tous droits reserves.","footer.quickLinks":"Liens Rapides","footer.legal":"Legal","footer.contactUs":"Contactez-nous","footer.settingsSocial":"Parametres et Social","footer.companyName":"Gonorte","footer.allRightsReserved":"Tous droits reserves.","selectLanguage":"Selectionner la langue","changeLanguageToEnglish":"Passer a l'Anglais","changeLanguageToSpanish":"Passer a l'Espagnol","cookieConsentText":"Nous utilisons des cookies pour ameliorer votre experience. En utilisant notre site, vous acceptez notre utilisation de cookies.","cookieConsentAccept":"Accepter","legalPageTitle":"Gonorte - Informations Legales","termsOfUseTitle":"Conditions d'Utilisation","privacyPolicyTitle":"Politique de Confidentialite","lastUpdated":"Derniere Mise a Jour","ariaLabelGoToHome":"Gonorte - Aller a la page d'accueil","pageNotFoundTitle":"Page Non Trouvee","pageNotFoundMessage":"Desole, la page que vous recherchez n'existe pas.","goBackButton":"Retour","aboutSectionMainHeading":"Rencontrez Votre Entraineur","aboutParagraph1":"Bonjour, je suis [Nom de l'Entraineur], votre entraineur personnel et coach de fitness chez Gonorte.","aboutParagraph2":"Aussi loin que je me souvienne, le sport et l'activite physique ont ete une partie fondamentale de ma vie. Cette passion m'a menee a etudier les sciences du sport et a me certifier comme entraineuse personnelle, avec l'objectif de partager mes connaissances et aider les autres a decouvrir les benefices d'un corps actif et d'un esprit sain.","aboutParagraph3":"Ma mission est de vous aider a atteindre vos objectifs de fitness, que ce soit perdre du poids, gagner du muscle, ameliorer votre endurance ou simplement adopter un style de vie plus sain. Je crois en une approche personnalisee, adaptant chaque programme d'entrainement et plan nutritionnel a vos besoins, preferences et capacites individuelles.","aboutParagraph4":"Avec des annees d'experience et une devotion continue a l'etude du bien-etre et de la performance humaine, je suis ici pour vous guider et vous motiver a chaque etape de votre transformation. Ensemble, nous pouvons surmonter les obstacles, etablir des objectifs realistes et celebrer chaque accomplissement sur votre chemin vers une meilleure version de vous-meme.","servicesPageMainHeading":"Nos Services","servicesPersonalTrainingTitle":"Entrainement Personnalise","servicesPersonalTrainingDesc1":"Nous proposons des programmes d'entrainement individualises, concus specifiquement pour vous aider a atteindre vos objectifs de fitness. Que vous cherchiez a perdre du poids, gagner de la masse musculaire, ameliorer vos performances sportives ou simplement adopter un style de vie plus actif, nous travaillerons avec vous pour creer un plan qui s'adapte a vos besoins, capacites et preferences.","servicesPersonalTrainingDesc2":"Nos sessions d'entrainement personnel incluent un suivi continu, des ajustements programmatiques bases sur vos progres et la motivation necessaire pour depasser vos limites. Contactez-nous pour une consultation initiale et decouvrez comment nous pouvons transformer votre corps et votre esprit.","servicesOnlineRoutinesTitle":"Routines en Ligne","servicesOnlineRoutinesDesc1":"Accedez a nos programmes d'entrainement depuis n'importe ou, a tout moment avec nos routines en ligne. Parfaites pour ceux qui preferent la flexibilite de s'entrainer a la maison ou en voyageant, nos routines numeriques viennent avec des guides detailles, des videos explicatives et du support pour assurer que vous executiez chaque exercice de maniere sure et efficace.","servicesOnlineRoutinesDesc2":"Nous proposons une variete de routines adaptables a differents niveaux d'experience et objectifs, des programmes de force et conditionnement aux routines de mobilite et bien-etre general. Tout accessible a travers notre plateforme intuitive.","servicesNutritionalCoachingTitle":"Conseil Nutritionnel","servicesNutritionalCoachingDesc1":"Le complement parfait pour votre entrainement. Notre service de conseil nutritionnel vous enseignera comment alimenter votre corps intelligemment pour maximiser vos resultats et ameliorer votre sante generale. Il ne s'agit pas de regimes restrictifs, mais de construire des habitudes alimentaires durables.","servicesNutritionalCoachingDesc2":"Nous developpons des plans de repas personnalises, vous eduquons sur l'importance des macronutriments et micronutriments, et offrons un support continu pour que la nutrition devienne une partie integrale et agreable de votre style de vie sain.","aboutTitle":"A Propos de Gonorte","aboutTextPlaceholder":"Une breve introduction sur Gonorte, sa philosophie d'entrainement et sa passion pour aider les autres a atteindre leurs objectifs de fitness ira ici. Ce contenu sera personnalise pour refleter l'identite et l'experience de l'entraineur.","contactTextPlaceholder":"Pret a commencer votre transformation ? Envoyez-moi un message ou trouvez-moi sur les reseaux sociaux."}`),Gj={translation:Hj},$j={en:Fj,es:qj,fr:Gj};Gt.use(NE).use(bj).init({resources:$j,supportedLngs:["en","es","fr"],fallbackLng:"es",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},react:{useSuspense:!1}});var ju={},zw;function Kj(){if(zw)return ju;zw=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.parse=c,ju.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,T){const E=new o,j=b.length;if(j<2)return E;const O=(T==null?void 0:T.decode)||x;let M=0;do{const z=b.indexOf("=",M);if(z===-1)break;const L=b.indexOf(";",M),q=L===-1?j:L;if(z>q){M=b.lastIndexOf(";",z-1)+1;continue}const V=d(b,M,z),I=f(b,z,V),P=b.slice(V,I);if(E[P]===void 0){let N=d(b,z+1,q),S=f(b,q,N);const D=O(b.slice(N,S));E[P]=D}M=q+1}while(M<j);return E}function d(b,T,E){do{const j=b.charCodeAt(T);if(j!==32&&j!==9)return T}while(++T<E);return E}function f(b,T,E){for(;T>E;){const j=b.charCodeAt(--T);if(j!==32&&j!==9)return T+1}return E}function m(b,T,E){const j=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const O=j(T);if(!e.test(O))throw new TypeError(`argument val is invalid: ${T}`);let M=b+"="+O;if(!E)return M;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);M+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);M+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);M+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);M+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(M+="; HttpOnly"),E.secure&&(M+="; Secure"),E.partitioned&&(M+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return M}function x(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return i.call(b)==="[object Date]"}return ju}Kj();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var AE=t=>{throw TypeError(t)},Yj=(t,e,n)=>e.has(t)||AE("Cannot "+n),g0=(t,e,n)=>(Yj(t,e,"read from private field"),n?n.call(t):e.get(t)),Qj=(t,e,n)=>e.has(t)?AE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Fw="popstate";function Xj(t={}){function e(i,o){let{pathname:c="/",search:d="",hash:f=""}=Vi(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ud("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let c=i.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=i.location.href,m=f.indexOf("#");d=m===-1?f:f.slice(0,m)}return d+"#"+(typeof o=="string"?o:Ds(o))}function r(i,o){Zt(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Zj(e,n,r,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wj(){return Math.random().toString(36).substring(2,10)}function Bw(t,e){return{usr:t.state,key:t.key,idx:e}}function ud(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vi(e):e,state:n,key:e&&e.key||r||Wj()}}function Ds({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Zj(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,d="POP",f=null,m=x();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function x(){return(c.state||{idx:null}).idx}function v(){d="POP";let O=x(),M=O==null?null:O-m;m=O,f&&f({action:d,location:j.location,delta:M})}function b(O,M){d="PUSH";let z=ud(j.location,O,M);n&&n(z,O),m=x()+1;let L=Bw(z,m),q=j.createHref(z);try{c.pushState(L,"",q)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(q)}o&&f&&f({action:d,location:j.location,delta:1})}function T(O,M){d="REPLACE";let z=ud(j.location,O,M);n&&n(z,O),m=x();let L=Bw(z,m),q=j.createHref(z);c.replaceState(L,"",q),o&&f&&f({action:d,location:j.location,delta:0})}function E(O){return CE(O)}let j={get action(){return d},get location(){return t(i,c)},listen(O){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Fw,v),f=O,()=>{i.removeEventListener(Fw,v),f=null}},createHref(O){return e(i,O)},createURL:E,encodeLocation(O){let M=E(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:T,go(O){return c.go(O)}};return j}function CE(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ds(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Lu,qw=class{constructor(t){if(Qj(this,Lu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(g0(this,Lu).has(t))return g0(this,Lu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){g0(this,Lu).set(t,e)}};Lu=new WeakMap;var Jj=new Set(["lazy","caseSensitive","path","id","index","children"]);function eR(t){return Jj.has(t)}var tR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function nR(t){return tR.has(t)}function rR(t){return t.index===!0}function Xf(t,e,n=[],r={}){return t.map((i,o)=>{let c=[...n,String(o)],d=typeof i.id=="string"?i.id:c.join("-");if(st(i.index!==!0||!i.children,"Cannot specify children on an index route"),st(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),rR(i)){let f={...i,...e(i),id:d};return r[d]=f,f}else{let f={...i,...e(i),id:d,children:void 0};return r[d]=f,i.children&&(f.children=Xf(i.children,e,c,r)),f}})}function ks(t,e,n="/"){return Cf(t,e,n,!1)}function Cf(t,e,n,r){let i=typeof e=="string"?Vi(e):e,o=ea(i.pathname||"/",n);if(o==null)return null;let c=jE(t);iR(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=gR(o);d=mR(c[f],m,r)}return d}function aR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function jE(t,e=[],n=[],r=""){let i=(o,c,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(st(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Ga([r,f.relativePath]),x=n.concat(f);o.children&&o.children.length>0&&(st(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),jE(o.children,e,x,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:hR(m,o.index),routesMeta:x})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,c);else for(let f of RE(o.path))i(o,c,f)}),e}function RE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=RE(r.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function iR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sR=/^:[\w-]+$/,oR=3,lR=2,cR=1,uR=10,dR=-2,Hw=t=>t==="*";function hR(t,e){let n=t.split("/"),r=n.length;return n.some(Hw)&&(r+=dR),e&&(r+=lR),n.filter(i=>!Hw(i)).reduce((i,o)=>i+(sR.test(o)?oR:o===""?cR:uR),r)}function fR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mR(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,x=o==="/"?e:e.slice(o.length)||"/",v=Wf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},x),b=f.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=Wf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:Ga([o,v.pathname]),pathnameBase:vR(Ga([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=Ga([o,v.pathnameBase]))}return c}function Wf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,{paramName:x,isOptional:v},b)=>{if(x==="*"){let E=d[b]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const T=d[b];return v&&!T?m[x]=void 0:m[x]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function pR(t,e=!1,n=!0){Zt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ea(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vi(t):t;return{pathname:n?n.startsWith("/")?n:yR(n,e):e,search:bR(r),hash:wR(i)}}function yR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function x0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cm(t){let e=PE(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jm(t,e,n,r=!1){let i;typeof t=="string"?i=Vi(t):(i={...t},st(!i.pathname||!i.pathname.includes("?"),x0("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),x0("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),x0("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}d=v>=0?e[v]:"/"}let f=xR(i,d),m=c&&c!=="/"&&c.endsWith("/"),x=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||x)&&(f.pathname+="/"),f}var Ga=t=>t.join("/").replace(/\/\/+/g,"/"),vR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Zf=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var IE=["POST","PUT","PATCH","DELETE"],TR=new Set(IE),kR=["GET",...IE],_R=new Set(kR),ER=new Set([301,302,303,307,308]),SR=new Set([307,308]),y0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},NR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ru={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),DE="remix-router-transitions",ME=Symbol("ResetLoaderData");function CR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";st(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||AR,o={},c=Xf(t.routes,i,void 0,o),d,f=t.basename||"/",m=t.dataStrategy||DR,x={unstable_middleware:!1,...t.future},v=null,b=new Set,T=null,E=null,j=null,O=t.hydrationData!=null,M=ks(c,t.history.location,f),z=!1,L=null,q;if(M==null&&!t.patchRoutesOnNavigation){let G=Wr(404,{pathname:t.history.location.pathname}),{matches:X,route:J}=nT(c);q=!0,M=X,L={[J.id]:G}}else if(M&&!t.hydrationData&&Yn(M,c,t.history.location.pathname).active&&(M=null),M)if(M.some(G=>G.route.lazy))q=!1;else if(!M.some(G=>G.route.loader))q=!0;else{let G=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let J=M.findIndex(he=>X[he.route.id]!==void 0);q=M.slice(0,J+1).every(he=>!rx(he.route,G,X))}else q=M.every(J=>!rx(J.route,G,X))}else{q=!1,M=[];let G=Yn(null,c,t.history.location.pathname);G.active&&G.matches&&(z=!0,M=G.matches)}let V,I={historyAction:t.history.action,location:t.history.location,matches:M,initialized:q,navigation:y0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||L,fetchers:new Map,blockers:new Map},P="POP",N=!1,S,D=!1,B=new Map,$=null,U=!1,ye=!1,ke=new Set,Y=new Map,ie=0,te=-1,ve=new Map,F=new Set,ne=new Map,pe=new Map,oe=new Set,Te=new Map,Ie,Pe=null;function At(){if(v=t.history.listen(({action:G,location:X,delta:J})=>{if(Ie){Ie(),Ie=void 0;return}Zt(Te.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=$i({currentLocation:I.location,nextLocation:X,historyAction:G});if(he&&J!=null){let xe=new Promise(_e=>{Ie=_e});t.history.go(J*-1),Dr(he,{state:"blocked",location:X,proceed(){Dr(he,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),xe.then(()=>t.history.go(J))},reset(){let _e=new Map(I.blockers);_e.set(he,Ru),we({blockers:_e})}});return}return Ct(G,X)}),n){GR(e,B);let G=()=>$R(e,B);e.addEventListener("pagehide",G),$=()=>e.removeEventListener("pagehide",G)}return I.initialized||Ct("POP",I.location,{initialHydration:!0}),V}function le(){v&&v(),$&&$(),b.clear(),S&&S.abort(),I.fetchers.forEach((G,X)=>on(X)),I.blockers.forEach((G,X)=>ei(X))}function Qe(G){return b.add(G),()=>b.delete(G)}function we(G,X={}){I={...I,...G};let J=[],he=[];I.fetchers.forEach((xe,_e)=>{xe.state==="idle"&&(oe.has(_e)?J.push(_e):he.push(_e))}),oe.forEach(xe=>{!I.fetchers.has(xe)&&!Y.has(xe)&&J.push(xe)}),[...b].forEach(xe=>xe(I,{deletedFetchers:J,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),J.forEach(xe=>on(xe)),he.forEach(xe=>I.fetchers.delete(xe))}function ue(G,X,{flushSync:J}={}){var De,Ue;let he=I.actionData!=null&&I.navigation.formMethod!=null&&Nr(I.navigation.formMethod)&&I.navigation.state==="loading"&&((De=G.state)==null?void 0:De._isRedirect)!==!0,xe;X.actionData?Object.keys(X.actionData).length>0?xe=X.actionData:xe=null:he?xe=I.actionData:xe=null;let _e=X.loaderData?eT(I.loaderData,X.loaderData,X.matches||[],X.errors):I.loaderData,Ve=I.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((Re,Fe)=>Ve.set(Fe,Ru)));let Ne=N===!0||I.navigation.formMethod!=null&&Nr(I.navigation.formMethod)&&((Ue=G.state)==null?void 0:Ue._isRedirect)!==!0;d&&(c=d,d=void 0),U||P==="POP"||(P==="PUSH"?t.history.push(G,G.state):P==="REPLACE"&&t.history.replace(G,G.state));let je;if(P==="POP"){let Re=B.get(I.location.pathname);Re&&Re.has(G.pathname)?je={currentLocation:I.location,nextLocation:G}:B.has(G.pathname)&&(je={currentLocation:G,nextLocation:I.location})}else if(D){let Re=B.get(I.location.pathname);Re?Re.add(G.pathname):(Re=new Set([G.pathname]),B.set(I.location.pathname,Re)),je={currentLocation:I.location,nextLocation:G}}we({...X,actionData:xe,loaderData:_e,historyAction:P,location:G,initialized:!0,navigation:y0,revalidation:"idle",restoreScrollPosition:Ki(G,X.matches||I.matches),preventScrollReset:Ne,blockers:Ve},{viewTransitionOpts:je,flushSync:J===!0}),P="POP",N=!1,D=!1,U=!1,ye=!1,Pe==null||Pe.resolve(),Pe=null}async function Oe(G,X){if(typeof G=="number"){t.history.go(G);return}let J=nx(I.location,I.matches,f,G,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:he,submission:xe,error:_e}=Gw(!1,J,X),Ve=I.location,Ne=ud(I.location,he,X&&X.state);Ne={...Ne,...t.history.encodeLocation(Ne)};let je=X&&X.replace!=null?X.replace:void 0,De="PUSH";je===!0?De="REPLACE":je===!1||xe!=null&&Nr(xe.formMethod)&&xe.formAction===I.location.pathname+I.location.search&&(De="REPLACE");let Ue=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Re=(X&&X.flushSync)===!0,Fe=$i({currentLocation:Ve,nextLocation:Ne,historyAction:De});if(Fe){Dr(Fe,{state:"blocked",location:Ne,proceed(){Dr(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ne}),Oe(G,X)},reset(){let ot=new Map(I.blockers);ot.set(Fe,Ru),we({blockers:ot})}});return}await Ct(De,Ne,{submission:xe,pendingError:_e,preventScrollReset:Ue,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Re})}function et(){Pe||(Pe=KR()),Gi(),we({revalidation:"loading"});let G=Pe.promise;return I.navigation.state==="submitting"?G:I.navigation.state==="idle"?(Ct(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),G):(Ct(P||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:D===!0}),G)}async function Ct(G,X,J){S&&S.abort(),S=null,P=G,U=(J&&J.startUninterruptedRevalidation)===!0,la(I.location,I.matches),N=(J&&J.preventScrollReset)===!0,D=(J&&J.enableViewTransition)===!0;let he=d||c,xe=J&&J.overrideNavigation,_e=J!=null&&J.initialHydration&&I.matches&&I.matches.length>0&&!z?I.matches:ks(he,X,f),Ve=(J&&J.flushSync)===!0;if(_e&&I.initialized&&!ye&&zR(I.location,X)&&!(J&&J.submission&&Nr(J.submission.formMethod))){ue(X,{matches:_e},{flushSync:Ve});return}let Ne=Yn(_e,he,X.pathname);if(Ne.active&&Ne.matches&&(_e=Ne.matches),!_e){let{error:vt,notFoundMatches:ft,route:at}=ti(X.pathname);ue(X,{matches:ft,loaderData:{},errors:{[at.id]:vt}},{flushSync:Ve});return}S=new AbortController;let je=ql(t.history,X,S.signal,J&&J.submission),De=new qw(t.unstable_getContext?await t.unstable_getContext():void 0),Ue;if(J&&J.pendingError)Ue=[Co(_e).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Nr(J.submission.formMethod)){let vt=await Dt(je,X,J.submission,_e,De,Ne.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:Ve});if(vt.shortCircuited)return;if(vt.pendingActionResult){let[ft,at]=vt.pendingActionResult;if(Sr(at)&&dd(at.error)&&at.error.status===404){S=null,ue(X,{matches:vt.matches,loaderData:{},errors:{[ft]:at.error}});return}}_e=vt.matches||_e,Ue=vt.pendingActionResult,xe=v0(X,J.submission),Ve=!1,Ne.active=!1,je=ql(t.history,je.url,je.signal)}let{shortCircuited:Re,matches:Fe,loaderData:ot,errors:kt}=await Bi(je,X,_e,De,Ne.active,xe,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Ve,Ue);Re||(S=null,ue(X,{matches:Fe||_e,...tT(Ue),loaderData:ot,errors:kt}))}async function Dt(G,X,J,he,xe,_e,Ve,Ne={}){Gi();let je=qR(X,J);if(we({navigation:je},{flushSync:Ne.flushSync===!0}),_e){let Re=await Ea(he,X.pathname,G.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let Fe=Co(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[Fe,{type:"error",error:Re.error}]}}else if(Re.matches)he=Re.matches;else{let{notFoundMatches:Fe,error:ot,route:kt}=ti(X.pathname);return{matches:Fe,pendingActionResult:[kt.id,{type:"error",error:ot}]}}}let De,Ue=Vu(he,X);if(!Ue.route.action&&!Ue.route.lazy)De={type:"error",error:Wr(405,{method:G.method,pathname:X.pathname,routeId:Ue.route.id})};else{let Re=Jl(i,o,G,he,Ue,Ve?[]:r,xe),Fe=await Pr(G,Re,xe,null);if(De=Fe[Ue.route.id],!De){for(let ot of he)if(Fe[ot.route.id]){De=Fe[ot.route.id];break}}if(G.signal.aborted)return{shortCircuited:!0}}if(jo(De)){let Re;return Ne&&Ne.replace!=null?Re=Ne.replace:Re=Ww(De.response.headers.get("Location"),new URL(G.url),f)===I.location.pathname+I.location.search,await oa(G,De,!0,{submission:J,replace:Re}),{shortCircuited:!0}}if(Sr(De)){let Re=Co(he,Ue.route.id);return(Ne&&Ne.replace)!==!0&&(P="PUSH"),{matches:he,pendingActionResult:[Re.route.id,De,Ue.route.id]}}return{matches:he,pendingActionResult:[Ue.route.id,De]}}async function Bi(G,X,J,he,xe,_e,Ve,Ne,je,De,Ue,Re){let Fe=_e||v0(X,Ve),ot=Ve||Ne||aT(Fe),kt=!U&&!De;if(xe){if(kt){let ln=An(Re);we({navigation:Fe,...ln!==void 0?{actionData:ln}:{}},{flushSync:Ue})}let Ke=await Ea(J,X.pathname,G.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let ln=Co(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[ln]:Ke.error}}}else if(Ke.matches)J=Ke.matches;else{let{error:ln,notFoundMatches:xr,route:ar}=ti(X.pathname);return{matches:xr,loaderData:{},errors:{[ar.id]:ln}}}}let vt=d||c,{dsMatches:ft,revalidatingFetchers:at}=$w(G,he,i,o,t.history,I,J,ot,X,De?[]:r,De===!0,ye,ke,oe,ne,F,vt,f,t.patchRoutesOnNavigation!=null,Re);if(te=++ie,!t.dataStrategy&&!ft.some(Ke=>Ke.shouldLoad)&&at.length===0){let Ke=ka();return ue(X,{matches:J,loaderData:{},errors:Re&&Sr(Re[1])?{[Re[0]]:Re[1].error}:null,...tT(Re),...Ke?{fetchers:new Map(I.fetchers)}:{}},{flushSync:Ue}),{shortCircuited:!0}}if(kt){let Ke={};if(!xe){Ke.navigation=Fe;let ln=An(Re);ln!==void 0&&(Ke.actionData=ln)}at.length>0&&(Ke.fetchers=ia(at)),we(Ke,{flushSync:Ue})}at.forEach(Ke=>{Ir(Ke.key),Ke.controller&&Y.set(Ke.key,Ke.controller)});let Or=()=>at.forEach(Ke=>Ir(Ke.key));S&&S.signal.addEventListener("abort",Or);let{loaderResults:pn,fetcherResults:Qn}=await Hi(ft,at,G,he);if(G.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",Or),at.forEach(Ke=>Y.delete(Ke.key));let Cn=pf(pn);if(Cn)return await oa(G,Cn.result,!0,{replace:je}),{shortCircuited:!0};if(Cn=pf(Qn),Cn)return F.add(Cn.key),await oa(G,Cn.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:Na,errors:gr}=Jw(I,J,pn,Re,at,Qn);De&&I.errors&&(gr={...I.errors,...gr});let Qi=ka(),zn=_a(te),Xn=Qi||zn||at.length>0;return{matches:J,loaderData:Na,errors:gr,...Xn?{fetchers:new Map(I.fetchers)}:{}}}function An(G){if(G&&!Sr(G[1]))return{[G[0]]:G[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function ia(G){return G.forEach(X=>{let J=I.fetchers.get(X.key),he=Pu(void 0,J?J.data:void 0);I.fetchers.set(X.key,he)}),new Map(I.fetchers)}async function sa(G,X,J,he){Ir(G);let xe=(he&&he.flushSync)===!0,_e=d||c,Ve=nx(I.location,I.matches,f,J,X,he==null?void 0:he.relative),Ne=ks(_e,Ve,f),je=Yn(Ne,_e,Ve);if(je.active&&je.matches&&(Ne=je.matches),!Ne){tt(G,X,Wr(404,{pathname:Ve}),{flushSync:xe});return}let{path:De,submission:Ue,error:Re}=Gw(!0,Ve,he);if(Re){tt(G,X,Re,{flushSync:xe});return}let Fe=Vu(Ne,De),ot=new qw(t.unstable_getContext?await t.unstable_getContext():void 0),kt=(he&&he.preventScrollReset)===!0;if(Ue&&Nr(Ue.formMethod)){await qi(G,X,De,Fe,Ne,ot,je.active,xe,kt,Ue);return}ne.set(G,{routeId:X,path:De}),await Ja(G,X,De,Fe,Ne,ot,je.active,xe,kt,Ue)}async function qi(G,X,J,he,xe,_e,Ve,Ne,je,De){Gi(),ne.delete(G);function Ue(Mt){if(!Mt.route.action&&!Mt.route.lazy){let Lr=Wr(405,{method:De.formMethod,pathname:J,routeId:X});return tt(G,X,Lr,{flushSync:Ne}),!0}return!1}if(!Ve&&Ue(he))return;let Re=I.fetchers.get(G);wt(G,HR(De,Re),{flushSync:Ne});let Fe=new AbortController,ot=ql(t.history,J,Fe.signal,De);if(Ve){let Mt=await Ea(xe,J,ot.signal,G);if(Mt.type==="aborted")return;if(Mt.type==="error"){tt(G,X,Mt.error,{flushSync:Ne});return}else if(Mt.matches){if(xe=Mt.matches,he=Vu(xe,J),Ue(he))return}else{tt(G,X,Wr(404,{pathname:J}),{flushSync:Ne});return}}Y.set(G,Fe);let kt=ie,vt=Jl(i,o,ot,xe,he,r,_e),at=(await Pr(ot,vt,_e,G))[he.route.id];if(ot.signal.aborted){Y.get(G)===Fe&&Y.delete(G);return}if(oe.has(G)){if(jo(at)||Sr(at)){wt(G,bs(void 0));return}}else{if(jo(at))if(Y.delete(G),te>kt){wt(G,bs(void 0));return}else return F.add(G),wt(G,Pu(De)),oa(ot,at,!1,{fetcherSubmission:De,preventScrollReset:je});if(Sr(at)){tt(G,X,at.error);return}}let Or=I.navigation.location||I.location,pn=ql(t.history,Or,Fe.signal),Qn=d||c,Cn=I.navigation.state!=="idle"?ks(Qn,I.navigation.location,f):I.matches;st(Cn,"Didn't find any matches after fetcher action");let Na=++ie;ve.set(G,Na);let gr=Pu(De,at.data);I.fetchers.set(G,gr);let{dsMatches:Qi,revalidatingFetchers:zn}=$w(pn,_e,i,o,t.history,I,Cn,De,Or,r,!1,ye,ke,oe,ne,F,Qn,f,t.patchRoutesOnNavigation!=null,[he.route.id,at]);zn.filter(Mt=>Mt.key!==G).forEach(Mt=>{let Lr=Mt.key,ni=I.fetchers.get(Lr),jn=Pu(void 0,ni?ni.data:void 0);I.fetchers.set(Lr,jn),Ir(Lr),Mt.controller&&Y.set(Lr,Mt.controller)}),we({fetchers:new Map(I.fetchers)});let Xn=()=>zn.forEach(Mt=>Ir(Mt.key));Fe.signal.addEventListener("abort",Xn);let{loaderResults:Ke,fetcherResults:ln}=await Hi(Qi,zn,pn,_e);if(Fe.signal.aborted)return;if(Fe.signal.removeEventListener("abort",Xn),ve.delete(G),Y.delete(G),zn.forEach(Mt=>Y.delete(Mt.key)),I.fetchers.has(G)){let Mt=bs(at.data);I.fetchers.set(G,Mt)}let xr=pf(Ke);if(xr)return oa(pn,xr.result,!1,{preventScrollReset:je});if(xr=pf(ln),xr)return F.add(xr.key),oa(pn,xr.result,!1,{preventScrollReset:je});let{loaderData:ar,errors:Aa}=Jw(I,Cn,Ke,void 0,zn,ln);_a(Na),I.navigation.state==="loading"&&Na>te?(st(P,"Expected pending action"),S&&S.abort(),ue(I.navigation.location,{matches:Cn,loaderData:ar,errors:Aa,fetchers:new Map(I.fetchers)})):(we({errors:Aa,loaderData:eT(I.loaderData,ar,Cn,Aa),fetchers:new Map(I.fetchers)}),ye=!1)}async function Ja(G,X,J,he,xe,_e,Ve,Ne,je,De){let Ue=I.fetchers.get(G);wt(G,Pu(De,Ue?Ue.data:void 0),{flushSync:Ne});let Re=new AbortController,Fe=ql(t.history,J,Re.signal);if(Ve){let at=await Ea(xe,J,Fe.signal,G);if(at.type==="aborted")return;if(at.type==="error"){tt(G,X,at.error,{flushSync:Ne});return}else if(at.matches)xe=at.matches,he=Vu(xe,J);else{tt(G,X,Wr(404,{pathname:J}),{flushSync:Ne});return}}Y.set(G,Re);let ot=ie,kt=Jl(i,o,Fe,xe,he,r,_e),ft=(await Pr(Fe,kt,_e,G))[he.route.id];if(Y.get(G)===Re&&Y.delete(G),!Fe.signal.aborted){if(oe.has(G)){wt(G,bs(void 0));return}if(jo(ft))if(te>ot){wt(G,bs(void 0));return}else{F.add(G),await oa(Fe,ft,!1,{preventScrollReset:je});return}if(Sr(ft)){tt(G,X,ft.error);return}wt(G,bs(ft.data))}}async function oa(G,X,J,{submission:he,fetcherSubmission:xe,preventScrollReset:_e,replace:Ve}={}){X.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let Ne=X.response.headers.get("Location");st(Ne,"Expected a Location header on the redirect Response"),Ne=Ww(Ne,new URL(G.url),f);let je=ud(I.location,Ne,{_isRedirect:!0});if(n){let kt=!1;if(X.response.headers.has("X-Remix-Reload-Document"))kt=!0;else if(ay.test(Ne)){const vt=CE(Ne,!0);kt=vt.origin!==e.location.origin||ea(vt.pathname,f)==null}if(kt){Ve?e.location.replace(Ne):e.location.assign(Ne);return}}S=null;let De=Ve===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ue,formAction:Re,formEncType:Fe}=I.navigation;!he&&!xe&&Ue&&Re&&Fe&&(he=aT(I.navigation));let ot=he||xe;if(SR.has(X.response.status)&&ot&&Nr(ot.formMethod))await Ct(De,je,{submission:{...ot,formAction:Ne},preventScrollReset:_e||N,enableViewTransition:J?D:void 0});else{let kt=v0(je,he);await Ct(De,je,{overrideNavigation:kt,fetcherSubmission:xe,preventScrollReset:_e||N,enableViewTransition:J?D:void 0})}}async function Pr(G,X,J,he){let xe,_e={};try{xe=await MR(m,G,X,he,J,!1)}catch(Ve){return X.filter(Ne=>Ne.shouldLoad).forEach(Ne=>{_e[Ne.route.id]={type:"error",error:Ve}}),_e}if(G.signal.aborted)return _e;for(let[Ve,Ne]of Object.entries(xe))if(FR(Ne)){let je=Ne.result;_e[Ve]={type:"redirect",response:VR(je,G,Ve,X,f)}}else _e[Ve]=await LR(Ne);return _e}async function Hi(G,X,J,he){let xe=Pr(J,G,he,null),_e=Promise.all(X.map(async je=>{if(je.matches&&je.match&&je.request&&je.controller){let Ue=(await Pr(je.request,je.matches,he,je.key))[je.match.route.id];return{[je.key]:Ue}}else return Promise.resolve({[je.key]:{type:"error",error:Wr(404,{pathname:je.path})}})})),Ve=await xe,Ne=(await _e).reduce((je,De)=>Object.assign(je,De),{});return{loaderResults:Ve,fetcherResults:Ne}}function Gi(){ye=!0,ne.forEach((G,X)=>{Y.has(X)&&ke.add(X),Ir(X)})}function wt(G,X,J={}){I.fetchers.set(G,X),we({fetchers:new Map(I.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function tt(G,X,J,he={}){let xe=Co(I.matches,X);on(G),we({errors:{[xe.route.id]:J},fetchers:new Map(I.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function Un(G){return pe.set(G,(pe.get(G)||0)+1),oe.has(G)&&oe.delete(G),I.fetchers.get(G)||NR}function on(G){let X=I.fetchers.get(G);Y.has(G)&&!(X&&X.state==="loading"&&ve.has(G))&&Ir(G),ne.delete(G),ve.delete(G),F.delete(G),oe.delete(G),ke.delete(G),I.fetchers.delete(G)}function tl(G){let X=(pe.get(G)||0)-1;X<=0?(pe.delete(G),oe.add(G)):pe.set(G,X),we({fetchers:new Map(I.fetchers)})}function Ir(G){let X=Y.get(G);X&&(X.abort(),Y.delete(G))}function Ta(G){for(let X of G){let J=Un(X),he=bs(J.data);I.fetchers.set(X,he)}}function ka(){let G=[],X=!1;for(let J of F){let he=I.fetchers.get(J);st(he,`Expected fetcher: ${J}`),he.state==="loading"&&(F.delete(J),G.push(J),X=!0)}return Ta(G),X}function _a(G){let X=[];for(let[J,he]of ve)if(he<G){let xe=I.fetchers.get(J);st(xe,`Expected fetcher: ${J}`),xe.state==="loading"&&(Ir(J),ve.delete(J),X.push(J))}return Ta(X),X.length>0}function pr(G,X){let J=I.blockers.get(G)||Ru;return Te.get(G)!==X&&Te.set(G,X),J}function ei(G){I.blockers.delete(G),Te.delete(G)}function Dr(G,X){let J=I.blockers.get(G)||Ru;st(J.state==="unblocked"&&X.state==="blocked"||J.state==="blocked"&&X.state==="blocked"||J.state==="blocked"&&X.state==="proceeding"||J.state==="blocked"&&X.state==="unblocked"||J.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${X.state}`);let he=new Map(I.blockers);he.set(G,X),we({blockers:he})}function $i({currentLocation:G,nextLocation:X,historyAction:J}){if(Te.size===0)return;Te.size>1&&Zt(!1,"A router only supports one blocker at a time");let he=Array.from(Te.entries()),[xe,_e]=he[he.length-1],Ve=I.blockers.get(xe);if(!(Ve&&Ve.state==="proceeding")&&_e({currentLocation:G,nextLocation:X,historyAction:J}))return xe}function ti(G){let X=Wr(404,{pathname:G}),J=d||c,{matches:he,route:xe}=nT(J);return{notFoundMatches:he,route:xe,error:X}}function Zs(G,X,J){if(T=G,j=X,E=J||null,!O&&I.navigation===y0){O=!0;let he=Ki(I.location,I.matches);he!=null&&we({restoreScrollPosition:he})}return()=>{T=null,j=null,E=null}}function Mr(G,X){return E&&E(G,X.map(he=>aR(he,I.loaderData)))||G.key}function la(G,X){if(T&&j){let J=Mr(G,X);T[J]=j()}}function Ki(G,X){if(T){let J=Mr(G,X),he=T[J];if(typeof he=="number")return he}return null}function Yn(G,X,J){if(t.patchRoutesOnNavigation)if(G){if(Object.keys(G[0].params).length>0)return{active:!0,matches:Cf(X,J,f,!0)}}else return{active:!0,matches:Cf(X,J,f,!0)||[]};return{active:!1,matches:null}}async function Ea(G,X,J,he){if(!t.patchRoutesOnNavigation)return{type:"success",matches:G};let xe=G;for(;;){let _e=d==null,Ve=d||c,Ne=o;try{await t.patchRoutesOnNavigation({signal:J,path:X,matches:xe,fetcherKey:he,patch:(Ue,Re)=>{J.aborted||Kw(Ue,Re,Ve,Ne,i)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:xe}}finally{_e&&!J.aborted&&(c=[...c])}if(J.aborted)return{type:"aborted"};let je=ks(Ve,X,f);if(je)return{type:"success",matches:je};let De=Cf(Ve,X,f,!0);if(!De||xe.length===De.length&&xe.every((Ue,Re)=>Ue.route.id===De[Re].route.id))return{type:"success",matches:null};xe=De}}function Sa(G){o={},d=Xf(G,i,void 0,o)}function Yi(G,X){let J=d==null;Kw(G,X,d||c,o,i),J&&(c=[...c],we({}))}return V={get basename(){return f},get future(){return x},get state(){return I},get routes(){return c},get window(){return e},initialize:At,subscribe:Qe,enableScrollRestoration:Zs,navigate:Oe,fetch:sa,revalidate:et,createHref:G=>t.history.createHref(G),encodeLocation:G=>t.history.encodeLocation(G),getFetcher:Un,deleteFetcher:tl,dispose:le,getBlocker:pr,deleteBlocker:ei,patchRoutes:Yi,_internalFetchControllers:Y,_internalSetRoutes:Sa},V}function jR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function nx(t,e,n,r,i,o){let c,d;if(i){c=[];for(let m of e)if(c.push(m),m.route.id===i){d=m;break}}else c=e,d=e[e.length-1];let f=jm(r||".",Cm(c),ea(t.pathname,n)||t.pathname,o==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&d){let m=iy(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let x=new URLSearchParams(f.search),v=x.getAll("index");x.delete("index"),v.filter(T=>T).forEach(T=>x.append("index",T));let b=x.toString();f.search=b?`?${b}`:""}}return n!=="/"&&(f.pathname=f.pathname==="/"?n:Ga([n,f.pathname])),Ds(f)}function Gw(t,e,n){if(!n||!jR(n))return{path:e};if(n.formMethod&&!BR(n.formMethod))return{path:e,error:Wr(405,{method:n.formMethod})};let r=()=>({path:e,error:Wr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),c=FE(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Nr(o))return r();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[T,E])=>`${b}${T}=${E}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!Nr(o))return r();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:c,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}st(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=ix(n.formData),f=n.formData;else if(n.body instanceof FormData)d=ix(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=Zw(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=Zw(d)}catch{return r()}let m={formMethod:o,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Nr(m.formMethod))return{path:e,submission:m};let x=Vi(e);return t&&x.search&&iy(x.search)&&d.append("index",""),x.search=`?${d}`,{path:Ds(x),submission:m}}function $w(t,e,n,r,i,o,c,d,f,m,x,v,b,T,E,j,O,M,z,L){var U;let q=L?Sr(L[1])?L[1].error:L[1].data:void 0,V=i.createURL(o.location),I=i.createURL(f),P;if(x&&o.errors){let ye=Object.keys(o.errors)[0];P=c.findIndex(ke=>ke.route.id===ye)}else if(L&&Sr(L[1])){let ye=L[0];P=c.findIndex(ke=>ke.route.id===ye)-1}let N=L?L[1].statusCode:void 0,S=N&&N>=400,D={currentUrl:V,currentParams:((U=o.matches[0])==null?void 0:U.params)||{},nextUrl:I,nextParams:c[0].params,...d,actionResult:q,actionStatus:N},B=c.map((ye,ke)=>{let{route:Y}=ye,ie=null;if(P!=null&&ke>P?ie=!1:Y.lazy?ie=!0:Y.loader==null?ie=!1:x?ie=rx(Y,o.loaderData,o.errors):RR(o.loaderData,o.matches[ke],ye)&&(ie=!0),ie!==null)return ax(n,r,t,ye,m,e,ie);let te=S?!1:v||V.pathname+V.search===I.pathname+I.search||V.search!==I.search||PR(o.matches[ke],ye),ve={...D,defaultShouldRevalidate:te},F=Jf(ye,ve);return ax(n,r,t,ye,m,e,F,ve)}),$=[];return E.forEach((ye,ke)=>{if(x||!c.some(oe=>oe.route.id===ye.routeId)||T.has(ke))return;let Y=o.fetchers.get(ke),ie=Y&&Y.state!=="idle"&&Y.data===void 0,te=ks(O,ye.path,M);if(!te){if(z&&ie)return;$.push({key:ke,routeId:ye.routeId,path:ye.path,matches:null,match:null,request:null,controller:null});return}if(j.has(ke))return;let ve=Vu(te,ye.path),F=new AbortController,ne=ql(i,ye.path,F.signal),pe=null;if(b.has(ke))b.delete(ke),pe=Jl(n,r,ne,te,ve,m,e);else if(ie)v&&(pe=Jl(n,r,ne,te,ve,m,e));else{let oe={...D,defaultShouldRevalidate:S?!1:v};Jf(ve,oe)&&(pe=Jl(n,r,ne,te,ve,m,e,oe))}pe&&$.push({key:ke,routeId:ye.routeId,path:ye.path,matches:pe,match:ve,request:ne,controller:F})}),{dsMatches:B,revalidatingFetchers:$}}function rx(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function RR(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function PR(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Jf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Kw(t,e,n,r,i){let o;if(t){let f=r[t];st(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),o=f.children}else o=n;let c=e.filter(f=>!o.some(m=>OE(f,m))),d=Xf(c,i,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...d)}function OE(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>OE(n,o))}):!1}var Yw=new WeakMap,LE=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(st(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[t];if(!o)return;let c=Yw.get(i);c||(c={},Yw.set(i,c));let d=c[t];if(d)return d;let f=(async()=>{let m=eR(t),v=i[t]!==void 0&&t!=="hasErrorBoundary";if(m)Zt(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(v)Zt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let b=await o();b!=null&&(Object.assign(i,{[t]:b}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(b=>b===void 0)&&(i.lazy=void 0))})();return c[t]=f,f},Qw=new WeakMap;function IR(t,e,n,r,i){let o=n[t.id];if(st(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let x=Qw.get(o);if(x)return{lazyRoutePromise:x,lazyHandlerPromise:x};let v=(async()=>{st(typeof t.lazy=="function","No lazy route function found");let b=await t.lazy(),T={};for(let E in b){let j=b[E];if(j===void 0)continue;let O=nR(E),z=o[E]!==void 0&&E!=="hasErrorBoundary";O?Zt(!O,"Route property "+E+" is not a supported property to be returned from a lazy route function. This property will be ignored."):z?Zt(!z,`Route "${o.id}" has a static property "${E}" defined but its lazy function is also returning a value for this property. The lazy route property "${E}" will be ignored.`):T[E]=j}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return Qw.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let c=Object.keys(t.lazy),d=[],f;for(let x of c){if(i&&i.includes(x))continue;let v=LE({key:x,route:t,manifest:n,mapRouteProperties:r});v&&(d.push(v),x===e&&(f=v))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m==null||m.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}async function Xw(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function DR(t){return t.matches.some(e=>e.route.unstable_middleware)?VE(t,!1,()=>Xw(t),(e,n)=>({[n]:{type:"error",result:e}})):Xw(t)}async function VE(t,e,n,r){let{matches:i,request:o,params:c,context:d}=t,f={handlerResult:void 0};try{let m=i.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(b=>[v.route.id,b]):[]),x=await UE({request:o,params:c,context:d},m,e,f,n);return e?x:f.handlerResult}catch(m){if(!f.middlewareError)throw m;let x=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,x):x}}async function UE(t,e,n,r,i,o=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[o];if(!d)return r.handlerResult=await i(),r.handlerResult;let[f,m]=d,x=!1,v,b=async()=>{if(x)throw new Error("You may only call `next()` once per middleware");x=!0,await UE(t,e,n,r,i,o+1)};try{let T=await m({request:t.request,params:t.params,context:t.context},b);return x?T===void 0?v:T:b()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:f,error:T}):r.middlewareError={routeId:f,error:T},T}}function zE(t,e,n,r,i){let o=LE({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),c=IR(r.route,Nr(n.method)?"action":"loader",e,t,i);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function ax(t,e,n,r,i,o,c,d=null){let f=!1,m=zE(t,e,n,r,i);return{...r,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(x){return f=!0,d?typeof x=="boolean"?Jf(r,{...d,defaultShouldRevalidate:x}):Jf(r,d):c},resolve(x){return f||c||x&&n.method==="GET"&&(r.route.lazy||r.route.loader)?OR({request:n,match:r,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:x,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Jl(t,e,n,r,i,o,c,d=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:zE(t,e,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ax(t,e,n,f,o,c,!0,d))}async function MR(t,e,n,r,i,o){n.some(m=>{var x;return(x=m._lazyPromises)==null?void 0:x.middleware})&&await Promise.all(n.map(m=>{var x;return(x=m._lazyPromises)==null?void 0:x.middleware}));let c={request:e,params:n[0].params,context:i,matches:n},f=await t({...c,fetcherKey:r,unstable_runClientMiddleware:m=>{let x=c;return VE(x,!1,()=>m({...x,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,b)=>({[b]:{type:"error",result:v}}))}});try{await Promise.all(n.flatMap(m=>{var x,v;return[(x=m._lazyPromises)==null?void 0:x.handler,(v=m._lazyPromises)==null?void 0:v.route]}))}catch{}return f}async function OR({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let c,d,f=Nr(t.method),m=f?"action":"loader",x=v=>{let b,T=new Promise((O,M)=>b=M);d=()=>b(),t.signal.addEventListener("abort",d);let E=O=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):v({request:t,params:e.params,context:o},...O!==void 0?[O]:[]),j=(async()=>{try{return{type:"data",result:await(i?i(M=>E(M)):E())}}catch(O){return{type:"error",result:O}}})();return Promise.race([j,T])};try{let v=f?e.route.action:e.route.loader;if(n||r)if(v){let b,[T]=await Promise.all([x(v).catch(E=>{b=E}),n,r]);if(b!==void 0)throw b;c=T}else{await n;let b=f?e.route.action:e.route.loader;if(b)[c]=await Promise.all([x(b),r]);else if(m==="action"){let T=new URL(t.url),E=T.pathname+T.search;throw Wr(405,{method:t.method,pathname:E,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)c=await x(v);else{let b=new URL(t.url),T=b.pathname+b.search;throw Wr(404,{pathname:T})}}catch(v){return{type:"error",result:v}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function LR(t){var r,i,o,c,d,f;let{result:e,type:n}=t;if(BE(e)){let m;try{let x=e.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(x){return{type:"error",error:x}}return n==="error"?{type:"error",error:new Zf(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?rT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Zf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:dd(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:dd(e)?e.status:void 0}:rT(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function VR(t,e,n,r,i){let o=t.headers.get("Location");if(st(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ay.test(o)){let c=r.slice(0,r.findIndex(d=>d.route.id===n)+1);o=nx(new URL(e.url),c,i,o),t.headers.set("Location",o)}return t}function Ww(t,e,n){if(ay.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ea(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function ql(t,e,n,r){let i=t.createURL(FE(e)).toString(),o={signal:n};if(r&&Nr(r.formMethod)){let{formMethod:c,formEncType:d}=r;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=ix(r.formData):o.body=r.formData}return new Request(i,o)}function ix(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Zw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function UR(t,e,n,r=!1,i=!1){let o={},c=null,d,f=!1,m={},x=n&&Sr(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let b=v.route.id,T=e[b];if(st(!jo(T),"Cannot handle redirect results in processLoaderData"),Sr(T)){let E=T.error;if(x!==void 0&&(E=x,x=void 0),c=c||{},i)c[b]=E;else{let j=Co(t,b);c[j.route.id]==null&&(c[j.route.id]=E)}r||(o[b]=ME),f||(f=!0,d=dd(T.error)?T.error.status:500),T.headers&&(m[b]=T.headers)}else o[b]=T.data,T.statusCode&&T.statusCode!==200&&!f&&(d=T.statusCode),T.headers&&(m[b]=T.headers)}),x!==void 0&&n&&(c={[n[0]]:x},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:m}}function Jw(t,e,n,r,i,o){let{loaderData:c,errors:d}=UR(e,n,r);return i.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:x,controller:v}=f,b=o[m];if(st(b,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Sr(b)){let T=Co(t.matches,x==null?void 0:x.route.id);d&&d[T.route.id]||(d={...d,[T.route.id]:b.error}),t.fetchers.delete(m)}else if(jo(b))st(!1,"Unhandled fetcher revalidation redirect");else{let T=bs(b.data);t.fetchers.set(m,T)}}),{loaderData:c,errors:d}}function eT(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==ME).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of n){let c=o.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&o.route.loader&&(i[c]=t[c]),r&&r.hasOwnProperty(c))break}return i}function tT(t){return t?Sr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Co(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function nT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wr(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",r&&e&&n?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",d=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",r&&e&&n?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new Zf(t||500,c,new Error(d),!0)}function pf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(jo(i))return{key:r,result:i}}}function FE(t){let e=typeof t=="string"?Vi(t):t;return Ds({...e,hash:""})}function zR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function FR(t){return BE(t.result)&&ER.has(t.result.status)}function Sr(t){return t.type==="error"}function jo(t){return(t&&t.type)==="redirect"}function rT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function BE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function BR(t){return _R.has(t.toUpperCase())}function Nr(t){return TR.has(t.toUpperCase())}function iy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Vu(t,e){let n=typeof e=="string"?Vi(e).search:e.search;if(t[t.length-1].route.index&&iy(n||""))return t[t.length-1];let r=PE(t);return r[r.length-1]}function aT(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:c}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:c,text:void 0}}}function v0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Pu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function HR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function bs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function GR(t,e){try{let n=t.sessionStorage.getItem(DE);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function $R(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(DE,JSON.stringify(n))}catch(r){Zt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function KR(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ko=C.createContext(null);Ko.displayName="DataRouter";var Id=C.createContext(null);Id.displayName="DataRouterState";var sy=C.createContext({isTransitioning:!1});sy.displayName="ViewTransition";var qE=C.createContext(new Map);qE.displayName="Fetchers";var YR=C.createContext(null);YR.displayName="Await";var wa=C.createContext(null);wa.displayName="Navigation";var Rm=C.createContext(null);Rm.displayName="Location";var ra=C.createContext({outlet:null,matches:[],isDataRoute:!1});ra.displayName="Route";var oy=C.createContext(null);oy.displayName="RouteError";function QR(t,{relative:e}={}){st(yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(wa),{hash:i,pathname:o,search:c}=Dd(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:Ga([n,o])),r.createHref({pathname:d,search:c,hash:i})}function yc(){return C.useContext(Rm)!=null}function mr(){return st(yc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Rm).location}var HE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(t){C.useContext(wa).static||C.useLayoutEffect(t)}function Yo(){let{isDataRoute:t}=C.useContext(ra);return t?dP():XR()}function XR(){st(yc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Ko),{basename:e,navigator:n}=C.useContext(wa),{matches:r}=C.useContext(ra),{pathname:i}=mr(),o=JSON.stringify(Cm(r)),c=C.useRef(!1);return GE(()=>{c.current=!0}),C.useCallback((f,m={})=>{if(Zt(c.current,HE),!c.current)return;if(typeof f=="number"){n.go(f);return}let x=jm(f,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ga([e,x.pathname])),(m.replace?n.replace:n.push)(x,m.state,m)},[e,n,o,i,t])}var WR=C.createContext(null);function ZR(t){let e=C.useContext(ra).outlet;return e&&C.createElement(WR.Provider,{value:t},e)}function JR(){let{matches:t}=C.useContext(ra),e=t[t.length-1];return e?e.params:{}}function Dd(t,{relative:e}={}){let{matches:n}=C.useContext(ra),{pathname:r}=mr(),i=JSON.stringify(Cm(n));return C.useMemo(()=>jm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function eP(t,e,n,r){st(yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(wa),{matches:o}=C.useContext(ra),c=o[o.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",x=c&&c.route;{let M=x&&x.path||"";$E(f,!x||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=mr(),b;b=v;let T=b.pathname||"/",E=T;if(m!=="/"){let M=m.replace(/^\//,"").split("/");E="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let j=ks(t,{pathname:E});return Zt(x||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Zt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),iP(j&&j.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ga([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Ga([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),o,n,r)}function tP(){let t=uP(),e=dd(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,c)}var nP=C.createElement(tP,null),rP=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(ra.Provider,{value:this.props.routeContext},C.createElement(oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aP({routeContext:t,match:e,children:n}){let r=C.useContext(Ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ra.Provider,{value:t},n)}function iP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let f=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);st(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:x,errors:v}=n,b=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,m,x)=>{let v,b=!1,T=null,E=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,T=m.route.errorElement||nP,c&&(d<0&&x===0?($E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):d===x&&(b=!0,E=m.route.hydrateFallbackElement||null)));let j=e.concat(i.slice(0,x+1)),O=()=>{let M;return v?M=T:b?M=E:m.route.Component?M=C.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=f,C.createElement(aP,{match:m,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:M})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?C.createElement(rP,{location:n.location,revalidation:n.revalidation,component:T,error:v,children:O(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):O()},null)}function ly(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sP(t){let e=C.useContext(Ko);return st(e,ly(t)),e}function oP(t){let e=C.useContext(Id);return st(e,ly(t)),e}function lP(t){let e=C.useContext(ra);return st(e,ly(t)),e}function cy(t){let e=lP(t),n=e.matches[e.matches.length-1];return st(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cP(){return cy("useRouteId")}function uP(){var r;let t=C.useContext(oy),e=oP("useRouteError"),n=cy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function dP(){let{router:t}=sP("useNavigate"),e=cy("useNavigate"),n=C.useRef(!1);return GE(()=>{n.current=!0}),C.useCallback(async(i,o={})=>{Zt(n.current,HE),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var iT={};function $E(t,e,n){!e&&!iT[t]&&(iT[t]=!0,Zt(!1,n))}var sT={};function oT(t,e){!t&&!sT[e]&&(sT[e]=!0,console.warn(e))}function hP(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:C.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var fP=["HydrateFallback","hydrateFallbackElement"],mP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function pP({router:t,flushSync:e}){let[n,r]=C.useState(t.state),[i,o]=C.useState(),[c,d]=C.useState({isTransitioning:!1}),[f,m]=C.useState(),[x,v]=C.useState(),[b,T]=C.useState(),E=C.useRef(new Map),j=C.useCallback((L,{deletedFetchers:q,flushSync:V,viewTransitionOpts:I})=>{L.fetchers.forEach((N,S)=>{N.data!==void 0&&E.current.set(S,N.data)}),q.forEach(N=>E.current.delete(N)),oT(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(oT(I==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!P){e&&V?e(()=>r(L)):C.startTransition(()=>r(L));return}if(e&&V){e(()=>{x&&(f&&f.resolve(),x.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let N=t.window.document.startViewTransition(()=>{e(()=>r(L))});N.finished.finally(()=>{e(()=>{m(void 0),v(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>v(N));return}x?(f&&f.resolve(),x.skipTransition(),T({state:L,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(o(L),d({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,e,x,f]);C.useLayoutEffect(()=>t.subscribe(j),[t,j]),C.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new mP)},[c]),C.useEffect(()=>{if(f&&i&&t.window){let L=i,q=f.promise,V=t.window.document.startViewTransition(async()=>{C.startTransition(()=>r(L)),await q});V.finished.finally(()=>{m(void 0),v(void 0),o(void 0),d({isTransitioning:!1})}),v(V)}},[i,f,t.window]),C.useEffect(()=>{f&&i&&n.location.key===i.location.key&&f.resolve()},[f,x,n.location,i]),C.useEffect(()=>{!c.isTransitioning&&b&&(o(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),T(void 0))},[c.isTransitioning,b]);let O=C.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:L=>t.navigate(L),push:(L,q,V)=>t.navigate(L,{state:q,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(L,q,V)=>t.navigate(L,{replace:!0,state:q,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[t]),M=t.basename||"/",z=C.useMemo(()=>({router:t,navigator:O,static:!1,basename:M}),[t,O,M]);return C.createElement(C.Fragment,null,C.createElement(Ko.Provider,{value:z},C.createElement(Id.Provider,{value:n},C.createElement(qE.Provider,{value:E.current},C.createElement(sy.Provider,{value:c},C.createElement(yP,{basename:M,location:n.location,navigationType:n.historyAction,navigator:O},C.createElement(gP,{routes:t.routes,future:t.future,state:n})))))),null)}var gP=C.memo(xP);function xP({routes:t,future:e,state:n}){return eP(t,void 0,n,e)}function lT({to:t,replace:e,state:n,relative:r}){st(yc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(wa);Zt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=C.useContext(ra),{pathname:c}=mr(),d=Yo(),f=jm(t,Cm(o),c,r==="path"),m=JSON.stringify(f);return C.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:r})},[d,m,r,e,n]),null}function KE(t){return ZR(t.context)}function yP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){st(!yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof n=="string"&&(n=Vi(n));let{pathname:f="/",search:m="",hash:x="",state:v=null,key:b="default"}=n,T=C.useMemo(()=>{let E=ea(f,c);return E==null?null:{location:{pathname:E,search:m,hash:x,state:v,key:b},navigationType:r}},[c,f,m,x,v,b,r]);return Zt(T!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:C.createElement(wa.Provider,{value:d},C.createElement(Rm.Provider,{children:e,value:T}))}var jf="get",Rf="application/x-www-form-urlencoded";function Pm(t){return t!=null&&typeof t.tagName=="string"}function vP(t){return Pm(t)&&t.tagName.toLowerCase()==="button"}function bP(t){return Pm(t)&&t.tagName.toLowerCase()==="form"}function wP(t){return Pm(t)&&t.tagName.toLowerCase()==="input"}function TP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kP(t,e){return t.button===0&&(!e||e==="_self")&&!TP(t)}var gf=null;function _P(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var EP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b0(t){return t!=null&&!EP.has(t)?(Zt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function SP(t,e){let n,r,i,o,c;if(bP(t)){let d=t.getAttribute("action");r=d?ea(d,e):null,n=t.getAttribute("method")||jf,i=b0(t.getAttribute("enctype"))||Rf,o=new FormData(t)}else if(vP(t)||wP(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?ea(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||jf,i=b0(t.getAttribute("formenctype"))||b0(d.getAttribute("enctype"))||Rf,o=new FormData(d,t),!_P()){let{name:m,type:x,value:v}=t;if(x==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(Pm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,r=null,i=Rf,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:c}}function uy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function NP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CP(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await NP(o,n);return c.links?c.links():[]}return[]}));return IP(r.flat(1).filter(AP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cT(t,e,n,r,i,o){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var x;return n[m].pathname!==f.pathname||((x=n[m].route.path)==null?void 0:x.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):o==="data"?e.filter((f,m)=>{var v;let x=r.routes[f.route.id];if(!x||!x.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function jP(t,e,{includeHydrateFallback:n}={}){return RP(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function RP(t){return[...new Set(t)]}function PP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function IP(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(PP(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DP=new Set([100,101,204,205]);function MP(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ea(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function YE(){let t=C.useContext(Ko);return uy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OP(){let t=C.useContext(Id);return uy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var dy=C.createContext(void 0);dy.displayName="FrameworkContext";function QE(){let t=C.useContext(dy);return uy(t,"You must render this element inside a <HydratedRouter> element"),t}function LP(t,e){let n=C.useContext(dy),[r,i]=C.useState(!1),[o,c]=C.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:x,onTouchStart:v}=e,b=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=M=>{M.forEach(z=>{c(z.isIntersecting)})},O=new IntersectionObserver(j,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[t]),C.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let T=()=>{i(!0)},E=()=>{i(!1),c(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Iu(d,T),onBlur:Iu(f,E),onMouseEnter:Iu(m,T),onMouseLeave:Iu(x,E),onTouchStart:Iu(v,T)}]:[!1,b,{}]}function Iu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VP({page:t,...e}){let{router:n}=YE(),r=C.useMemo(()=>ks(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(zP,{page:t,matches:r,...e}):null}function UP(t){let{manifest:e,routeModules:n}=QE(),[r,i]=C.useState([]);return C.useEffect(()=>{let o=!1;return CP(t,e,n).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,n]),r}function zP({page:t,matches:e,...n}){let r=mr(),{manifest:i,routeModules:o}=QE(),{basename:c}=YE(),{loaderData:d,matches:f}=OP(),m=C.useMemo(()=>cT(t,e,f,i,r,"data"),[t,e,f,i,r]),x=C.useMemo(()=>cT(t,e,f,i,r,"assets"),[t,e,f,i,r]),v=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,j=!1;if(e.forEach(M=>{var L;let z=i.routes[M.route.id];!z||!z.hasLoader||(!m.some(q=>q.route.id===M.route.id)&&M.route.id in d&&((L=o[M.route.id])!=null&&L.shouldRevalidate)||z.hasClientLoader?j=!0:E.add(M.route.id))}),E.size===0)return[];let O=MP(t,c);return j&&E.size>0&&O.searchParams.set("_routes",e.filter(M=>E.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[c,d,r,i,m,e,t,o]),b=C.useMemo(()=>jP(x,i),[x,i]),T=UP(x);return C.createElement(C.Fragment,null,v.map(E=>C.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),b.map(E=>C.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),T.map(({key:E,link:j})=>C.createElement("link",{key:E,...j})))}function FP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.6.2")}catch{}function BP(t,e){return CR({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:Xj({window:e==null?void 0:e.window}),hydrationData:qP(),routes:t,mapRouteProperties:hP,hydrationRouteProperties:fP,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function qP(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:HP(t.errors)}),t}function HP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Zf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let c=new o(i.message);c.stack="",n[r]=c}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zt=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:d,target:f,to:m,preventScrollReset:x,viewTransition:v,...b},T){let{basename:E}=C.useContext(wa),j=typeof m=="string"&&WE.test(m),O,M=!1;if(typeof m=="string"&&j&&(O=m,XE))try{let S=new URL(window.location.href),D=m.startsWith("//")?new URL(S.protocol+m):new URL(m),B=ea(D.pathname,E);D.origin===S.origin&&B!=null?m=B+D.search+D.hash:M=!0}catch{Zt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=QR(m,{relative:i}),[L,q,V]=LP(r,b),I=KP(m,{replace:c,state:d,target:f,preventScrollReset:x,relative:i,viewTransition:v});function P(S){e&&e(S),S.defaultPrevented||I(S)}let N=C.createElement("a",{...b,...V,href:O||z,onClick:M||o?e:P,ref:FP(T,q),target:f,"data-discover":!j&&n==="render"?"true":void 0});return L&&!j?C.createElement(C.Fragment,null,N,C.createElement(VP,{page:z})):N});zt.displayName="Link";var an=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:d,children:f,...m},x){let v=Dd(c,{relative:m.relative}),b=mr(),T=C.useContext(Id),{navigator:E,basename:j}=C.useContext(wa),O=T!=null&&ZP(v)&&d===!0,M=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,z=b.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(z=z.toLowerCase(),L=L?L.toLowerCase():null,M=M.toLowerCase()),L&&j&&(L=ea(L,j)||L);const q=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let V=z===M||!i&&z.startsWith(M)&&z.charAt(q)==="/",I=L!=null&&(L===M||!i&&L.startsWith(M)&&L.charAt(M.length)==="/"),P={isActive:V,isPending:I,isTransitioning:O},N=V?e:void 0,S;typeof r=="function"?S=r(P):S=[r,V?"active":null,I?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(P):o;return C.createElement(zt,{...m,"aria-current":N,className:S,ref:x,style:D,to:c,viewTransition:d},typeof f=="function"?f(P):f)});an.displayName="NavLink";var GP=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:c=jf,action:d,onSubmit:f,relative:m,preventScrollReset:x,viewTransition:v,...b},T)=>{let E=XP(),j=WP(d,{relative:m}),O=c.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&WE.test(d),z=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let q=L.nativeEvent.submitter,V=(q==null?void 0:q.getAttribute("formmethod"))||c;E(q||L.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:i,state:o,relative:m,preventScrollReset:x,viewTransition:v})};return C.createElement("form",{ref:T,method:O,action:j,onSubmit:r?f:z,...b,"data-discover":!M&&t==="render"?"true":void 0})});GP.displayName="Form";function $P(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(t){let e=C.useContext(Ko);return st(e,$P(t)),e}function KP(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=Yo(),f=mr(),m=Dd(t,{relative:o});return C.useCallback(x=>{if(kP(x,e)){x.preventDefault();let v=n!==void 0?n:Ds(f)===Ds(m);d(t,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[f,d,m,n,r,e,t,i,o,c])}var YP=0,QP=()=>`__${String(++YP)}__`;function XP(){let{router:t}=ZE("useSubmit"),{basename:e}=C.useContext(wa),n=cP();return C.useCallback(async(r,i={})=>{let{action:o,method:c,encType:d,formData:f,body:m}=SP(r,e);if(i.navigate===!1){let x=i.fetcherKey||QP();await t.fetch(x,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function WP(t,{relative:e}={}){let{basename:n}=C.useContext(wa),r=C.useContext(ra);st(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Dd(t||".",{relative:e})},c=mr();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(x=>x==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let x=d.toString();o.search=x?`?${x}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ga([n,o.pathname])),Ds(o)}function ZP(t,e={}){let n=C.useContext(sy);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZE("useViewTransitionState"),i=Dd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ea(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ea(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wf(i.pathname,c)!=null||Wf(i.pathname,o)!=null}[...DP];var JP=vE();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e5(t){return C.createElement(pP,{flushSync:JP.flushSync,...t})}const hy=C.createContext({});function fy(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const my=typeof window<"u",JE=my?C.useLayoutEffect:C.useEffect,Im=C.createContext(null);function py(t,e){t.indexOf(e)===-1&&t.push(e)}function gy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ji=(t,e,n)=>n>e?e:n<t?t:n;let xy=()=>{};const Ri={},e4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function t4(t){return typeof t=="object"&&t!==null}const n4=t=>/^0[^.\s]+$/u.test(t);function yy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zr=t=>t,t5=(t,e)=>n=>e(t(n)),Md=(...t)=>t.reduce(t5),hd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class vy{constructor(){this.subscriptions=[]}add(e){return py(this.subscriptions,e),()=>gy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const c=this.subscriptions[o];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $a=t=>t*1e3,Ka=t=>t/1e3;function r4(t,e){return e?t*(1e3/e):0}const a4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,n5=1e-7,r5=12;function a5(t,e,n,r,i){let o,c,d=0;do c=e+(n-e)/2,o=a4(c,r,i)-t,o>0?n=c:e=c;while(Math.abs(o)>n5&&++d<r5);return c}function Od(t,e,n,r){if(t===e&&n===r)return Zr;const i=o=>a5(o,0,1,t,n);return o=>o===0||o===1?o:a4(i(o),e,r)}const i4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,s4=t=>e=>1-t(1-e),o4=Od(.33,1.53,.69,.99),by=s4(o4),l4=i4(by),c4=t=>(t*=2)<1?.5*by(t):.5*(2-Math.pow(2,-10*(t-1))),wy=t=>1-Math.sin(Math.acos(t)),u4=s4(wy),d4=i4(wy),i5=Od(.42,0,1,1),s5=Od(0,0,.58,1),h4=Od(.42,0,.58,1),o5=t=>Array.isArray(t)&&typeof t[0]!="number",f4=t=>Array.isArray(t)&&typeof t[0]=="number",l5={linear:Zr,easeIn:i5,easeInOut:h4,easeOut:s5,circIn:wy,circInOut:d4,circOut:u4,backIn:by,backInOut:l4,backOut:o4,anticipate:c4},c5=t=>typeof t=="string",uT=t=>{if(f4(t)){xy(t.length===4);const[e,n,r,i]=t;return Od(e,n,r,i)}else if(c5(t))return l5[t];return t},xf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],dT={value:null};function u5(t,e){let n=new Set,r=new Set,i=!1,o=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},f=0;function m(v){c.has(v)&&(x.schedule(v),t()),f++,v(d)}const x={schedule:(v,b=!1,T=!1)=>{const j=T&&i?n:r;return b&&c.add(v),j.has(v)||j.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(d=v,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(m),e&&dT.value&&dT.value.frameloop[e].push(f),f=0,n.clear(),i=!1,o&&(o=!1,x.process(v))}};return x}const d5=40;function m4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=xf.reduce((L,q)=>(L[q]=u5(o,e?q:void 0),L),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:x,update:v,preRender:b,render:T,postRender:E}=c,j=()=>{const L=Ri.useManualTiming?i.timestamp:performance.now();n=!1,Ri.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(L-i.timestamp,d5),1)),i.timestamp=L,i.isProcessing=!0,d.process(i),f.process(i),m.process(i),x.process(i),v.process(i),b.process(i),T.process(i),E.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(j))},O=()=>{n=!0,r=!0,i.isProcessing||t(j)};return{schedule:xf.reduce((L,q)=>{const V=c[q];return L[q]=(I,P=!1,N=!1)=>(n||O(),V.schedule(I,P,N)),L},{}),cancel:L=>{for(let q=0;q<xf.length;q++)c[xf[q]].cancel(L)},state:i,steps:c}}const{schedule:Kt,cancel:Ms,state:Mn,steps:w0}=m4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zr,!0);let Pf;function h5(){Pf=void 0}const dr={now:()=>(Pf===void 0&&dr.set(Mn.isProcessing||Ri.useManualTiming?Mn.timestamp:performance.now()),Pf),set:t=>{Pf=t,queueMicrotask(h5)}},p4=t=>e=>typeof e=="string"&&e.startsWith(t),Ty=p4("--"),f5=p4("var(--"),ky=t=>f5(t)?m5.test(t.split("/*")[0].trim()):!1,m5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fd={...vc,transform:t=>ji(0,1,t)},yf={...vc,default:1},Ku=t=>Math.round(t*1e5)/1e5,_y=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function p5(t){return t==null}const g5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ey=(t,e)=>n=>!!(typeof n=="string"&&g5.test(n)&&n.startsWith(t)||e&&!p5(n)&&Object.prototype.hasOwnProperty.call(n,e)),g4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,c,d]=r.match(_y);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},x5=t=>ji(0,255,t),T0={...vc,transform:t=>Math.round(x5(t))},Ro={test:Ey("rgb","red"),parse:g4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+T0.transform(t)+", "+T0.transform(e)+", "+T0.transform(n)+", "+Ku(fd.transform(r))+")"};function y5(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sx={test:Ey("#"),parse:y5,transform:Ro.transform},Ld=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ws=Ld("deg"),Ya=Ld("%"),$e=Ld("px"),v5=Ld("vh"),b5=Ld("vw"),hT={...Ya,parse:t=>Ya.parse(t)/100,transform:t=>Ya.transform(t*100)},Yl={test:Ey("hsl","hue"),parse:g4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ya.transform(Ku(e))+", "+Ya.transform(Ku(n))+", "+Ku(fd.transform(r))+")"},fn={test:t=>Ro.test(t)||sx.test(t)||Yl.test(t),parse:t=>Ro.test(t)?Ro.parse(t):Yl.test(t)?Yl.parse(t):sx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ro.transform(t):Yl.transform(t),getAnimatableNone:t=>{const e=fn.parse(t);return e.alpha=0,fn.transform(e)}},w5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_y))==null?void 0:e.length)||0)+(((n=t.match(w5))==null?void 0:n.length)||0)>0}const x4="number",y4="color",k5="var",_5="var(",fT="${}",E5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function md(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const d=e.replace(E5,f=>(fn.test(f)?(r.color.push(o),i.push(y4),n.push(fn.parse(f))):f.startsWith(_5)?(r.var.push(o),i.push(k5),n.push(f)):(r.number.push(o),i.push(x4),n.push(parseFloat(f))),++o,fT)).split(fT);return{values:n,split:d,indexes:r,types:i}}function v4(t){return md(t).values}function b4(t){const{split:e,types:n}=md(t),r=e.length;return i=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],i[c]!==void 0){const d=n[c];d===x4?o+=Ku(i[c]):d===y4?o+=fn.transform(i[c]):o+=i[c]}return o}}const S5=t=>typeof t=="number"?0:fn.test(t)?fn.getAnimatableNone(t):t;function N5(t){const e=v4(t);return b4(t)(e.map(S5))}const Os={test:T5,parse:v4,createTransformer:b4,getAnimatableNone:N5};function k0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function A5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,c=0;if(!e)i=o=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;i=k0(f,d,t+1/3),o=k0(f,d,t),c=k0(f,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function em(t,e){return n=>n>0?e:t}const $t=(t,e,n)=>t+(e-t)*n,_0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},C5=[sx,Ro,Yl],j5=t=>C5.find(e=>e.test(t));function mT(t){const e=j5(t);if(!e)return!1;let n=e.parse(t);return e===Yl&&(n=A5(n)),n}const pT=(t,e)=>{const n=mT(t),r=mT(e);if(!n||!r)return em(t,e);const i={...n};return o=>(i.red=_0(n.red,r.red,o),i.green=_0(n.green,r.green,o),i.blue=_0(n.blue,r.blue,o),i.alpha=$t(n.alpha,r.alpha,o),Ro.transform(i))},ox=new Set(["none","hidden"]);function R5(t,e){return ox.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function P5(t,e){return n=>$t(t,e,n)}function Sy(t){return typeof t=="number"?P5:typeof t=="string"?ky(t)?em:fn.test(t)?pT:M5:Array.isArray(t)?w4:typeof t=="object"?fn.test(t)?pT:I5:em}function w4(t,e){const n=[...t],r=n.length,i=t.map((o,c)=>Sy(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)n[c]=i[c](o);return n}}function I5(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Sy(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function D5(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],c=t.indexes[o][r[o]],d=t.values[c]??0;n[i]=d,r[o]++}return n}const M5=(t,e)=>{const n=Os.createTransformer(e),r=md(t),i=md(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ox.has(t)&&!i.values.length||ox.has(e)&&!r.values.length?R5(t,e):Md(w4(D5(r,i),i.values),n):em(t,e)};function T4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$t(t,e,n):Sy(t)(t,e)}const O5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Kt.update(e,n),stop:()=>Ms(e),now:()=>Mn.isProcessing?Mn.timestamp:dr.now()}},k4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tm=2e4;function Ny(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tm;)e+=n,r=t.next(e);return e>=tm?1/0:e}function L5(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Ny(r),tm);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Ka(i)}}const V5=5;function _4(t,e,n){const r=Math.max(e-V5,0);return r4(n-t(r),e-r)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},E0=.001;function U5({duration:t=Wt.duration,bounce:e=Wt.bounce,velocity:n=Wt.velocity,mass:r=Wt.mass}){let i,o,c=1-e;c=ji(Wt.minDamping,Wt.maxDamping,c),t=ji(Wt.minDuration,Wt.maxDuration,Ka(t)),c<1?(i=m=>{const x=m*c,v=x*t,b=x-n,T=lx(m,c),E=Math.exp(-v);return E0-b/T*E},o=m=>{const v=m*c*t,b=v*n+n,T=Math.pow(c,2)*Math.pow(m,2)*t,E=Math.exp(-v),j=lx(Math.pow(m,2),c);return(-i(m)+E0>0?-1:1)*((b-T)*E)/j}):(i=m=>{const x=Math.exp(-m*t),v=(m-n)*t+1;return-E0+x*v},o=m=>{const x=Math.exp(-m*t),v=(n-m)*(t*t);return x*v});const d=5/t,f=F5(i,o,d);if(t=$a(t),isNaN(f))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:t};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const z5=12;function F5(t,e,n){let r=n;for(let i=1;i<z5;i++)r=r-t(r)/e(r);return r}function lx(t,e){return t*Math.sqrt(1-e*e)}const B5=["duration","bounce"],q5=["stiffness","damping","mass"];function gT(t,e){return e.some(n=>t[n]!==void 0)}function H5(t){let e={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...t};if(!gT(t,q5)&&gT(t,B5))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*ji(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Wt.mass,stiffness:i,damping:o}}else{const n=U5(t);e={...e,...n,mass:Wt.mass},e.isResolvedFromDuration=!0}return e}function nm(t=Wt.visualDuration,e=Wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:f,damping:m,mass:x,duration:v,velocity:b,isResolvedFromDuration:T}=H5({...n,velocity:-Ka(n.velocity||0)}),E=b||0,j=m/(2*Math.sqrt(f*x)),O=c-o,M=Ka(Math.sqrt(f/x)),z=Math.abs(O)<5;r||(r=z?Wt.restSpeed.granular:Wt.restSpeed.default),i||(i=z?Wt.restDelta.granular:Wt.restDelta.default);let L;if(j<1){const V=lx(M,j);L=I=>{const P=Math.exp(-j*M*I);return c-P*((E+j*M*O)/V*Math.sin(V*I)+O*Math.cos(V*I))}}else if(j===1)L=V=>c-Math.exp(-M*V)*(O+(E+M*O)*V);else{const V=M*Math.sqrt(j*j-1);L=I=>{const P=Math.exp(-j*M*I),N=Math.min(V*I,300);return c-P*((E+j*M*O)*Math.sinh(N)+V*O*Math.cosh(N))/V}}const q={calculatedDuration:T&&v||null,next:V=>{const I=L(V);if(T)d.done=V>=v;else{let P=V===0?E:0;j<1&&(P=V===0?$a(E):_4(L,V,I));const N=Math.abs(P)<=r,S=Math.abs(c-I)<=i;d.done=N&&S}return d.value=d.done?c:I,d},toString:()=>{const V=Math.min(Ny(q),tm),I=k4(P=>q.next(V*P).value,V,30);return V+"ms "+I},toTransition:()=>{}};return q}nm.applyToOptions=t=>{const e=L5(t,100,nm);return t.ease=e.ease,t.duration=$a(e.duration),t.type="keyframes",t};function cx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:x}){const v=t[0],b={done:!1,value:v},T=N=>d!==void 0&&N<d||f!==void 0&&N>f,E=N=>d===void 0?f:f===void 0||Math.abs(d-N)<Math.abs(f-N)?d:f;let j=n*e;const O=v+j,M=c===void 0?O:c(O);M!==O&&(j=M-v);const z=N=>-j*Math.exp(-N/r),L=N=>M+z(N),q=N=>{const S=z(N),D=L(N);b.done=Math.abs(S)<=m,b.value=b.done?M:D};let V,I;const P=N=>{T(b.value)&&(V=N,I=nm({keyframes:[b.value,E(b.value)],velocity:_4(L,N,b.value),damping:i,stiffness:o,restDelta:m,restSpeed:x}))};return P(0),{calculatedDuration:null,next:N=>{let S=!1;return!I&&V===void 0&&(S=!0,q(N),P(N)),V!==void 0&&N>=V?I.next(N-V):(!S&&q(N),b)}}}function G5(t,e,n){const r=[],i=n||Ri.mix||T4,o=t.length-1;for(let c=0;c<o;c++){let d=i(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Zr:e;d=Md(f,d)}r.push(d)}return r}function $5(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(xy(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=G5(e,r,i),f=d.length,m=x=>{if(c&&x<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(x<t[v+1]);v++);const b=hd(t[v],t[v+1],x);return d[v](b)};return n?x=>m(ji(t[0],t[o-1],x)):m}function K5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=hd(0,e,r);t.push($t(n,1,i))}}function Y5(t){const e=[0];return K5(e,t.length-1),e}function Q5(t,e){return t.map(n=>n*e)}function X5(t,e){return t.map(()=>e||h4).splice(0,t.length-1)}function Yu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=o5(r)?r.map(uT):uT(r),o={done:!1,value:e[0]},c=Q5(n&&n.length===e.length?n:Y5(e),t),d=$5(c,e,{ease:Array.isArray(i)?i:X5(e,i)});return{calculatedDuration:t,next:f=>(o.value=d(f),o.done=f>=t,o)}}const W5=t=>t!==null;function Ay(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(W5),d=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!d||r===void 0?o[d]:r}const Z5={decay:cx,inertia:cx,tween:Yu,keyframes:Yu,spring:nm};function E4(t){typeof t.type=="string"&&(t.type=Z5[t.type])}class Cy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const J5=t=>t/100;class jy extends Cy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==dr.now()&&this.tick(dr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;E4(e);const{type:n=Yu,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:c=0}=e;let{keyframes:d}=e;const f=n||Yu;f!==Yu&&typeof d[0]!="number"&&(this.mixKeyframes=Md(J5,T4(d[0],d[1])),d=[0,100]);const m=f({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Ny(m));const{calculatedDuration:x}=m;this.calculatedDuration=x,this.resolvedDuration=x+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:x,repeat:v,repeatType:b,repeatDelay:T,type:E,onUpdate:j,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-m*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?M<0:M>i;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let L=this.currentTime,q=r;if(v){const N=Math.min(this.currentTime,i)/d;let S=Math.floor(N),D=N%1;!D&&N>=1&&(D=1),D===1&&S--,S=Math.min(S,v+1),!!(S%2)&&(b==="reverse"?(D=1-D,T&&(D-=T/d)):b==="mirror"&&(q=c)),L=ji(0,1,D)*d}const V=z?{done:!1,value:x[0]}:q.next(L);o&&(V.value=o(V.value));let{done:I}=V;!z&&f!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return P&&E!==cx&&(V.value=Ay(x,this.options,O,this.speed)),j&&j(V.value),P&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Ka(this.calculatedDuration)}get time(){return Ka(this.currentTime)}set time(e){var n;e=$a(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(dr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ka(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=O5,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function eI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Po=t=>t*180/Math.PI,ux=t=>{const e=Po(Math.atan2(t[1],t[0]));return dx(e)},tI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ux,rotateZ:ux,skewX:t=>Po(Math.atan(t[1])),skewY:t=>Po(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dx=t=>(t=t%360,t<0&&(t+=360),t),xT=ux,yT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),vT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),nI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yT,scaleY:vT,scale:t=>(yT(t)+vT(t))/2,rotateX:t=>dx(Po(Math.atan2(t[6],t[5]))),rotateY:t=>dx(Po(Math.atan2(-t[2],t[0]))),rotateZ:xT,rotate:xT,skewX:t=>Po(Math.atan(t[4])),skewY:t=>Po(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hx(t){return t.includes("scale")?1:0}function fx(t,e){if(!t||t==="none")return hx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=nI,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=tI,i=d}if(!i)return hx(e);const o=r[e],c=i[1].split(",").map(aI);return typeof o=="function"?o(c):c[o]}const rI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fx(n,e)};function aI(t){return parseFloat(t.trim())}const bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wc=new Set(bc),bT=t=>t===vc||t===$e,iI=new Set(["x","y","z"]),sI=bc.filter(t=>!iI.has(t));function oI(t){const e=[];return sI.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fx(e,"x"),y:(t,{transform:e})=>fx(e,"y")};Lo.translateX=Lo.x;Lo.translateY=Lo.y;const Vo=new Set;let mx=!1,px=!1,gx=!1;function S4(){if(px){const t=Array.from(Vo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=oI(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,c])=>{var d;(d=r.getValue(o))==null||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}px=!1,mx=!1,Vo.forEach(t=>t.complete(gx)),Vo.clear()}function N4(){Vo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(px=!0)})}function lI(){gx=!0,N4(),S4(),gx=!1}class Ry{constructor(e,n,r,i,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Vo.add(this),mx||(mx=!0,Kt.read(N4),Kt.resolveKeyframes(S4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const d=r.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),i&&o===void 0&&i.set(e[0])}eI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vo.delete(this)}cancel(){this.state==="scheduled"&&(Vo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cI=t=>t.startsWith("--");function uI(t,e,n){cI(e)?t.style.setProperty(e,n):t.style[e]=n}const dI=yy(()=>window.ScrollTimeline!==void 0),hI={};function fI(t,e){const n=yy(t);return()=>hI[e]??n()}const A4=fI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,wT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uu([0,.65,.55,1]),circOut:Uu([.55,0,1,.45]),backIn:Uu([.31,.01,.66,-.59]),backOut:Uu([.33,1.53,.69,.99])};function C4(t,e){if(t)return typeof t=="function"?A4()?k4(t,e):"ease-out":f4(t)?Uu(t):Array.isArray(t)?t.map(n=>C4(n,e)||wT.easeOut):wT[t]}function mI(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const x={[e]:n};f&&(x.offset=f);const v=C4(d,i);Array.isArray(v)&&(x.easing=v);const b={delay:r,duration:i,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(x,b)}function j4(t){return typeof t=="function"&&"applyToOptions"in t}function pI({type:t,...e}){return j4(t)&&A4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class gI extends Cy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,xy(typeof e.type!="string");const m=pI(e);this.animation=mI(n,r,i,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const x=Ay(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(x):uI(n,r,x),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ka(Number(e))}get time(){return Ka(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$a(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&dI()?(this.animation.timeline=e,Zr):n(this)}}const R4={anticipate:c4,backInOut:l4,circInOut:d4};function xI(t){return t in R4}function yI(t){typeof t.ease=="string"&&xI(t.ease)&&(t.ease=R4[t.ease])}const TT=10;class vI extends gI{constructor(e){yI(e),E4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new jy({...c,autoplay:!1}),f=$a(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-TT).value,d.sample(f).value,TT),d.stop()}}const kT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Os.test(t)||t==="0")&&!t.startsWith("url("));function bI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function wI(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=kT(i,e),d=kT(o,e);return!c||!d?!1:bI(t)||(n==="spring"||j4(n))&&r}function Py(t){return t4(t)&&"offsetHeight"in t}const TI=new Set(["opacity","clipPath","filter","transform"]),kI=yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _I(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:c}=t;if(!Py((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return kI()&&n&&TI.has(n)&&(n!=="transform"||!f)&&!d&&!r&&i!=="mirror"&&o!==0&&c!=="inertia"}const EI=40;class SI extends Cy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:x,...v}){var E;super(),this.stop=()=>{var j,O;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(O=this.keyframeResolver)==null||O.cancel()},this.createdAt=dr.now();const b={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:c,name:f,motionValue:m,element:x,...v},T=(x==null?void 0:x.KeyframeResolver)||Ry;this.keyframeResolver=new T(d,(j,O,M)=>this.onKeyframesResolved(j,O,b,!M),f,m,x),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:x}=r;this.resolvedAt=dr.now(),wI(e,o,c,d)||((Ri.instantAnimations||!f)&&(x==null||x(Ay(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>EI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!m&&_I(b)?new vI({...b,element:b.motionValue.owner.current}):new jy(b);T.finished.then(()=>this.notifyFinished()).catch(Zr),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),lI()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const NI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AI(t){const e=NI.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function P4(t,e,n=1){const[r,i]=AI(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return e4(c)?parseFloat(c):c}return ky(i)?P4(i,e,n+1):i}function Iy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const I4=new Set(["width","height","top","left","right","bottom",...bc]),CI={test:t=>t==="auto",parse:t=>t},D4=t=>e=>e.test(t),M4=[vc,$e,Ya,ws,b5,v5,CI],_T=t=>M4.find(D4(t));function jI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||n4(t):!0}const RI=new Set(["brightness","contrast","saturate","opacity"]);function PI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_y)||[];if(!r)return t;const i=n.replace(r,"");let o=RI.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const II=/\b([a-z-]*)\(.*?\)/gu,xx={...Os,getAnimatableNone:t=>{const e=t.match(II);return e?e.map(PI).join(" "):t}},ET={...vc,transform:Math.round},DI={rotate:ws,rotateX:ws,rotateY:ws,rotateZ:ws,scale:yf,scaleX:yf,scaleY:yf,scaleZ:yf,skew:ws,skewX:ws,skewY:ws,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:fd,originX:hT,originY:hT,originZ:$e},Dy={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...DI,zIndex:ET,fillOpacity:fd,strokeOpacity:fd,numOctaves:ET},MI={...Dy,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:xx,WebkitFilter:xx},O4=t=>MI[t];function L4(t,e){let n=O4(t);return n!==xx&&(n=Os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const OI=new Set(["auto","none","0"]);function LI(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!OI.has(o)&&md(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=L4(n,i)}class VI extends Ry{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),ky(m))){const x=P4(m,n.current);x!==void 0&&(e[f]=x),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!I4.has(r)||e.length!==2)return;const[i,o]=e,c=_T(i),d=_T(o);if(c!==d)if(bT(c)&&bT(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Lo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||jI(e[i]))&&r.push(i);r.length&&LI(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,c=r[o];r[o]=Lo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function UI(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const V4=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ST=30,zI=t=>!isNaN(parseFloat(t));class FI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var c,d;const o=dr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();i&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ST)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ST);return r4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sc(t,e){return new FI(t,e)}const{schedule:My}=m4(queueMicrotask,!1),fa={x:!1,y:!1};function U4(){return fa.x||fa.y}function BI(t){return t==="x"||t==="y"?fa[t]?null:(fa[t]=!0,()=>{fa[t]=!1}):fa.x||fa.y?null:(fa.x=fa.y=!0,()=>{fa.x=fa.y=!1})}function z4(t,e){const n=UI(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function NT(t){return!(t.pointerType==="touch"||U4())}function qI(t,e,n={}){const[r,i,o]=z4(t,n),c=d=>{if(!NT(d))return;const{target:f}=d,m=e(f,d);if(typeof m!="function"||!f)return;const x=v=>{NT(v)&&(m(v),f.removeEventListener("pointerleave",x))};f.addEventListener("pointerleave",x,i)};return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),o}const F4=(t,e)=>e?t===e?!0:F4(t,e.parentElement):!1,Oy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GI(t){return HI.has(t.tagName)||t.tabIndex!==-1}const If=new WeakSet;function AT(t){return e=>{e.key==="Enter"&&t(e)}}function S0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $I=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=AT(()=>{if(If.has(n))return;S0(n,"down");const i=AT(()=>{S0(n,"up")}),o=()=>S0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function CT(t){return Oy(t)&&!U4()}function KI(t,e,n={}){const[r,i,o]=z4(t,n),c=d=>{const f=d.currentTarget;if(!CT(d))return;If.add(f);const m=e(f,d),x=(T,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),If.has(f)&&If.delete(f),CT(T)&&typeof m=="function"&&m(T,{success:E})},v=T=>{x(T,f===window||f===document||n.useGlobalTarget||F4(f,T.target))},b=T=>{x(T,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",b,i)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),Py(d)&&(d.addEventListener("focus",m=>$I(m,i)),!GI(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function B4(t){return t4(t)&&"ownerSVGElement"in t}function YI(t){return B4(t)&&t.tagName==="svg"}const $n=t=>!!(t&&t.getVelocity),QI=[...M4,fn,Os],XI=t=>QI.find(D4(t)),Ly=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class WI extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Py(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZI({children:t,isPresent:e,anchorX:n}){const r=C.useId(),i=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=C.useContext(Ly);return C.useInsertionEffect(()=>{const{width:d,height:f,top:m,left:x,right:v}=o.current;if(e||!i.current||!d||!f)return;const b=n==="left"?`left: ${x}`:`right: ${v}`;i.current.dataset.motionPopId=r;const T=document.createElement("style");return c&&(T.nonce=c),document.head.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.contains(T)&&document.head.removeChild(T)}},[e]),u.jsx(WI,{isPresent:e,childRef:i,sizeRef:o,children:C.cloneElement(t,{ref:i})})}const JI=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:c,anchorX:d})=>{const f=fy(eD),m=C.useId();let x=!0,v=C.useMemo(()=>(x=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:b=>{f.set(b,!0);for(const T of f.values())if(!T)return;r&&r()},register:b=>(f.set(b,!1),()=>f.delete(b))}),[n,f,r]);return o&&x&&(v={...v}),C.useMemo(()=>{f.forEach((b,T)=>f.set(T,!1))},[n]),C.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),c==="popLayout"&&(t=u.jsx(ZI,{isPresent:n,anchorX:d,children:t})),u.jsx(Im.Provider,{value:v,children:t})};function eD(){return new Map}function q4(t=!0){const e=C.useContext(Im);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=C.useId();C.useEffect(()=>{if(t)return i(o)},[t]);const c=C.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,c]:[!0]}const vf=t=>t.key||"";function jT(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const Vd=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:c=!1,anchorX:d="left"})=>{const[f,m]=q4(c),x=C.useMemo(()=>jT(t),[t]),v=c&&!f?[]:x.map(vf),b=C.useRef(!0),T=C.useRef(x),E=fy(()=>new Map),[j,O]=C.useState(x),[M,z]=C.useState(x);JE(()=>{b.current=!1,T.current=x;for(let V=0;V<M.length;V++){const I=vf(M[V]);v.includes(I)?E.delete(I):E.get(I)!==!0&&E.set(I,!1)}},[M,v.length,v.join("-")]);const L=[];if(x!==j){let V=[...x];for(let I=0;I<M.length;I++){const P=M[I],N=vf(P);v.includes(N)||(V.splice(I,0,P),L.push(P))}return o==="wait"&&L.length&&(V=L),z(jT(V)),O(x),null}const{forceRender:q}=C.useContext(hy);return u.jsx(u.Fragment,{children:M.map(V=>{const I=vf(V),P=c&&!f?!1:x===M||v.includes(I),N=()=>{if(E.has(I))E.set(I,!0);else return;let S=!0;E.forEach(D=>{D||(S=!1)}),S&&(q==null||q(),z(T.current),c&&(m==null||m()),r&&r())};return u.jsx(JI,{isPresent:P,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:P?void 0:N,anchorX:d,children:V},I)})})},H4=C.createContext({strict:!1}),RT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oc={};for(const t in RT)oc[t]={isEnabled:e=>RT[t].some(n=>!!e[n])};function tD(t){for(const e in t)oc[e]={...oc[e],...t[e]}}const nD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nD.has(t)}let G4=t=>!rm(t);function rD(t){typeof t=="function"&&(G4=e=>e.startsWith("on")?!rm(e):t(e))}try{rD(require("@emotion/is-prop-valid").default)}catch{}function aD(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(G4(i)||n===!0&&rm(i)||!e&&!rm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function iD(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Dm=C.createContext({});function Mm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pd(t){return typeof t=="string"||Array.isArray(t)}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uy=["initial",...Vy];function Om(t){return Mm(t.animate)||Uy.some(e=>pd(t[e]))}function $4(t){return!!(Om(t)||t.variants)}function sD(t,e){if(Om(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pd(n)?n:void 0,animate:pd(r)?r:void 0}}return t.inherit!==!1?e:{}}function oD(t){const{initial:e,animate:n}=sD(t,C.useContext(Dm));return C.useMemo(()=>({initial:e,animate:n}),[PT(e),PT(n)])}function PT(t){return Array.isArray(t)?t.join(" "):t}const lD=Symbol.for("motionComponentSymbol");function Ql(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cD(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ql(n)&&(n.current=r))},[e])}const zy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uD="framerAppearId",K4="data-"+zy(uD),Y4=C.createContext({});function dD(t,e,n,r,i){var j,O;const{visualElement:o}=C.useContext(Dm),c=C.useContext(H4),d=C.useContext(Im),f=C.useContext(Ly).reducedMotion,m=C.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const x=m.current,v=C.useContext(Y4);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&hD(m.current,n,i,v);const b=C.useRef(!1);C.useInsertionEffect(()=>{x&&b.current&&x.update(n,d)});const T=n[K4],E=C.useRef(!!T&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,T))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,T)));return JE(()=>{x&&(b.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),My.render(x.render),E.current&&x.animationState&&x.animationState.animateChanges())}),C.useEffect(()=>{x&&(!E.current&&x.animationState&&x.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,T)}),E.current=!1))}),x}function hD(t,e,n,r){const{layoutId:i,layout:o,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Q4(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!c||d&&Ql(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:x,layoutScroll:f,layoutRoot:m})}function Q4(t){if(t)return t.options.allowProjection!==!1?t.projection:Q4(t.parent)}function fD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&tD(t);function o(d,f){let m;const x={...C.useContext(Ly),...d,layoutId:mD(d)},{isStatic:v}=x,b=oD(d),T=r(d,v);if(!v&&my){pD();const E=gD(x);m=E.MeasureLayout,b.visualElement=dD(i,T,x,e,E.ProjectionNode)}return u.jsxs(Dm.Provider,{value:b,children:[m&&b.visualElement?u.jsx(m,{visualElement:b.visualElement,...x}):null,n(i,d,cD(T,b.visualElement,f),T,v,b.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=C.forwardRef(o);return c[lD]=i,c}function mD({layoutId:t}){const e=C.useContext(hy).id;return e&&t!==void 0?e+"-"+t:t}function pD(t,e){C.useContext(H4).strict}function gD(t){const{drag:e,layout:n}=oc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const gd={};function xD(t){for(const e in t)gd[e]=t[e],Ty(e)&&(gd[e].isCSSVariable=!0)}function X4(t,{layout:e,layoutId:n}){return wc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gd[t]||t==="opacity")}const yD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vD=bc.length;function bD(t,e,n){let r="",i=!0;for(let o=0;o<vD;o++){const c=bc[o],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=V4(d,Dy[c]);if(!f){i=!1;const x=yD[c]||c;r+=`${x}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Fy(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let c=!1,d=!1;for(const f in e){const m=e[f];if(wc.has(f)){c=!0;continue}else if(Ty(f)){i[f]=m;continue}else{const x=V4(m,Dy[f]);f.startsWith("origin")?(d=!0,o[f]=x):r[f]=x}}if(e.transform||(c||n?r.transform=bD(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:x=0}=o;r.transformOrigin=`${f} ${m} ${x}`}}const By=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W4(t,e,n){for(const r in e)!$n(e[r])&&!X4(r,n)&&(t[r]=e[r])}function wD({transformTemplate:t},e){return C.useMemo(()=>{const n=By();return Fy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function TD(t,e){const n=t.style||{},r={};return W4(r,n,t),Object.assign(r,wD(t,e)),r}function kD(t,e){const n={},r=TD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const _D={offset:"stroke-dashoffset",array:"stroke-dasharray"},ED={offset:"strokeDashoffset",array:"strokeDasharray"};function SD(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?_D:ED;t[o.offset]=$e.transform(-r);const c=$e.transform(e),d=$e.transform(n);t[o.array]=`${c} ${d}`}function Z4(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...d},f,m,x){if(Fy(t,d,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=(x==null?void 0:x.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),i!==void 0&&SD(v,i,o,c,!1)}const J4=()=>({...By(),attrs:{}}),eS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ND(t,e,n,r){const i=C.useMemo(()=>{const o=J4();return Z4(o,e,eS(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};W4(o,t.style,t),i.style={...o,...i.style}}return i}const AD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qy(t){return typeof t!="string"||t.includes("-")?!1:!!(AD.indexOf(t)>-1||/[A-Z]/u.test(t))}function CD(t=!1){return(n,r,i,{latestValues:o},c)=>{const f=(qy(n)?ND:kD)(r,o,c,n),m=aD(r,typeof n=="string",t),x=n!==C.Fragment?{...m,...f,ref:i}:{},{children:v}=r,b=C.useMemo(()=>$n(v)?v.get():v,[v]);return C.createElement(n,{...x,children:b})}}function IT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Hy(t,e,n,r){if(typeof e=="function"){const[i,o]=IT(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=IT(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Df(t){return $n(t)?t.get():t}function jD({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:RD(n,r,i,t),renderState:e()}}const tS=t=>(e,n)=>{const r=C.useContext(Dm),i=C.useContext(Im),o=()=>jD(t,e,r,i);return n?o():fy(o)};function RD(t,e,n,r){const i={},o=r(t,{});for(const b in o)i[b]=Df(o[b]);let{initial:c,animate:d}=t;const f=Om(t),m=$4(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let x=n?n.initial===!1:!1;x=x||c===!1;const v=x?d:c;if(v&&typeof v!="boolean"&&!Mm(v)){const b=Array.isArray(v)?v:[v];for(let T=0;T<b.length;T++){const E=Hy(t,b[T]);if(E){const{transitionEnd:j,transition:O,...M}=E;for(const z in M){let L=M[z];if(Array.isArray(L)){const q=x?L.length-1:0;L=L[q]}L!==null&&(i[z]=L)}for(const z in j)i[z]=j[z]}}}return i}function Gy(t,e,n){var o;const{style:r}=t,i={};for(const c in r)($n(r[c])||e.style&&$n(e.style[c])||X4(c,t)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(i[c]=r[c]);return i}const PD={useVisualState:tS({scrapeMotionValuesFromProps:Gy,createRenderState:By})};function nS(t,e,n){const r=Gy(t,e,n);for(const i in t)if($n(t[i])||$n(e[i])){const o=bc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const ID={useVisualState:tS({scrapeMotionValuesFromProps:nS,createRenderState:J4})};function DD(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...qy(r)?ID:PD,preloadedFeatures:t,useRender:CD(i),createVisualElement:e,Component:r};return fD(c)}}function xd(t,e,n){const r=t.getProps();return Hy(r,e,n!==void 0?n:r.custom,t)}const yx=t=>Array.isArray(t);function MD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,sc(n))}function OD(t){return yx(t)?t[t.length-1]||0:t}function LD(t,e){const n=xd(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const c in o){const d=OD(o[c]);MD(t,c,d)}}function VD(t){return!!($n(t)&&t.add)}function vx(t,e){const n=t.getValue("willChange");if(VD(n))return n.add(e);if(!n&&Ri.WillChange){const r=new Ri.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function rS(t){return t.props[K4]}const UD=t=>t!==null;function zD(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(UD),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const FD={type:"spring",stiffness:500,damping:25,restSpeed:10},BD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qD={type:"keyframes",duration:.8},HD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GD=(t,{keyframes:e})=>e.length>2?qD:wc.has(t)?t.startsWith("scale")?BD(e[1]):FD:HD;function $D({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:c,repeatDelay:d,from:f,elapsed:m,...x}){return!!Object.keys(x).length}const $y=(t,e,n,r={},i,o)=>c=>{const d=Iy(r,t)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-$a(f);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:i};$D(d)||Object.assign(x,GD(t,x)),x.duration&&(x.duration=$a(x.duration)),x.repeatDelay&&(x.repeatDelay=$a(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let v=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(v=!0)),(Ri.instantAnimations||Ri.skipAnimations)&&(v=!0,x.duration=0,x.delay=0),x.allowFlatten=!d.type&&!d.ease,v&&!o&&e.get()!==void 0){const b=zD(x.keyframes,d);if(b!==void 0){Kt.update(()=>{x.onUpdate(b),x.onComplete()});return}}return d.isSync?new jy(x):new SI(x)};function KD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aS(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(o=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const x in d){const v=t.getValue(x,t.latestValues[x]??null),b=d[x];if(b===void 0||m&&KD(m,x))continue;const T={delay:n,...Iy(o||{},x)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===E&&!T.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const M=rS(t);if(M){const z=window.MotionHandoffAnimation(M,x,Kt);z!==null&&(T.startTime=z,j=!0)}}vx(t,x),v.start($y(x,v,b,t.shouldReduceMotion&&I4.has(x)?{type:!1}:T,t,j));const O=v.animation;O&&f.push(O)}return c&&Promise.all(f).then(()=>{Kt.update(()=>{c&&LD(t,c)})}),f}function bx(t,e,n={}){var f;const r=xd(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(aS(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:x=0,staggerChildren:v,staggerDirection:b}=i;return YD(t,e,x+m,v,b,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[m,x]=d==="beforeChildren"?[o,c]:[c,o];return m().then(()=>x())}else return Promise.all([o(),c(n.delay)])}function YD(t,e,n=0,r=0,i=1,o){const c=[],d=(t.variantChildren.size-1)*r,f=i===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(t.variantChildren).sort(QD).forEach((m,x)=>{m.notify("AnimationStart",e),c.push(bx(m,e,{...o,delay:n+f(x)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function QD(t,e){return t.sortNodePosition(e)}function XD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>bx(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=bx(t,e,n);else{const i=typeof e=="function"?xd(t,e,n.custom):e;r=Promise.all(aS(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function iS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const WD=Uy.length;function sS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?sS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<WD;n++){const r=Uy[n],i=t.props[r];(pd(i)||i===!1)&&(e[r]=i)}return e}const ZD=[...Vy].reverse(),JD=Vy.length;function e8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>XD(t,n,r)))}function t8(t){let e=e8(t),n=DT(),r=!0;const i=f=>(m,x)=>{var b;const v=xd(t,x,f==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(v){const{transition:T,transitionEnd:E,...j}=v;m={...m,...j,...E}}return m};function o(f){e=f(t)}function c(f){const{props:m}=t,x=sS(t.parent)||{},v=[],b=new Set;let T={},E=1/0;for(let O=0;O<JD;O++){const M=ZD[O],z=n[M],L=m[M]!==void 0?m[M]:x[M],q=pd(L),V=M===f?z.isActive:null;V===!1&&(E=O);let I=L===x[M]&&L!==m[M]&&q;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),z.protectedKeys={...T},!z.isActive&&V===null||!L&&!z.prevProp||Mm(L)||typeof L=="boolean")continue;const P=n8(z.prevProp,L);let N=P||M===f&&z.isActive&&!I&&q||O>E&&q,S=!1;const D=Array.isArray(L)?L:[L];let B=D.reduce(i(M),{});V===!1&&(B={});const{prevResolvedValues:$={}}=z,U={...$,...B},ye=ie=>{N=!0,b.has(ie)&&(S=!0,b.delete(ie)),z.needsAnimating[ie]=!0;const te=t.getValue(ie);te&&(te.liveStyle=!1)};for(const ie in U){const te=B[ie],ve=$[ie];if(T.hasOwnProperty(ie))continue;let F=!1;yx(te)&&yx(ve)?F=!iS(te,ve):F=te!==ve,F?te!=null?ye(ie):b.add(ie):te!==void 0&&b.has(ie)?ye(ie):z.protectedKeys[ie]=!0}z.prevProp=L,z.prevResolvedValues=B,z.isActive&&(T={...T,...B}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(I&&P)||S)&&v.push(...D.map(ie=>({animation:ie,options:{type:M}})))}if(b.size){const O={};if(typeof m.initial!="boolean"){const M=xd(t,Array.isArray(m.initial)?m.initial[0]:m.initial);M&&M.transition&&(O.transition=M.transition)}b.forEach(M=>{const z=t.getBaseTarget(M),L=t.getValue(M);L&&(L.liveStyle=!0),O[M]=z??null}),v.push({animation:O})}let j=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(v):Promise.resolve()}function d(f,m){var v;if(n[f].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(b=>{var T;return(T=b.animationState)==null?void 0:T.setActive(f,m)}),n[f].isActive=m;const x=c(f);for(const b in n)n[b].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=DT(),r=!0}}}function n8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iS(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DT(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class Ks{constructor(e){this.isMounted=!1,this.node=e}update(){}}class r8 extends Ks{constructor(e){super(e),e.animationState||(e.animationState=t8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let a8=0;class i8 extends Ks{constructor(){super(...arguments),this.id=a8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const s8={animation:{Feature:r8},exit:{Feature:i8}};function yd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ud(t){return{point:{x:t.pageX,y:t.pageY}}}const o8=t=>e=>Oy(e)&&t(e,Ud(e));function Qu(t,e,n,r){return yd(t,e,o8(n),r)}function oS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function l8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const lS=1e-4,u8=1-lS,d8=1+lS,cS=.01,h8=0-cS,f8=0+cS;function er(t){return t.max-t.min}function m8(t,e,n){return Math.abs(t-e)<=n}function MT(t,e,n,r=.5){t.origin=r,t.originPoint=$t(e.min,e.max,t.origin),t.scale=er(n)/er(e),t.translate=$t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=u8&&t.scale<=d8||isNaN(t.scale))&&(t.scale=1),(t.translate>=h8&&t.translate<=f8||isNaN(t.translate))&&(t.translate=0)}function Xu(t,e,n,r){MT(t.x,e.x,n.x,r?r.originX:void 0),MT(t.y,e.y,n.y,r?r.originY:void 0)}function OT(t,e,n){t.min=n.min+e.min,t.max=t.min+er(e)}function p8(t,e,n){OT(t.x,e.x,n.x),OT(t.y,e.y,n.y)}function LT(t,e,n){t.min=e.min-n.min,t.max=t.min+er(e)}function Wu(t,e,n){LT(t.x,e.x,n.x),LT(t.y,e.y,n.y)}const VT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xl=()=>({x:VT(),y:VT()}),UT=()=>({min:0,max:0}),rn=()=>({x:UT(),y:UT()});function Xr(t){return[t("x"),t("y")]}function N0(t){return t===void 0||t===1}function wx({scale:t,scaleX:e,scaleY:n}){return!N0(t)||!N0(e)||!N0(n)}function No(t){return wx(t)||uS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uS(t){return zT(t.x)||zT(t.y)}function zT(t){return t&&t!=="0%"}function am(t,e,n){const r=t-n,i=e*r;return n+i}function FT(t,e,n,r,i){return i!==void 0&&(t=am(t,i,r)),am(t,n,r)+e}function Tx(t,e=0,n=1,r,i){t.min=FT(t.min,e,n,r,i),t.max=FT(t.max,e,n,r,i)}function dS(t,{x:e,y:n}){Tx(t.x,e.translate,e.scale,e.originPoint),Tx(t.y,n.translate,n.scale,n.originPoint)}const BT=.999999999999,qT=1.0000000000001;function g8(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,c;for(let d=0;d<i;d++){o=n[d],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Zl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,dS(t,c)),r&&No(o.latestValues)&&Zl(t,o.latestValues))}e.x<qT&&e.x>BT&&(e.x=1),e.y<qT&&e.y>BT&&(e.y=1)}function Wl(t,e){t.min=t.min+e,t.max=t.max+e}function HT(t,e,n,r,i=.5){const o=$t(t.min,t.max,i);Tx(t,e,n,o,r)}function Zl(t,e){HT(t.x,e.x,e.scaleX,e.scale,e.originX),HT(t.y,e.y,e.scaleY,e.scale,e.originY)}function hS(t,e){return oS(c8(t.getBoundingClientRect(),e))}function x8(t,e,n){const r=hS(t,n),{scroll:i}=e;return i&&(Wl(r.x,i.offset.x),Wl(r.y,i.offset.y)),r}const fS=({current:t})=>t?t.ownerDocument.defaultView:null,GT=(t,e)=>Math.abs(t-e);function y8(t,e){const n=GT(t.x,e.x),r=GT(t.y,e.y);return Math.sqrt(n**2+r**2)}class mS{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=C0(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,T=y8(v.offset,{x:0,y:0})>=3;if(!b&&!T)return;const{point:E}=v,{timestamp:j}=Mn;this.history.push({...E,timestamp:j});const{onStart:O,onMove:M}=this.handlers;b||(O&&O(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=A0(b,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:T,onSessionEnd:E,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=C0(v.type==="pointercancel"?this.lastMoveEventInfo:A0(b,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,O),E&&E(v,O)},!Oy(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=Ud(e),d=A0(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=Mn;this.history=[{...f,timestamp:m}];const{onSessionStart:x}=n;x&&x(e,C0(d,this.history)),this.removeListeners=Md(Qu(this.contextWindow,"pointermove",this.handlePointerMove),Qu(this.contextWindow,"pointerup",this.handlePointerUp),Qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ms(this.updatePoint)}}function A0(t,e){return e?{point:e(t.point)}:t}function $T(t,e){return{x:t.x-e.x,y:t.y-e.y}}function C0({point:t},e){return{point:t,delta:$T(t,pS(e)),offset:$T(t,v8(e)),velocity:b8(e,.1)}}function v8(t){return t[0]}function pS(t){return t[t.length-1]}function b8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=pS(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$a(e)));)n--;if(!r)return{x:0,y:0};const o=Ka(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function w8(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$t(n,t,r.max):Math.min(t,n)),t}function KT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function T8(t,{top:e,left:n,bottom:r,right:i}){return{x:KT(t.x,n,i),y:KT(t.y,e,r)}}function YT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function k8(t,e){return{x:YT(t.x,e.x),y:YT(t.y,e.y)}}function _8(t,e){let n=.5;const r=er(t),i=er(e);return i>r?n=hd(e.min,e.max-r,t.min):r>i&&(n=hd(t.min,t.max-i,e.min)),ji(0,1,n)}function E8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kx=.35;function S8(t=kx){return t===!1?t=0:t===!0&&(t=kx),{x:QT(t,"left","right"),y:QT(t,"top","bottom")}}function QT(t,e,n){return{min:XT(t,e),max:XT(t,n)}}function XT(t,e){return typeof t=="number"?t:t[e]||0}const N8=new WeakMap;class A8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=x=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ud(x).point)},o=(x,v)=>{const{drag:b,dragPropagation:T,onDragStart:E}=this.getProps();if(b&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BI(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xr(O=>{let M=this.getAxisMotionValue(O).get()||0;if(Ya.test(M)){const{projection:z}=this.visualElement;if(z&&z.layout){const L=z.layout.layoutBox[O];L&&(M=er(L)*(parseFloat(M)/100))}}this.originPoint[O]=M}),E&&Kt.postRender(()=>E(x,v)),vx(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(x,v)=>{const{dragPropagation:b,dragDirectionLock:T,onDirectionLock:E,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:O}=v;if(T&&this.currentDirection===null){this.currentDirection=C8(O),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,O),this.updateAxis("y",v.point,O),this.visualElement.render(),j&&j(x,v)},d=(x,v)=>this.stop(x,v),f=()=>Xr(x=>{var v;return this.getAnimationState(x)==="paused"&&((v=this.getAxisMotionValue(x).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new mS(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:fS(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Kt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!bf(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=w8(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Ql(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=T8(r.layoutBox,e):this.constraints=!1,this.elastic=S8(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=E8(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ql(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=x8(r,i.root,this.visualElement.getTransformPagePoint());let c=k8(i.layout.layoutBox,o);if(n){const d=n(l8(c));this.hasMutatedConstraints=!!d,d&&(c=oS(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Xr(x=>{if(!bf(x,n,this.currentDirection))return;let v=f&&f[x]||{};c&&(v={min:0,max:0});const b=i?200:1e6,T=i?40:1e7,E={type:"inertia",velocity:r?e[x]:0,bounceStiffness:b,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(x,E)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return vx(this.visualElement,e),r.start($y(e,r,0,n,this.visualElement,!1))}stopAnimation(){Xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xr(n=>{const{drag:r}=this.getProps();if(!bf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];o.set(e[n]-$t(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ql(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();i[c]=_8({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xr(c=>{if(!bf(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set($t(f,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;N8.set(this.visualElement,this);const e=this.visualElement.current,n=Qu(e,"pointerdown",f=>{const{drag:m,dragListener:x=!0}=this.getProps();m&&x&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ql(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Kt.read(r);const c=yd(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Xr(x=>{const v=this.getAxisMotionValue(x);v&&(this.originPoint[x]+=f[x].translate,v.set(v.get()+f[x].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:c=kx,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function C8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class j8 extends Ks{constructor(e){super(e),this.removeGroupControls=Zr,this.removeListeners=Zr,this.controls=new A8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const WT=t=>(e,n)=>{t&&Kt.postRender(()=>t(e,n))};class R8 extends Ks{constructor(){super(...arguments),this.removePointerDownListener=Zr}onPointerDown(e){this.session=new mS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:WT(e),onStart:WT(n),onMove:r,onEnd:(o,c)=>{delete this.session,i&&Kt.postRender(()=>i(o,c))}}}mount(){this.removePointerDownListener=Qu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Du={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=ZT(t,e.target.x),r=ZT(t,e.target.y);return`${n}% ${r}%`}},P8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Os.parse(t);if(i.length>5)return r;const o=Os.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=f;const m=$t(d,f,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),o(i)}};class I8 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;xD(D8),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:c}=r;return c&&(c.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Kt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),My.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gS(t){const[e,n]=q4(),r=C.useContext(hy);return u.jsx(I8,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(Y4),isPresent:e,safeToRemove:n})}const D8={borderRadius:{...Du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Du,borderTopRightRadius:Du,borderBottomLeftRadius:Du,borderBottomRightRadius:Du,boxShadow:P8};function M8(t,e,n){const r=$n(t)?t:sc(t);return r.start($y("",r,e,n)),r.animation}const O8=(t,e)=>t.depth-e.depth;class L8{constructor(){this.children=[],this.isDirty=!1}add(e){py(this.children,e),this.isDirty=!0}remove(e){gy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(O8),this.isDirty=!1,this.children.forEach(e)}}function V8(t,e){const n=dr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ms(r),t(o-e))};return Kt.setup(r,!0),()=>Ms(r)}const xS=["TopLeft","TopRight","BottomLeft","BottomRight"],U8=xS.length,JT=t=>typeof t=="string"?parseFloat(t):t,ek=t=>typeof t=="number"||$e.test(t);function z8(t,e,n,r,i,o){i?(t.opacity=$t(0,n.opacity??1,F8(r)),t.opacityExit=$t(e.opacity??1,0,B8(r))):o&&(t.opacity=$t(e.opacity??1,n.opacity??1,r));for(let c=0;c<U8;c++){const d=`border${xS[c]}Radius`;let f=tk(e,d),m=tk(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||ek(f)===ek(m)?(t[d]=Math.max($t(JT(f),JT(m),r),0),(Ya.test(m)||Ya.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=$t(e.rotate||0,n.rotate||0,r))}function tk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const F8=yS(0,.5,u4),B8=yS(.5,.95,Zr);function yS(t,e,n){return r=>r<t?0:r>e?1:n(hd(t,e,r))}function nk(t,e){t.min=e.min,t.max=e.max}function Qr(t,e){nk(t.x,e.x),nk(t.y,e.y)}function rk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ak(t,e,n,r,i){return t-=e,t=am(t,1/n,r),i!==void 0&&(t=am(t,1/i,r)),t}function q8(t,e=0,n=1,r=.5,i,o=t,c=t){if(Ya.test(e)&&(e=parseFloat(e),e=$t(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=$t(o.min,o.max,r);t===o&&(d-=e),t.min=ak(t.min,e,n,d,i),t.max=ak(t.max,e,n,d,i)}function ik(t,e,[n,r,i],o,c){q8(t,e[n],e[r],e[i],e.scale,o,c)}const H8=["x","scaleX","originX"],G8=["y","scaleY","originY"];function sk(t,e,n,r){ik(t.x,e,H8,n?n.x:void 0,r?r.x:void 0),ik(t.y,e,G8,n?n.y:void 0,r?r.y:void 0)}function ok(t){return t.translate===0&&t.scale===1}function vS(t){return ok(t.x)&&ok(t.y)}function lk(t,e){return t.min===e.min&&t.max===e.max}function $8(t,e){return lk(t.x,e.x)&&lk(t.y,e.y)}function ck(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bS(t,e){return ck(t.x,e.x)&&ck(t.y,e.y)}function uk(t){return er(t.x)/er(t.y)}function dk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class K8{constructor(){this.members=[]}add(e){py(this.members,e),e.scheduleRender()}remove(e){if(gy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y8(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||o||c)&&(r=`translate3d(${i}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:x,rotateX:v,rotateY:b,skewX:T,skewY:E}=n;m&&(r=`perspective(${m}px) ${r}`),x&&(r+=`rotate(${x}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),T&&(r+=`skewX(${T}deg) `),E&&(r+=`skewY(${E}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const j0=["","X","Y","Z"],Q8={visibility:"hidden"},X8=1e3;let W8=0;function R0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function wS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Kt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&wS(r)}function TS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=W8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eM),this.nodes.forEach(iM),this.nodes.forEach(sM),this.nodes.forEach(tM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new L8)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new vy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=B4(c)&&!YI(c),this.instance=c;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let x;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=V8(v,250),Mf.hasAnimatedSinceResize&&(Mf.hasAnimatedSinceResize=!1,this.nodes.forEach(fk))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||dM,{onLayoutAnimationStart:j,onLayoutAnimationComplete:O}=m.getProps(),M=!this.targetLayout||!bS(this.targetLayout,T),z=!v&&b;if(this.options.layoutRoot||this.resumeFrom||z||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...Iy(E,"layout"),onPlay:j,onComplete:O};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(x,z)}else v||fk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const v=this.path[x];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hk);return}this.isUpdating||this.nodes.forEach(rM),this.isUpdating=!1,this.nodes.forEach(aM),this.nodes.forEach(Z8),this.nodes.forEach(J8),this.clearAllSnapshots();const d=dr.now();Mn.delta=ji(0,1e3/60,d-Mn.timestamp),Mn.timestamp=d,Mn.isProcessing=!0,w0.update.process(Mn),w0.preRender.process(Mn),w0.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,My.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nM),this.sharedNodes.forEach(lM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!er(this.snapshot.measuredBox.x)&&!er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!vS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,x=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||No(this.latestValues)||x)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),hM(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return rn();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(fM))){const{scroll:x}=this.root;x&&(Wl(d.x,x.offset.x),Wl(d.y,x.offset.y))}return d}removeElementScroll(c){var f;const d=rn();if(Qr(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const x=this.path[m],{scroll:v,options:b}=x;x!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Qr(d,c),Wl(d.x,v.offset.x),Wl(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const f=rn();Qr(f,c);for(let m=0;m<this.path.length;m++){const x=this.path[m];!d&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Zl(f,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),No(x.latestValues)&&Zl(f,x.latestValues)}return No(this.latestValues)&&Zl(f,this.latestValues),f}removeTransform(c){const d=rn();Qr(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!No(m.latestValues))continue;wx(m.latestValues)&&m.updateSnapshot();const x=rn(),v=m.measurePageBox();Qr(x,v),sk(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,x)}return No(this.latestValues)&&sk(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=Mn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Wu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qr(this.target,this.layout.layoutBox),dS(this.target,this.targetDelta)):Qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Wu(this.relativeTargetOrigin,this.target,T.target),Qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wx(this.parent.latestValues)||uS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||x))return;Qr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;g8(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=rn());const{target:T}=c;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rk(this.prevProjectionDelta.x,this.projectionDelta.x),rk(this.prevProjectionDelta.y,this.projectionDelta.y)),Xu(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!dk(this.projectionDelta.x,this.prevProjectionDelta.x)||!dk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xl(),this.projectionDelta=Xl(),this.projectionDeltaWithTransform=Xl()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},x={...this.latestValues},v=Xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=rn(),T=f?f.source:void 0,E=this.layout?this.layout.source:void 0,j=T!==E,O=this.getStack(),M=!O||O.members.length<=1,z=!!(j&&!M&&this.options.crossfade===!0&&!this.path.some(uM));this.animationProgress=0;let L;this.mixTargetDelta=q=>{const V=q/1e3;mk(v.x,c.x,V),mk(v.y,c.y,V),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cM(this.relativeTarget,this.relativeTargetOrigin,b,V),L&&$8(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=rn()),Qr(L,this.relativeTarget)),j&&(this.animationValues=x,z8(x,m,this.latestValues,V,z,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{Mf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sc(0)),this.currentAnimation=M8(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),c.onUpdate&&c.onUpdate(x)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:x}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&kS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||rn();const v=er(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const b=er(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}Qr(d,f),Zl(d,x),Xu(this.projectionDeltaWithTransform,this.layoutCorrected,d,x)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new K8),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&R0("z",c,m,this.animationValues);for(let x=0;x<j0.length;x++)R0(`rotate${j0[x]}`,c,m,this.animationValues),R0(`skew${j0[x]}`,c,m,this.animationValues);c.render();for(const x in m)c.setStaticValue(x,m[x]),this.animationValues&&(this.animationValues[x]=m[x]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Q8;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Df(c==null?void 0:c.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Df(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!No(this.latestValues)&&(T.transform=f?f({},""):"none",this.hasProjected=!1),T}const x=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=Y8(this.projectionDeltaWithTransform,this.treeScale,x),f&&(d.transform=f(x,d.transform));const{x:v,y:b}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,m.animationValues?d.opacity=m===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:d.opacity=m===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const T in gd){if(x[T]===void 0)continue;const{correct:E,applyTo:j,isCSSVariable:O}=gd[T],M=d.transform==="none"?x[T]:E(x[T],m);if(j){const z=j.length;for(let L=0;L<z;L++)d[j[L]]=M}else O?this.options.visualElement.renderState.vars[T]=M:d[T]=M}return this.options.layoutId&&(d.pointerEvents=m===this?Df(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(hk),this.root.sharedNodes.clear()}}}function Z8(t){t.updateLayout()}function J8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?Xr(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],T=er(b);b.min=r[v].min,b.max=b.min+T}):kS(o,e.layoutBox,r)&&Xr(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],T=er(r[v]);b.max=b.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const d=Xl();Xu(d,r,e.layoutBox);const f=Xl();c?Xu(f,t.applyTransform(i,!0),e.measuredBox):Xu(f,r,e.layoutBox);const m=!vS(d);let x=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:T}=v;if(b&&T){const E=rn();Wu(E,e.layoutBox,b.layoutBox);const j=rn();Wu(j,r,T.layoutBox),bS(E,j)||(x=!0),v.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=E,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:x})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function eM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nM(t){t.clearSnapshot()}function hk(t){t.clearMeasurements()}function rM(t){t.isLayoutDirty=!1}function aM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iM(t){t.resolveTargetDelta()}function sM(t){t.calcProjection()}function oM(t){t.resetSkewAndRotation()}function lM(t){t.removeLeadSnapshot()}function mk(t,e,n){t.translate=$t(e.translate,0,n),t.scale=$t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pk(t,e,n,r){t.min=$t(e.min,n.min,r),t.max=$t(e.max,n.max,r)}function cM(t,e,n,r){pk(t.x,e.x,n.x,r),pk(t.y,e.y,n.y,r)}function uM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dM={duration:.45,ease:[.4,0,.1,1]},gk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xk=gk("applewebkit/")&&!gk("chrome/")?Math.round:Zr;function yk(t){t.min=xk(t.min),t.max=xk(t.max)}function hM(t){yk(t.x),yk(t.y)}function kS(t,e,n){return t==="position"||t==="preserve-aspect"&&!m8(uk(e),uk(n),.2)}function fM(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const mM=TS({attachResizeListener:(t,e)=>yd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),P0={current:void 0},_S=TS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!P0.current){const t=new mM({});t.mount(window),t.setOptions({layoutScroll:!0}),P0.current=t}return P0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pM={pan:{Feature:R8},drag:{Feature:j8,ProjectionNode:_S,MeasureLayout:gS}};function vk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Kt.postRender(()=>o(e,Ud(e)))}class gM extends Ks{mount(){const{current:e}=this.node;e&&(this.unmount=qI(e,(n,r)=>(vk(this.node,r,"Start"),i=>vk(this.node,i,"End"))))}unmount(){}}class xM extends Ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Md(yd(this.node.current,"focus",()=>this.onFocus()),yd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bk(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Kt.postRender(()=>o(e,Ud(e)))}class yM extends Ks{mount(){const{current:e}=this.node;e&&(this.unmount=KI(e,(n,r)=>(bk(this.node,r,"Start"),(i,{success:o})=>bk(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _x=new WeakMap,I0=new WeakMap,vM=t=>{const e=_x.get(t.target);e&&e(t)},bM=t=>{t.forEach(vM)};function wM({root:t,...e}){const n=t||document;I0.has(n)||I0.set(n,{});const r=I0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(bM,{root:t,...e})),r[i]}function TM(t,e,n){const r=wM(e);return _x.set(t,n),r.observe(t),()=>{_x.delete(t),r.unobserve(t)}}const kM={some:0,all:1};class _M extends Ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:kM[i]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:x,onViewportLeave:v}=this.node.getProps(),b=m?x:v;b&&b(f)};return TM(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(EM(e,n))&&this.startObserver()}unmount(){}}function EM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SM={inView:{Feature:_M},tap:{Feature:yM},focus:{Feature:xM},hover:{Feature:gM}},NM={layout:{ProjectionNode:_S,MeasureLayout:gS}},Ex={current:null},ES={current:!1};function AM(){if(ES.current=!0,!!my)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ex.current=t.matches;t.addListener(e),e()}else Ex.current=!1}const CM=new WeakMap;function jM(t,e,n){for(const r in e){const i=e[r],o=n[r];if($n(i))t.addValue(r,i);else if($n(o))t.addValue(r,sc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,sc(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const wk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ry,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=dr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Kt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Om(n),this.isVariantNode=$4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const T=v[b];f[b]!==void 0&&$n(T)&&T.set(f[b],!1)}}mount(e){this.current=e,CM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ES.current||AM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ex.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ms(this.notifyUpdate),Ms(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=wc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oc){const n=oc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<wk.length;r++){const i=wk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,c=e[o];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=jM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=sc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(e4(r)||n4(r))?r=parseFloat(r):!XI(r)&&Os.test(n)&&(r=L4(e,n)),this.setBaseTarget(e,$n(r)?r.get():r)),$n(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Hy(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$n(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class SS extends RM{constructor(){super(...arguments),this.KeyframeResolver=VI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$n(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NS(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function PM(t){return window.getComputedStyle(t)}class IM extends SS{constructor(){super(...arguments),this.type="html",this.renderInstance=NS}readValueFromInstance(e,n){var r;if(wc.has(n))return(r=this.projection)!=null&&r.isProjecting?hx(n):rI(e,n);{const i=PM(e),o=(Ty(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hS(e,n)}build(e,n,r){Fy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Gy(e,n,r)}}const AS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DM(t,e,n,r){NS(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(AS.has(i)?i:zy(i),e.attrs[i])}class MM extends SS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wc.has(n)){const r=O4(n);return r&&r.default||0}return n=AS.has(n)?n:zy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return nS(e,n,r)}build(e,n,r){Z4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){DM(e,n,r,i)}mount(e){this.isSVGTag=eS(e.tagName),super.mount(e)}}const OM=(t,e)=>qy(t)?new MM(e):new IM(e,{allowProjection:t!==C.Fragment}),LM=DD({...s8,...SM,...pM,...NM},OM),Ae=iD(LM);function CS(t,e){const[n,r]=C.useState(()=>{if(typeof window>"u")return e;try{const o=window.localStorage.getItem(t);if(!o)return e;try{return JSON.parse(o)}catch{return o}}catch(o){return console.error(`Error reading localStorage key "${t}":`,o),e}});return[n,o=>{try{const c=o instanceof Function?o(n):o;r(c),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(c))}catch(c){console.error(`Error setting localStorage key "${t}":`,c)}}]}const jS=C.createContext(void 0),VM=({children:t})=>{const[e,n]=CS("theme","light");C.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),e&&i.classList.add(e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return u.jsx(jS.Provider,{value:{theme:e,toggleTheme:r},children:t})},UM=()=>{const t=C.useContext(jS);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},zM=()=>u.jsx("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-semantic-warning-light dark:text-semantic-warning-dark icon-default",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}),FM=()=>u.jsx("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-primary dark:text-primary icon-default",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),Tk=()=>{const{theme:t,toggleTheme:e}=UM();return u.jsx("button",{onClick:e,className:"p-space-sm bg-neutral-surface-light dark:bg-neutral-surface-dark hover:bg-neutral-border-light dark:hover:bg-neutral-border-dark text-text-muted-light dark:text-text-muted-dark rounded-radius-full focus:outline-none focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:ring-offset-2 focus:ring-offset-neutral-background-light dark:focus:ring-offset-neutral-background-dark transition-colors duration-300","aria-label":t==="light"?"Switch to dark mode":"Switch to light mode",children:t==="light"?u.jsx(FM,{}):u.jsx(zM,{})})},kk=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5 ml-1 opacity-70",children:u.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.29a.75.75 0 01.02-1.06z",clipRule:"evenodd"})}),BM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 ml-1 opacity-70",children:u.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.29a.75.75 0 01.02-1.06z",clipRule:"evenodd"})}),Sx=[{code:"en",flag:"https://flagcdn.com/gb.svg",name:"EN"},{code:"es",flag:"https://flagcdn.com/es.svg",name:"ES"},{code:"fr",flag:"https://flagcdn.com/fr.svg",name:"FR"}],qM=t=>{const e=Sx.find(n=>n.code===t);return e?u.jsx("img",{src:e.flag,alt:`${e.name} flag`,className:"w-5 h-4 object-cover rounded-sm",loading:"lazy"}):u.jsx("img",{src:"https://flagcdn.com/xx.svg",alt:"Default flag",className:"w-5 h-4 object-cover rounded-sm",loading:"lazy"})},Nx=()=>{const{t}=mt(),[e,n]=C.useState(!1),r=C.useRef(null),i=C.useRef(null),o=Sx.find(x=>x.code===Gt.language)||{code:Gt.language,name:Gt.language.toUpperCase()},c=()=>n(!e),d=x=>{var v;Gt.changeLanguage(x),n(!1),(v=i.current)==null||v.focus()};C.useEffect(()=>{const x=v=>{r.current&&!r.current.contains(v.target)&&n(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const f=x=>{var E,j,O,M;if(!e)return;const v=Array.from(((E=r.current)==null?void 0:E.querySelectorAll('li[role="option"]'))||[]),b=document.activeElement;let T=v.findIndex(z=>z===b);x.key==="ArrowDown"?(x.preventDefault(),T=(T+1)%v.length,(j=v[T])==null||j.focus()):x.key==="ArrowUp"?(x.preventDefault(),T=(T-1+v.length)%v.length,(O=v[T])==null||O.focus()):x.key==="Escape"&&(x.preventDefault(),n(!1),(M=i.current)==null||M.focus())},m=(x,v)=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),d(v))};return u.jsxs("div",{className:"relative",ref:r,children:[u.jsxs("button",{ref:i,type:"button",className:"flex items-center justify-center px-3 py-2 bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark hover:bg-neutral-border-light dark:hover:bg-neutral-border-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:ring-offset-2 focus:ring-offset-neutral-background-light dark:focus:ring-offset-neutral-background-dark transition-colors",onClick:c,"aria-haspopup":"listbox","aria-expanded":e,"aria-label":t("selectLanguage","Select language")+`: ${o.name}`,children:[qM(o.code),typeof kk<"u"?u.jsx(kk,{className:"w-5 h-5 ml-1 opacity-70 icon-default"}):u.jsx(BM,{})]}),u.jsx(Vd,{children:e&&u.jsx(Ae.ul,{role:"listbox",tabIndex:-1,onKeyDown:f,className:"absolute z-50 mt-1 w-auto min-w-[150px] right-0 md:left-0 bg-neutral-surface-light dark:bg-neutral-surface-dark border border-neutral-border-light dark:border-neutral-border-dark rounded-lg shadow-lg overflow-hidden focus:outline-none transition-colors duration-300",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},children:Sx.map(x=>u.jsxs("li",{role:"option",tabIndex:0,"aria-selected":Gt.language===x.code,className:`flex items-center px-3 py-2 text-sm cursor-pointer
                  ${Gt.language===x.code?"bg-primary-DEFAULT text-text-default-dark dark:bg-primary-dark dark:text-text-default-light":"text-text-default-light dark:text-text-default-dark hover:bg-primary-light dark:hover:bg-primary-hover hover:text-primary-dark dark:hover:text-primary-light"}
                  focus:bg-primary-light dark:focus:bg-primary-hover focus:text-primary-dark dark:focus:text-primary-light focus:outline-none transition-colors duration-150`,onClick:()=>d(x.code),onKeyDown:v=>m(v,x.code),children:[u.jsx("img",{src:x.flag,alt:`${x.name} flag`,className:"w-5 h-4 object-cover rounded-sm mr-3",loading:"lazy"}),x.name]},x.code))})})]})},HM=({className:t})=>u.jsx("span",{style:{fontSize:"2rem",fontWeight:"bold"},className:`text-primary ${t}`,children:"Gonorte"}),GM=({className:t="",textClassName:e=""})=>{const{t:n}=mt();return u.jsx(an,{to:"/","aria-label":n("ariaLabelGoToHome","Gonorte - Go to homepage"),className:`group focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-surface dark:focus-visible:ring-offset-surface-dark rounded-sm ${t}`,children:u.jsx(HM,{className:e})})},$M=()=>{};var _k={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],c=t[n++],d=t[n++],f=((i&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},PS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,d=c?t[i+1]:0,f=i+2<t.length,m=f?t[i+2]:0,x=o>>2,v=(o&3)<<4|d>>4;let b=(d&15)<<2|m>>6,T=m&63;f||(T=64,c||(b=64)),r.push(n[x],n[v],n[b],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||d==null||m==null||v==null)throw new YM;const b=o<<2|d>>4;if(r.push(b),m!==64){const T=d<<4&240|m>>2;if(r.push(T),v!==64){const E=m<<6&192|v;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QM=function(t){const e=RS(t);return PS.encodeByteArray(e,!0)},im=function(t){return QM(t).replace(/\./g,"")},IS=function(t){try{return PS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=()=>XM().__FIREBASE_DEFAULTS__,ZM=()=>{if(typeof process>"u"||typeof _k>"u")return;const t=_k.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IS(t[1]);return e&&JSON.parse(e)},Lm=()=>{try{return $M()||WM()||ZM()||JM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DS=t=>{var e,n;return(n=(e=Lm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MS=t=>{const e=DS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OS=()=>{var t;return(t=Lm())===null||t===void 0?void 0:t.config},LS=t=>{var e;return(e=Lm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){return t.endsWith(".cloudworkstations.dev")}async function Ky(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[im(JSON.stringify(n)),im(JSON.stringify(c)),""].join(".")}const Zu={};function t9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zu))Zu[e]?t.emulator.push(e):t.prod.push(e);return t}function n9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ek=!1;function Yy(t,e){if(typeof window>"u"||typeof document>"u"||!Ys(window.location.host)||Zu[t]===e||Zu[t]||Ek)return;Zu[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=t9().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Ek=!0,c()},b}function x(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=n9(r),T=n("text"),E=document.getElementById(T)||document.createElement("span"),j=n("learnmore"),O=document.getElementById(j)||document.createElement("a"),M=n("preprendIcon"),z=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const L=b.element;d(L),x(O,j);const q=m();f(z,M),L.append(z,E,O,q),document.body.appendChild(L)}o?(E.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function a9(){var t;const e=(t=Lm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function US(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function s9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o9(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function l9(){return!a9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function c9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9="FirebaseError";class aa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u9,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?d9(o,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new aa(i,d,r)}}function d9(t,e){return t.replace(h9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const h9=/\{\$([^}]+)}/g;function f9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],c=e[i];if(Sk(o)&&Sk(c)){if(!Pi(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function m9(t,e){const n=new p9(t,e);return n.subscribe.bind(n)}class p9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");g9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=D0),i.error===void 0&&(i.error=D0),i.complete===void 0&&(i.complete=D0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function D0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=1e3,y9=2,v9=4*60*60*1e3,b9=.5;function Nk(t,e=x9,n=y9){const r=e*Math.pow(n,t),i=Math.round(b9*r*(Math.random()-.5)*2);return Math.min(v9,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k9(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T9(t){return t===Ao?void 0:t}function k9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const E9={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},S9=ut.INFO,N9={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},A9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=N9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=S9,this._logHandler=A9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const C9=(t,e)=>e.some(n=>t instanceof n);let Ak,Ck;function j9(){return Ak||(Ak=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R9(){return Ck||(Ck=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BS=new WeakMap,Ax=new WeakMap,qS=new WeakMap,M0=new WeakMap,Qy=new WeakMap;function P9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(js(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&BS.set(n,t)}).catch(()=>{}),Qy.set(e,t),e}function I9(t){if(Ax.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Ax.set(t,e)}let Cx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ax.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D9(t){Cx=t(Cx)}function M9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(O0(this),e,...n);return qS.set(r,e.sort?e.sort():[e]),js(r)}:R9().includes(t)?function(...e){return t.apply(O0(this),e),js(BS.get(this))}:function(...e){return js(t.apply(O0(this),e))}}function O9(t){return typeof t=="function"?M9(t):(t instanceof IDBTransaction&&I9(t),C9(t,j9())?new Proxy(t,Cx):t)}function js(t){if(t instanceof IDBRequest)return P9(t);if(M0.has(t))return M0.get(t);const e=O9(t);return e!==t&&(M0.set(t,e),Qy.set(e,t)),e}const O0=t=>Qy.get(t);function HS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),d=js(c);return r&&c.addEventListener("upgradeneeded",f=>{r(js(c.result),f.oldVersion,f.newVersion,js(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const L9=["get","getKey","getAll","getAllKeys","count"],V9=["put","add","delete","clear"],L0=new Map;function jk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(L0.get(e))return L0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=V9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L9.includes(n)))return;const o=async function(c,...d){const f=this.transaction(c,i?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&f.done]))[0]};return L0.set(e,o),o}D9(t=>({...t,get:(e,n,r)=>jk(e,n)||t.get(e,n,r),has:(e,n)=>!!jk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jx="@firebase/app",Rk="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Vm("@firebase/app"),F9="@firebase/app-compat",B9="@firebase/analytics-compat",q9="@firebase/analytics",H9="@firebase/app-check-compat",G9="@firebase/app-check",$9="@firebase/auth",K9="@firebase/auth-compat",Y9="@firebase/database",Q9="@firebase/data-connect",X9="@firebase/database-compat",W9="@firebase/functions",Z9="@firebase/functions-compat",J9="@firebase/installations",eO="@firebase/installations-compat",tO="@firebase/messaging",nO="@firebase/messaging-compat",rO="@firebase/performance",aO="@firebase/performance-compat",iO="@firebase/remote-config",sO="@firebase/remote-config-compat",oO="@firebase/storage",lO="@firebase/storage-compat",cO="@firebase/firestore",uO="@firebase/ai",dO="@firebase/firestore-compat",hO="firebase",fO="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="[DEFAULT]",mO={[jx]:"fire-core",[F9]:"fire-core-compat",[q9]:"fire-analytics",[B9]:"fire-analytics-compat",[G9]:"fire-app-check",[H9]:"fire-app-check-compat",[$9]:"fire-auth",[K9]:"fire-auth-compat",[Y9]:"fire-rtdb",[Q9]:"fire-data-connect",[X9]:"fire-rtdb-compat",[W9]:"fire-fn",[Z9]:"fire-fn-compat",[J9]:"fire-iid",[eO]:"fire-iid-compat",[tO]:"fire-fcm",[nO]:"fire-fcm-compat",[rO]:"fire-perf",[aO]:"fire-perf-compat",[iO]:"fire-rc",[sO]:"fire-rc-compat",[oO]:"fire-gcs",[lO]:"fire-gcs-compat",[cO]:"fire-fst",[dO]:"fire-fst-compat",[uO]:"fire-vertex","fire-js":"fire-js",[hO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Map,pO=new Map,Px=new Map;function Pk(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(Px.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Px.set(e,t);for(const n of vd.values())Pk(n,t);for(const n of pO.values())Pk(n,t);return!0}function Qs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new Qo("app","Firebase",gO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=fO;function Xy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rx,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Rs.create("bad-app-name",{appName:String(i)});if(n||(n=OS()),!n)throw Rs.create("no-options");const o=vd.get(i);if(o){if(Pi(n,o.options)&&Pi(r,o.config))return o;throw Rs.create("duplicate-app",{appName:i})}const c=new _9(i);for(const f of Px.values())c.addComponent(f);const d=new xO(n,r,c);return vd.set(i,d),d}function Um(t=Rx){const e=vd.get(t);if(!e&&t===Rx&&OS())return Xy();if(!e)throw Rs.create("no-app",{appName:t});return e}function Ik(){return Array.from(vd.values())}function hr(t,e,n){var r;let i=(r=mO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(d.join(" "));return}ya(new ta(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="firebase-heartbeat-database",vO=1,bd="firebase-heartbeat-store";let V0=null;function GS(){return V0||(V0=HS(yO,vO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rs.create("idb-open",{originalErrorMessage:t.message})})),V0}async function bO(t){try{const n=(await GS()).transaction(bd),r=await n.objectStore(bd).get($S(t));return await n.done,r}catch(e){if(e instanceof aa)Ii.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function Dk(t,e){try{const r=(await GS()).transaction(bd,"readwrite");await r.objectStore(bd).put(e,$S(t)),await r.done}catch(n){if(n instanceof aa)Ii.warn(n.message);else{const r=Rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function $S(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=1024,TO=30;class kO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Mk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>TO){const c=SO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mk(),{heartbeatsToSend:r,unsentEntries:i}=_O(this._heartbeatsCache.heartbeats),o=im(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ii.warn(n),""}}}function Mk(){return new Date().toISOString().substring(0,10)}function _O(t,e=wO){const n=[];let r=t.slice();for(const i of t){const o=n.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),Ok(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ok(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ok(t){return im(JSON.stringify({version:2,heartbeats:t})).length}function SO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){ya(new ta("platform-logger",e=>new U9(e),"PRIVATE")),ya(new ta("heartbeat",e=>new kO(e),"PRIVATE")),hr(jx,Rk,t),hr(jx,Rk,"esm2017"),hr("fire-js","")}NO("");function Wy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AO=KS,YS=new Qo("auth","Firebase",KS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Vm("@firebase/auth");function CO(t,...e){sm.logLevel<=ut.WARN&&sm.warn(`Auth (${Xo}): ${t}`,...e)}function Of(t,...e){sm.logLevel<=ut.ERROR&&sm.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,...e){throw Jy(t,...e)}function pa(t,...e){return Jy(t,...e)}function Zy(t,e,n){const r=Object.assign(Object.assign({},AO()),{[e]:n});return new Qo("auth","Firebase",r).create(e,{appName:t.name})}function Ai(t){return Zy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&na(t,"argument-error"),Zy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YS.create(t,...e)}function qe(t,e,...n){if(!t)throw Jy(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function Di(t,e){t||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RO(){return Lk()==="http:"||Lk()==="https:"}function Lk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RO()||US()||"connection"in navigator)?navigator.onLine:!0}function IO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=r9()||s9()}get(){return PO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e){Di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OO=new Fd(3e4,6e4);function Ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zi(t,e,n,r,i={}){return XS(t,i,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=zd(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},o);return i9()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Ys(t.emulatorConfig.host)&&(m.credentials="include"),QS.fetch()(await WS(t,t.config.apiHost,n,d),m)})}async function XS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DO),e);try{const i=new VO(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw wf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw wf(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw wf(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw wf(t,"user-disabled",c);const x=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Zy(t,x,m);na(t,x)}}catch(i){if(i instanceof aa)throw i;na(t,"network-request-failed",{message:String(i)})}}async function Bd(t,e,n,r,i={}){const o=await zi(t,e,n,r,i);return"mfaPendingCredential"in o&&na(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function WS(t,e,n,r){const i=`${e}${n}?${r}`,o=t,c=o.config.emulator?ev(t.config,i):`${t.config.apiScheme}://${i}`;return MO.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function LO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pa(this.auth,"network-request-failed")),OO.get())})}}function wf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pa(t,e,r);return i.customData._tokenResponse=n,i}function Vk(t){return t!==void 0&&t.enterprise!==void 0}class UO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zO(t,e){return zi(t,"GET","/v2/recaptchaConfig",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){return zi(t,"POST","/v1/accounts:delete",e)}async function om(t,e){return zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BO(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=tv(r);qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ju(U0(i.auth_time)),issuedAtTime:Ju(U0(i.iat)),expirationTime:Ju(U0(i.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function U0(t){return Number(t)*1e3}function tv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const i=IS(n);return i?JSON.parse(i):(Of("Failed to decode base64 JWT payload"),null)}catch(i){return Of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Uk(t){const e=tv(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof aa&&qO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wd(t,om(n,{idToken:r}));qe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ZS(o.providerUserInfo):[],d=$O(t.providerData,c),f=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),x=f?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Dx(o.createdAt,o.lastLoginAt),isAnonymous:x};Object.assign(t,v)}async function GO(t){const e=qt(t);await lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $O(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZS(t){return t.map(e=>{var{providerId:n}=e,r=Wy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){const n=await XS(t,{},async()=>{const r=zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,c=await WS(t,i,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&Ys(t.emulatorConfig.host)&&(f.credentials="include"),QS.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YO(t,e){return zi(t,"POST","/v2/accounts:revokeToken",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=Uk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await KO(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,c=new ec;return r&&(qe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(qe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ma{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Wy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await wd(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BO(this,e)}reload(){return GO(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ma(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await wd(this,FO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,c,d,f,m,x;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(c=n.photoURL)!==null&&c!==void 0?c:void 0,j=(d=n.tenantId)!==null&&d!==void 0?d:void 0,O=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,M=(m=n.createdAt)!==null&&m!==void 0?m:void 0,z=(x=n.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:L,emailVerified:q,isAnonymous:V,providerData:I,stsTokenManager:P}=n;qe(L&&P,e,"internal-error");const N=ec.fromJSON(this.name,P);qe(typeof L=="string",e,"internal-error"),vs(v,e.name),vs(b,e.name),qe(typeof q=="boolean",e,"internal-error"),qe(typeof V=="boolean",e,"internal-error"),vs(T,e.name),vs(E,e.name),vs(j,e.name),vs(O,e.name),vs(M,e.name),vs(z,e.name);const S=new ma({uid:L,auth:e,email:b,emailVerified:q,displayName:v,isAnonymous:V,photoURL:E,phoneNumber:T,tenantId:j,stsTokenManager:N,createdAt:M,lastLoginAt:z});return I&&Array.isArray(I)&&(S.providerData=I.map(D=>Object.assign({},D))),O&&(S._redirectEventId=O),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new ec;i.updateFromServerResponse(n);const o=new ma({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];qe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?ZS(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),d=new ec;d.updateFromIdToken(r);const f=new ma({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Dx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=new Map;function Si(t){Di(t instanceof Function,"Expected a class definition");let e=zk.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JS.type="NONE";const Fk=JS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e,n){return`firebase:${t}:${e}:${n}`}class tc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Lf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Lf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await om(this.auth,{idToken:e}).catch(()=>{});return n?ma._fromGetAccountInfoResponse(this.auth,n,e):null}return ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tc(Si(Fk),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=i[0]||Si(Fk);const c=Lf(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const x=await m._get(c);if(x){let v;if(typeof x=="string"){const b=await om(e,{idToken:x}).catch(()=>{});if(!b)break;v=await ma._fromGetAccountInfoResponse(e,b,x)}else v=ma._fromJSON(e,x);m!==o&&(d=v),o=m;break}}catch{}const f=i.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new tc(o,e,r):(o=f[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new tc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iN(e))return"Blackberry";if(sN(e))return"Webos";if(tN(e))return"Safari";if((e.includes("chrome/")||nN(e))&&!e.includes("edge/"))return"Chrome";if(aN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eN(t=Kn()){return/firefox\//i.test(t)}function tN(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nN(t=Kn()){return/crios\//i.test(t)}function rN(t=Kn()){return/iemobile/i.test(t)}function aN(t=Kn()){return/android/i.test(t)}function iN(t=Kn()){return/blackberry/i.test(t)}function sN(t=Kn()){return/webos/i.test(t)}function nv(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QO(t=Kn()){var e;return nv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XO(){return o9()&&document.documentMode===10}function oN(t=Kn()){return nv(t)||aN(t)||sN(t)||iN(t)||/windows phone/i.test(t)||rN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e=[]){let n;switch(t){case"Browser":n=Bk(Kn());break;case"Worker":n=`${Bk(Kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const f=e(o);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e={}){return zi(t,"GET","/v2/passwordPolicy",Ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=6;class eL{constructor(e){var n,r,i,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:JO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qk(this),this.idTokenSubscription=new qk(this),this.beforeStateQueue=new WO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await tc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await om(this,{idToken:e}),r=await ma._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Ai(this));const n=e?qt(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZO(this),n=new eL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Si(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await tc.create(this,[Si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fi(t){return qt(t)}class qk{constructor(e){this.auth=e,this.observer=null,this.addObserver=m9(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nL(t){zm=t}function cN(t){return zm.loadJS(t)}function rL(){return zm.recaptchaEnterpriseScript}function aL(){return zm.gapiScript}function iL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class sL{constructor(){this.enterprise=new oL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lL="recaptcha-enterprise",uN="NO_RECAPTCHA";class cL{constructor(e){this.type=lL,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{zO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new UO(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{d(f)})})}function i(o,c,d){const f=window.grecaptcha;Vk(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(uN)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sL().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!n&&Vk(window.grecaptcha))i(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=rL();f.length!==0&&(f+=d),cN(f).then(()=>{i(d,o,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function Hk(t,e,n,r=!1,i=!1){const o=new cL(t);let c;if(i)c=uN;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cm(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Hk(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Hk(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t,e){const n=Qs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Pi(o,e??{}))return i;na(i,"already-initialized")}return n.initialize({options:e})}function dL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hL(t,e,n){const r=Fi(t);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=dN(e),{host:c,port:d}=fL(e),f=d===null?"":`:${d}`,m={url:`${o}//${c}${f}/`},x=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Pi(m,r.config.emulator)&&Pi(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Ys(c)?(Ky(`${o}//${c}${f}`),Yy("Auth",!0)):mL()}function dN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fL(t){const e=dN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Gk(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:Gk(c)}}}function Gk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function pL(t,e){return zi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){return Bd(t,"POST","/v1/accounts:signInWithPassword",Ui(t,e))}async function xL(t,e){return zi(t,"POST","/v1/accounts:sendOobCode",Ui(t,e))}async function yL(t,e){return xL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e){return Bd(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}async function bL(t,e){return Bd(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends rv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Td(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Td(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,n,"signInWithPassword",gL);case"emailLink":return vL(e,{email:this._email,oobCode:this._password});default:na(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,r,"signUpPassword",pL);case"emailLink":return bL(e,{idToken:n,email:this._email,oobCode:this._password});default:na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e){return Bd(t,"POST","/v1/accounts:signInWithIdp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="http://localhost";class zo extends rv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):na("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Wy(n,["providerId","signInMethod"]);if(!r||!i)return null;const c=new zo(r,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nc(e,n)}buildRequest(){const e={requestUri:wL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kL(t){const e=zu(Fu(t)).link,n=e?zu(Fu(e)).deep_link_id:null,r=zu(Fu(t)).deep_link_id;return(r?zu(Fu(r)).link:null)||r||n||e||t}class av{constructor(e){var n,r,i,o,c,d;const f=zu(Fu(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,x=(r=f.oobCode)!==null&&r!==void 0?r:null,v=TL((i=f.mode)!==null&&i!==void 0?i:null);qe(m&&x&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=x,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=kL(e);try{return new av(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.providerId=Tc.PROVIDER_ID}static credential(e,n){return Td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=av.parseLink(n);return qe(r,"argument-error"),Td._fromEmailAndCode(e,r.code,r.tenantId)}}Tc.PROVIDER_ID="password";Tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends iv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends qd{constructor(){super("facebook.com")}static credential(e){return zo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zo._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends qd{constructor(){super("github.com")}static credential(e){return zo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends qd{constructor(){super("twitter.com")}static credential(e,n){return zo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e){return Bd(t,"POST","/v1/accounts:signUp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ma._fromIdTokenResponse(e,r,i),c=$k(r);return new Fo({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$k(r);return new Fo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $k(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends aa{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,um.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new um(e,n,r,i)}}function hN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?um._fromErrorAndOperation(t,o,e,r):o})}async function EL(t,e,n=!1){const r=await wd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e,n=!1){const{auth:r}=t;if(cr(r.app))return Promise.reject(Ai(r));const i="reauthenticate";try{const o=await wd(t,hN(r,i,e,t),n);qe(o.idToken,r,"internal-error");const c=tv(o.idToken);qe(c,r,"internal-error");const{sub:d}=c;return qe(t.uid===d,r,"user-mismatch"),Fo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&na(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(t,e,n=!1){if(cr(t.app))return Promise.reject(Ai(t));const r="signIn",i=await hN(t,r,e),o=await Fo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function NL(t,e){return fN(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AL(t,e,n){const r=Fi(t);await cm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",yL)}async function pN(t,e,n){if(cr(t.app))return Promise.reject(Ai(t));const r=Fi(t),c=await cm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_L).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&mN(t),f}),d=await Fo._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function CL(t,e,n){return cr(t.app)?Promise.reject(Ai(t)):NL(qt(t),Tc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mN(t),r})}function jL(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function RL(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function PL(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function z0(t){return qt(t).signOut()}const dm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dm,"1"),this.storage.removeItem(dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=1e3,DL=10;class xN extends gN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);XO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xN.type="LOCAL";const ML=xN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN extends gN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yN.type="SESSION";const vN=yN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async m=>m(n.origin,o)),f=await OL(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((d,f)=>{const m=sv("",20);i.port1.start();const x=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(x),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(b.data.response);break;default:clearTimeout(x),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(){return window}function VL(t){Qa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof Qa().WorkerGlobalScope<"u"&&typeof Qa().importScripts=="function"}async function UL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FL(){return bN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebaseLocalStorageDb",BL=1,hm="firebaseLocalStorage",TN="fbase_key";class Hd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bm(t,e){return t.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function qL(){const t=indexedDB.deleteDatabase(wN);return new Hd(t).toPromise()}function Mx(){const t=indexedDB.open(wN,BL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hm,{keyPath:TN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hm)?e(r):(r.close(),await qL(),e(await Mx()))})})}async function Kk(t,e,n){const r=Bm(t,!0).put({[TN]:e,value:n});return new Hd(r).toPromise()}async function HL(t,e){const n=Bm(t,!1).get(e),r=await new Hd(n).toPromise();return r===void 0?null:r.value}function Yk(t,e){const n=Bm(t,!0).delete(e);return new Hd(n).toPromise()}const GL=800,$L=3;class kN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$L)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fm._getInstance(FL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UL(),!this.activeServiceWorker)return;this.sender=new LL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mx();return await Kk(e,dm,"1"),await Yk(e,dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Bm(i,!1).getAll();return new Hd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kN.type="LOCAL";const KL=kN;new Fd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t,e){return e?Si(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends rv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YL(t){return fN(t.auth,new ov(t),t.bypassAuthState)}function QL(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),SL(n,new ov(t),t.bypassAuthState)}async function XL(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),EL(n,new ov(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YL;case"linkViaPopup":case"linkViaRedirect":return XL;case"reauthViaPopup":case"reauthViaRedirect":return QL;default:na(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new Fd(2e3,1e4);async function ZL(t,e,n){if(cr(t.app))return Promise.reject(pa(t,"operation-not-supported-in-this-environment"));const r=Fi(t);jO(t,e,iv);const i=_N(r,n);return new Io(r,"signInViaPopup",e,i).executeNotNull()}class Io extends EN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WL.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="pendingRedirect",Vf=new Map;class eV extends EN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vf.get(this.auth._key());if(!e){try{const r=await tV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vf.set(this.auth._key(),e)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tV(t,e){const n=aV(e),r=rV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function nV(t,e){Vf.set(t._key(),e)}function rV(t){return Si(t._redirectPersistence)}function aV(t){return Lf(JL,t.config.apiKey,t.name)}async function iV(t,e,n=!1){if(cr(t.app))return Promise.reject(Ai(t));const r=Fi(t),i=_N(r,e),c=await new eV(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=10*60*1e3;class oV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qk(e))}saveEventToCache(e){this.cachedEventUids.add(Qk(e)),this.lastProcessedEventTime=Date.now()}}function Qk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e={}){return zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dV=/^https?/;async function hV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cV(t);for(const n of e)try{if(fV(n))return}catch{}na(t,"unauthorized-domain")}function fV(t){const e=Ix(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!dV.test(n))return!1;if(uV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new Fd(3e4,6e4);function Xk(){const t=Qa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pV(t){return new Promise((e,n)=>{var r,i,o;function c(){Xk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xk(),n(pa(t,"network-request-failed"))},timeout:mV.get()})}if(!((i=(r=Qa().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qa().gapi)===null||o===void 0)&&o.load)c();else{const d=iL("iframefcb");return Qa()[d]=()=>{gapi.load?c():n(pa(t,"network-request-failed"))},cN(`${aL()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function gV(t){return Uf=Uf||pV(t),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new Fd(5e3,15e3),yV="__/auth/iframe",vV="emulator/auth/iframe",bV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TV(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ev(e,vV):`https://${t.config.authDomain}/${yV}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},i=wV.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zd(r).slice(1)}`}async function kV(t){const e=await gV(t),n=Qa().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:TV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bV,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const c=pa(t,"network-request-failed"),d=Qa().setTimeout(()=>{o(c)},xV.get());function f(){Qa().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EV=500,SV=600,NV="_blank",AV="http://localhost";class Wk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CV(t,e,n,r=EV,i=SV){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},_V),{width:r.toString(),height:i.toString(),top:o,left:c}),m=Kn().toLowerCase();n&&(d=nN(m)?NV:n),eN(m)&&(e=e||AV,f.scrollbars="yes");const x=Object.entries(f).reduce((b,[T,E])=>`${b}${T}=${E},`,"");if(QO(m)&&d!=="_self")return jV(e||"",d),new Wk(null);const v=window.open(e||"",d,x);qe(v,t,"popup-blocked");try{v.focus()}catch{}return new Wk(v)}function jV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="__/auth/handler",PV="emulator/auth/handler",IV=encodeURIComponent("fac");async function Zk(t,e,n,r,i,o){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(e instanceof iv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",f9(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,v]of Object.entries({}))c[x]=v}if(e instanceof qd){const x=e.getScopes().filter(v=>v!=="");x.length>0&&(c.scopes=x.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const x of Object.keys(d))d[x]===void 0&&delete d[x];const f=await t._getAppCheckToken(),m=f?`#${IV}=${encodeURIComponent(f)}`:"";return`${DV(t)}?${zd(d).slice(1)}${m}`}function DV({config:t}){return t.emulator?ev(t,PV):`https://${t.authDomain}/${RV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="webStorageSupport";class MV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vN,this._completeRedirectFn=iV,this._overrideRedirectResult=nV}async _openPopup(e,n,r,i){var o;Di((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Zk(e,n,r,Ix(),i);return CV(e,c,sv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Zk(e,n,r,Ix(),i);return VL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kV(e),r=new oV(e);return n.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(F0,{type:F0},i=>{var o;const c=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[F0];c!==void 0&&n(!!c),na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oN()||tN()||nv()}}const OV=MV;var Jk="@firebase/auth",e_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UV(t){ya(new ta("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lN(t)},m=new tL(r,i,o,f);return dL(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ya(new ta("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new LV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Jk,e_,VV(t)),hr(Jk,e_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=5*60,FV=LS("authIdTokenMaxAge")||zV;let t_=null;const BV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FV)return;const i=n==null?void 0:n.token;t_!==i&&(t_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NN(t=Um()){const e=Qs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uL(t,{popupRedirectResolver:OV,persistence:[KL,ML,vN]}),r=LS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=BV(o.toString());RL(n,c,()=>c(n.currentUser)),jL(n,d=>c(d))}}const i=DS("auth");return i&&hL(n,`http://${i}`),n}function qV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=pa("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",qV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UV("Browser");var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,AN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,N){function S(){}S.prototype=N.prototype,P.D=N.prototype,P.prototype=new S,P.prototype.constructor=P,P.C=function(D,B,$){for(var U=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)U[ye-2]=arguments[ye];return N.prototype[B].apply(D,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,N,S){S||(S=0);var D=Array(16);if(typeof N=="string")for(var B=0;16>B;++B)D[B]=N.charCodeAt(S++)|N.charCodeAt(S++)<<8|N.charCodeAt(S++)<<16|N.charCodeAt(S++)<<24;else for(B=0;16>B;++B)D[B]=N[S++]|N[S++]<<8|N[S++]<<16|N[S++]<<24;N=P.g[0],S=P.g[1],B=P.g[2];var $=P.g[3],U=N+($^S&(B^$))+D[0]+3614090360&4294967295;N=S+(U<<7&4294967295|U>>>25),U=$+(B^N&(S^B))+D[1]+3905402710&4294967295,$=N+(U<<12&4294967295|U>>>20),U=B+(S^$&(N^S))+D[2]+606105819&4294967295,B=$+(U<<17&4294967295|U>>>15),U=S+(N^B&($^N))+D[3]+3250441966&4294967295,S=B+(U<<22&4294967295|U>>>10),U=N+($^S&(B^$))+D[4]+4118548399&4294967295,N=S+(U<<7&4294967295|U>>>25),U=$+(B^N&(S^B))+D[5]+1200080426&4294967295,$=N+(U<<12&4294967295|U>>>20),U=B+(S^$&(N^S))+D[6]+2821735955&4294967295,B=$+(U<<17&4294967295|U>>>15),U=S+(N^B&($^N))+D[7]+4249261313&4294967295,S=B+(U<<22&4294967295|U>>>10),U=N+($^S&(B^$))+D[8]+1770035416&4294967295,N=S+(U<<7&4294967295|U>>>25),U=$+(B^N&(S^B))+D[9]+2336552879&4294967295,$=N+(U<<12&4294967295|U>>>20),U=B+(S^$&(N^S))+D[10]+4294925233&4294967295,B=$+(U<<17&4294967295|U>>>15),U=S+(N^B&($^N))+D[11]+2304563134&4294967295,S=B+(U<<22&4294967295|U>>>10),U=N+($^S&(B^$))+D[12]+1804603682&4294967295,N=S+(U<<7&4294967295|U>>>25),U=$+(B^N&(S^B))+D[13]+4254626195&4294967295,$=N+(U<<12&4294967295|U>>>20),U=B+(S^$&(N^S))+D[14]+2792965006&4294967295,B=$+(U<<17&4294967295|U>>>15),U=S+(N^B&($^N))+D[15]+1236535329&4294967295,S=B+(U<<22&4294967295|U>>>10),U=N+(B^$&(S^B))+D[1]+4129170786&4294967295,N=S+(U<<5&4294967295|U>>>27),U=$+(S^B&(N^S))+D[6]+3225465664&4294967295,$=N+(U<<9&4294967295|U>>>23),U=B+(N^S&($^N))+D[11]+643717713&4294967295,B=$+(U<<14&4294967295|U>>>18),U=S+($^N&(B^$))+D[0]+3921069994&4294967295,S=B+(U<<20&4294967295|U>>>12),U=N+(B^$&(S^B))+D[5]+3593408605&4294967295,N=S+(U<<5&4294967295|U>>>27),U=$+(S^B&(N^S))+D[10]+38016083&4294967295,$=N+(U<<9&4294967295|U>>>23),U=B+(N^S&($^N))+D[15]+3634488961&4294967295,B=$+(U<<14&4294967295|U>>>18),U=S+($^N&(B^$))+D[4]+3889429448&4294967295,S=B+(U<<20&4294967295|U>>>12),U=N+(B^$&(S^B))+D[9]+568446438&4294967295,N=S+(U<<5&4294967295|U>>>27),U=$+(S^B&(N^S))+D[14]+3275163606&4294967295,$=N+(U<<9&4294967295|U>>>23),U=B+(N^S&($^N))+D[3]+4107603335&4294967295,B=$+(U<<14&4294967295|U>>>18),U=S+($^N&(B^$))+D[8]+1163531501&4294967295,S=B+(U<<20&4294967295|U>>>12),U=N+(B^$&(S^B))+D[13]+2850285829&4294967295,N=S+(U<<5&4294967295|U>>>27),U=$+(S^B&(N^S))+D[2]+4243563512&4294967295,$=N+(U<<9&4294967295|U>>>23),U=B+(N^S&($^N))+D[7]+1735328473&4294967295,B=$+(U<<14&4294967295|U>>>18),U=S+($^N&(B^$))+D[12]+2368359562&4294967295,S=B+(U<<20&4294967295|U>>>12),U=N+(S^B^$)+D[5]+4294588738&4294967295,N=S+(U<<4&4294967295|U>>>28),U=$+(N^S^B)+D[8]+2272392833&4294967295,$=N+(U<<11&4294967295|U>>>21),U=B+($^N^S)+D[11]+1839030562&4294967295,B=$+(U<<16&4294967295|U>>>16),U=S+(B^$^N)+D[14]+4259657740&4294967295,S=B+(U<<23&4294967295|U>>>9),U=N+(S^B^$)+D[1]+2763975236&4294967295,N=S+(U<<4&4294967295|U>>>28),U=$+(N^S^B)+D[4]+1272893353&4294967295,$=N+(U<<11&4294967295|U>>>21),U=B+($^N^S)+D[7]+4139469664&4294967295,B=$+(U<<16&4294967295|U>>>16),U=S+(B^$^N)+D[10]+3200236656&4294967295,S=B+(U<<23&4294967295|U>>>9),U=N+(S^B^$)+D[13]+681279174&4294967295,N=S+(U<<4&4294967295|U>>>28),U=$+(N^S^B)+D[0]+3936430074&4294967295,$=N+(U<<11&4294967295|U>>>21),U=B+($^N^S)+D[3]+3572445317&4294967295,B=$+(U<<16&4294967295|U>>>16),U=S+(B^$^N)+D[6]+76029189&4294967295,S=B+(U<<23&4294967295|U>>>9),U=N+(S^B^$)+D[9]+3654602809&4294967295,N=S+(U<<4&4294967295|U>>>28),U=$+(N^S^B)+D[12]+3873151461&4294967295,$=N+(U<<11&4294967295|U>>>21),U=B+($^N^S)+D[15]+530742520&4294967295,B=$+(U<<16&4294967295|U>>>16),U=S+(B^$^N)+D[2]+3299628645&4294967295,S=B+(U<<23&4294967295|U>>>9),U=N+(B^(S|~$))+D[0]+4096336452&4294967295,N=S+(U<<6&4294967295|U>>>26),U=$+(S^(N|~B))+D[7]+1126891415&4294967295,$=N+(U<<10&4294967295|U>>>22),U=B+(N^($|~S))+D[14]+2878612391&4294967295,B=$+(U<<15&4294967295|U>>>17),U=S+($^(B|~N))+D[5]+4237533241&4294967295,S=B+(U<<21&4294967295|U>>>11),U=N+(B^(S|~$))+D[12]+1700485571&4294967295,N=S+(U<<6&4294967295|U>>>26),U=$+(S^(N|~B))+D[3]+2399980690&4294967295,$=N+(U<<10&4294967295|U>>>22),U=B+(N^($|~S))+D[10]+4293915773&4294967295,B=$+(U<<15&4294967295|U>>>17),U=S+($^(B|~N))+D[1]+2240044497&4294967295,S=B+(U<<21&4294967295|U>>>11),U=N+(B^(S|~$))+D[8]+1873313359&4294967295,N=S+(U<<6&4294967295|U>>>26),U=$+(S^(N|~B))+D[15]+4264355552&4294967295,$=N+(U<<10&4294967295|U>>>22),U=B+(N^($|~S))+D[6]+2734768916&4294967295,B=$+(U<<15&4294967295|U>>>17),U=S+($^(B|~N))+D[13]+1309151649&4294967295,S=B+(U<<21&4294967295|U>>>11),U=N+(B^(S|~$))+D[4]+4149444226&4294967295,N=S+(U<<6&4294967295|U>>>26),U=$+(S^(N|~B))+D[11]+3174756917&4294967295,$=N+(U<<10&4294967295|U>>>22),U=B+(N^($|~S))+D[2]+718787259&4294967295,B=$+(U<<15&4294967295|U>>>17),U=S+($^(B|~N))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.u=function(P,N){N===void 0&&(N=P.length);for(var S=N-this.blockSize,D=this.B,B=this.h,$=0;$<N;){if(B==0)for(;$<=S;)i(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<N;)if(D[B++]=P.charCodeAt($++),B==this.blockSize){i(this,D),B=0;break}}else for(;$<N;)if(D[B++]=P[$++],B==this.blockSize){i(this,D),B=0;break}}this.h=B,this.o+=N},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;var S=8*this.o;for(N=P.length-8;N<P.length;++N)P[N]=S&255,S/=256;for(this.u(P),P=Array(16),N=S=0;4>N;++N)for(var D=0;32>D;D+=8)P[S++]=this.g[N]>>>D&255;return P};function o(P,N){var S=d;return Object.prototype.hasOwnProperty.call(S,P)?S[P]:S[P]=N(P)}function c(P,N){this.h=N;for(var S=[],D=!0,B=P.length-1;0<=B;B--){var $=P[B]|0;D&&$==N||(S[B]=$,D=!1)}this.g=S}var d={};function f(P){return-128<=P&&128>P?o(P,function(N){return new c([N|0],0>N?-1:0)}):new c([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return O(m(-P));for(var N=[],S=1,D=0;P>=S;D++)N[D]=P/S|0,S*=4294967296;return new c(N,0)}function x(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return O(x(P.substring(1),N));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=m(Math.pow(N,8)),D=v,B=0;B<P.length;B+=8){var $=Math.min(8,P.length-B),U=parseInt(P.substring(B,B+$),N);8>$?($=m(Math.pow(N,$)),D=D.j($).add(m(U))):(D=D.j(S),D=D.add(m(U)))}return D}var v=f(0),b=f(1),T=f(16777216);t=c.prototype,t.m=function(){if(j(this))return-O(this).m();for(var P=0,N=1,S=0;S<this.g.length;S++){var D=this.i(S);P+=(0<=D?D:4294967296+D)*N,N*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(j(this))return"-"+O(this).toString(P);for(var N=m(Math.pow(P,6)),S=this,D="";;){var B=q(S,N).g;S=M(S,B.j(N));var $=((0<S.g.length?S.g[0]:S.h)>>>0).toString(P);if(S=B,E(S))return $+D;for(;6>$.length;)$="0"+$;D=$+D}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(var N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function j(P){return P.h==-1}t.l=function(P){return P=M(this,P),j(P)?-1:E(P)?0:1};function O(P){for(var N=P.g.length,S=[],D=0;D<N;D++)S[D]=~P.g[D];return new c(S,~P.h).add(b)}t.abs=function(){return j(this)?O(this):this},t.add=function(P){for(var N=Math.max(this.g.length,P.g.length),S=[],D=0,B=0;B<=N;B++){var $=D+(this.i(B)&65535)+(P.i(B)&65535),U=($>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);D=U>>>16,$&=65535,U&=65535,S[B]=U<<16|$}return new c(S,S[S.length-1]&-2147483648?-1:0)};function M(P,N){return P.add(O(N))}t.j=function(P){if(E(this)||E(P))return v;if(j(this))return j(P)?O(this).j(O(P)):O(O(this).j(P));if(j(P))return O(this.j(O(P)));if(0>this.l(T)&&0>P.l(T))return m(this.m()*P.m());for(var N=this.g.length+P.g.length,S=[],D=0;D<2*N;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var B=0;B<P.g.length;B++){var $=this.i(D)>>>16,U=this.i(D)&65535,ye=P.i(B)>>>16,ke=P.i(B)&65535;S[2*D+2*B]+=U*ke,z(S,2*D+2*B),S[2*D+2*B+1]+=$*ke,z(S,2*D+2*B+1),S[2*D+2*B+1]+=U*ye,z(S,2*D+2*B+1),S[2*D+2*B+2]+=$*ye,z(S,2*D+2*B+2)}for(D=0;D<N;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=N;D<2*N;D++)S[D]=0;return new c(S,0)};function z(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function L(P,N){this.g=P,this.h=N}function q(P,N){if(E(N))throw Error("division by zero");if(E(P))return new L(v,v);if(j(P))return N=q(O(P),N),new L(O(N.g),O(N.h));if(j(N))return N=q(P,O(N)),new L(O(N.g),N.h);if(30<P.g.length){if(j(P)||j(N))throw Error("slowDivide_ only works with positive integers.");for(var S=b,D=N;0>=D.l(P);)S=V(S),D=V(D);var B=I(S,1),$=I(D,1);for(D=I(D,2),S=I(S,2);!E(D);){var U=$.add(D);0>=U.l(P)&&(B=B.add(S),$=U),D=I(D,1),S=I(S,1)}return N=M(P,B.j(N)),new L(B,N)}for(B=v;0<=P.l(N);){for(S=Math.max(1,Math.floor(P.m()/N.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),$=m(S),U=$.j(N);j(U)||0<U.l(P);)S-=D,$=m(S),U=$.j(N);E($)&&($=b),B=B.add($),P=M(P,U)}return new L(B,P)}t.A=function(P){return q(this,P).h},t.and=function(P){for(var N=Math.max(this.g.length,P.g.length),S=[],D=0;D<N;D++)S[D]=this.i(D)&P.i(D);return new c(S,this.h&P.h)},t.or=function(P){for(var N=Math.max(this.g.length,P.g.length),S=[],D=0;D<N;D++)S[D]=this.i(D)|P.i(D);return new c(S,this.h|P.h)},t.xor=function(P){for(var N=Math.max(this.g.length,P.g.length),S=[],D=0;D<N;D++)S[D]=this.i(D)^P.i(D);return new c(S,this.h^P.h)};function V(P){for(var N=P.g.length+1,S=[],D=0;D<N;D++)S[D]=P.i(D)<<1|P.i(D-1)>>>31;return new c(S,P.h)}function I(P,N){var S=N>>5;N%=32;for(var D=P.g.length-S,B=[],$=0;$<D;$++)B[$]=0<N?P.i($+S)>>>N|P.i($+S+1)<<32-N:P.i($+S);return new c(B,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AN=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=x,Ps=c}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CN,Bu,jN,zf,Ox,RN,PN,IN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,k){return p==Array.prototype||p==Object.prototype||(p[w]=k.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var w=0;w<p.length;++w){var k=p[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(p,w){if(w)e:{var k=r;p=p.split(".");for(var R=0;R<p.length-1;R++){var W=p[R];if(!(W in k))break e;k=k[W]}p=p[p.length-1],R=k[p],w=w(R),w!=R&&w!=null&&e(k,p,{configurable:!0,writable:!0,value:w})}}function o(p,w){p instanceof String&&(p+="");var k=0,R=!1,W={next:function(){if(!R&&k<p.length){var se=k++;return{value:w(se,p[se]),done:!1}}return R=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(p){return p||function(){return o(this,function(w,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function m(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function x(p,w,k){return p.call.apply(p.bind,arguments)}function v(p,w,k){if(!p)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,R),p.apply(w,W)}}return function(){return p.apply(w,arguments)}}function b(p,w,k){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:v,b.apply(null,arguments)}function T(p,w){var k=Array.prototype.slice.call(arguments,1);return function(){var R=k.slice();return R.push.apply(R,arguments),p.apply(this,R)}}function E(p,w){function k(){}k.prototype=w.prototype,p.aa=w.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(R,W,se){for(var be=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)be[pt-2]=arguments[pt];return w.prototype[W].apply(R,be)}}function j(p){const w=p.length;if(0<w){const k=Array(w);for(let R=0;R<w;R++)k[R]=p[R];return k}return[]}function O(p,w){for(let k=1;k<arguments.length;k++){const R=arguments[k];if(f(R)){const W=p.length||0,se=R.length||0;p.length=W+se;for(let be=0;be<se;be++)p[W+be]=R[be]}else p.push(R)}}class M{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function z(p){return/^[\s\xa0]*$/.test(p)}function L(){var p=d.navigator;return p&&(p=p.userAgent)?p:""}function q(p){return q[" "](p),p}q[" "]=function(){};var V=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function I(p,w,k){for(const R in p)w.call(k,p[R],R,p)}function P(p,w){for(const k in p)w.call(void 0,p[k],k,p)}function N(p){const w={};for(const k in p)w[k]=p[k];return w}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(p,w){let k,R;for(let W=1;W<arguments.length;W++){R=arguments[W];for(k in R)p[k]=R[k];for(let se=0;se<S.length;se++)k=S[se],Object.prototype.hasOwnProperty.call(R,k)&&(p[k]=R[k])}}function B(p){var w=1;p=p.split(":");const k=[];for(;0<w&&p.length;)k.push(p.shift()),w--;return p.length&&k.push(p.join(":")),k}function $(p){d.setTimeout(()=>{throw p},0)}function U(){var p=ve;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class ye{constructor(){this.h=this.g=null}add(w,k){const R=ke.get();R.set(w,k),this.h?this.h.next=R:this.g=R,this.h=R}}var ke=new M(()=>new Y,p=>p.reset());class Y{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,te=!1,ve=new ye,F=()=>{const p=d.Promise.resolve(void 0);ie=()=>{p.then(ne)}};var ne=()=>{for(var p;p=U();){try{p.h.call(p.g)}catch(k){$(k)}var w=ke;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}te=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};d.addEventListener("test",k,w),d.removeEventListener("test",k,w)}catch{}return p}();function Ie(p,w){if(oe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,R=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(V){e:{try{q(w.nodeName);var W=!0;break e}catch{}W=!1}W||(w=null)}}else k=="mouseover"?w=p.fromElement:k=="mouseout"&&(w=p.toElement);this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Pe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ie.aa.h.call(this)}}E(Ie,oe);var Pe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),le=0;function Qe(p,w,k,R,W){this.listener=p,this.proxy=null,this.src=w,this.type=k,this.capture=!!R,this.ha=W,this.key=++le,this.da=this.fa=!1}function we(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ue(p){this.src=p,this.g={},this.h=0}ue.prototype.add=function(p,w,k,R,W){var se=p.toString();p=this.g[se],p||(p=this.g[se]=[],this.h++);var be=et(p,w,R,W);return-1<be?(w=p[be],k||(w.fa=!1)):(w=new Qe(w,this.src,se,!!R,W),w.fa=k,p.push(w)),w};function Oe(p,w){var k=w.type;if(k in p.g){var R=p.g[k],W=Array.prototype.indexOf.call(R,w,void 0),se;(se=0<=W)&&Array.prototype.splice.call(R,W,1),se&&(we(w),p.g[k].length==0&&(delete p.g[k],p.h--))}}function et(p,w,k,R){for(var W=0;W<p.length;++W){var se=p[W];if(!se.da&&se.listener==w&&se.capture==!!k&&se.ha==R)return W}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),Dt={};function Bi(p,w,k,R,W){if(Array.isArray(w)){for(var se=0;se<w.length;se++)Bi(p,w[se],k,R,W);return null}return k=Gi(k),p&&p[At]?p.K(w,k,m(R)?!!R.capture:!1,W):An(p,w,k,!1,R,W)}function An(p,w,k,R,W,se){if(!w)throw Error("Invalid event type");var be=m(W)?!!W.capture:!!W,pt=Pr(p);if(pt||(p[Ct]=pt=new ue(p)),k=pt.add(w,k,R,be,se),k.proxy)return k;if(R=ia(),k.proxy=R,R.src=p,R.listener=k,p.addEventListener)Te||(W=be),W===void 0&&(W=!1),p.addEventListener(w.toString(),R,W);else if(p.attachEvent)p.attachEvent(Ja(w.toString()),R);else if(p.addListener&&p.removeListener)p.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return k}function ia(){function p(k){return w.call(p.src,p.listener,k)}const w=oa;return p}function sa(p,w,k,R,W){if(Array.isArray(w))for(var se=0;se<w.length;se++)sa(p,w[se],k,R,W);else R=m(R)?!!R.capture:!!R,k=Gi(k),p&&p[At]?(p=p.i,w=String(w).toString(),w in p.g&&(se=p.g[w],k=et(se,k,R,W),-1<k&&(we(se[k]),Array.prototype.splice.call(se,k,1),se.length==0&&(delete p.g[w],p.h--)))):p&&(p=Pr(p))&&(w=p.g[w.toString()],p=-1,w&&(p=et(w,k,R,W)),(k=-1<p?w[p]:null)&&qi(k))}function qi(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[At])Oe(w.i,p);else{var k=p.type,R=p.proxy;w.removeEventListener?w.removeEventListener(k,R,p.capture):w.detachEvent?w.detachEvent(Ja(k),R):w.addListener&&w.removeListener&&w.removeListener(R),(k=Pr(w))?(Oe(k,p),k.h==0&&(k.src=null,w[Ct]=null)):we(p)}}}function Ja(p){return p in Dt?Dt[p]:Dt[p]="on"+p}function oa(p,w){if(p.da)p=!0;else{w=new Ie(w,this);var k=p.listener,R=p.ha||p.src;p.fa&&qi(p),p=k.call(R,w)}return p}function Pr(p){return p=p[Ct],p instanceof ue?p:null}var Hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(p){return typeof p=="function"?p:(p[Hi]||(p[Hi]=function(w){return p.handleEvent(w)}),p[Hi])}function wt(){pe.call(this),this.i=new ue(this),this.M=this,this.F=null}E(wt,pe),wt.prototype[At]=!0,wt.prototype.removeEventListener=function(p,w,k,R){sa(this,p,w,k,R)};function tt(p,w){var k,R=p.F;if(R)for(k=[];R;R=R.F)k.push(R);if(p=p.M,R=w.type||w,typeof w=="string")w=new oe(w,p);else if(w instanceof oe)w.target=w.target||p;else{var W=w;w=new oe(R,p),D(w,W)}if(W=!0,k)for(var se=k.length-1;0<=se;se--){var be=w.g=k[se];W=Un(be,R,!0,w)&&W}if(be=w.g=p,W=Un(be,R,!0,w)&&W,W=Un(be,R,!1,w)&&W,k)for(se=0;se<k.length;se++)be=w.g=k[se],W=Un(be,R,!1,w)&&W}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var k=p.g[w],R=0;R<k.length;R++)we(k[R]);delete p.g[w],p.h--}}this.F=null},wt.prototype.K=function(p,w,k,R){return this.i.add(String(p),w,!1,k,R)},wt.prototype.L=function(p,w,k,R){return this.i.add(String(p),w,!0,k,R)};function Un(p,w,k,R){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var W=!0,se=0;se<w.length;++se){var be=w[se];if(be&&!be.da&&be.capture==k){var pt=be.listener,gn=be.ha||be.src;be.fa&&Oe(p.i,be),W=pt.call(gn,R)!==!1&&W}}return W&&!R.defaultPrevented}function on(p,w,k){if(typeof p=="function")k&&(p=b(p,k));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:d.setTimeout(p,w||0)}function tl(p){p.g=on(()=>{p.g=null,p.i&&(p.i=!1,tl(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class Ir extends pe{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:tl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(p){pe.call(this),this.h=p,this.g={}}E(Ta,pe);var ka=[];function _a(p){I(p.g,function(w,k){this.g.hasOwnProperty(k)&&qi(w)},p),p.g={}}Ta.prototype.N=function(){Ta.aa.N.call(this),_a(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=d.JSON.stringify,ei=d.JSON.parse,Dr=class{stringify(p){return d.JSON.stringify(p,void 0)}parse(p){return d.JSON.parse(p,void 0)}};function $i(){}$i.prototype.h=null;function ti(p){return p.h||(p.h=p.i())}function Zs(){}var Mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function la(){oe.call(this,"d")}E(la,oe);function Ki(){oe.call(this,"c")}E(Ki,oe);var Yn={},Ea=null;function Sa(){return Ea=Ea||new wt}Yn.La="serverreachability";function Yi(p){oe.call(this,Yn.La,p)}E(Yi,oe);function G(p){const w=Sa();tt(w,new Yi(w))}Yn.STAT_EVENT="statevent";function X(p,w){oe.call(this,Yn.STAT_EVENT,p),this.stat=w}E(X,oe);function J(p){const w=Sa();tt(w,new X(w,p))}Yn.Ma="timingevent";function he(p,w){oe.call(this,Yn.Ma,p),this.size=w}E(he,oe);function xe(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){p()},w)}function _e(){this.g=!0}_e.prototype.xa=function(){this.g=!1};function Ve(p,w,k,R,W,se){p.info(function(){if(p.g)if(se)for(var be="",pt=se.split("&"),gn=0;gn<pt.length;gn++){var gt=pt[gn].split("=");if(1<gt.length){var kn=gt[0];gt=gt[1];var xn=kn.split("_");be=2<=xn.length&&xn[1]=="type"?be+(kn+"="+gt+"&"):be+(kn+"=redacted&")}}else be=null;else be=se;return"XMLHTTP REQ ("+R+") [attempt "+W+"]: "+w+`
`+k+`
`+be})}function Ne(p,w,k,R,W,se,be){p.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+W+"]: "+w+`
`+k+`
`+se+" "+be})}function je(p,w,k,R){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ue(p,k)+(R?" "+R:"")})}function De(p,w){p.info(function(){return"TIMEOUT: "+w})}_e.prototype.info=function(){};function Ue(p,w){if(!p.g)return w;if(!w)return null;try{var k=JSON.parse(w);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var R=k[p];if(!(2>R.length)){var W=R[1];if(Array.isArray(W)&&!(1>W.length)){var se=W[0];if(se!="noop"&&se!="stop"&&se!="close")for(var be=1;be<W.length;be++)W[be]=""}}}}return pr(k)}catch{return w}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ot;function kt(){}E(kt,$i),kt.prototype.g=function(){return new XMLHttpRequest},kt.prototype.i=function(){return{}},ot=new kt;function vt(p,w,k,R){this.j=p,this.i=w,this.l=k,this.R=R||1,this.U=new Ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var at={},Or={};function pn(p,w,k){p.L=1,p.v=to(yr(w)),p.m=k,p.P=!0,Qn(p,null)}function Qn(p,w){p.F=Date.now(),gr(p),p.A=yr(p.v);var k=p.A,R=p.R;Array.isArray(R)||(R=[String(R)]),Dc(k.i,"t",R),p.C=0,k=p.j.J,p.h=new ft,p.g=ch(p.j,k?w:null,!p.m),0<p.O&&(p.M=new Ir(b(p.Y,p,p.g),p.O)),w=p.U,k=p.g,R=p.ca;var W="readystatechange";Array.isArray(W)||(W&&(ka[0]=W.toString()),W=ka);for(var se=0;se<W.length;se++){var be=Bi(k,W[se],R||w.handleEvent,!1,w.h||w);if(!be)break;w.g[be.key]=be}w=p.H?N(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),G(),Ve(p.i,p.u,p.A,p.l,p.R,p.m)}vt.prototype.ca=function(p){p=p.target;const w=this.M;w&&Fr(p)==3?w.j():this.Y(p)},vt.prototype.Y=function(p){try{if(p==this.g)e:{const xn=Fr(this.g);var w=this.g.Ba();const ci=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||th(this.g)))){this.J||xn!=4||w==7||(w==8||0>=ci?G(3):G(2)),zn(this);var k=this.g.Z();this.X=k;t:if(Cn(this)){var R=th(this.g);p="";var W=R.length,se=Fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),Xn(this);var be="";break t}this.h.i=new d.TextDecoder}for(w=0;w<W;w++)this.h.h=!0,p+=this.h.i.decode(R[w],{stream:!(se&&w==W-1)});R.length=0,this.h.g+=p,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=k==200,Ne(this.i,this.u,this.A,this.l,this.R,xn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,gn=this.g;if((pt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(pt)){var gt=pt;break t}}gt=null}if(k=gt)je(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,k);else{this.o=!1,this.s=3,J(12),Ke(this),Xn(this);break e}}if(this.P){k=!0;let Rn;for(;!this.J&&this.C<be.length;)if(Rn=Na(this,be),Rn==Or){xn==4&&(this.s=4,J(14),k=!1),je(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==at){this.s=4,J(15),je(this.i,this.l,be,"[Invalid Chunk]"),k=!1;break}else je(this.i,this.l,Rn,null),ln(this,Rn);if(Cn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||be.length!=0||this.h.h||(this.s=1,J(16),k=!1),this.o=this.o&&k,!k)je(this.i,this.l,be,"[Invalid Chunked Response]"),Ke(this),Xn(this);else if(0<be.length&&!this.W){this.W=!0;var kn=this.j;kn.g==this&&kn.ba&&!kn.M&&(kn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),co(kn),kn.M=!0,J(11))}}else je(this.i,this.l,be,null),ln(this,be);xn==4&&Ke(this),this.o&&!this.J&&(xn==4?sh(this.j,this):(this.o=!1,gr(this)))}else xp(this.g),k==400&&0<be.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),Ke(this),Xn(this)}}}catch{}finally{}};function Cn(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Na(p,w){var k=p.C,R=w.indexOf(`
`,k);return R==-1?Or:(k=Number(w.substring(k,R)),isNaN(k)?at:(R+=1,R+k>w.length?Or:(w=w.slice(R,R+k),p.C=R+k,w)))}vt.prototype.cancel=function(){this.J=!0,Ke(this)};function gr(p){p.S=Date.now()+p.I,Qi(p,p.I)}function Qi(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=xe(b(p.ba,p),w)}function zn(p){p.B&&(d.clearTimeout(p.B),p.B=null)}vt.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(De(this.i,this.A),this.L!=2&&(G(),J(17)),Ke(this),this.s=2,Xn(this)):Qi(this,this.S-p)};function Xn(p){p.j.G==0||p.J||sh(p.j,p)}function Ke(p){zn(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,_a(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function ln(p,w){try{var k=p.j;if(k.G!=0&&(k.g==p||Lr(k.h,p))){if(!p.K&&Lr(k.h,p)&&k.G==3){try{var R=k.Da.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var W=R;if(W[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)ul(k),ll(k);else break e;Uc(k),J(18)}}else k.za=W[1],0<k.za-k.T&&37500>W[2]&&k.F&&k.v==0&&!k.C&&(k.C=xe(b(k.Za,k),6e3));if(1>=Mt(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else li(k,11)}else if((p.K||k.g==p)&&ul(k),!z(w))for(W=k.Da.g.parse(w),w=0;w<W.length;w++){let gt=W[w];if(k.T=gt[0],gt=gt[1],k.G==2)if(gt[0]=="c"){k.K=gt[1],k.ia=gt[2];const kn=gt[3];kn!=null&&(k.la=kn,k.j.info("VER="+k.la));const xn=gt[4];xn!=null&&(k.Aa=xn,k.j.info("SVER="+k.Aa));const ci=gt[5];ci!=null&&typeof ci=="number"&&0<ci&&(R=1.5*ci,k.L=R,k.j.info("backChannelRequestTimeoutMs_="+R)),R=k;const Rn=p.g;if(Rn){const Ma=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ma){var se=R.h;se.g||Ma.indexOf("spdy")==-1&&Ma.indexOf("quic")==-1&&Ma.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(ni(se,se.h),se.h=null))}if(R.D){const Fc=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fc&&(R.ya=Fc,jt(R.I,R.D,Fc))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),R=k;var be=p;if(R.qa=lh(R,R.J?R.ia:null,R.W),be.K){jn(R.h,be);var pt=be,gn=R.L;gn&&(pt.I=gn),pt.B&&(zn(pt),gr(pt)),R.g=be}else ah(R);0<k.i.length&&cl(k)}else gt[0]!="stop"&&gt[0]!="close"||li(k,7);else k.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?li(k,7):Lc(k):gt[0]!="noop"&&k.l&&k.l.ta(gt),k.v=0)}}G(4)}catch{}}var xr=class{constructor(p,w){this.g=p,this.map=w}};function ar(p){this.l=p||10,d.PerformanceNavigationTiming?(p=d.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aa(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Mt(p){return p.h?1:p.g?p.g.size:0}function Lr(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function ni(p,w){p.g?p.g.add(w):p.h=w}function jn(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}ar.prototype.cancel=function(){if(this.i=jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function jc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const k of p.g.values())w=w.concat(k.D);return w}return j(p.i)}function fp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var w=[],k=p.length,R=0;R<k;R++)w.push(p[R]);return w}w=[],k=0;for(R in p)w[k++]=p[R];return w}function nl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var w=[];p=p.length;for(var k=0;k<p;k++)w.push(k);return w}w=[],k=0;for(const R in p)w[k++]=R;return w}}}function Rc(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var k=nl(p),R=fp(p),W=R.length,se=0;se<W;se++)w.call(void 0,R[se],k&&k[se],p)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(p,w){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var R=p[k].indexOf("="),W=null;if(0<=R){var se=p[k].substring(0,R);W=p[k].substring(R+1)}else se=p[k];w(se,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function cn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof cn){this.h=p.h,eo(this,p.j),this.o=p.o,this.g=p.g,Xi(this,p.s),this.l=p.l;var w=p.i,k=new ai;k.i=w.i,w.g&&(k.g=new Map(w.g),k.h=w.h),ri(this,k),this.m=p.m}else p&&(w=String(p).match(Js))?(this.h=!1,eo(this,w[1]||"",!0),this.o=Vr(w[2]||""),this.g=Vr(w[3]||"",!0),Xi(this,w[4]),this.l=Vr(w[5]||"",!0),ri(this,w[6]||"",!0),this.m=Vr(w[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}cn.prototype.toString=function(){var p=[],w=this.j;w&&p.push(no(w,Pc,!0),":");var k=this.g;return(k||w=="file")&&(p.push("//"),(w=this.o)&&p.push(no(w,Pc,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(no(k,k.charAt(0)=="/"?pp:Ic,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",no(k,rl)),p.join("")};function yr(p){return new cn(p)}function eo(p,w,k){p.j=k?Vr(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Xi(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function ri(p,w,k){w instanceof ai?(p.i=w,Jd(p.i,p.h)):(k||(w=no(w,gp)),p.i=new ai(w,p.h))}function jt(p,w,k){p.i.set(w,k)}function to(p){return jt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Vr(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function no(p,w,k){return typeof p=="string"?(p=encodeURI(p).replace(w,Zd),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Zd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Pc=/[#\/\?@]/g,Ic=/[#\?:]/g,pp=/[#\?]/g,gp=/[#\?@]/g,rl=/#/g;function ai(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Ur(p){p.g||(p.g=new Map,p.h=0,p.i&&mp(p.i,function(w,k){p.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}t=ai.prototype,t.add=function(p,w){Ur(this),this.i=null,p=Ca(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(w),this.h+=1,this};function ii(p,w){Ur(p),w=Ca(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function si(p,w){return Ur(p),w=Ca(p,w),p.g.has(w)}t.forEach=function(p,w){Ur(this),this.g.forEach(function(k,R){k.forEach(function(W){p.call(w,W,R,this)},this)},this)},t.na=function(){Ur(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),k=[];for(let R=0;R<w.length;R++){const W=p[R];for(let se=0;se<W.length;se++)k.push(w[R])}return k},t.V=function(p){Ur(this);let w=[];if(typeof p=="string")si(this,p)&&(w=w.concat(this.g.get(Ca(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)w=w.concat(p[k])}return w},t.set=function(p,w){return Ur(this),this.i=null,p=Ca(this,p),si(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function Dc(p,w,k){ii(p,w),0<k.length&&(p.i=null,p.g.set(Ca(p,w),j(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var k=0;k<w.length;k++){var R=w[k];const se=encodeURIComponent(String(R)),be=this.V(R);for(R=0;R<be.length;R++){var W=se;be[R]!==""&&(W+="="+encodeURIComponent(String(be[R]))),p.push(W)}}return this.i=p.join("&")};function Ca(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Jd(p,w){w&&!p.j&&(Ur(p),p.i=null,p.g.forEach(function(k,R){var W=R.toLowerCase();R!=W&&(ii(this,R),Dc(this,W,k))},p)),p.j=w}function ro(p,w){const k=new _e;if(d.Image){const R=new Image;R.onload=T(zr,k,"TestLoadImage: loaded",!0,w,R),R.onerror=T(zr,k,"TestLoadImage: error",!1,w,R),R.onabort=T(zr,k,"TestLoadImage: abort",!1,w,R),R.ontimeout=T(zr,k,"TestLoadImage: timeout",!1,w,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=p}else w(!1)}function ca(p,w){const k=new _e,R=new AbortController,W=setTimeout(()=>{R.abort(),zr(k,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:R.signal}).then(se=>{clearTimeout(W),se.ok?zr(k,"TestPingServer: ok",!0,w):zr(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),zr(k,"TestPingServer: error",!1,w)})}function zr(p,w,k,R,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),R(k)}catch{}}function ao(){this.g=new Dr}function ja(p,w,k){const R=k||"";try{Rc(p,function(W,se){let be=W;m(W)&&(be=pr(W)),w.push(R+se+"="+encodeURIComponent(be))})}catch(W){throw w.push(R+"type="+encodeURIComponent("_badmap")),W}}function Wi(p){this.l=p.Ub||null,this.j=p.eb||!1}E(Wi,$i),Wi.prototype.g=function(){return new oi(this.l,this.j)},Wi.prototype.i=function(p){return function(){return p}}({});function oi(p,w){wt.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(oi,wt),t=oi.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,Pa(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||d).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ra(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?Ra(this):Pa(this),this.readyState==3&&Mc(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Ra(this))},t.Qa=function(p){this.g&&(this.response=p,Ra(this))},t.ga=function(){this.g&&Ra(this)};function Ra(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Pa(p)}t.setRequestHeader=function(p,w){this.u.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=w.next();return p.join(`\r
`)};function Pa(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Oc(p){let w="";return I(p,function(k,R){w+=R,w+=":",w+=k,w+=`\r
`}),w}function Tn(p,w,k){e:{for(R in k){var R=!1;break e}R=!0}R||(k=Oc(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):jt(p,w,k))}function _t(p){wt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(_t,wt);var al=/^https?$/i,io=["POST","PUT"];t=_t.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,w,k,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ot.g(),this.v=this.o?ti(this.o):ti(ot),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(se){eh(this,se);return}if(p=k||"",k=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var W in R)k.set(W,R[W]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const se of R.keys())k.set(se,R.get(se));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(k.keys()).find(se=>se.toLowerCase()=="content-type"),W=d.FormData&&p instanceof d.FormData,!(0<=Array.prototype.indexOf.call(io,w,void 0))||R||W||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,be]of k)this.g.setRequestHeader(se,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{so(this),this.u=!0,this.g.send(p),this.u=!1}catch(se){eh(this,se)}};function eh(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,il(p),Ia(p)}function il(p){p.A||(p.A=!0,tt(p,"complete"),tt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,tt(this,"complete"),tt(this,"abort"),Ia(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ia(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sl(this):this.bb())},t.bb=function(){sl(this)};function sl(p){if(p.h&&typeof c<"u"&&(!p.v[1]||Fr(p)!=4||p.Z()!=2)){if(p.u&&Fr(p)==4)on(p.Ea,0,p);else if(tt(p,"readystatechange"),Fr(p)==4){p.h=!1;try{const be=p.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var R;if(R=be===0){var W=String(p.D).match(Js)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),R=!al.test(W?W.toLowerCase():"")}k=R}if(k)tt(p,"complete"),tt(p,"success");else{p.m=6;try{var se=2<Fr(p)?p.g.statusText:""}catch{se=""}p.l=se+" ["+p.Z()+"]",il(p)}}finally{Ia(p)}}}}function Ia(p,w){if(p.g){so(p);const k=p.g,R=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||tt(p,"ready");try{k.onreadystatechange=R}catch{}}}function so(p){p.I&&(d.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Fr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),ei(w)}};function th(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function xp(p){const w={};p=(p.g&&2<=Fr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<p.length;R++){if(z(p[R]))continue;var k=B(p[R]);const W=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const se=w[W]||[];w[W]=se,se.push(k)}P(w,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oo(p,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||w}function ol(p){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oo("baseRetryDelayMs",5e3,p),this.cb=oo("retryDelaySeedMs",1e4,p),this.Wa=oo("forwardChannelMaxRetries",2,p),this.wa=oo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ar(p&&p.concurrentRequestLimit),this.Da=new ao,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ol.prototype,t.la=8,t.G=1,t.connect=function(p,w,k,R){J(0),this.W=p,this.H=w||{},k&&R!==void 0&&(this.H.OSID=k,this.H.OAID=R),this.F=this.X,this.I=lh(this,null,this.W),cl(this)};function Lc(p){if(nh(p),p.G==3){var w=p.U++,k=yr(p.I);if(jt(k,"SID",p.K),jt(k,"RID",w),jt(k,"TYPE","terminate"),lo(p,k),w=new vt(p,p.j,w),w.L=2,w.v=to(yr(k)),k=!1,d.navigator&&d.navigator.sendBeacon)try{k=d.navigator.sendBeacon(w.v.toString(),"")}catch{}!k&&d.Image&&(new Image().src=w.v,k=!0),k||(w.g=ch(w.j,null),w.g.ea(w.v)),w.F=Date.now(),gr(w)}oh(p)}function ll(p){p.g&&(co(p),p.g.cancel(),p.g=null)}function nh(p){ll(p),p.u&&(d.clearTimeout(p.u),p.u=null),ul(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&d.clearTimeout(p.s),p.s=null)}function cl(p){if(!Aa(p.h)&&!p.s){p.s=!0;var w=p.Ga;ie||F(),te||(ie(),te=!0),ve.add(w,p),p.B=0}}function yp(p,w){return Mt(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=xe(b(p.Ga,p,w),zc(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const W=new vt(this,this.j,p);let se=this.o;if(this.S&&(se?(se=N(se),D(se,this.S)):se=this.S),this.m!==null||this.O||(W.H=se,se=null),this.P)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var R=this.i[k];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,4096<w){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=rh(this,W,w),k=yr(this.I),jt(k,"RID",p),jt(k,"CVER",22),this.D&&jt(k,"X-HTTP-Session-Id",this.D),lo(this,k),se&&(this.O?w="headers="+encodeURIComponent(String(Oc(se)))+"&"+w:this.m&&Tn(k,this.m,se)),ni(this.h,W),this.Ua&&jt(k,"TYPE","init"),this.P?(jt(k,"$req",w),jt(k,"SID","null"),W.T=!0,pn(W,k,null)):pn(W,k,w),this.G=2}}else this.G==3&&(p?Vc(this,p):this.i.length==0||Aa(this.h)||Vc(this))};function Vc(p,w){var k;w?k=w.l:k=p.U++;const R=yr(p.I);jt(R,"SID",p.K),jt(R,"RID",k),jt(R,"AID",p.T),lo(p,R),p.m&&p.o&&Tn(R,p.m,p.o),k=new vt(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),w&&(p.i=w.D.concat(p.i)),w=rh(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ni(p.h,k),pn(k,R,w)}function lo(p,w){p.H&&I(p.H,function(k,R){jt(w,R,k)}),p.l&&Rc({},function(k,R){jt(w,R,k)})}function rh(p,w,k){k=Math.min(p.i.length,k);var R=p.l?b(p.l.Na,p.l,p):null;e:{var W=p.i;let se=-1;for(;;){const be=["count="+k];se==-1?0<k?(se=W[0].g,be.push("ofs="+se)):se=0:be.push("ofs="+se);let pt=!0;for(let gn=0;gn<k;gn++){let gt=W[gn].g;const kn=W[gn].map;if(gt-=se,0>gt)se=Math.max(0,W[gn].g-100),pt=!1;else try{ja(kn,be,"req"+gt+"_")}catch{R&&R(kn)}}if(pt){R=be.join("&");break e}}}return p=p.i.splice(0,k),w.D=p,R}function ah(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;ie||F(),te||(ie(),te=!0),ve.add(w,p),p.v=0}}function Uc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=xe(b(p.Fa,p),zc(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=xe(b(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),ll(this),ih(this))};function co(p){p.A!=null&&(d.clearTimeout(p.A),p.A=null)}function ih(p){p.g=new vt(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=yr(p.qa);jt(w,"RID","rpc"),jt(w,"SID",p.K),jt(w,"AID",p.T),jt(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&jt(w,"TO",p.ja),jt(w,"TYPE","xmlhttp"),lo(p,w),p.m&&p.o&&Tn(w,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=to(yr(w)),k.m=null,k.P=!0,Qn(k,p)}t.Za=function(){this.C!=null&&(this.C=null,ll(this),Uc(this),J(19))};function ul(p){p.C!=null&&(d.clearTimeout(p.C),p.C=null)}function sh(p,w){var k=null;if(p.g==w){ul(p),co(p),p.g=null;var R=2}else if(Lr(p.h,w))k=w.D,jn(p.h,w),R=1;else return;if(p.G!=0){if(w.o)if(R==1){k=w.m?w.m.length:0,w=Date.now()-w.F;var W=p.B;R=Sa(),tt(R,new he(R,k)),cl(p)}else ah(p);else if(W=w.s,W==3||W==0&&0<w.X||!(R==1&&yp(p,w)||R==2&&Uc(p)))switch(k&&0<k.length&&(w=p.h,w.i=w.i.concat(k)),W){case 1:li(p,5);break;case 4:li(p,10);break;case 3:li(p,6);break;default:li(p,2)}}}function zc(p,w){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*w}function li(p,w){if(p.j.info("Error code "+w),w==2){var k=b(p.fb,p),R=p.Xa;const W=!R;R=new cn(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||eo(R,"https"),to(R),W?ro(R.toString(),k):ca(R.toString(),k)}else J(2);p.G=0,p.l&&p.l.sa(w),oh(p),nh(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function oh(p){if(p.G=0,p.ka=[],p.l){const w=jc(p.h);(w.length!=0||p.i.length!=0)&&(O(p.ka,w),O(p.ka,p.i),p.h.i.length=0,j(p.i),p.i.length=0),p.l.ra()}}function lh(p,w,k){var R=k instanceof cn?yr(k):new cn(k);if(R.g!="")w&&(R.g=w+"."+R.g),Xi(R,R.s);else{var W=d.location;R=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;var se=new cn(null);R&&eo(se,R),w&&(se.g=w),W&&Xi(se,W),k&&(se.l=k),R=se}return k=p.D,w=p.ya,k&&w&&jt(R,k,w),jt(R,"VER",p.la),lo(p,R),R}function ch(p,w,k){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new _t(new Wi({eb:k})):new _t(p.pa),w.Ha(p.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}t=uh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function dl(){}dl.prototype.g=function(p,w){return new Wn(p,w)};function Wn(p,w){wt.call(this),this.g=new ol(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!z(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!z(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new Da(this)}E(Wn,wt),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){Lc(this.g)},Wn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=pr(p),p=k);w.i.push(new xr(w.Ya++,p)),w.G==3&&cl(w)},Wn.prototype.N=function(){this.g.l=null,delete this.j,Lc(this.g),delete this.g,Wn.aa.N.call(this)};function dh(p){la.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const k in w){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}E(dh,la);function hh(){Ki.call(this),this.status=1}E(hh,Ki);function Da(p){this.g=p}E(Da,uh),Da.prototype.ua=function(){tt(this.g,"a")},Da.prototype.ta=function(p){tt(this.g,new dh(p))},Da.prototype.sa=function(p){tt(this.g,new hh)},Da.prototype.ra=function(){tt(this.g,"b")},dl.prototype.createWebChannel=dl.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,IN=function(){return new dl},PN=function(){return Sa()},RN=Yn,Ox={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,zf=Re,Fe.COMPLETE="complete",jN=Fe,Zs.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Bu=Zs,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,CN=_t}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const r_="@firebase/firestore",a_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Vm("@firebase/firestore");function Hl(){return Bo.logLevel}function Ee(t,...e){if(Bo.logLevel<=ut.DEBUG){const n=e.map(lv);Bo.debug(`Firestore (${kc}): ${t}`,...n)}}function Mi(t,...e){if(Bo.logLevel<=ut.ERROR){const n=e.map(lv);Bo.error(`Firestore (${kc}): ${t}`,...n)}}function lc(t,...e){if(Bo.logLevel<=ut.WARN){const n=e.map(lv);Bo.warn(`Firestore (${kc}): ${t}`,...n)}}function lv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,DN(t,r,n)}function DN(t,e,n){let r=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mi(r),new Error(r)}function Et(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||DN(e,i,r)}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends aa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hn.UNAUTHENTICATED))}shutdown(){}}class GV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $V{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ci,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},d=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ci)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new MN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class KV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new KV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new i_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new i_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=XV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function rt(t,e){return t<e?-1:t>e?1:0}function Lx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return rt(r,i);{const o=ON(),c=WV(o.encode(s_(t,n)),o.encode(s_(e,n)));return c!==0?c:rt(r,i)}}n+=r>65535?2:1}return rt(t.length,e.length)}function s_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function WV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return rt(t[n],e[n]);return rt(t.length,e.length)}function cc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-62135596800,l_=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*l_);return new Ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<o_)throw new Se(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l_}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-o_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Ft(0,0))}static max(){return new Xe(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="__name__";class Fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Fa.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return rt(e.length,n.length)}static compareSegments(e,n){const r=Fa.isNumericId(e),i=Fa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fa.extractNumericId(e).compare(Fa.extractNumericId(n)):Lx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ps.fromString(e.substring(4,e.length-2))}}class Ut extends Fa{construct(e,n,r){return new Ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ut(n)}static emptyPath(){return new Ut([])}}const ZV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends Fa{construct(e,n,r){return new Ln(e,n,r)}static isValidIdentifier(e){return ZV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c_}static keyField(){return new Ln([c_])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Se(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Se(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(o(),i++)}if(o(),c)throw new Se(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Ut.fromString(e))}static fromName(e){return new Le(Ut.fromString(e).popFirst(5))}static empty(){return new Le(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=-1;function JV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new Ls(i,Le.empty(),e)}function e7(t){return new Ls(t.readTime,t.key,kd)}class Ls{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ls(Xe.min(),Le.empty(),kd)}static max(){return new Ls(Xe.max(),Le.empty(),kd)}}function t7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==n7)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,r)=>{n(e)})}static reject(e){return new ge((n,r)=>{r(e)})}static waitFor(e){return new ge((n,r)=>{let i=0,o=0,c=!1;e.forEach(d=>{++i,d.next(()=>{++o,c&&o===i&&n()},f=>r(f))}),c=!0,o===i&&n()})}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next(i=>i?ge.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ge((r,i)=>{const o=e.length,c=new Array(o);let d=0;for(let f=0;f<o;f++){const m=f;n(e[m]).next(x=>{c[m]=x,++d,d===o&&r(c)},x=>i(x))}})}static doWhile(e,n){return new ge((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function a7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}qm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-1;function Hm(t){return t==null}function fm(t){return t===0&&1/t==-1/0}function i7(t){return typeof t=="number"&&Number.isInteger(t)&&!fm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="";function s7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=u_(e)),e=o7(t.get(n),e);return u_(e)}function o7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case VN:n+="";break;default:n+=o}}return n}function u_(t){return t+VN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kf(this.root,e,this.comparator,!0)}}class kf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??On.RED,this.left=i??On.EMPTY,this.right=o??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new On(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return On.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h_(this.data.getIterator())}getIteratorFrom(e){return new h_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class h_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new wn(Ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zN("Invalid base64 string: "+o):o}}(e);return new Vn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o}(e);return new Vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const l7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=l7.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?Vn.fromBase64String(t):Vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="server_timestamp",BN="__type__",qN="__previous_value__",HN="__local_write_time__";function uv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[BN])===null||n===void 0?void 0:n.stringValue)===FN}function Gm(t){const e=t.mapValue.fields[qN];return uv(e)?Gm(e):e}function _d(t){const e=Vs(t.mapValue.fields[HN].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,n,r,i,o,c,d,f,m,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=x}}const mm="(default)";class Ed{constructor(e,n){this.projectId=e,this.database=n||mm}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database===mm}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="__type__",u7="__max__",_f={mapValue:{}},$N="__vector__",pm="value";function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uv(t)?4:h7(t)?9007199254740991:d7(t)?10:11:He(28295,{value:t})}function Za(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _d(t).isEqual(_d(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=Vs(i.timestampValue),d=Vs(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Us(i.bytesValue).isEqual(Us(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return sn(i.geoPointValue.latitude)===sn(o.geoPointValue.latitude)&&sn(i.geoPointValue.longitude)===sn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return sn(i.integerValue)===sn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=sn(i.doubleValue),d=sn(o.doubleValue);return c===d?fm(c)===fm(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return cc(t.arrayValue.values||[],e.arrayValue.values||[],Za);case 10:case 11:return function(i,o){const c=i.mapValue.fields||{},d=o.mapValue.fields||{};if(d_(c)!==d_(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Za(c[f],d[f])))return!1;return!0}(t,e);default:return He(52216,{left:t})}}function Sd(t,e){return(t.values||[]).find(n=>Za(n,e))!==void 0}function uc(t,e){if(t===e)return 0;const n=zs(t),r=zs(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=sn(o.integerValue||o.doubleValue),f=sn(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return f_(t.timestampValue,e.timestampValue);case 4:return f_(_d(t),_d(e));case 5:return Lx(t.stringValue,e.stringValue);case 6:return function(o,c){const d=Us(o),f=Us(c);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const x=rt(d[m],f[m]);if(x!==0)return x}return rt(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=rt(sn(o.latitude),sn(c.latitude));return d!==0?d:rt(sn(o.longitude),sn(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return m_(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,f,m,x;const v=o.fields||{},b=c.fields||{},T=(d=v[pm])===null||d===void 0?void 0:d.arrayValue,E=(f=b[pm])===null||f===void 0?void 0:f.arrayValue,j=rt(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((x=E==null?void 0:E.values)===null||x===void 0?void 0:x.length)||0);return j!==0?j:m_(T,E)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===_f.mapValue&&c===_f.mapValue)return 0;if(o===_f.mapValue)return 1;if(c===_f.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),m=c.fields||{},x=Object.keys(m);f.sort(),x.sort();for(let v=0;v<f.length&&v<x.length;++v){const b=Lx(f[v],x[v]);if(b!==0)return b;const T=uc(d[f[v]],m[x[v]]);if(T!==0)return T}return rt(f.length,x.length)}(t.mapValue,e.mapValue);default:throw He(23264,{Pe:n})}}function f_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=Vs(t),r=Vs(e),i=rt(n.seconds,r.seconds);return i!==0?i:rt(n.nanos,r.nanos)}function m_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=uc(n[i],r[i]);if(o)return o}return rt(n.length,r.length)}function dc(t){return Vx(t)}function Vx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Vx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${Vx(n.fields[c])}`;return i+"}"}(t.mapValue):He(61005,{value:t})}function Ff(t){switch(zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gm(t);return e?16+Ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Us(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ff(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Xs(r.fields,(o,c)=>{i+=o.length+Ff(c)}),i}(t.mapValue);default:throw He(13486,{value:t})}}function p_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ux(t){return!!t&&"integerValue"in t}function dv(t){return!!t&&"arrayValue"in t}function g_(t){return!!t&&"nullValue"in t}function x_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bf(t){return!!t&&"mapValue"in t}function d7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GN])===null||n===void 0?void 0:n.stringValue)===$N}function ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ed(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ed(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===u7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(n)}setAll(e){let n=Ln.emptyPath(),r={},i=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=ed(c):i.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Za(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ur(ed(this.value))}}function KN(t){const e=[];return Xs(t.fields,(n,r)=>{const i=new Ln([n]);if(Bf(r)){const o=KN(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,i,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Gn(e,0,Xe.min(),Xe.min(),Xe.min(),ur.empty(),0)}static newFoundDocument(e,n,r,i){return new Gn(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new Gn(e,2,n,Xe.min(),Xe.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,Xe.min(),Xe.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.position=e,this.inclusive=n}}function y_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(c.referenceValue),n.key):r=uc(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function v_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Za(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function f7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{}class mn extends YN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p7(e,n,r):n==="array-contains"?new y7(e,r):n==="in"?new v7(e,r):n==="not-in"?new b7(e,r):n==="array-contains-any"?new w7(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new g7(e,r):new x7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uc(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(uc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class va extends YN{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new va(e,n)}matches(e){return QN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function QN(t){return t.op==="and"}function XN(t){return m7(t)&&QN(t)}function m7(t){for(const e of t.filters)if(e instanceof va)return!1;return!0}function zx(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+dc(t.value);if(XN(t))return t.filters.map(e=>zx(e)).join(",");{const e=t.filters.map(n=>zx(n)).join(",");return`${t.op}(${e})`}}function WN(t,e){return t instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&Za(r.value,i.value)}(t,e):t instanceof va?function(r,i){return i instanceof va&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,c,d)=>o&&WN(c,i.filters[d]),!0):!1}(t,e):void He(19439)}function ZN(t){return t instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${dc(n.value)}`}(t):t instanceof va?function(n){return n.op.toString()+" {"+n.getFilters().map(ZN).join(" ,")+"}"}(t):"Filter"}class p7 extends mn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class g7 extends mn{constructor(e,n){super(e,"in",n),this.keys=JN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x7 extends mn{constructor(e,n){super(e,"not-in",n),this.keys=JN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Le.fromName(r.referenceValue))}class y7 extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dv(n)&&Sd(n.arrayValue,this.value)}}class v7 extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sd(this.value.arrayValue,n)}}class b7 extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sd(this.value.arrayValue,n)}}class w7 extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n=null,r=[],i=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=d,this.Ie=null}}function b_(t,e=null,n=[],r=[],i=null,o=null,c=null){return new T7(t,e,n,r,i,o,c)}function hv(t){const e=Ze(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dc(r)).join(",")),e.Ie=n}return e.Ie}function fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v_(t.startAt,e.startAt)&&v_(t.endAt,e.endAt)}function Fx(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n=null,r=[],i=[],o=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function k7(t,e,n,r,i,o,c,d){return new Sc(t,e,n,r,i,o,c,d)}function mv(t){return new Sc(t)}function w_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eA(t){return t.collectionGroup!==null}function td(t){const e=Ze(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new wn(Ln.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Nd(o,r))}),n.has(Ln.keyField().canonicalString())||e.Ee.push(new Nd(Ln.keyField(),r))}return e.Ee}function Xa(t){const e=Ze(t);return e.de||(e.de=_7(e,td(t))),e.de}function _7(t,e){if(t.limitType==="F")return b_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Nd(i.field,o)});const n=t.endAt?new gm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gm(t.startAt.position,t.startAt.inclusive):null;return b_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bx(t,e){const n=t.filters.concat([e]);return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qx(t,e,n){return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $m(t,e){return fv(Xa(t),Xa(e))&&t.limitType===e.limitType}function tA(t){return`${hv(Xa(t))}|lt:${t.limitType}`}function Gl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZN(i)).join(", ")}]`),Hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dc(i)).join(",")),`Target(${r})`}(Xa(t))}; limitType=${t.limitType})`}function Km(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of td(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(c,d,f){const m=y_(c,d,f);return c.inclusive?m<=0:m<0}(r.startAt,td(r),i)||r.endAt&&!function(c,d,f){const m=y_(c,d,f);return c.inclusive?m>=0:m>0}(r.endAt,td(r),i))}(t,e)}function E7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nA(t){return(e,n)=>{let r=!1;for(const i of td(t)){const o=S7(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function S7(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):function(o,c,d){const f=c.data.field(o),m=d.data.field(o);return f!==null&&m!==null?uc(f,m):He(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return UN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=new Yt(Le.comparator);function Oi(){return N7}const rA=new Yt(Le.comparator);function qu(...t){let e=rA;for(const n of t)e=e.insert(n.key,n);return e}function aA(t){let e=rA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Do(){return nd()}function iA(){return nd()}function nd(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const A7=new Yt(Le.comparator),C7=new wn(Le.comparator);function dt(...t){let e=C7;for(const n of t)e=e.add(n);return e}const j7=new wn(rt);function R7(){return j7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fm(e)?"-0":e}}function sA(t){return{integerValue:""+t}}function P7(t,e){return i7(e)?sA(e):pv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this._=void 0}}function I7(t,e,n){return t instanceof Ad?function(i,o){const c={fields:{[BN]:{stringValue:FN},[HN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uv(o)&&(o=Gm(o)),o&&(c.fields[qN]=o),{mapValue:c}}(n,e):t instanceof hc?lA(t,e):t instanceof Cd?cA(t,e):function(i,o){const c=oA(i,o),d=T_(c)+T_(i.Re);return Ux(c)&&Ux(i.Re)?sA(d):pv(i.serializer,d)}(t,e)}function D7(t,e,n){return t instanceof hc?lA(t,e):t instanceof Cd?cA(t,e):n}function oA(t,e){return t instanceof xm?function(r){return Ux(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ad extends Ym{}class hc extends Ym{constructor(e){super(),this.elements=e}}function lA(t,e){const n=uA(e);for(const r of t.elements)n.some(i=>Za(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cd extends Ym{constructor(e){super(),this.elements=e}}function cA(t,e){let n=uA(e);for(const r of t.elements)n=n.filter(i=>!Za(i,r));return{arrayValue:{values:n}}}class xm extends Ym{constructor(e,n){super(),this.serializer=e,this.Re=n}}function T_(t){return sn(t.integerValue||t.doubleValue)}function uA(t){return dv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.field=e,this.transform=n}}function M7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof hc&&i instanceof hc||r instanceof Cd&&i instanceof Cd?cc(r.elements,i.elements,Za):r instanceof xm&&i instanceof xm?Za(r.Re,i.Re):r instanceof Ad&&i instanceof Ad}(t.transform,e.transform)}class O7{constructor(e,n){this.version=e,this.transformResults=n}}class Jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qm{}function hA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gv(t.key,Jr.none()):new Gd(t.key,t.data,Jr.none());{const n=t.data,r=ur.empty();let i=new wn(Ln.comparator);for(let o of e.fields)if(!i.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new Ws(t.key,r,new Ar(i.toArray()),Jr.none())}}function L7(t,e,n){t instanceof Gd?function(i,o,c){const d=i.value.clone(),f=__(i.fieldTransforms,o,c.transformResults);d.setAll(f),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(i,o,c){if(!qf(i.precondition,o))return void o.convertToUnknownDocument(c.version);const d=__(i.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(fA(i)),f.setAll(d),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function rd(t,e,n,r){return t instanceof Gd?function(o,c,d,f){if(!qf(o.precondition,c))return d;const m=o.value.clone(),x=E_(o.fieldTransforms,f,c);return m.setAll(x),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ws?function(o,c,d,f){if(!qf(o.precondition,c))return d;const m=E_(o.fieldTransforms,f,c),x=c.data;return x.setAll(fA(o)),x.setAll(m),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,c,d){return qf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function V7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=oA(r.transform,i||null);o!=null&&(n===null&&(n=ur.empty()),n.set(r.field,o))}return n||null}function k_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cc(r,i,(o,c)=>M7(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gd extends Qm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends Qm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function __(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],c=o.transform,d=e.data.field(o.field);r.set(o.field,D7(c,d,n[i]))}return r}function E_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,c=n.data.field(i.field);r.set(i.field,I7(o,c,e))}return r}class gv extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U7 extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&L7(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iA();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(i.key)?null:d;const f=hA(c,d);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),dt())}isEqual(e){return this.batchId===e.batchId&&cc(this.mutations,e.mutations,(n,r)=>k_(n,r))&&cc(this.baseMutations,e.baseMutations,(n,r)=>k_(n,r))}}class xv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return A7}();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new xv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,yt;function q7(t){switch(t){case me.OK:return He(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function mA(t){if(t===void 0)return Mi("GRPC error has no .code"),me.UNKNOWN;switch(t){case hn.OK:return me.OK;case hn.CANCELLED:return me.CANCELLED;case hn.UNKNOWN:return me.UNKNOWN;case hn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case hn.INTERNAL:return me.INTERNAL;case hn.UNAVAILABLE:return me.UNAVAILABLE;case hn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case hn.NOT_FOUND:return me.NOT_FOUND;case hn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case hn.ABORTED:return me.ABORTED;case hn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case hn.DATA_LOSS:return me.DATA_LOSS;default:return He(39323,{code:t})}}(yt=hn||(hn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=new Ps([4294967295,4294967295],0);function S_(t){const e=ON().encode(t),n=new AN;return n.update(e),new Uint8Array(n.digest())}function N_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ps([n,r],0),new Ps([i,o],0)]}class yv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(r<0)throw new Hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ps.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ps.fromNumber(r)));return i.compare(H7)===1&&(i=new Ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=S_(e),[r,i]=N_(n);for(let o=0;o<this.hashCount;o++){const c=this.we(r,i,o);if(!this.be(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new yv(o,i,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const n=S_(e),[r,i]=N_(n);for(let o=0;o<this.hashCount;o++){const c=this.we(r,i,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xm(Xe.min(),i,new Yt(rt),Oi(),dt())}}class $d{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $d(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class pA{constructor(e,n){this.targetId=e,this.Ce=n}}class gA{constructor(e,n,r=Vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class A_{constructor(){this.Fe=0,this.Me=C_(),this.xe=Vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dt(),n=dt(),r=dt();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:o})}}),new $d(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=C_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class G7{constructor(e){this.ze=e,this.je=new Map,this.He=Oi(),this.Je=Ef(),this.Ye=Ef(),this.Ze=new Yt(rt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:He(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(Fx(o))if(r===0){const c=new Le(o.path);this.tt(n,c,Gn.newNoDocument(c,Xe.min()))}else Et(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const d=this.ct(e),f=d?this.lt(d,e,c):1;if(f!==0){this.st(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let c,d;try{c=Us(r).toUint8Array()}catch(f){if(f instanceof zN)return lc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new yv(c,i,o)}catch(f){return lc(f instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,c)=>{const d=this._t(c);if(d){if(o.current&&Fx(d.target)){const f=new Le(d.target.path);this.Et(f).has(c)||this.dt(c,f)||this.tt(c,f,Gn.newNoDocument(f,e))}o.Le&&(n.set(c,o.qe()),o.Qe())}});let r=dt();this.Ye.forEach((o,c)=>{let d=!0;c.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const i=new Xm(e,n,this.Ze,this.He,r);return this.He=Oi(),this.Je=Ef(),this.Ye=Ef(),this.Ze=new Yt(rt),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new A_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new wn(rt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new wn(rt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new A_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ef(){return new Yt(Le.comparator)}function C_(){return new Yt(Le.comparator)}const $7={asc:"ASCENDING",desc:"DESCENDING"},K7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y7={and:"AND",or:"OR"};class Q7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hx(t,e){return t.useProto3Json||Hm(e)?e:{value:e}}function ym(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X7(t,e){return ym(t,e.toTimestamp())}function Wa(t){return Et(!!t,49232),Xe.fromTimestamp(function(n){const r=Vs(n);return new Ft(r.seconds,r.nanos)}(t))}function vv(t,e){return Gx(t,e).canonicalString()}function Gx(t,e){const n=function(i){return new Ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yA(t){const e=Ut.fromString(t);return Et(kA(e),10190,{key:e.toString()}),e}function $x(t,e){return vv(t.databaseId,e.path)}function B0(t,e){const n=yA(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(bA(n))}function vA(t,e){return vv(t.databaseId,e)}function W7(t){const e=yA(t);return e.length===4?Ut.emptyPath():bA(e)}function Kx(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bA(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function j_(t,e,n){return{name:$x(t,e),fields:n.value.mapValue.fields}}function Z7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:He(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(m,x){return m.useProto3Json?(Et(x===void 0||typeof x=="string",58123),Vn.fromBase64String(x||"")):(Et(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Vn.fromUint8Array(x||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const x=m.code===void 0?me.UNKNOWN:mA(m.code);return new Se(x,m.message||"")}(c);n=new gA(r,i,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=B0(t,r.document.name),o=Wa(r.document.updateTime),c=r.document.createTime?Wa(r.document.createTime):Xe.min(),d=new ur({mapValue:{fields:r.document.fields}}),f=Gn.newFoundDocument(i,o,c,d),m=r.targetIds||[],x=r.removedTargetIds||[];n=new Hf(m,x,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=B0(t,r.document),o=r.readTime?Wa(r.readTime):Xe.min(),c=Gn.newNoDocument(i,o),d=r.removedTargetIds||[];n=new Hf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=B0(t,r.document),o=r.removedTargetIds||[];n=new Hf([],o,i,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new B7(i,o),d=r.targetId;n=new pA(d,c)}}return n}function J7(t,e){let n;if(e instanceof Gd)n={update:j_(t,e.key,e.value)};else if(e instanceof gv)n={delete:$x(t,e.key)};else if(e instanceof Ws)n={update:j_(t,e.key,e.data),updateMask:lU(e.fieldMask)};else{if(!(e instanceof U7))return He(16599,{ft:e.type});n={verify:$x(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof Ad)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof hc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xm)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw He(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:X7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:He(27497)}(t,e.precondition)),n}function eU(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map(n=>function(i,o){let c=i.updateTime?Wa(i.updateTime):Wa(o);return c.isEqual(Xe.min())&&(c=Wa(o)),new O7(c,i.transformResults||[])}(n,e))):[]}function tU(t,e){return{documents:[vA(t,e.path)]}}function nU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vA(t,i);const o=function(m){if(m.length!==0)return TA(va.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(x=>function(b){return{field:$l(b.field),direction:iU(b.dir)}}(x))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Hx(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:i}}function rU(t){let e=W7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1,65062);const x=n.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=function(v){const b=wA(v);return b instanceof va&&XN(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(b=>function(E){return new Nd(Kl(E.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(b))}(n.orderBy));let d=null;n.limit&&(d=function(v){let b;return b=typeof v=="object"?v.value:v,Hm(b)?null:b}(n.limit));let f=null;n.startAt&&(f=function(v){const b=!!v.before,T=v.values||[];return new gm(T,b)}(n.startAt));let m=null;return n.endAt&&(m=function(v){const b=!v.before,T=v.values||[];return new gm(T,b)}(n.endAt)),k7(e,i,c,o,d,"F",f,m)}function aU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Kl(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Kl(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Kl(n.unaryFilter.field);return mn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Kl(n.unaryFilter.field);return mn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}}(t):t.fieldFilter!==void 0?function(n){return mn.create(Kl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return va.create(n.compositeFilter.filters.map(r=>wA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}}(n.compositeFilter.op))}(t):He(30097,{filter:t})}function iU(t){return $7[t]}function sU(t){return K7[t]}function oU(t){return Y7[t]}function $l(t){return{fieldPath:t.canonicalString()}}function Kl(t){return Ln.fromServerFormat(t.fieldPath)}function TA(t){return t instanceof mn?function(n){if(n.op==="=="){if(x_(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NAN"}};if(g_(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x_(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NAN"}};if(g_(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(n.field),op:sU(n.op),value:n.value}}}(t):t instanceof va?function(n){const r=n.getFilters().map(i=>TA(i));return r.length===1?r[0]:{compositeFilter:{op:oU(n.op),filters:r}}}(t):He(54877,{filter:t})}function lU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r,i,o=Xe.min(),c=Xe.min(),d=Vn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.wt=e}}function uU(t){const e=rU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.Cn=new hU}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Ls.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class hU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wn(Ut.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_A=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(_A,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fc(0)}static lr(){return new fc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="LruGarbageCollector",fU=1048576;function I_([t,e],[n,r]){const i=rt(t,n);return i===0?rt(e,r):i}class mU{constructor(e){this.Er=e,this.buffer=new wn(I_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ee(P_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ec(n)?Ee(P_,"Ignoring IndexedDB error during garbage collection: ",n):await _c(n)}await this.mr(3e5)})}}class gU{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(qm.le);const r=new mU(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(R_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,c,d,f,m;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,c=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,n))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(m=Date.now(),Hl()<=ut.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${i} in `+(d-c)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-x}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function xU(t,e){return new gU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rd(r.mutation,i,Ar.empty(),Ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=dt()){const i=Do();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let c=qu();return o.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=Do();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,dt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,i){let o=Oi();const c=nd(),d=function(){return nd()}();return n.forEach((f,m)=>{const x=r.get(m.key);i.has(m.key)&&(x===void 0||x.mutation instanceof Ws)?o=o.insert(m.key,m):x!==void 0?(c.set(m.key,x.mutation.getFieldMask()),rd(x.mutation,m,x.mutation.getFieldMask(),Ft.now())):c.set(m.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,x)=>c.set(m,x)),n.forEach((m,x)=>{var v;return d.set(m,new vU(x,(v=c.get(m))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,n){const r=nd();let i=new Yt((c,d)=>c-d),o=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(f=>{const m=n.get(f);if(m===null)return;let x=r.get(f)||Ar.empty();x=d.applyToLocalView(m,x),r.set(f,x);const v=(i.get(d.batchId)||dt()).add(f);i=i.insert(d.batchId,v)})}).next(()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,x=f.value,v=iA();x.forEach(b=>{if(!o.has(b)){const T=hA(n.get(b),r.get(b));T!==null&&v.set(b,T),o=o.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ge.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(c){return Le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ge.resolve(Do());let d=kd,f=o;return c.next(m=>ge.forEach(m,(x,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(x)?ge.resolve():this.remoteDocumentCache.getEntry(e,x).next(b=>{f=f.insert(x,b)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,dt())).next(x=>({batchId:d,changes:aA(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next(r=>{let i=qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let c=qu();return this.indexManager.getCollectionParents(e,o).next(d=>ge.forEach(d,f=>{const m=function(v,b){return new Sc(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(x=>{x.forEach((v,b)=>{c=c.insert(v,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(c=>{o.forEach((f,m)=>{const x=m.getKey();c.get(x)===null&&(c=c.insert(x,Gn.newInvalidDocument(x)))});let d=qu();return c.forEach((f,m)=>{const x=o.get(f);x!==void 0&&rd(x.mutation,m,Ar.empty(),Ft.now()),Km(n,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ge.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wa(i.createTime)}}(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:uU(i.bundledQuery),readTime:Wa(i.readTime)}}(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.overlays=new Yt(Le.comparator),this.Qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Do();return ge.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=Do(),o=n.length+1,c=new Le(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Yt((m,x)=>m-x);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let x=o.get(m.largestBatchId);x===null&&(x=Do(),o=o.insert(m.largestBatchId,x)),x.set(m.getKey(),m)}}const d=Do(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,x)=>d.set(m,x)),!(d.size()>=i)););return ge.resolve(d)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new F7(n,r));let o=this.Qr.get(n);o===void 0&&(o=dt(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.$r=new wn(Nn.Ur),this.Kr=new wn(Nn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Nn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Le(new Ut([])),r=new Nn(n,e),i=new Nn(n,e+1),o=[];return this.Kr.forEachInRange([r,i],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Le(new Ut([])),r=new Nn(n,e),i=new Nn(n,e+1);let o=dt();return this.Kr.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new Nn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Le.comparator(e.key,n.key)||rt(e.Zr,n.Zr)}static Wr(e,n){return rt(e.Zr,n.Zr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new wn(Nn.Ur)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new z7(o,n,r,i);this.mutationQueue.push(c);for(const d of i)this.Xr=this.Xr.add(new Nn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ge.resolve(c)}lookupMutationBatch(e,n){return ge.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?cv:this.nr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),i=new Nn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],c=>{const d=this.ei(c.Zr);o.push(d)}),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(rt);return n.forEach(i=>{const o=new Nn(i,0),c=new Nn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],d=>{r=r.add(d.Zr)})}),ge.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const c=new Nn(new Le(o),0);let d=new wn(rt);return this.Xr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(f.Zr)),!0)},c),ge.resolve(this.ni(d))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Et(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ge.forEach(n.mutations,i=>{const o=new Nn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Nn(n,0),i=this.Xr.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.ii=e,this.docs=function(){return new Yt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,c=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=Oi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Gn.newInvalidDocument(i))}),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Oi();const c=n.path,d=new Le(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:x}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||t7(e7(x),r)<=0||(i.has(x.key)||Km(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,n,r,i){He(9500)}si(e,n){return ge.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SU(this)}getSize(e){return ge.resolve(this.size)}}class SU extends yU{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ge.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.persistence=e,this.oi=new Wo(n=>hv(n),fv),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this._i=0,this.ai=new bv,this.targetCount=0,this.ui=fc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ge.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new fc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Tr(n),ge.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),ge.waitFor(o).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),ge.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.ci={},this.overlays={},this.li=new qm(0),this.hi=!1,this.hi=!0,this.Pi=new kU,this.referenceDelegate=e(this),this.Ti=new NU(this),this.indexManager=new dU,this.remoteDocumentCache=function(i){return new EU(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new cU(n),this.Ei=new wU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new _U(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new AU(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return ge.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class AU extends r7{constructor(e){super(),this.currentSequenceNumber=e}}class wv{constructor(e){this.persistence=e,this.Vi=new bv,this.mi=null}static fi(e){return new wv(e)}get gi(){if(this.mi)return this.mi;throw He(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.gi,r=>{const i=Le.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,Xe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ge.or([()=>ge.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class vm{constructor(e,n){this.persistence=e,this.yi=new Wo(r=>s7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=xU(this,n)}static fi(e,n){return new vm(e,n)}di(){}Ai(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ge.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?ge.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,c=>this.Dr(e,c,n).next(d=>{d||(r++,o.removeEntry(c,Xe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ge.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}Dr(e,n,r){return ge.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=dt(),i=dt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Tv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return l9()?8:a7(Kn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new CU;return this.Ss(e,n,c).next(d=>{if(o.result=d,this.fs)return this.Ds(e,n,c,d.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Hl()<=ut.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ge.resolve()):(Hl()<=ut.DEBUG&&Ee("QueryEngine","Query:",Gl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Hl()<=ut.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xa(n))):ge.resolve())}ws(e,n){if(w_(n))return ge.resolve(null);let r=Xa(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qx(n,null,"F"),r=Xa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=dt(...o);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.vs(n,d);return this.Cs(n,m,c,f.readTime)?this.ws(e,qx(n,null,"F")):this.Fs(e,m,n,f)}))})))}bs(e,n,r,i){return w_(n)||i.isEqual(Xe.min())?ge.resolve(null):this.ys.getDocuments(e,r).next(o=>{const c=this.vs(n,o);return this.Cs(n,c,r,i)?ge.resolve(null):(Hl()<=ut.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gl(n)),this.Fs(e,c,n,JV(i,kd)).next(d=>d))})}vs(e,n){let r=new wn(nA(e));return n.forEach((i,o)=>{Km(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Hl()<=ut.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Gl(n)),this.ys.getDocumentsMatchingQuery(e,n,Ls.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="LocalStore",RU=3e8;class PU{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Yt(rt),this.Os=new Wo(o=>hv(o),fv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bU(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function IU(t,e,n,r){return new PU(t,e,n,r)}async function SA(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let f=dt();for(const m of i){c.push(m.batchId);for(const x of m.mutations)f=f.add(x.key)}for(const m of o){d.push(m.batchId);for(const x of m.mutations)f=f.add(x.key)}return n.localDocuments.getDocuments(r,f).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:d}))})})}function DU(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,x){const v=m.batch,b=v.keys();let T=ge.resolve();return b.forEach(E=>{T=T.next(()=>x.getEntry(f,E)).next(j=>{const O=m.docVersions.get(E);Et(O!==null,48541),j.version.compareTo(O)<0&&(v.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),x.addEntry(j)))})}),T.next(()=>d.mutationQueue.removeMutationBatch(f,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=dt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NA(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function MU(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const d=[];e.targetChanges.forEach((x,v)=>{const b=i.get(v);if(!b)return;d.push(n.Ti.removeMatchingKeys(o,x.removedDocuments,v).next(()=>n.Ti.addMatchingKeys(o,x.addedDocuments,v)));let T=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Vn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):x.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(x.resumeToken,r)),i=i.insert(v,T),function(j,O,M){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=RU?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(b,T,x)&&d.push(n.Ti.updateTargetData(o,T))});let f=Oi(),m=dt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))}),d.push(OU(o,c,e.documentUpdates).next(x=>{f=x.qs,m=x.Qs})),!r.isEqual(Xe.min())){const x=n.Ti.getLastRemoteSnapshotVersion(o).next(v=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(x)}return ge.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(n.xs=i,o))}function OU(t,e,n){let r=dt(),i=dt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=Oi();return n.forEach((d,f)=>{const m=o.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Ee(kv,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{qs:c,Qs:i}})}function LU(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VU(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,ge.resolve(i)):n.Ti.allocateTargetId(r).next(c=>(i=new As(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Yx(t,e,n){const r=Ze(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!Ec(c))throw c;Ee(kv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function D_(t,e,n){const r=Ze(t);let i=Xe.min(),o=dt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(f,m,x){const v=Ze(f),b=v.Os.get(x);return b!==void 0?ge.resolve(v.xs.get(b)):v.Ti.getTargetData(m,x)}(r,c,Xa(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,d.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,e,n?i:Xe.min(),n?o:dt())).next(d=>(UU(r,E7(e),d),{documents:d,$s:o})))}function UU(t,e,n){let r=t.Ns.get(e)||Xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class M_{constructor(){this.activeTargetIds=R7()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zU{constructor(){this.xo=new M_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new M_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="ConnectivityMonitor";class L_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ee(O_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ee(O_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf=null;function Qx(){return Sf===null?Sf=function(){return 268435456+Math.round(2147483648*Math.random())}():Sf++,"0x"+Sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="RestConnection",BU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qU{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===mm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const c=Qx(),d=this.jo(e,n.toUriEncodedString());Ee(q0,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,o);const{host:m}=new URL(d),x=Ys(m);return this.Jo(e,d,f,r,x).then(v=>(Ee(q0,`Received RPC '${e}' ${c}: `,v),v),v=>{throw lc(q0,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",r),v})}Yo(e,n,r,i,o,c){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=BU[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class GU extends qU{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const c=Qx();return new Promise((d,f)=>{const m=new CN;m.setWithCredentials(!0),m.listenOnce(jN.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case zf.NO_ERROR:const v=m.getResponseJson();Ee(qn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case zf.TIMEOUT:Ee(qn,`RPC '${e}' ${c} timed out`),f(new Se(me.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const b=m.getStatus();if(Ee(qn,`RPC '${e}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const E=T==null?void 0:T.error;if(E&&E.status&&E.message){const j=function(M){const z=M.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(z)>=0?z:me.UNKNOWN}(E.status);f(new Se(j,E.message))}else f(new Se(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Se(me.UNAVAILABLE,"Connection failed."));break;default:He(9055,{h_:e,streamId:c,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{Ee(qn,`RPC '${e}' ${c} completed.`)}});const x=JSON.stringify(i);Ee(qn,`RPC '${e}' ${c} sending request:`,i),m.send(n,"POST",x,r,15)})}I_(e,n,r){const i=Qx(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=IN(),d=PN(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const x=o.join("");Ee(qn,`Creating RPC '${e}' stream ${i}: ${x}`,f);const v=c.createWebChannel(x,f);this.E_(v);let b=!1,T=!1;const E=new HU({Zo:O=>{T?Ee(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(b||(Ee(qn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),b=!0),Ee(qn,`RPC '${e}' stream ${i} sending:`,O),v.send(O))},Xo:()=>v.close()}),j=(O,M,z)=>{O.listen(M,L=>{try{z(L)}catch(q){setTimeout(()=>{throw q},0)}})};return j(v,Bu.EventType.OPEN,()=>{T||(Ee(qn,`RPC '${e}' stream ${i} transport opened.`),E.__())}),j(v,Bu.EventType.CLOSE,()=>{T||(T=!0,Ee(qn,`RPC '${e}' stream ${i} transport closed`),E.u_(),this.d_(v))}),j(v,Bu.EventType.ERROR,O=>{T||(T=!0,lc(qn,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),E.u_(new Se(me.UNAVAILABLE,"The operation could not be completed")))}),j(v,Bu.EventType.MESSAGE,O=>{var M;if(!T){const z=O.data[0];Et(!!z,16349);const L=z,q=(L==null?void 0:L.error)||((M=L[0])===null||M===void 0?void 0:M.error);if(q){Ee(qn,`RPC '${e}' stream ${i} received error:`,q);const V=q.status;let I=function(S){const D=hn[S];if(D!==void 0)return mA(D)}(V),P=q.message;I===void 0&&(I=me.INTERNAL,P="Unknown error status: "+V+" with message "+q.message),T=!0,E.u_(new Se(I,P)),v.close()}else Ee(qn,`RPC '${e}' stream ${i} received:`,z),E.c_(z)}}),j(d,RN.STAT_EVENT,O=>{O.stat===Ox.PROXY?Ee(qn,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Ox.NOPROXY&&Ee(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function H0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){return new Q7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="PersistentStream";class CA{constructor(e,n,r,i,o,c,d,f){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new AA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new Se(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ee(V_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ee(V_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $U extends CA{constructor(e,n,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=Z7(this.serializer,e),r=function(o){if(!("targetChange"in o))return Xe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Xe.min():c.readTime?Wa(c.readTime):Xe.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Kx(this.serializer),n.addTarget=function(o,c){let d;const f=c.target;if(d=Fx(f)?{documents:tU(o,f)}:{query:nU(o,f).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=xA(o,c.resumeToken);const m=Hx(o,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Xe.min())>0){d.readTime=ym(o,c.snapshotVersion.toTimestamp());const m=Hx(o,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=aU(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Kx(this.serializer),n.removeTarget=e,this.Q_(n)}}class KU extends CA{constructor(e,n,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=eU(e.writeResults,e.commitTime),r=Wa(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Kx(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>J7(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{}class QU extends YU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Se(me.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,Gx(n,r),i,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(me.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,Gx(n,r),i,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(me.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class XU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Mi(n),this.ua=!1):Ee("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="RemoteStore";class WU{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(c=>{r.enqueueAndForget(async()=>{Zo(this)&&(Ee(qo,"Restarting streams for network reachability change."),await async function(f){const m=Ze(f);m.da.add(4),await Kd(m),m.Va.set("Unknown"),m.da.delete(4),await Zm(m)}(this))})}),this.Va=new XU(r,i)}}async function Zm(t){if(Zo(t))for(const e of t.Aa)await e(!0)}async function Kd(t){for(const e of t.Aa)await e(!1)}function jA(t,e){const n=Ze(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Nv(n)?Sv(n):Nc(n).N_()&&Ev(n,e))}function _v(t,e){const n=Ze(t),r=Nc(n);n.Ea.delete(e),r.N_()&&RA(n,e),n.Ea.size===0&&(r.N_()?r.k_():Zo(n)&&n.Va.set("Unknown"))}function Ev(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nc(t).Z_(e)}function RA(t,e){t.ma.Ke(e),Nc(t).X_(e)}function Sv(t){t.ma=new G7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Nc(t).start(),t.Va.ca()}function Nv(t){return Zo(t)&&!Nc(t).O_()&&t.Ea.size>0}function Zo(t){return Ze(t).da.size===0}function PA(t){t.ma=void 0}async function ZU(t){t.Va.set("Online")}async function JU(t){t.Ea.forEach((e,n)=>{Ev(t,e)})}async function ez(t,e){PA(t),Nv(t)?(t.Va.Pa(e),Sv(t)):t.Va.set("Unknown")}async function tz(t,e,n){if(t.Va.set("Online"),e instanceof gA&&e.state===2&&e.cause)try{await async function(i,o){const c=o.cause;for(const d of o.targetIds)i.Ea.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.Ea.delete(d),i.ma.removeTarget(d))}(t,e)}catch(r){Ee(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bm(t,r)}else if(e instanceof Hf?t.ma.Xe(e):e instanceof pA?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Xe.min()))try{const r=await NA(t.localStore);n.compareTo(r)>=0&&await function(o,c){const d=o.ma.It(c);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const x=o.Ea.get(m);x&&o.Ea.set(m,x.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,m)=>{const x=o.Ea.get(f);if(!x)return;o.Ea.set(f,x.withResumeToken(Vn.EMPTY_BYTE_STRING,x.snapshotVersion)),RA(o,f);const v=new As(x.target,f,m,x.sequenceNumber);Ev(o,v)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){Ee(qo,"Failed to raise snapshot:",r),await bm(t,r)}}async function bm(t,e,n){if(!Ec(e))throw e;t.da.add(1),await Kd(t),t.Va.set("Offline"),n||(n=()=>NA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(qo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Zm(t)})}function IA(t,e){return e().catch(n=>bm(t,n,e))}async function Jm(t){const e=Ze(t),n=Fs(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:cv;for(;nz(e);)try{const i=await LU(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,rz(e,i)}catch(i){await bm(e,i)}DA(e)&&MA(e)}function nz(t){return Zo(t)&&t.Ia.length<10}function rz(t,e){t.Ia.push(e);const n=Fs(t);n.N_()&&n.ea&&n.ta(e.mutations)}function DA(t){return Zo(t)&&!Fs(t).O_()&&t.Ia.length>0}function MA(t){Fs(t).start()}async function az(t){Fs(t).ia()}async function iz(t){const e=Fs(t);for(const n of t.Ia)e.ta(n.mutations)}async function sz(t,e,n){const r=t.Ia.shift(),i=xv.from(r,e,n);await IA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jm(t)}async function oz(t,e){e&&Fs(t).ea&&await async function(r,i){if(function(c){return q7(c)&&c!==me.ABORTED}(i.code)){const o=r.Ia.shift();Fs(r).L_(),await IA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Jm(r)}}(t,e),DA(t)&&MA(t)}async function U_(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),Ee(qo,"RemoteStore received new credentials");const r=Zo(n);n.da.add(3),await Kd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Zm(n)}async function lz(t,e){const n=Ze(t);e?(n.da.delete(2),await Zm(n)):e||(n.da.add(2),await Kd(n),n.Va.set("Unknown"))}function Nc(t){return t.fa||(t.fa=function(n,r,i){const o=Ze(n);return o.oa(),new $U(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:ZU.bind(null,t),n_:JU.bind(null,t),i_:ez.bind(null,t),Y_:tz.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Nv(t)?Sv(t):t.Va.set("Unknown")):(await t.fa.stop(),PA(t))})),t.fa}function Fs(t){return t.ga||(t.ga=function(n,r,i){const o=Ze(n);return o.oa(),new KU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:az.bind(null,t),i_:oz.bind(null,t),na:iz.bind(null,t),ra:sz.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Jm(t)):(await t.ga.stop(),t.Ia.length>0&&(Ee(qo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const c=Date.now()+r,d=new Av(e,n,c,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),Ec(t))return new Se(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{static emptySet(e){return new rc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=qu(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.pa=new Yt(Le.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class mc{constructor(e,n,r,i,o,c,d,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new mc(e,n,rc.emptySet(n),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$m(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class uz{constructor(){this.queries=F_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ze(n),o=i.queries;i.queries=F_(),o.forEach((c,d)=>{for(const f of d.Sa)f.onError(r)})})(this,new Se(me.ABORTED,"Firestore shutting down"))}}function F_(){return new Wo(t=>tA(t),$m)}async function OA(t,e){const n=Ze(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new cz,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=Cv(c,`Initialization of query '${Gl(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&jv(n)}async function LA(t,e){const n=Ze(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dz(t,e){const n=Ze(t);let r=!1;for(const i of e){const o=i.query,c=n.queries.get(o);if(c){for(const d of c.Sa)d.Ma(i)&&(r=!0);c.ba=i}}r&&jv(n)}function hz(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function jv(t){t.Ca.forEach(e=>{e.next()})}var Xx,B_;(B_=Xx||(Xx={})).xa="default",B_.Cache="cache";class VA{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Xx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.key=e}}class zA{constructor(e){this.key=e}}class fz{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dt(),this.mutatedKeys=dt(),this.Za=nA(e),this.Xa=new rc(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new z_,i=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((x,v)=>{const b=i.get(x),T=Km(this.query,v)?v:null,E=!!b&&this.mutatedKeys.has(b.key),j=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let O=!1;b&&T?b.data.isEqual(T.data)?E!==j&&(r.track({type:3,doc:T}),O=!0):this.ru(b,T)||(r.track({type:2,doc:T}),O=!0,(f&&this.Za(T,f)>0||m&&this.Za(T,m)<0)&&(d=!0)):!b&&T?(r.track({type:0,doc:T}),O=!0):b&&!T&&(r.track({type:1,doc:b}),O=!0,(f||m)&&(d=!0)),O&&(T?(c=c.add(T),o=j?o.add(x):o.delete(x)):(c=c.delete(x),o=o.delete(x)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),o=o.delete(x.key),r.track({type:1,doc:x})}return{Xa:c,nu:r,Cs:d,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((x,v)=>function(T,E){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:O})}};return j(T)-j(E)}(x.type,v.type)||this.Za(x.doc,v.doc)),this.iu(r),i=i!=null&&i;const d=n&&!i?this.su():[],f=this.Ya.size===0&&this.current&&!i?1:0,m=f!==this.Ja;return this.Ja=f,c.length!==0||m?{snapshot:new mc(this.query,e.Xa,o,c,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=dt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new zA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new UA(r))}),n}au(e){this.Ha=e.$s,this.Ya=dt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return mc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Rv="SyncEngine";class mz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pz{constructor(e){this.key=e,this.cu=!1}}class gz{constructor(e,n,r,i,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Wo(d=>tA(d),$m),this.Pu=new Map,this.Tu=new Set,this.Iu=new Yt(Le.comparator),this.Eu=new Map,this.du=new bv,this.Au={},this.Ru=new Map,this.Vu=fc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function xz(t,e,n=!0){const r=$A(t);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await FA(r,e,n,!0),i}async function yz(t,e){const n=$A(t);await FA(n,e,!0,!1)}async function FA(t,e,n,r){const i=await VU(t.localStore,Xa(e)),o=i.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await vz(t,e,o,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&jA(t.remoteStore,i),d}async function vz(t,e,n,r,i){t.fu=(v,b,T)=>async function(j,O,M,z){let L=O.view.tu(M);L.Cs&&(L=await D_(j.localStore,O.query,!1).then(({documents:P})=>O.view.tu(P,L)));const q=z&&z.targetChanges.get(O.targetId),V=z&&z.targetMismatches.get(O.targetId)!=null,I=O.view.applyChanges(L,j.isPrimaryClient,q,V);return H_(j,O.targetId,I.ou),I.snapshot}(t,v,b,T);const o=await D_(t.localStore,e,!0),c=new fz(e,o.$s),d=c.tu(o.documents),f=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=c.applyChanges(d,t.isPrimaryClient,f);H_(t,n,m.ou);const x=new mz(e,n,c);return t.hu.set(e,x),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),m.snapshot}async function bz(t,e,n){const r=Ze(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(c=>!$m(c,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_v(r.remoteStore,i.targetId),Wx(r,i.targetId)}).catch(_c)):(Wx(r,i.targetId),await Yx(r.localStore,i.targetId,!0))}async function wz(t,e){const n=Ze(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_v(n.remoteStore,r.targetId))}async function Tz(t,e,n){const r=Cz(t);try{const i=await function(c,d){const f=Ze(c),m=Ft.now(),x=d.reduce((T,E)=>T.add(E.key),dt());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let E=Oi(),j=dt();return f.Bs.getEntries(T,x).next(O=>{E=O,E.forEach((M,z)=>{z.isValidDocument()||(j=j.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,E)).next(O=>{v=O;const M=[];for(const z of d){const L=V7(z,v.get(z.key).overlayedDocument);L!=null&&M.push(new Ws(z.key,L,KN(L.value.mapValue),Jr.exists(!0)))}return f.mutationQueue.addMutationBatch(T,m,M,d)}).next(O=>{b=O;const M=O.applyToLocalDocumentSet(v,j);return f.documentOverlayCache.saveOverlays(T,O.batchId,M)})}).then(()=>({batchId:b.batchId,changes:aA(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,d,f){let m=c.Au[c.currentUser.toKey()];m||(m=new Yt(rt)),m=m.insert(d,f),c.Au[c.currentUser.toKey()]=m}(r,i.batchId,n),await Yd(r,i.changes),await Jm(r.remoteStore)}catch(i){const o=Cv(i,"Failed to persist write");n.reject(o)}}async function BA(t,e){const n=Ze(t);try{const r=await MU(n.localStore,e);e.targetChanges.forEach((i,o)=>{const c=n.Eu.get(o);c&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.cu=!0:i.modifiedDocuments.size>0?Et(c.cu,14607):i.removedDocuments.size>0&&(Et(c.cu,42227),c.cu=!1))}),await Yd(n,r,e)}catch(r){await _c(r)}}function q_(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((o,c)=>{const d=c.view.Fa(e);d.snapshot&&i.push(d.snapshot)}),function(c,d){const f=Ze(c);f.onlineState=d;let m=!1;f.queries.forEach((x,v)=>{for(const b of v.Sa)b.Fa(d)&&(m=!0)}),m&&jv(f)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kz(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let c=new Yt(Le.comparator);c=c.insert(o,Gn.newNoDocument(o,Xe.min()));const d=dt().add(o),f=new Xm(Xe.min(),new Map,new Yt(rt),c,d);await BA(r,f),r.Iu=r.Iu.remove(o),r.Eu.delete(e),Pv(r)}else await Yx(r.localStore,e,!1).then(()=>Wx(r,e,n)).catch(_c)}async function _z(t,e){const n=Ze(t),r=e.batch.batchId;try{const i=await DU(n.localStore,e);HA(n,r,null),qA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,i)}catch(i){await _c(i)}}async function Ez(t,e,n){const r=Ze(t);try{const i=await function(c,d){const f=Ze(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let x;return f.mutationQueue.lookupMutationBatch(m,d).next(v=>(Et(v!==null,37113),x=v.keys(),f.mutationQueue.removeMutationBatch(m,v))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,x,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,x)).next(()=>f.localDocuments.getDocuments(m,x))})}(r.localStore,e);HA(r,e,n),qA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yd(r,i)}catch(i){await _c(i)}}function qA(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function HA(t,e,n){const r=Ze(t);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Wx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||GA(t,r)})}function GA(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(_v(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Pv(t))}function H_(t,e,n){for(const r of n)r instanceof UA?(t.du.addReference(r.key,e),Sz(t,r)):r instanceof zA?(Ee(Rv,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||GA(t,r.key)):He(19791,{pu:r})}function Sz(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ee(Rv,"New document in limbo: "+n),t.Tu.add(r),Pv(t))}function Pv(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Le(Ut.fromString(e)),r=t.Vu.next();t.Eu.set(r,new pz(n)),t.Iu=t.Iu.insert(n,r),jA(t.remoteStore,new As(Xa(mv(n.path)),r,"TargetPurposeLimboResolution",qm.le))}}async function Yd(t,e,n){const r=Ze(t),i=[],o=[],c=[];r.hu.isEmpty()||(r.hu.forEach((d,f)=>{c.push(r.fu(f,e,n).then(m=>{var x;if((m||n)&&r.isPrimaryClient){const v=m?!m.fromCache:(x=n==null?void 0:n.targetChanges.get(f.targetId))===null||x===void 0?void 0:x.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){i.push(m);const v=Tv.Rs(f.targetId,m);o.push(v)}}))}),await Promise.all(c),r.lu.Y_(i),await async function(f,m){const x=Ze(f);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ge.forEach(m,b=>ge.forEach(b.ds,T=>x.persistence.referenceDelegate.addReference(v,b.targetId,T)).next(()=>ge.forEach(b.As,T=>x.persistence.referenceDelegate.removeReference(v,b.targetId,T)))))}catch(v){if(!Ec(v))throw v;Ee(kv,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const T=x.xs.get(b),E=T.snapshotVersion,j=T.withLastLimboFreeSnapshotVersion(E);x.xs=x.xs.insert(b,j)}}}(r.localStore,o))}async function Nz(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){Ee(Rv,"User change. New user:",e.toKey());const r=await SA(n.localStore,e);n.currentUser=e,function(o,c){o.Ru.forEach(d=>{d.forEach(f=>{f.reject(new Se(me.CANCELLED,c))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yd(n,r.ks)}}function Az(t,e){const n=Ze(t),r=n.Eu.get(e);if(r&&r.cu)return dt().add(r.key);{let i=dt();const o=n.Pu.get(e);if(!o)return i;for(const c of o){const d=n.hu.get(c);i=i.unionWith(d.view.eu)}return i}}function $A(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Az.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kz.bind(null,e),e.lu.Y_=dz.bind(null,e.eventManager),e.lu.gu=hz.bind(null,e.eventManager),e}function Cz(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_z.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ez.bind(null,e),e}class wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return IU(this.persistence,new jU,e.initialUser,this.serializer)}Su(e){return new EA(wv.fi,this.serializer)}bu(e){return new zU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wm.provider={build:()=>new wm};class jz extends wm{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Et(this.persistence.referenceDelegate instanceof vm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pU(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new EA(r=>vm.fi(r,n),this.serializer)}}class Zx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nz.bind(null,this.syncEngine),await lz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uz}()}createDatastore(e){const n=Wm(e.databaseInfo.databaseId),r=function(o){return new GU(o)}(e.databaseInfo);return function(o,c,d,f){return new QU(o,c,d,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,c,d){return new WU(r,i,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>q_(this.syncEngine,n,0),function(){return L_.C()?new L_:new FU}())}createSyncEngine(e,n){return function(i,o,c,d,f,m,x){const v=new gz(i,o,c,d,f,m);return x&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ze(i);Ee(qo,"RemoteStore shutting down."),o.da.add(5),await Kd(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zx.provider={build:()=>new Zx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="FirestoreClient";class Rz{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=LN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{Ee(Bs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Ee(Bs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function G0(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Bs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function G_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Pz(t);Ee(Bs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U_(e.remoteStore,i)),t._onlineComponents=e}async function Pz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Bs,"Using user provided OfflineComponentProvider");try{await G0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;lc("Error using user provided cache. Falling back to memory cache: "+n),await G0(t,new wm)}}else Ee(Bs,"Using default OfflineComponentProvider"),await G0(t,new jz(void 0));return t._offlineComponents}async function YA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Bs,"Using user provided OnlineComponentProvider"),await G_(t,t._uninitializedComponentsProvider._online)):(Ee(Bs,"Using default OnlineComponentProvider"),await G_(t,new Zx))),t._onlineComponents}function Iz(t){return YA(t).then(e=>e.syncEngine)}async function QA(t){const e=await YA(t),n=e.eventManager;return n.onListen=xz.bind(null,e.syncEngine),n.onUnlisten=bz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wz.bind(null,e.syncEngine),n}function Dz(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,f,m){const x=new KA({next:b=>{x.xu(),c.enqueueAndForget(()=>LA(o,v));const T=b.docs.has(d);!T&&b.fromCache?m.reject(new Se(me.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&f&&f.source==="server"?m.reject(new Se(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new VA(mv(d.path),x,{includeMetadataChanges:!0,Qa:!0});return OA(o,v)}(await QA(t),t.asyncQueue,e,n,r)),r.promise}function Mz(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,f,m){const x=new KA({next:b=>{x.xu(),c.enqueueAndForget(()=>LA(o,v)),b.fromCache&&f.source==="server"?m.reject(new Se(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new VA(d,x,{includeMetadataChanges:!0,Qa:!0});return OA(o,v)}(await QA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e,n){if(!n)throw new Se(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Oz(t,e,n,r){if(e===!0&&r===!0)throw new Se(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K_(t){if(!Le.isDocumentKey(t))throw new Se(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Y_(t){if(Le.isDocumentKey(t))throw new Se(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ep(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function ba(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ep(t);throw new Se(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firestore.googleapis.com",Q_=!0;class X_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZA,this.ssl=Q_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_A;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fU)throw new Se(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Oz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HV;switch(r.type){case"firstParty":return new YV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$_.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),$_.delete(n),r.terminate())}(this),Promise.resolve()}}function Lz(t,e,n,r={}){var i;t=ba(t,tp);const o=Ys(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&(Ky(`https://${f}`),Yy("Firestore",!0)),c.host!==ZA&&c.host!==f&&lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:r});if(!Pi(m,d)&&(t._setSettings(m),r.mockUserToken)){let x,v;if(typeof r.mockUserToken=="string")x=r.mockUserToken,v=Hn.MOCK_USER;else{x=VS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Se(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Hn(b)}t._authCredentials=new GV(new MN(x,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class nr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class Is extends Jo{constructor(e,n,r){super(e,n,mv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new Le(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function ga(t,e,...n){if(t=qt(t),WA("collection","path",e),t instanceof tp){const r=Ut.fromString(e,...n);return Y_(r),new Is(t,null,r)}{if(!(t instanceof nr||t instanceof Is))throw new Se(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return Y_(r),new Is(t.firestore,null,r)}}function Vt(t,e,...n){if(t=qt(t),arguments.length===1&&(e=LN.newId()),WA("doc","path",e),t instanceof tp){const r=Ut.fromString(e,...n);return K_(r),new nr(t,null,new Le(r))}{if(!(t instanceof nr||t instanceof Is))throw new Se(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return K_(r),new nr(t.firestore,t instanceof Is?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="AsyncQueue";class Z_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new AA(this,"async_queue_retry"),this.rc=()=>{const r=H0();r&&Ee(W_,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=H0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=H0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ci;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ec(e))throw e;Ee(W_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Mi("INTERNAL UNHANDLED ERROR: ",J_(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=Av.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&He(47125,{cc:J_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function J_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class el extends tp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Z_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z_(e),this._firestoreClient=void 0,await e}}}function Vz(t,e){const n=typeof t=="object"?t:Um(),r=typeof t=="string"?t:mm,i=Qs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=MS("firestore");o&&Lz(i,...o)}return i}function Iv(t){if(t._terminated)throw new Se(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Uz(t),t._firestoreClient}function Uz(t){var e,n,r;const i=t._freezeSettings(),o=function(d,f,m,x){return new c7(d,f,m,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,XA(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Rz(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pc(Vn.fromBase64String(e))}catch(n){throw new Se(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pc(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=/^__.*__$/;class Fz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gd(e,this.data,n,this.fieldTransforms)}}class JA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function e6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ic:t})}}class rp{constructor(e,n,r,i,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Tm(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(e6(this.Ic)&&zz.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Bz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wm(e)}bc(e,n,r,i=!1){return new rp({Ic:e,methodName:n,wc:r,path:Ln.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ap(t){const e=t._freezeSettings(),n=Wm(t._databaseId);return new Bz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t6(t,e,n,r,i,o={}){const c=t.bc(o.merge||o.mergeFields?2:0,e,n,i);Vv("Data must be an object, but it was:",c,r);const d=n6(r,c);let f,m;if(o.merge)f=new Ar(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const x=[];for(const v of o.mergeFields){const b=Jx(e,v,n);if(!c.contains(b))throw new Se(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);a6(x,b)||x.push(b)}f=new Ar(x),m=c.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,m=c.fieldTransforms;return new Fz(new ur(d),f,m)}class ip extends Qd{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ip}}function qz(t,e,n){return new rp({Ic:3,wc:e.settings.wc,methodName:t._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ov extends Qd{_toFieldTransform(e){return new dA(e.path,new Ad)}isEqual(e){return e instanceof Ov}}class Lv extends Qd{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=qz(this,e,!0),r=this.Sc.map(o=>Ac(o,n)),i=new hc(r);return new dA(e.path,i)}isEqual(e){return e instanceof Lv&&Pi(this.Sc,e.Sc)}}function Hz(t,e,n,r){const i=t.bc(1,e,n);Vv("Data must be an object, but it was:",i,r);const o=[],c=ur.empty();Xs(r,(f,m)=>{const x=Uv(e,f,n);m=qt(m);const v=i.mc(x);if(m instanceof ip)o.push(x);else{const b=Ac(m,v);b!=null&&(o.push(x),c.set(x,b))}});const d=new Ar(o);return new JA(c,d,i.fieldTransforms)}function Gz(t,e,n,r,i,o){const c=t.bc(1,e,n),d=[Jx(e,r,n)],f=[i];if(o.length%2!=0)throw new Se(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)d.push(Jx(e,o[b])),f.push(o[b+1]);const m=[],x=ur.empty();for(let b=d.length-1;b>=0;--b)if(!a6(m,d[b])){const T=d[b];let E=f[b];E=qt(E);const j=c.mc(T);if(E instanceof ip)m.push(T);else{const O=Ac(E,j);O!=null&&(m.push(T),x.set(T,O))}}const v=new Ar(m);return new JA(x,v,c.fieldTransforms)}function $z(t,e,n,r=!1){return Ac(n,t.bc(r?4:3,e))}function Ac(t,e){if(r6(t=qt(t)))return Vv("Unsupported field value:",e,t),n6(t,e);if(t instanceof Qd)return function(r,i){if(!e6(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let c=0;for(const d of r){let f=Ac(d,i.fc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ft.fromDate(r);return{timestampValue:ym(i.serializer,o)}}if(r instanceof Ft){const o=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ym(i.serializer,o)}}if(r instanceof Dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pc)return{bytesValue:xA(i.serializer,r._byteString)};if(r instanceof nr){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mv)return function(c,d){return{mapValue:{fields:{[GN]:{stringValue:$N},[pm]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.gc("VectorValues must only contain numeric values.");return pv(d.serializer,m)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${ep(r)}`)}(t,e)}function n6(t,e){const n={};return UN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(t,(r,i)=>{const o=Ac(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function r6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof Dv||t instanceof pc||t instanceof nr||t instanceof Qd||t instanceof Mv)}function Vv(t,e,n){if(!r6(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ep(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Jx(t,e,n){if((e=qt(e))instanceof np)return e._internalPath;if(typeof e=="string")return Uv(t,e);throw Tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kz=new RegExp("[~\\*/\\[\\]]");function Uv(t,e,n){if(e.search(Kz)>=0)throw Tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new np(...e.split("."))._internalPath}catch{throw Tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tm(t,e,n,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new Se(me.INVALID_ARGUMENT,d+t+f)}function a6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yz extends i6{data(){return super.data()}}function sp(t,e){return typeof e=="string"?Uv(t,e):e instanceof np?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zv{}class s6 extends zv{}function qs(t,e,...n){let r=[];e instanceof zv&&r.push(e),r=r.concat(n),function(o){const c=o.filter(f=>f instanceof Fv).length,d=o.filter(f=>f instanceof op).length;if(c>1||c>0&&d>0)throw new Se(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class op extends s6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new op(e,n,r)}_apply(e){const n=this._parse(e);return o6(e._query,n),new Jo(e.firestore,e.converter,Bx(e._query,n))}_parse(e){const n=ap(e.firestore);return function(o,c,d,f,m,x,v){let b;if(m.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Se(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){tE(v,x);const E=[];for(const j of v)E.push(eE(f,o,j));b={arrayValue:{values:E}}}else b=eE(f,o,v)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||tE(v,x),b=$z(d,c,v,x==="in"||x==="not-in");return mn.create(m,x,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jd(t,e,n){const r=e,i=sp("where",t);return op._create(i,r,n)}class Fv extends zv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:va.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let c=i;const d=o.getFlattenedFilters();for(const f of d)o6(c,f),c=Bx(c,f)}(e._query,n),new Jo(e.firestore,e.converter,Bx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bv extends s6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bv(e,n)}_apply(e){const n=function(i,o,c){if(i.startAt!==null)throw new Se(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nd(o,c)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(i,o){const c=i.explicitOrderBy.concat([o]);return new Sc(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Hs(t,e="asc"){const n=e,r=sp("orderBy",t);return Bv._create(r,n)}function eE(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new Se(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(e)&&n.indexOf("/")!==-1)throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ut.fromString(n));if(!Le.isDocumentKey(r))throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p_(t,new Le(r))}if(n instanceof nr)return p_(t,n._key);throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ep(n)}.`)}function tE(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o6(t,e){const n=function(i,o){for(const c of i)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Xz{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[pm].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(c=>sn(c.doubleValue));return new Mv(o)}convertGeoPoint(e){return new Dv(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_d(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ut.fromString(e);Et(kA(r),9688,{name:e});const i=new Ed(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return i.isEqual(n)||Mi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class c6 extends i6{constructor(e,n,r,i,o,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gf extends c6{data(e={}){return super.data(e)}}class Wz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gf(this._firestore,this._userDataWriter,r.key,r,new Gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(d=>{const f=new Gf(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Gu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new Gf(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Gu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,x=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),x=c.indexOf(d.doc.key)),{type:Zz(d.type),doc:f,oldIndex:m,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){t=ba(t,nr);const e=ba(t.firestore,el);return Dz(Iv(e),t._key).then(n=>Jz(e,t,n))}class u6 extends Xz{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,n)}}function Li(t){t=ba(t,Jo);const e=ba(t.firestore,el),n=Iv(e),r=new u6(e);return Qz(t._query),Mz(n,t._query).then(i=>new Wz(e,r,t,i))}function qv(t,e,n){t=ba(t,nr);const r=ba(t.firestore,el),i=l6(t.converter,e);return lp(r,[t6(ap(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jr.none())])}function Rr(t,e,n,...r){t=ba(t,nr);const i=ba(t.firestore,el),o=ap(i);let c;return c=typeof(e=qt(e))=="string"||e instanceof np?Gz(o,"updateDoc",t._key,e,n,r):Hz(o,"updateDoc",t._key,e),lp(i,[c.toMutation(t._key,Jr.exists(!0))])}function km(t){return lp(ba(t.firestore,el),[new gv(t._key,Jr.none())])}function d6(t,e){const n=ba(t.firestore,el),r=Vt(t),i=l6(t.converter,e);return lp(n,[t6(ap(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then(()=>r)}function lp(t,e){return function(r,i){const o=new Ci;return r.asyncQueue.enqueueAndForget(async()=>Tz(await Iz(r),i,o)),o.promise}(Iv(t),e)}function Jz(t,e,n){const r=n.docs.get(e._key),i=new u6(t);return new c6(t,i,e._key,r,new Gu(n.hasPendingWrites,n.fromCache),e.converter)}function bn(){return new Ov("serverTimestamp")}function ey(...t){return new Lv("arrayUnion",t)}(function(e,n=!0){(function(i){kc=i})(Xo),ya(new ta("firestore",(r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new el(new $V(r.getProvider("auth-internal")),new QV(c,r.getProvider("app-check-internal")),function(m,x){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(m.options.projectId,x)}(c,i),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),hr(r_,a_,e),hr(r_,a_,"esm2017")})();var eF="firebase",tF="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(eF,tF,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="firebasestorage.googleapis.com",f6="storageBucket",nF=2*60*1e3,rF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en extends aa{constructor(e,n,r=0){super($0(e),`Firebase Storage: ${n} (${$0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,en.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jt||(Jt={}));function $0(t){return"storage/"+t}function Hv(){const t="An unknown error occurred, please check the error payload for server response.";return new en(Jt.UNKNOWN,t)}function aF(t){return new en(Jt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iF(t){return new en(Jt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new en(Jt.UNAUTHENTICATED,t)}function oF(){return new en(Jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lF(t){return new en(Jt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cF(){return new en(Jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uF(){return new en(Jt.CANCELED,"User canceled the upload/download.")}function dF(t){return new en(Jt.INVALID_URL,"Invalid URL '"+t+"'.")}function hF(t){return new en(Jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fF(){return new en(Jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+f6+"' property when initializing the app?")}function mF(){return new en(Jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pF(){return new en(Jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gF(t){return new en(Jt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ty(t){return new en(Jt.INVALID_ARGUMENT,t)}function m6(){return new en(Jt.APP_DELETED,"The Firebase app was deleted.")}function xF(t){return new en(Jt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ad(t,e){return new en(Jt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mu(t){throw new en(Jt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cr.makeFromUrl(e,n)}catch{return new Cr(e,"")}if(r.path==="")return r;throw hF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+i+c,"i"),f={bucket:1,path:3};function m(q){q.path_=decodeURIComponent(q.path)}const x="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${x}/b/${i}/o${b}`,"i"),E={bucket:1,path:3},j=n===h6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",M=new RegExp(`^https?://${j}/${i}/${O}`,"i"),L=[{regex:d,indices:f,postModify:o},{regex:T,indices:E,postModify:m},{regex:M,indices:{bucket:1,path:2},postModify:m}];for(let q=0;q<L.length;q++){const V=L[q],I=V.regex.exec(e);if(I){const P=I[V.indices.bucket];let N=I[V.indices.path];N||(N=""),r=new Cr(P,N),V.postModify(r);break}}if(r==null)throw dF(e);return r}}class yF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e,n){let r=1,i=null,o=null,c=!1,d=0;function f(){return d===2}let m=!1;function x(...O){m||(m=!0,e.apply(null,O))}function v(O){i=setTimeout(()=>{i=null,t(T,f())},O)}function b(){o&&clearTimeout(o)}function T(O,...M){if(m){b();return}if(O){b(),x.call(null,O,...M);return}if(f()||c){b(),x.call(null,O,...M);return}r<64&&(r*=2);let L;d===1?(d=2,L=0):L=(r+Math.random())*1e3,v(L)}let E=!1;function j(O){E||(E=!0,b(),!m&&(i!==null?(O||(d=2),clearTimeout(i),v(0)):O||(d=1)))}return v(0),o=setTimeout(()=>{c=!0,j(!0)},n),j}function bF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){return t!==void 0}function TF(t){return typeof t=="object"&&!Array.isArray(t)}function Gv(t){return typeof t=="string"||t instanceof String}function nE(t){return $v()&&t instanceof Blob}function $v(){return typeof Blob<"u"}function rE(t,e,n,r){if(r<e)throw ty(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ty(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function p6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Uo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n,r,i,o,c,d,f,m,x,v,b=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=x,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,j)=>{this.resolve_=E,this.reject_=j,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Nf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Uo.NO_ERROR,f=o.getStatus();if(!d||kF(f,this.additionalRetryCodes_)&&this.retry){const x=o.getErrorCode()===Uo.ABORT;r(!1,new Nf(!1,null,x));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Nf(m,o))})},n=(r,i)=>{const o=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());wF(f)?o(f):o()}catch(f){c(f)}else if(d!==null){const f=Hv();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(i.canceled){const f=this.appDelete_?m6():uF();c(f)}else{const f=cF();c(f)}};this.canceled_?n(!1,new Nf(!1,null,!0)):this.backoffId_=vF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function EF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CF(t,e,n,r,i,o,c=!0,d=!1){const f=p6(t.urlParams),m=t.url+f,x=Object.assign({},t.headers);return NF(x,e),EF(x,n),SF(x,o),AF(x,r),new _F(m,t.method,x,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RF(...t){const e=jF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if($v())return new Blob(t);throw new en(Jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t){if(typeof atob>"u")throw gF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class K0{constructor(e,n){this.data=e,this.contentType=n||null}}function DF(t,e){switch(t){case qa.RAW:return new K0(g6(e));case qa.BASE64:case qa.BASE64URL:return new K0(x6(t,e));case qa.DATA_URL:return new K0(OF(e),LF(e))}throw Hv()}function g6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=t.charCodeAt(++n);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MF(t){let e;try{e=decodeURIComponent(t)}catch{throw ad(qa.DATA_URL,"Malformed data URL.")}return g6(e)}function x6(t,e){switch(t){case qa.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw ad(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qa.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw ad(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=IF(e)}catch(i){throw i.message.includes("polyfill")?i:ad(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class y6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ad(qa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=VF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function OF(t){const e=new y6(t);return e.base64?x6(qa.BASE64,e.rest):MF(e.rest)}function LF(t){return new y6(t).contentType}function VF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){let r=0,i="";nE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(nE(this.data_)){const r=this.data_,i=PF(r,e,n);return i===null?null:new Ns(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ns(r,!0)}}static getBlob(...e){if($v()){const n=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(RF.apply(null,n))}else{const n=e.map(c=>Gv(c)?DF(qa.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)i[o++]=c[d]}),new Ns(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){let e;try{e=JSON.parse(t)}catch{return null}return TF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function b6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t,e){return e}class Jn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||FF}}let Af=null;function BF(t){return!Gv(t)||t.length<2?t:b6(t)}function w6(){if(Af)return Af;const t=[];t.push(new Jn("bucket")),t.push(new Jn("generation")),t.push(new Jn("metageneration")),t.push(new Jn("name","fullPath",!0));function e(o,c){return BF(c)}const n=new Jn("name");n.xform=e,t.push(n);function r(o,c){return c!==void 0?Number(c):c}const i=new Jn("size");return i.xform=r,t.push(i),t.push(new Jn("timeCreated")),t.push(new Jn("updated")),t.push(new Jn("md5Hash",null,!0)),t.push(new Jn("cacheControl",null,!0)),t.push(new Jn("contentDisposition",null,!0)),t.push(new Jn("contentEncoding",null,!0)),t.push(new Jn("contentLanguage",null,!0)),t.push(new Jn("contentType",null,!0)),t.push(new Jn("metadata","customMetadata",!0)),Af=t,Af}function qF(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Cr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function HF(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const c=n[o];r[c.local]=c.xform(r,e[c.server])}return qF(r,t),r}function T6(t,e,n){const r=v6(e);return r===null?null:HF(t,r,n)}function GF(t,e,n,r){const i=v6(e);if(i===null||!Gv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(m=>{const x=t.bucket,v=t.fullPath,b="/b/"+c(x)+"/o/"+c(v),T=Kv(b,n,r),E=p6({alt:"media",token:m});return T+E})[0]}function $F(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class k6{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t){if(!t)throw Hv()}function KF(t,e){function n(r,i){const o=T6(t,i,e);return _6(o!==null),o}return n}function YF(t,e){function n(r,i){const o=T6(t,i,e);return _6(o!==null),GF(o,i,t.host,t._protocol)}return n}function E6(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oF():i=sF():n.getStatus()===402?i=iF(t.bucket):n.getStatus()===403?i=lF(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function QF(t){const e=E6(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=aF(t.path)),o.serverResponse=i.serverResponse,o}return n}function XF(t,e,n){const r=e.fullServerUrl(),i=Kv(r,t.host,t._protocol),o="GET",c=t.maxOperationRetryTime,d=new k6(i,o,YF(t,n),c);return d.errorHandler=QF(e),d}function WF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=WF(null,e)),r}function JF(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let L="";for(let q=0;q<2;q++)L=L+Math.random().toString().slice(2);return L}const f=d();c["Content-Type"]="multipart/related; boundary="+f;const m=ZF(e,r,i),x=$F(m,n),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,b=`\r
--`+f+"--",T=Ns.getBlob(v,r,b);if(T===null)throw mF();const E={name:m.fullPath},j=Kv(o,t.host,t._protocol),O="POST",M=t.maxUploadRetryTime,z=new k6(j,O,KF(t,n),M);return z.urlParams=E,z.headers=c,z.body=T.uploadData(),z.errorHandler=E6(e),z}class eB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw Mu("cannot .send() more than once");if(Ys(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tB extends eB{initXhr(){this.xhr_.responseType="text"}}function S6(){return new tB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this._service=e,n instanceof Cr?this._location=n:this._location=Cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ho(e,n)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b6(this._location.path)}get storage(){return this._service}get parent(){const e=UF(this._location.path);if(e===null)return null;const n=new Cr(this._location.bucket,e);return new Ho(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xF(e)}}function nB(t,e,n){t._throwIfRoot("uploadBytes");const r=JF(t.storage,t._location,w6(),new Ns(e,!0),n);return t.storage.makeRequestWithTokens(r,S6).then(i=>({metadata:i,ref:t}))}function rB(t){t._throwIfRoot("getDownloadURL");const e=XF(t.storage,t._location,w6());return t.storage.makeRequestWithTokens(e,S6).then(n=>{if(n===null)throw pF();return n})}function aB(t,e){const n=zF(t._location.path,e),r=new Cr(t._location.bucket,n);return new Ho(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(t){return/^[A-Za-z]+:\/\//.test(t)}function sB(t,e){return new Ho(t,e)}function N6(t,e){if(t instanceof Yv){const n=t;if(n._bucket==null)throw fF();const r=new Ho(n,n._bucket);return e!=null?N6(r,e):r}else return e!==void 0?aB(t,e):t}function oB(t,e){if(e&&iB(e)){if(t instanceof Yv)return sB(t,e);throw ty("To use ref(service, url), the first argument must be a Storage instance.")}else return N6(t,e)}function aE(t,e){const n=e==null?void 0:e[f6];return n==null?null:Cr.makeFromBucketSpec(n,t)}function lB(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ys(e);i&&(Ky(`https://${t.host}/b`),Yy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:VS(o,t.app.options.projectId))}class Yv{constructor(e,n,r,i,o,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=h6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nF,this._maxUploadRetryTime=rF,this._requests=new Set,i!=null?this._bucket=Cr.makeFromBucketSpec(i,this._host):this._bucket=aE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=aE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ho(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new yF(m6());{const c=CF(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const iE="@firebase/storage",sE="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="storage";function C6(t,e,n){return t=qt(t),nB(t,e,n)}function j6(t){return t=qt(t),rB(t)}function R6(t,e){return t=qt(t),oB(t,e)}function cB(t=Um(),e){t=qt(t);const r=Qs(t,A6).getImmediate({identifier:e}),i=MS("storage");return i&&uB(r,...i),r}function uB(t,e,n,r={}){lB(t,e,n,r)}function dB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Yv(n,r,i,e,Xo)}function hB(){ya(new ta(A6,dB,"PUBLIC").setMultipleInstances(!0)),hr(iE,sE,""),hr(iE,sE,"esm2017")}hB();const P6="@firebase/installations",Qv="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=1e4,D6=`w:${Qv}`,M6="FIS_v2",fB="https://firebaseinstallations.googleapis.com/v1",mB=60*60*1e3,pB="installations",gB="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Go=new Qo(pB,gB,xB);function O6(t){return t instanceof aa&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6({projectId:t}){return`${fB}/projects/${t}/installations`}function V6(t){return{token:t.token,requestStatus:2,expiresIn:vB(t.expiresIn),creationTime:Date.now()}}async function U6(t,e){const r=(await e.json()).error;return Go.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function z6({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yB(t,{refreshToken:e}){const n=z6(t);return n.append("Authorization",bB(e)),n}async function F6(t){const e=await t();return e.status>=500&&e.status<600?t():e}function vB(t){return Number(t.replace("s","000"))}function bB(t){return`${M6} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=L6(t),i=z6(t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const c={fid:n,authVersion:M6,appId:t.appId,sdkVersion:D6},d={method:"POST",headers:i,body:JSON.stringify(c)},f=await F6(()=>fetch(r,d));if(f.ok){const m=await f.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:V6(m.authToken)}}else throw await U6("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=/^[cdef][\w-]{21}$/,ny="";function _B(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=EB(t);return kB.test(n)?n:ny}catch{return ny}}function EB(t){return TB(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new Map;function H6(t,e){const n=cp(t);G6(n,e),SB(n,e)}function G6(t,e){const n=q6.get(t);if(n)for(const r of n)r(e)}function SB(t,e){const n=NB();n&&n.postMessage({key:t,fid:e}),AB()}let Mo=null;function NB(){return!Mo&&"BroadcastChannel"in self&&(Mo=new BroadcastChannel("[Firebase] FID Change"),Mo.onmessage=t=>{G6(t.data.key,t.data.fid)}),Mo}function AB(){q6.size===0&&Mo&&(Mo.close(),Mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB="firebase-installations-database",jB=1,$o="firebase-installations-store";let Y0=null;function Xv(){return Y0||(Y0=HS(CB,jB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($o)}}})),Y0}async function _m(t,e){const n=cp(t),i=(await Xv()).transaction($o,"readwrite"),o=i.objectStore($o),c=await o.get(n);return await o.put(e,n),await i.done,(!c||c.fid!==e.fid)&&H6(t,e.fid),e}async function $6(t){const e=cp(t),r=(await Xv()).transaction($o,"readwrite");await r.objectStore($o).delete(e),await r.done}async function up(t,e){const n=cp(t),i=(await Xv()).transaction($o,"readwrite"),o=i.objectStore($o),c=await o.get(n),d=e(c);return d===void 0?await o.delete(n):await o.put(d,n),await i.done,d&&(!c||c.fid!==d.fid)&&H6(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wv(t){let e;const n=await up(t.appConfig,r=>{const i=RB(r),o=PB(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===ny?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function RB(t){const e=t||{fid:_B(),registrationStatus:0};return K6(e)}function PB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Go.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=IB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DB(t)}:{installationEntry:e}}async function IB(t,e){try{const n=await wB(t,e);return _m(t.appConfig,n)}catch(n){throw O6(n)&&n.customData.serverCode===409?await $6(t.appConfig):await _m(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function DB(t){let e=await oE(t.appConfig);for(;e.registrationStatus===1;)await B6(100),e=await oE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Wv(t);return r||n}return e}function oE(t){return up(t,e=>{if(!e)throw Go.create("installation-not-found");return K6(e)})}function K6(t){return MB(t)?{fid:t.fid,registrationStatus:0}:t}function MB(t){return t.registrationStatus===1&&t.registrationTime+I6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OB({appConfig:t,heartbeatServiceProvider:e},n){const r=LB(t,n),i=yB(t,n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const c={installation:{sdkVersion:D6,appId:t.appId}},d={method:"POST",headers:i,body:JSON.stringify(c)},f=await F6(()=>fetch(r,d));if(f.ok){const m=await f.json();return V6(m)}else throw await U6("Generate Auth Token",f)}function LB(t,{fid:e}){return`${L6(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(t,e=!1){let n;const r=await up(t.appConfig,o=>{if(!Y6(o))throw Go.create("not-registered");const c=o.authToken;if(!e&&zB(c))return o;if(c.requestStatus===1)return n=VB(t,e),o;{if(!navigator.onLine)throw Go.create("app-offline");const d=BB(o);return n=UB(t,d),d}});return n?await n:r.authToken}async function VB(t,e){let n=await lE(t.appConfig);for(;n.authToken.requestStatus===1;)await B6(100),n=await lE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Zv(t,e):r}function lE(t){return up(t,e=>{if(!Y6(e))throw Go.create("not-registered");const n=e.authToken;return qB(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function UB(t,e){try{const n=await OB(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await _m(t.appConfig,r),n}catch(n){if(O6(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $6(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await _m(t.appConfig,r)}throw n}}function Y6(t){return t!==void 0&&t.registrationStatus===2}function zB(t){return t.requestStatus===2&&!FB(t)}function FB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mB}function BB(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function qB(t){return t.requestStatus===1&&t.requestTime+I6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HB(t){const e=t,{installationEntry:n,registrationPromise:r}=await Wv(e);return r?r.catch(console.error):Zv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(t,e=!1){const n=t;return await $B(n),(await Zv(n,e)).token}async function $B(t){const{registrationPromise:e}=await Wv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t){if(!t||!t.options)throw Q0("App Configuration");if(!t.name)throw Q0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Q0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Q0(t){return Go.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="installations",YB="installations-internal",QB=t=>{const e=t.getProvider("app").getImmediate(),n=KB(e),r=Qs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},XB=t=>{const e=t.getProvider("app").getImmediate(),n=Qs(e,Q6).getImmediate();return{getId:()=>HB(n),getToken:i=>GB(n,i)}};function WB(){ya(new ta(Q6,QB,"PUBLIC")),ya(new ta(YB,XB,"PRIVATE"))}WB();hr(P6,Qv);hr(P6,Qv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="analytics",ZB="firebase_id",JB="origin",eq=60*1e3,tq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Vm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jr=new Qo("analytics","Analytics",nq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t){if(!t.startsWith(Jv)){const e=jr.create("invalid-gtag-resource",{gtagURL:t});return fr.warn(e.message),""}return t}function X6(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function aq(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function iq(t,e){const n=aq("firebase-js-sdk-policy",{createScriptURL:rq}),r=document.createElement("script"),i=`${Jv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function sq(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function oq(t,e,n,r,i,o){const c=r[i];try{if(c)await e[c];else{const f=(await X6(n)).find(m=>m.measurementId===i);f&&await e[f.appId]}}catch(d){fr.error(d)}t("config",i,o)}async function lq(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const d=await X6(n);for(const f of c){const m=d.find(v=>v.measurementId===f),x=m&&e[m.appId];if(x)o.push(x);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){fr.error(o)}}function cq(t,e,n,r){async function i(o,...c){try{if(o==="event"){const[d,f]=c;await lq(t,e,n,d,f)}else if(o==="config"){const[d,f]=c;await oq(t,e,n,r,d,f)}else if(o==="consent"){const[d,f]=c;t("consent",d,f)}else if(o==="get"){const[d,f,m]=c;t("get",d,f,m)}else if(o==="set"){const[d]=c;t("set",d)}else t(o,...c)}catch(d){fr.error(d)}}return i}function uq(t,e,n,r,i){let o=function(...c){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=cq(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function dq(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Jv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=30,fq=1e3;class mq{constructor(e={},n=fq){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const W6=new mq;function pq(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function gq(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:pq(r)},o=tq.replace("{app-id}",n),c=await fetch(o,i);if(c.status!==200&&c.status!==304){let d="";try{const f=await c.json();!((e=f.error)===null||e===void 0)&&e.message&&(d=f.error.message)}catch{}throw jr.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function xq(t,e=W6,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw jr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw jr.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new bq;return setTimeout(async()=>{d.abort()},eq),Z6({appId:r,apiKey:i,measurementId:o},c,d,e)}async function Z6(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=W6){var o;const{appId:c,measurementId:d}=t;try{await yq(r,e)}catch(f){if(d)return fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:c,measurementId:d};throw f}try{const f=await gq(t);return i.deleteThrottleMetadata(c),f}catch(f){const m=f;if(!vq(m)){if(i.deleteThrottleMetadata(c),d)return fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:d};throw f}const x=Number((o=m==null?void 0:m.customData)===null||o===void 0?void 0:o.httpStatus)===503?Nk(n,i.intervalMillis,hq):Nk(n,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+x,backoffCount:n+1};return i.setThrottleMetadata(c,v),fr.debug(`Calling attemptFetch again in ${x} millis`),Z6(t,v,r,i)}}function yq(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vq(t){if(!(t instanceof aa)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class bq{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function wq(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,c=Object.assign(Object.assign({},r),{send_to:o});t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tq(){if(zS())try{await FS()}catch(t){return fr.warn(jr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fr.warn(jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kq(t,e,n,r,i,o,c){var d;const f=xq(t);f.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&fr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>fr.error(T)),e.push(f);const m=Tq().then(T=>{if(T)return r.getId()}),[x,v]=await Promise.all([f,m]);dq(o)||iq(o,x.measurementId),i("js",new Date);const b=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return b[JB]="firebase",b.update=!0,v!=null&&(b[ZB]=v),i("config",x.measurementId,b),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.app=e}_delete(){return delete id[this.app.options.appId],Promise.resolve()}}let id={},cE=[];const uE={};let X0="dataLayer",Eq="gtag",dE,J6,hE=!1;function Sq(){const t=[];if(US()&&t.push("This is a browser extension environment."),c9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=jr.create("invalid-analytics-context",{errorInfo:e});fr.warn(n.message)}}function Nq(t,e,n){Sq();const r=t.options.appId;if(!r)throw jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jr.create("no-api-key");if(id[r]!=null)throw jr.create("already-exists",{id:r});if(!hE){sq(X0);const{wrappedGtag:o,gtagCore:c}=uq(id,cE,uE,X0,Eq);J6=o,dE=c,hE=!0}return id[r]=kq(t,cE,uE,e,dE,X0,n),new _q(t)}function Aq(t=Um()){t=qt(t);const e=Qs(t,Em);return e.isInitialized()?e.getImmediate():Cq(t)}function Cq(t,e={}){const n=Qs(t,Em);if(n.isInitialized()){const i=n.getImmediate();if(Pi(e,n.getOptions()))return i;throw jr.create("already-initialized")}return n.initialize({options:e})}function jq(t,e,n,r){t=qt(t),wq(J6,id[t.app.options.appId],e,n,r).catch(i=>fr.error(i))}const fE="@firebase/analytics",mE="0.10.16";function Rq(){ya(new ta(Em,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Nq(r,i,n)},"PUBLIC")),ya(new ta("analytics-internal",t,"PRIVATE")),hr(fE,mE),hr(fE,mE,"esm2017");function t(e){try{const n=e.getProvider(Em).getImmediate();return{logEvent:(r,i,o)=>jq(n,r,i,o)}}catch(n){throw jr.create("interop-component-reg-failed",{reason:n})}}}Rq();const Pq={apiKey:"AIzaSyBoxZlZuUK1fTnsYhcpDKH_JKO99m7zxAU",authDomain:"gonorte-web.firebaseapp.com",projectId:"gonorte-web",storageBucket:"gonorte-web.appspot.com",messagingSenderId:"428167221576",appId:"1:428167221576:web:39614495f7988eb46ce37d",measurementId:"G-4WYSLNDNMH"},Xd=Xy(Pq),Ts=NN(Xd),ht=Vz(Xd),eC=cB(Xd);typeof window<"u"&&Aq(Xd);const tC=C.createContext(void 0),Iq=({children:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(null),[o,c]=C.useState(!0),[d,f]=C.useState(!1);C.useEffect(()=>{const T=PL(Ts,async E=>{if(c(!0),E){const j=Vt(ht,"users",E.uid);try{const O=await gc(j);if(O.exists()){const M=O.data(),z={...E,...M,uid:E.uid,email:E.email,displayName:E.displayName||M.displayName};n(z),i(M.role),f(!0)}else{const M={uid:E.uid,email:E.email,displayName:E.displayName||"",role:"client"};try{await qv(j,M);const z={...E,...M,uid:E.uid,email:E.email,displayName:E.displayName||""};n(z),i(M.role),f(!0)}catch(z){console.error("Error creating user profile:",z),n(E),i(null),f(!1),await z0(Ts)}}}catch(O){console.error("Error fetching user profile:",O),n(E),i(null),f(!1),await z0(Ts)}}else n(null),i(null),f(!1);c(!1)});return()=>T()},[]);const b={currentUser:e,loading:o,isAuthenticated:d,userRole:r,loginWithGoogle:async()=>{c(!0);try{const T=new _i;await ZL(Ts,T)}catch(T){console.error("Google login error:",T),c(!1)}},loginWithEmailPassword:async(T,E)=>{c(!0);try{await CL(Ts,T,E)}catch(j){throw console.error("Email/password login error:",j),c(!1),j}},logout:async()=>{c(!0);try{await z0(Ts)}catch(T){console.error("Logout error:",T)}finally{c(!1)}}};return u.jsx(tC.Provider,{value:b,children:!o&&t})},rr=()=>{const t=C.useContext(tC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Dq=()=>{const{t}=mt(),{isAuthenticated:e,currentUser:n,userRole:r,logout:i,loading:o}=rr(),c=Yo(),[d,f]=C.useState(!1),[m,x]=C.useState(!1);C.useEffect(()=>{const z=()=>f(window.scrollY>20);return window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)},[]),C.useEffect(()=>{if(m){document.body.style.overflow="hidden";const z=()=>x(!1);return window.addEventListener("scroll",z),()=>{document.body.style.overflow="",window.removeEventListener("scroll",z)}}else document.body.style.overflow=""},[m]);const v=async()=>{await i(),x(!1),c("/")},b=()=>{if(!r)return"/login";switch(r){case"admin":return"/admin/users";case"coach":return"/dashboard/coach";case"client":return"/dashboard/client";default:return"/"}},T=({isActive:z})=>`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 relative overflow-hidden ${z?"text-neutral-900 dark:text-text-default-light bg-primary-dark dark:bg-primary-dark shadow-lg":"text-text-default-light dark:text-text-default-dark hover:text-primary-dark dark:hover:text-primary-light hover:bg-primary-light dark:hover:bg-primary-hover"}`,E=({isActive:z})=>`block px-3 py-3 text-base font-medium transition-colors rounded-lg ${z?"text-neutral-900 dark:text-text-default-light bg-primary-dark dark:bg-primary-dark":"text-text-default-light dark:text-text-default-dark hover:text-primary-dark dark:hover:text-primary-light hover:bg-primary-light dark:hover:bg-primary-hover"}`,j="px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 text-text-default-light dark:text-text-default-dark hover:text-primary-dark dark:hover:text-primary-light hover:bg-primary-light dark:hover:bg-primary-hover",O="block w-full text-left px-3 py-3 text-base font-medium transition-colors rounded-lg text-text-default-light dark:text-text-default-dark hover:text-primary-dark dark:hover:text-primary-light hover:bg-primary-light dark:hover:bg-primary-hover duration-300",M=z=>o?u.jsx("div",{className:`${z?O:j} text-text-muted-light dark:text-text-muted-dark`,children:t("navbar.loadingUser","Loading...")}):e&&n?u.jsxs(u.Fragment,{children:[u.jsx(an,{to:`/profile/${n.uid}`,className:z?E:T,onClick:()=>z&&x(!1),children:n.displayName||t("navbar.profile","Profile")}),u.jsx(an,{to:b(),className:z?E:T,onClick:()=>z&&x(!1),children:t("navbar.dashboard","Dashboard")}),u.jsx("button",{onClick:v,className:z?O:j,children:t("navbar.logout","Logout")})]}):u.jsx(an,{to:"/login",className:z?E:T,onClick:()=>z&&x(!1),children:t("navbar.login","Login")});return u.jsx(Ae.nav,{className:`fixed top-0 left-0 right-0 z-40 transition-all duration-300 ${d?"bg-neutral-surface-light/95 dark:bg-neutral-surface-dark/95 backdrop-blur-md shadow-lg border-b border-neutral-border-light dark:border-neutral-border-dark":"bg-neutral-background-light/80 dark:bg-neutral-background-dark/80"}`,initial:{y:-100},animate:{y:0},transition:{duration:.5},children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"relative flex items-center justify-between h-16 lg:h-20",children:[u.jsx("div",{className:"flex-1 flex items-center justify-start",children:u.jsx(Ae.div,{className:"flex items-center flex-shrink-0",whileHover:{scale:1.05},transition:{duration:.2},children:u.jsx(GM,{textClassName:"h-10 lg:h-12 w-auto"})})}),u.jsxs("div",{className:"hidden lg:flex items-center justify-center space-x-1 xl:space-x-2",children:[u.jsx(an,{to:"/",className:T,end:!0,children:t("navHome")}),u.jsx(an,{to:"/about",className:T,children:t("navAbout")}),u.jsx(an,{to:"/services",className:T,children:t("navServices")}),u.jsx(an,{to:"/testimonials",className:T,children:t("navTestimonials")}),u.jsx(an,{to:"/contact",className:T,children:t("navContact")})]}),u.jsxs("div",{className:"flex-1 flex items-center justify-end space-x-2 sm:space-x-3",children:[u.jsxs("div",{className:"hidden lg:flex items-center space-x-1 xl:space-x-2",children:[!o&&M(!1),u.jsx(Tk,{}),u.jsx(Nx,{})]}),u.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[u.jsx(Tk,{}),u.jsx(Nx,{}),u.jsx("button",{onClick:()=>x(!m),className:"p-2 rounded-lg text-text-default-light dark:text-text-default-dark hover:bg-primary-light dark:hover:bg-primary-hover transition-colors","aria-label":t("navbar.toggleMenu","Toggle mobile menu"),children:u.jsx("svg",{className:"w-6 h-6 icon-default",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})]}),u.jsx(Vd,{children:m&&u.jsxs(Ae.div,{className:"lg:hidden fixed inset-0 z-50 bg-neutral-surface-light/95 dark:bg-neutral-surface-dark/95 backdrop-blur-md pt-16",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[u.jsx("button",{onClick:()=>x(!1),className:"absolute top-3.5 right-4 p-2 rounded-lg text-text-default-light dark:text-text-default-dark hover:bg-primary-light dark:hover:bg-primary-hover transition-colors z-50","aria-label":t("navbar.closeMenu","Close menu"),children:u.jsx("svg",{className:"w-6 h-6 icon-default",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"flex flex-col h-full overflow-y-auto px-4 pt-8 pb-24 space-y-3",children:[u.jsx(an,{to:"/",className:E,onClick:()=>x(!1),end:!0,children:t("navHome")}),u.jsx(an,{to:"/about",className:E,onClick:()=>x(!1),children:t("navAbout")}),u.jsx(an,{to:"/services",className:E,onClick:()=>x(!1),children:t("navServices")}),u.jsx(an,{to:"/testimonials",className:E,onClick:()=>x(!1),children:t("navTestimonials")}),u.jsx(an,{to:"/contact",className:E,onClick:()=>x(!1),children:t("navContact")}),u.jsx("hr",{className:"my-3 border-neutral-border-light dark:border-neutral-border-dark"}),!o&&M(!0)]})]})})]})})},Mq=t=>u.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",...t,"aria-hidden":"true",children:u.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.22.085 4.936 4.936 0 004.604 3.417A9.867 9.867 0 010 17.539a13.94 13.94 0 007.547 2.219c9.053 0 13.998-7.504 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),Oq=t=>u.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",...t,"aria-hidden":"true",children:u.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.776 13.019H3.561V9h3.552v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})}),Lq=t=>u.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",...t,"aria-hidden":"true",children:u.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.036 1.531 1.036.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.026 2.747-1.026.546 1.379.201 2.398.098 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.308.678.92.678 1.852 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),Vq=t=>u.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",...t,"aria-hidden":"true",children:u.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),Uq=()=>{const{t}=mt(),e=new Date().getFullYear(),n="text-text-muted-light dark:text-text-muted-dark hover:text-primary-DEFAULT dark:hover:text-primary-light transition-colors text-sm",r="text-text-default-light dark:text-text-default-dark font-semibold mb-space-md text-lg border-b border-neutral-border-light dark:border-neutral-border-dark pb-space-xs",i="icon-default hover:icon-primary dark:hover:icon-primary w-6 h-6";return u.jsx("footer",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-muted-light dark:text-text-muted-dark pt-space-xl pb-space-md border-t border-neutral-border-light dark:border-neutral-border-dark shadow-lg transition-colors duration-300",children:u.jsxs("div",{className:"container mx-auto px-space-md",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-space-xl mb-space-lg",children:[u.jsxs("div",{className:"bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50 p-space-md rounded-lg border border-neutral-border-light/30 dark:border-neutral-border-dark/30",children:[u.jsx("h3",{className:r,children:t("footer.quickLinks","Quick Links")}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-space-md gap-y-space-xs",children:[u.jsx("div",{children:u.jsxs("ul",{className:"space-y-space-xs",children:[u.jsx("li",{children:u.jsx(an,{to:"/",className:n,children:t("navHome","Home")})}),u.jsx("li",{children:u.jsx(an,{to:"/about",className:n,children:t("navAbout","About Me")})}),u.jsx("li",{children:u.jsx(an,{to:"/services",className:n,children:t("navServices","Services")})})]})}),u.jsx("div",{children:u.jsxs("ul",{className:"space-y-space-xs",children:[u.jsx("li",{children:u.jsx(an,{to:"/testimonials",className:n,children:t("navTestimonials","Testimonials")})}),u.jsx("li",{children:u.jsx(an,{to:"/contact",className:n,children:t("navContact","Contact")})}),u.jsx("li",{children:u.jsx(an,{to:"/legal",className:n,children:t("footer.legal","Legal")})})]})})]})]}),u.jsxs("div",{className:"bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50 p-space-md rounded-lg border border-neutral-border-light/30 dark:border-neutral-border-dark/30",children:[u.jsx("h3",{className:r,children:t("footer.contactUs","Contact Us")}),u.jsxs("address",{className:"not-italic text-sm space-y-space-xs text-text-muted-light dark:text-text-muted-dark",children:[u.jsx("p",{children:u.jsx("a",{href:"mailto:info@example.com",className:n,children:"info@example.com"})}),u.jsx("p",{children:u.jsx("a",{href:"tel:+1234567890",className:n,children:"+1 (234) 567-890"})}),u.jsx("p",{children:"123 Cosmic Way, Galaxy City, ST 45678"})]})]}),u.jsxs("div",{className:"bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50 p-space-md rounded-lg border border-neutral-border-light/30 dark:border-neutral-border-dark/30",children:[u.jsx("h3",{className:r,children:t("footer.settingsSocial","Settings & Social")}),u.jsx("div",{className:"mb-space-md",children:u.jsx(Nx,{})}),u.jsxs("div",{className:"flex space-x-space-md",children:[u.jsx("a",{href:"#","aria-label":"Twitter",className:i,children:u.jsx(Mq,{})}),u.jsx("a",{href:"#","aria-label":"LinkedIn",className:i,children:u.jsx(Oq,{})}),u.jsx("a",{href:"#","aria-label":"GitHub",className:i,children:u.jsx(Lq,{})}),u.jsx("a",{href:"#","aria-label":"Instagram",className:`${n} ${i}`,children:u.jsx(Vq,{})})," "]})]})]}),u.jsx("div",{className:"border-t border-neutral-border-light dark:border-neutral-border-dark pt-space-md text-center text-xs text-text-muted-light dark:text-text-muted-dark",children:u.jsxs("p",{children:["© ",e," ",t("footer.companyName","Gonorte"),". ",t("footer.allRightsReserved","All rights reserved.")]})})]})})},zq=()=>{const{pathname:t}=mr();return C.useEffect(()=>{try{window.scrollTo(0,0)}catch(e){console.error("ScrollToTop failed:",e)}},[t]),null},Fq=()=>{const{t}=mt(),[e,n]=CS("cookieConsentAccepted",!1),[r,i]=C.useState(!1);C.useEffect(()=>{const c=setTimeout(()=>{e||i(!0)},100);return()=>clearTimeout(c)},[e]);const o=()=>{n(!0),i(!1)};return u.jsx(Vd,{children:r&&u.jsx(Ae.div,{role:"region","aria-label":t("cookieConsentBannerLabel","Cookie Consent Banner"),className:"fixed bottom-0 z-[100] w-full bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark p-space-md shadow-[-2px_0px_15px_rgba(0,0,0,0.2)] transition-colors duration-300",initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{type:"tween",duration:.3},children:u.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row items-center justify-between gap-space-md",children:[u.jsx("p",{className:"text-sm flex-grow",children:t("cookieConsentText","We use cookies to improve your experience. By using our site, you agree to our use of cookies.")}),u.jsx("button",{onClick:o,className:"bg-primary-DEFAULT hover:bg-primary-hover active:bg-primary-active text-text-default-dark dark:text-text-default-light font-semibold py-space-xs px-space-md rounded-radius-md transition-all whitespace-nowrap","aria-label":t("cookieConsentAcceptLabel","Accept cookie usage"),children:t("cookieConsentAccept","Accept")})]})})})},Bq=()=>{const t=mr();return u.jsxs(u.Fragment,{children:[u.jsx(zq,{})," ",u.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-default transition-colors duration-700",children:[u.jsx(Dq,{}),u.jsxs("main",{className:"flex-1 pt-16 lg:pt-20 min-h-[calc(100vh-4rem)] lg:min-h-[calc(100vh-5rem)]",children:[" ",u.jsx(Vd,{mode:"wait",children:u.jsx(Cs.Fragment,{children:u.jsx(KE,{})},t.pathname)})]}),u.jsx(Uq,{})]}),u.jsx(Fq,{})," "]})},Cc=({children:t,className:e})=>u.jsx(Ae.div,{className:`min-h-full w-full ${e||""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{overflowX:"hidden"},children:t}),qq="/gonorte_2.0/assets/carmen-placeholder-D-rZjo2G.webp",Hq=()=>{const{t}=mt();return u.jsxs("section",{className:"relative w-full min-h-screen text-text-default-dark overflow-hidden bg-cover bg-center flex flex-col justify-center items-center p-4 sm:p-8",style:{backgroundImage:`url(${qq})`},children:[u.jsx("div",{className:"absolute inset-0 bg-neutral-background-dark opacity-70"})," ",u.jsxs("div",{className:"relative z-10 container mx-auto flex flex-col items-center justify-center text-center max-w-3xl",children:[u.jsx(Ae.h1,{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-6 sm:mb-8 leading-tight text-text-default-dark",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:t("heroTitleCarmen","Lucha por tu cambio. Con biomecánica, con propósito, con confianza.")}),u.jsx(Ae.div,{className:"flex flex-col sm:flex-row justify-center items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:u.jsxs(Ae.button,{className:"group relative px-8 py-4 sm:px-10 sm:py-5 bg-primary-DEFAULT hover:bg-primary-hover active:bg-primary-active text-text-default-dark font-semibold rounded-lg shadow-xl hover:shadow-primary-dark/30 transition-all duration-300 transform hover:scale-105 text-md sm:text-lg",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>console.log("Primary CTA clicked"),children:[u.jsx("span",{className:"relative z-10",children:t("heroCTACarmen","Empieza tu cambio")}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-hover to-primary-active rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]})]})},Gq=()=>u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),$q=()=>u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-emerald-500 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),Kq=()=>u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-500 to-teal-500 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),Yq=[{id:"feature1",icon:Gq,titleKey:"feature1Title",defaultTitle:"Entrenamiento Personalizado",descriptionKey:"feature1Desc",defaultDescription:"Planes de entrenamiento individualizados diseñados específicamente para tus objetivos y nivel de fitness."},{id:"feature2",icon:$q,titleKey:"feature2Title",defaultTitle:"Asesoría Nutricional",descriptionKey:"feature2Desc",defaultDescription:"Guía nutricional personalizada para complementar tu entrenamiento y maximizar tus resultados."},{id:"feature3",icon:Kq,titleKey:"feature3Title",defaultTitle:"Entrenamiento Online",descriptionKey:"feature3Desc",defaultDescription:"Accede a tus rutinas desde cualquier lugar con entrenamiento virtual flexible y efectivo."}],Qq=()=>{const{t}=mt(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return u.jsx("section",{className:"w-full bg-background dark:bg-neutral-background-dark py-20 md:py-32",children:u.jsxs("div",{className:"container mx-auto px-space-md text-center",children:[u.jsxs(Ae.div,{className:"mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5},children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-slate-800 to-teal-800 dark:from-slate-200 dark:to-teal-300 bg-clip-text text-transparent",children:t("featuresTitle","Por Qué Elegir Gonorte")}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("featuresSubtitle","Descubre las ventajas de entrenar con una profesional certificada que se adapta a tus necesidades")})]}),u.jsx(Ae.div,{className:"grid md:grid-cols-3 gap-8 lg:gap-12",variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:Yq.map((r,i)=>u.jsxs(Ae.div,{className:"group relative bg-surface dark:bg-neutral-surface-dark p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-300 dark:border-slate-600",variants:n,children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx(r.icon,{})}),u.jsx("h3",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-slate-200 group-hover:text-teal-700 dark:group-hover:text-teal-300 transition-colors duration-300",children:t(r.titleKey,r.defaultTitle)}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:t(r.descriptionKey,r.defaultDescription)}),u.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-to-r from-teal-500 to-cyan-500 rounded-full flex items-center justify-center text-white text-sm font-bold opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:i+1})]})]},r.id))}),u.jsx(Ae.div,{className:"mt-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:u.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-600 rounded-2xl p-8 md:p-12 text-white",children:[u.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:t("featuresCTA","¿Listo para Transformar Tu Vida?")}),u.jsx("p",{className:"text-lg mb-6 opacity-90",children:t("featuresCTASubtitle","Únete a cientos de personas que ya han alcanzado sus metas con Gonorte")}),u.jsx(Ae.button,{className:"bg-white text-teal-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:t("featuresCTAButton","Comenzar Ahora")})]})})]})})},Xq=[{id:"stat1",number:"500+",labelKey:"statsClients",defaultLabel:"Clientes Transformados",icon:"💪"},{id:"stat2",number:"5+",labelKey:"statsYears",defaultLabel:"Años de Experiencia",icon:"⭐"},{id:"stat3",number:"98%",labelKey:"statsSuccess",defaultLabel:"Tasa de Éxito",icon:"🎯"},{id:"stat4",number:"24/7",labelKey:"statsSupport",defaultLabel:"Soporte Disponible",icon:"📱"}],Wq=()=>{const{t}=mt(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return u.jsxs("section",{className:"w-full bg-gradient-to-r from-slate-900 via-teal-900 to-slate-900 dark:from-slate-950 dark:via-teal-950 dark:to-slate-950 py-20 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 opacity-5",children:u.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),u.jsx(Ae.div,{className:"absolute top-10 left-20 w-16 h-16 bg-gradient-to-r from-teal-500 to-cyan-500 rounded-full opacity-10 blur-xl",animate:{y:[0,-15,0],scale:[1,1.1,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),u.jsx(Ae.div,{className:"absolute bottom-10 right-20 w-20 h-20 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-full opacity-10 blur-xl",animate:{y:[0,15,0],scale:[1,.9,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),u.jsxs("div",{className:"relative container mx-auto px-space-md",children:[u.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-teal-200 bg-clip-text text-transparent",children:t("statsTitle","Resultados que Hablan por Sí Mismos")}),u.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:t("statsSubtitle","Estos números representan la dedicación y el compromiso con la excelencia en el entrenamiento personal")})]}),u.jsx(Ae.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-8",variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:Xq.map(r=>u.jsx(Ae.div,{className:"text-center group",variants:n,children:u.jsxs("div",{className:"relative",children:[u.jsx(Ae.div,{className:"text-4xl mb-4 inline-block",whileHover:{scale:1.1,rotate:5},transition:{duration:.3},children:r.icon}),u.jsx(Ae.div,{className:"text-4xl md:text-5xl font-bold text-white mb-2 group-hover:text-teal-300 transition-colors duration-300",initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,type:"spring",stiffness:200},children:r.number}),u.jsx("p",{className:"text-gray-300 text-sm md:text-base font-medium",children:t(r.labelKey,r.defaultLabel)}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500/10 to-cyan-500/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]})},r.id))}),u.jsx(Ae.div,{className:"text-center mt-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:u.jsxs("div",{className:"inline-flex items-center space-x-2 text-teal-300 hover:text-white transition-colors duration-300 cursor-pointer",children:[u.jsx("span",{className:"text-lg font-medium",children:t("statsCTA","¿Quieres ser parte de estas estadísticas?")}),u.jsx(Ae.svg,{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:{x:5},transition:{duration:.3},children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})]})},Zq="/gonorte_2.0/assets/perfil-CfdcTZFo.webp",Jq=()=>{const{t}=mt(),e=[{id:1,name:t("certification1","Entrenadora Personal Certificada"),icon:"🏆"},{id:2,name:t("certification2","Especialista en Nutrición Deportiva"),icon:"🥗"},{id:3,name:t("certification3","Instructora de Yoga y Pilates"),icon:"🧘‍♀️"},{id:4,name:t("certification4","Coach de Bienestar Integral"),icon:"💚"}],n=[{id:1,number:"500+",label:t("achievement1","Clientes Transformados")},{id:2,number:"5+",label:t("achievement2","Años de Experiencia")},{id:3,number:"98%",label:t("achievement3","Tasa de Satisfacción")}];return u.jsx("section",{className:"w-full bg-gradient-to-b from-slate-50 to-white dark:from-slate-900 dark:to-slate-800 py-20 md:py-32",children:u.jsxs("div",{className:"container mx-auto px-space-md",children:[u.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-slate-800 to-teal-800 dark:from-slate-200 dark:to-teal-300 bg-clip-text text-transparent",children:t("profileTitle","Conoce a Gonorte")}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("profileSubtitle","Tu entrenadora personal dedicada a transformar vidas a través del fitness y el bienestar")})]}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[u.jsx(Ae.div,{className:"relative",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-3xl transform rotate-3 scale-105 opacity-20"}),u.jsx("div",{className:"relative bg-white dark:bg-slate-800 rounded-3xl p-4 shadow-2xl",children:u.jsx("div",{className:"rounded-2xl overflow-hidden bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900 dark:to-cyan-900 max-w-sm w-full min-h-[500px] mx-auto flex items-center justify-center",children:u.jsx("img",{src:Zq,alt:t("profilePhotoAlt","Foto de Gonorte"),className:"w-full h-full object-contain rounded-2xl shadow-lg"})})}),u.jsx(Ae.div,{className:"absolute -top-4 -right-4 bg-gradient-to-r from-teal-500 to-cyan-500 text-white p-3 rounded-full shadow-lg",initial:{scale:0,rotate:-180},whileInView:{scale:1,rotate:0},viewport:{once:!0},transition:{duration:.6,delay:.3},children:u.jsx("span",{className:"text-2xl",children:"🏆"})}),u.jsx(Ae.div,{className:"absolute -bottom-4 -left-4 bg-gradient-to-r from-blue-500 to-teal-500 text-white p-3 rounded-full shadow-lg",initial:{scale:0,rotate:180},whileInView:{scale:1,rotate:0},viewport:{once:!0},transition:{duration:.6,delay:.5},children:u.jsx("span",{className:"text-2xl",children:"💪"})})]})}),u.jsxs(Ae.div,{className:"space-y-8",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:t("profileName","Gonorte")}),u.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed mb-6",children:t("profileDescription","Soy una entrenadora personal apasionada por el fitness y el bienestar. Con más de 5 años de experiencia, he ayudado a cientos de personas a alcanzar sus metas de salud y transformar sus vidas a través del ejercicio físico y la nutrición equilibrada.")}),u.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:t("profileMission","Mi misión es inspirar y guiar a cada persona en su viaje hacia una vida más saludable, proporcionando programas personalizados que se adapten a sus necesidades, objetivos y estilo de vida.")})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200 mb-4",children:t("profileCertifications","Certificaciones y Especialidades")}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map((r,i)=>u.jsxs(Ae.div,{className:"flex items-center space-x-3 p-3 bg-white dark:bg-slate-700 rounded-lg shadow-sm border border-gray-100 dark:border-slate-600",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1*i},children:[u.jsx("span",{className:"text-2xl",children:r.icon}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.name})]},r.id))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200 mb-4",children:t("profileAchievements","Logros Destacados")}),u.jsx("div",{className:"flex space-x-6",children:n.map((r,i)=>u.jsxs(Ae.div,{className:"text-center",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:.2*i},children:[u.jsx("div",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:r.number}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.label})]},r.id))})]}),u.jsx(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:u.jsx("button",{className:"bg-gradient-to-r from-teal-600 to-cyan-600 text-white px-8 py-3 rounded-full font-semibold hover:from-teal-700 hover:to-cyan-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:t("profileCTA","Conoce Mi Historia Completa")})})]})]})]})})},eH=[{id:"personal-training",titleKey:"service1Title",defaultTitle:"Entrenamiento Personalizado",descriptionKey:"service1Desc",defaultDescription:"Planes completamente personalizados adaptados a tus objetivos, nivel y estilo de vida.",icon:"💪",features:["Evaluación inicial completa","Plan de entrenamiento personalizado","Seguimiento semanal","Ajustes según progreso","Soporte 24/7"],price:"Desde $80/mes"},{id:"nutrition-coaching",titleKey:"service2Title",defaultTitle:"Asesoría Nutricional",descriptionKey:"service2Desc",defaultDescription:"Guía nutricional personalizada para complementar tu entrenamiento y maximizar resultados.",icon:"🥗",features:["Análisis de composición corporal","Plan nutricional personalizado","Recetas y menús semanales","Educación nutricional","Seguimiento de progreso"],price:"Desde $60/mes"},{id:"online-classes",titleKey:"service3Title",defaultTitle:"Clases Online",descriptionKey:"service3Desc",defaultDescription:"Entrena desde donde quieras con clases en vivo y rutinas grabadas de alta calidad.",icon:"🏠",features:["Clases en vivo diarias","Biblioteca de rutinas","Diferentes niveles","Comunidad online","Acceso 24/7"],price:"Desde $40/mes",popular:!0},{id:"rehabilitation",titleKey:"service4Title",defaultTitle:"Rehabilitación y Recuperación",descriptionKey:"service4Desc",defaultDescription:"Programas especializados para recuperación de lesiones y mejora de movilidad.",icon:"🩺",features:["Evaluación de lesiones","Programa de rehabilitación","Ejercicios de movilidad","Prevención de recaídas","Seguimiento médico"],price:"Desde $100/mes"},{id:"sports-training",titleKey:"service5Title",defaultTitle:"Entrenamiento Deportivo",descriptionKey:"service5Desc",defaultDescription:"Mejora tu rendimiento deportivo con entrenamiento específico para tu disciplina.",icon:"⚽",features:["Análisis de rendimiento","Entrenamiento específico","Mejora de habilidades","Preparación física","Planificación de temporada"],price:"Desde $90/mes"},{id:"group-sessions",titleKey:"service6Title",defaultTitle:"Sesiones Grupales",descriptionKey:"service6Desc",defaultDescription:"Entrena en grupo con amigos o familiares para mayor motivación y diversión.",icon:"👥",features:["Sesiones de 2-6 personas","Precios reducidos","Entrenamiento divertido","Motivación grupal","Horarios flexibles"],price:"Desde $30/persona"}],tH=()=>{const{t}=mt(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},n={hidden:{opacity:0,y:50,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:"easeOut"}}};return u.jsx("section",{className:"w-full py-20 lg:py-32 bg-surface dark:bg-neutral-surface-dark",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:[u.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6 bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:t("servicesTitle","Mis Servicios")}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("servicesSubtitle","Ofrezco una amplia gama de servicios personalizados para ayudarte a alcanzar tus objetivos fitness de manera efectiva y sostenible")})]}),u.jsx(Ae.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},children:eH.map((r,i)=>u.jsxs(Ae.div,{className:"group relative",variants:n,whileHover:{y:-8,scale:1.02},transition:{duration:.3},children:[r.popular&&u.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-10",children:u.jsx("span",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg",children:t("popularBadge","Más Popular")})}),u.jsxs("div",{className:`bg-surface dark:bg-neutral-surface-dark rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border ${r.popular?"border-teal-500 dark:border-teal-400":"border-gray-300 dark:border-teal-700"} relative overflow-hidden h-full`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-full -translate-y-16 translate-x-16 opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),u.jsx("div",{className:"text-5xl mb-6 relative z-10",children:r.icon}),u.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white relative z-10",children:t(r.titleKey,r.defaultTitle)}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 leading-relaxed relative z-10",children:t(r.descriptionKey,r.defaultDescription)}),u.jsx("ul",{className:"space-y-3 mb-8 relative z-10",children:r.features.map((o,c)=>u.jsxs("li",{className:"flex items-center text-gray-700 dark:text-gray-200",children:[u.jsx("svg",{className:"w-5 h-5 text-teal-500 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o]},c))}),r.price&&u.jsx("div",{className:"mb-6 relative z-10",children:u.jsx("p",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:r.price})}),u.jsx(Ae.button,{className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 relative z-10 ${r.popular?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-teal-50 dark:hover:bg-teal-900/20"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:t("serviceCTA","Comenzar")}),u.jsx("div",{className:"absolute bottom-4 right-4 w-8 h-8 bg-gradient-to-br from-teal-400 to-cyan-400 rounded-full opacity-20 group-hover:opacity-40 transition-opacity duration-300"})]})]},r.id))}),u.jsxs(Ae.div,{className:"text-center mt-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6,delay:.3},children:[u.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:t("servicesCTA","¿No encuentras lo que buscas? Contáctame para un plan personalizado")}),u.jsx(Ae.button,{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:t("servicesCTAButton","Consulta Personalizada")})]})]})})},nH=[{id:"gonorteTestimonial1",quoteKey:"gonorteTestimonial1Quote",defaultQuote:"¡Increíble transformación! Gracias a Gonorte y su método personalizado, perdí 15kg en 6 meses y me siento con más energía que nunca. Su enfoque en la nutrición y el entrenamiento funcional cambió mi vida completamente.",authorKey:"gonorteTestimonial1Author",defaultAuthor:"Ana Pérez",roleKey:"gonorteTestimonial1Details",defaultRole:"Plan de Pérdida de Peso",rating:5,avatar:"👩‍💼"},{id:"gonorteTestimonial2",quoteKey:"gonorteTestimonial2Quote",defaultQuote:"Las rutinas online son súper prácticas y efectivas. He ganado mucha fuerza y resistencia entrenando desde casa. Gonorte siempre está disponible para ajustar los ejercicios según mi progreso.",authorKey:"gonorteTestimonial2Author",defaultAuthor:"Carlos López",roleKey:"gonorteTestimonial2Details",defaultRole:"Rutinas Online de Fuerza",rating:5,avatar:"👨‍💻"},{id:"gonorteTestimonial3",quoteKey:"gonorteTestimonial3Quote",defaultQuote:"El asesoramiento nutricional fue clave para mi transformación. Aprendí a comer de forma inteligente y complementó perfectamente mi entrenamiento. Ahora tengo hábitos saludables que mantendré toda la vida.",authorKey:"gonorteTestimonial3Author",defaultAuthor:"Laura Gómez",roleKey:"gonorteTestimonial3Details",defaultRole:"Asesoramiento Nutricional",rating:5,avatar:"👩‍⚕️"},{id:"gonorteTestimonial4",quoteKey:"gonorteTestimonial4Quote",defaultQuote:"Como principiante, estaba muy nerviosa por empezar. Gonorte me hizo sentir cómoda desde el primer día. Su paciencia y conocimiento me han ayudado a construir confianza y fuerza gradualmente.",authorKey:"gonorteTestimonial4Author",defaultAuthor:"María Rodríguez",roleKey:"gonorteTestimonial4Details",defaultRole:"Entrenamiento para Principiantes",rating:5,avatar:"👩‍🎓"},{id:"gonorteTestimonial5",quoteKey:"gonorteTestimonial5Quote",defaultQuote:"Después de una lesión, necesitaba rehabilitación específica. Gonorte diseñó un programa perfecto que me ayudó a recuperarme y volver más fuerte que antes. Su experiencia es invaluable.",authorKey:"gonorteTestimonial5Author",defaultAuthor:"David Martínez",roleKey:"gonorteTestimonial5Details",defaultRole:"Rehabilitación y Recuperación",rating:5,avatar:"👨‍🦽"},{id:"gonorteTestimonial6",quoteKey:"gonorteTestimonial6Quote",defaultQuote:"Los resultados han sido increíbles. En solo 3 meses, he mejorado mi rendimiento deportivo significativamente. Gonorte entiende perfectamente las necesidades de los atletas.",authorKey:"gonorteTestimonial6Author",defaultAuthor:"Sofía Torres",roleKey:"gonorteTestimonial6Details",defaultRole:"Entrenamiento Deportivo",rating:5,avatar:"🏃‍♀️"}],rH=({rating:t})=>u.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((e,n)=>u.jsx("svg",{className:`w-4 h-4 ${n<t?"text-yellow-400":"text-gray-300 dark:text-gray-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},n))}),aH=()=>{const{t}=mt(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},n={hidden:{opacity:0,y:50,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:"easeOut"}}};return u.jsx("section",{className:"w-full py-20 lg:py-32 bg-gradient-to-br from-gray-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-teal-900/20",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:[u.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6 bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:t("testimonialsTitle","Lo Que Dicen Mis Clientes")}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("testimonialsSubtitle","Descubre las transformaciones reales y testimonios de clientes que han alcanzado sus objetivos con mi método personalizado")})]}),u.jsx(Ae.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},children:nH.map((r,i)=>u.jsx(Ae.div,{className:"group relative",variants:n,whileHover:{y:-8,scale:1.02},transition:{duration:.3},children:u.jsxs("div",{className:"bg-surface dark:bg-neutral-surface-dark rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-300 dark:border-teal-700 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-full -translate-y-16 translate-x-16 opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),u.jsx("div",{className:"absolute top-6 left-6 text-4xl text-teal-200 dark:text-teal-700 opacity-50",children:'"'}),u.jsx("div",{className:"mb-4",children:u.jsx(rH,{rating:r.rating})}),u.jsx("blockquote",{className:"text-gray-700 dark:text-gray-200 text-lg leading-relaxed mb-6 relative z-10",children:t(r.quoteKey,r.defaultQuote)}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"text-3xl",children:r.avatar}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t(r.authorKey,r.defaultAuthor)}),r.roleKey&&u.jsx("p",{className:"text-sm text-teal-600 dark:text-teal-400 font-medium",children:t(r.roleKey,r.defaultRole||"")})]})]}),u.jsx("div",{className:"absolute bottom-4 right-4 w-8 h-8 bg-gradient-to-br from-teal-400 to-cyan-400 rounded-full opacity-20 group-hover:opacity-40 transition-opacity duration-300"})]})},r.id))}),u.jsxs(Ae.div,{className:"text-center mt-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6,delay:.3},children:[u.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:t("testimonialsCTA","¿Listo para tu transformación? Únete a estos clientes satisfechos")}),u.jsx(Ae.button,{className:"bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:t("testimonialsCTAButton","Comenzar Mi Transformación")})]})]})})},iH=[{id:1,questionKey:"faq1Question",defaultQuestion:"¿Cómo funciona el entrenamiento personalizado?",answerKey:"faq1Answer",defaultAnswer:"El entrenamiento personalizado se adapta completamente a tus necesidades. Primero realizamos una evaluación inicial de tu condición física, objetivos y disponibilidad. Luego diseñamos un programa específico que incluye ejercicios, rutinas y seguimiento continuo para maximizar tus resultados."},{id:2,questionKey:"faq2Question",defaultQuestion:"¿Ofrecen entrenamiento online?",answerKey:"faq2Answer",defaultAnswer:"¡Sí! Ofrecemos entrenamiento online completo con rutinas personalizadas, videos explicativos, seguimiento semanal y soporte 24/7. Puedes entrenar desde casa o donde quieras, manteniendo la misma calidad y personalización que el entrenamiento presencial."},{id:3,questionKey:"faq3Question",defaultQuestion:"¿Qué incluye el asesoramiento nutricional?",answerKey:"faq3Answer",defaultAnswer:"El asesoramiento nutricional incluye un plan de alimentación personalizado, educación sobre nutrición, seguimiento de progreso, ajustes según tus resultados y soporte continuo. No se trata de dietas restrictivas, sino de crear hábitos saludables y sostenibles."},{id:4,questionKey:"faq4Question",defaultQuestion:"¿Cuánto tiempo necesito para ver resultados?",answerKey:"faq4Answer",defaultAnswer:"Los resultados varían según cada persona, pero típicamente puedes notar mejoras en energía y bienestar desde la primera semana. Cambios físicos más notables suelen aparecer entre 4-8 semanas con constancia en el entrenamiento y nutrición."},{id:5,questionKey:"faq5Question",defaultQuestion:"¿Trabajan con principiantes?",answerKey:"faq5Answer",defaultAnswer:"¡Absolutamente! Nos especializamos en trabajar con personas de todos los niveles, desde principiantes hasta avanzados. Cada programa se adapta a tu nivel actual, progresando gradualmente para evitar lesiones y maximizar resultados."},{id:6,questionKey:"faq6Question",defaultQuestion:"¿Qué equipamiento necesito para entrenar?",answerKey:"faq6Answer",defaultAnswer:"Para empezar, solo necesitas tu cuerpo y ganas de entrenar. Muchos ejercicios se pueden hacer sin equipamiento. Si tienes acceso a pesas, bandas de resistencia o una pelota de ejercicio, podemos incorporarlos, pero no son necesarios para comenzar."}],sH=()=>{const{t}=mt(),[e,n]=C.useState([]),r=i=>{n(o=>o.includes(i)?o.filter(c=>c!==i):[...o,i])};return u.jsx("section",{className:"w-full bg-gradient-to-b from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 py-20 md:py-32",children:u.jsxs("div",{className:"container mx-auto px-space-md",children:[u.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 break-words whitespace-normal text-slate-800 dark:text-slate-200",children:t("faqTitle","Preguntas Frecuentes")}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("faqSubtitle","Resolvemos las dudas más comunes sobre nuestros servicios de entrenamiento personal")})]}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("div",{className:"space-y-4",children:iH.map((i,o)=>u.jsxs(Ae.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-300 dark:border-teal-700 overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.1},children:[u.jsxs("button",{className:"w-full px-6 py-6 text-left flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors duration-200",onClick:()=>r(i.id),children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 pr-4",children:t(i.questionKey,i.defaultQuestion)}),u.jsx(Ae.div,{className:"flex-shrink-0 w-6 h-6 text-teal-600 dark:text-teal-400",animate:{rotate:e.includes(i.id)?180:0},transition:{duration:.3},children:u.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),u.jsx(Vd,{children:e.includes(i.id)&&u.jsx(Ae.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:u.jsx("div",{className:"px-6 pb-6",children:u.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-slate-600",children:u.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:t(i.answerKey,i.defaultAnswer)})})})})})]},i.id))}),u.jsx(Ae.div,{className:"text-center mt-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:u.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-600 rounded-2xl p-8 md:p-12 text-white",children:[u.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:t("faqCTA","¿Tienes más preguntas?")}),u.jsx("p",{className:"text-lg mb-6 opacity-90",children:t("faqCTASubtitle","No dudes en contactarme para resolver cualquier duda sobre tu entrenamiento personal")}),u.jsx(Ae.button,{className:"bg-white text-teal-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:t("faqCTAButton","Contactar Ahora")})]})})]})]})})},oH=[{icon:"📧",titleKey:"contactEmailTitle",defaultTitle:"Email",valueKey:"contactEmail",defaultValue:"gonorte@fitness.com",link:"mailto:gonorte@fitness.com"},{icon:"📱",titleKey:"contactPhoneTitle",defaultTitle:"Teléfono",valueKey:"contactPhone",defaultValue:"+34 600 123 456",link:"tel:+34600123456"},{icon:"📍",titleKey:"contactLocationTitle",defaultTitle:"Ubicación",valueKey:"contactLocation",defaultValue:"Madrid, España"}],lH=[{icon:"📘",name:"Facebook",url:"#",color:"hover:bg-blue-500"},{icon:"📷",name:"Instagram",url:"#",color:"hover:bg-pink-500"},{icon:"🐦",name:"Twitter",url:"#",color:"hover:bg-blue-400"},{icon:"💼",name:"LinkedIn",url:"#",color:"hover:bg-blue-600"}],cH=()=>{const{t}=mt(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},n={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return u.jsx("section",{className:"w-full py-20 lg:py-32 bg-gradient-to-br from-gray-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-teal-900/20",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs(Ae.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:[u.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6 bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:t("contactTitle","Ponte en Contacto")}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:t("contactSubtitle","¿Listo para comenzar tu transformación? Contáctame y juntos crearemos el plan perfecto para alcanzar tus objetivos")})]}),u.jsxs(Ae.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},children:[u.jsx(Ae.div,{variants:n,className:"order-2 lg:order-1",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-100 dark:border-gray-700",children:[u.jsx("h3",{className:"text-2xl font-bold mb-8 text-gray-900 dark:text-white",children:t("contactInfoTitle","Información de Contacto")}),u.jsx("div",{className:"space-y-6",children:oH.map((r,i)=>u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"text-2xl",children:r.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:t(r.titleKey,r.defaultTitle)}),r.link?u.jsx("a",{href:r.link,className:"text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 transition-colors",children:t(r.valueKey,r.defaultValue)}):u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t(r.valueKey,r.defaultValue)})]})]},i))}),u.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:t("contactSocialTitle","Sígueme en Redes Sociales")}),u.jsx("div",{className:"flex space-x-4",children:lH.map((r,i)=>u.jsx("a",{href:r.url,className:`w-12 h-12 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-xl transition-all duration-300 ${r.color} hover:scale-110`,"aria-label":r.name,children:r.icon},i))})]}),u.jsx("div",{className:"mt-8 p-4 bg-teal-50 dark:bg-teal-900/20 rounded-xl border border-teal-200 dark:border-teal-800",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-teal-800 dark:text-teal-200",children:t("contactQuickResponseTitle","Respuesta Rápida")}),u.jsx("p",{className:"text-sm text-teal-700 dark:text-teal-300",children:t("contactQuickResponseText","Suelo responder en menos de 24 horas. ¡No dudes en contactarme!")})]})]})})]})}),u.jsx(Ae.div,{variants:n,className:"order-1 lg:order-2",children:u.jsx("div",{className:"bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl p-8 text-white shadow-xl",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-6xl mb-6",children:"💪"}),u.jsx("h3",{className:"text-3xl font-bold mb-4",children:t("contactReadyTitle","¿Listo para tu Transformación?")}),u.jsx("p",{className:"text-xl mb-8 opacity-90",children:t("contactReadyText","Comienza tu viaje hacia una vida más saludable y en forma. Te ayudo a alcanzar tus objetivos fitness de manera personalizada y efectiva.")}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(zt,{to:"/contact",className:"inline-block w-full bg-white text-teal-600 font-semibold py-4 px-8 rounded-xl hover:bg-gray-50 transition-colors transform hover:scale-105",children:t("contactCTA","Enviar Mensaje")}),u.jsx("a",{href:"tel:+34600123456",className:"inline-block w-full bg-teal-600 text-white font-semibold py-4 px-8 rounded-xl hover:bg-teal-700 transition-colors border-2 border-white/20",children:t("contactCallCTA","Llamar Ahora")})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-white/20",children:u.jsx("p",{className:"text-sm opacity-80",children:t("contactAvailable","Disponible ahora")})})]})})})]})]})})},uH=()=>u.jsxs(Cc,{className:"flex flex-col items-center w-full min-h-full",children:[u.jsx(Hq,{}),u.jsx(Qq,{}),u.jsx(Wq,{}),u.jsx(Jq,{}),u.jsx(tH,{}),u.jsx(aH,{}),u.jsx(sH,{}),u.jsx(cH,{})]}),dH=()=>{const{t}=mt();return u.jsxs(Cc,{className:"container mx-auto px-space-md py-12 min-h-full flex flex-col",children:[u.jsx("h1",{className:"text-4xl font-bold mb-space-lg text-primary text-center",children:t("aboutTitle","Gonorte - About Me")}),u.jsxs("div",{className:"max-w-3xl mx-auto text-text-default dark:text-text-default-dark space-y-space-md text-left",children:[u.jsx("h2",{className:"text-3xl font-semibold mb-space-md text-primary dark:text-primary-dark",children:t("aboutSectionMainHeading","Conoce a tu Entrenador")}),u.jsx("p",{children:t("aboutParagraph1","Hola, soy [Nombre del Entrenador], tu entrenador personal y coach de fitness en Gonorte.")}),u.jsx("p",{children:t("aboutParagraph2","Desde que tengo memoria, el deporte y la actividad física han sido una parte fundamental de mi vida. Esta pasión me llevó a estudiar ciencias del deporte y a certificarme como entrenador personal, con el objetivo de compartir mis conocimientos y ayudar a otros a descubrir los beneficios de un cuerpo activo y una mente sana.")}),u.jsx("p",{children:t("aboutParagraph3","Mi misión es ayudarte a alcanzar tus objetivos de fitness, ya sea perder peso, ganar músculo, mejorar tu resistencia o simplemente adoptar un estilo de vida más saludable. Creo en un enfoque personalizado, adaptando cada programa de entrenamiento y plan nutricional a tus necesidades, preferencias y capacidades individuales.")}),u.jsx("p",{children:t("aboutParagraph4","Con años de experiencia y una dedicación continua al estudio del bienestar y el rendimiento humano, estoy aquí para guiarte y motivarte en cada paso de tu transformación. Juntos, podemos superar obstáculos, establecer metas realistas y celebrar cada logro en tu camino hacia una mejor versión de ti mismo.")}),u.jsx("h2",{className:"text-3xl font-semibold mb-space-md text-primary dark:text-primary-dark mt-space-xl",children:t("aboutSectionCertifications","Certificaciones y Especialidades")}),u.jsx("p",{children:t("aboutParagraph5","Mi formación incluye certificaciones en entrenamiento personal, nutrición deportiva, rehabilitación funcional y coaching de vida. Me especializo en entrenamiento de fuerza, pérdida de peso, rehabilitación post-lesión y preparación física para deportes específicos.")}),u.jsx("h2",{className:"text-3xl font-semibold mb-space-md text-primary dark:text-primary-dark mt-space-xl",children:t("aboutSectionPhilosophy","Mi Filosofía")}),u.jsx("p",{children:t("aboutParagraph6","Creo firmemente que el fitness no es solo una cuestión física, sino un viaje integral que abarca mente, cuerpo y espíritu. Mi enfoque se basa en la educación, la motivación sostenible y la creación de hábitos duraderos que transformen tu vida más allá del gimnasio.")}),u.jsxs("div",{className:"mt-space-xl p-space-md bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50 rounded-lg border border-neutral-border-light/30 dark:border-neutral-border-dark/30",children:[u.jsx("h3",{className:"text-xl font-semibold mb-space-sm text-primary dark:text-primary-dark",children:t("aboutSectionCommitment","Mi Compromiso Contigo")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("aboutParagraph7","Te prometo un acompañamiento personalizado, honesto y comprometido. Juntos trabajaremos para alcanzar tus objetivos, superando cualquier obstáculo y celebrando cada pequeño logro en el camino hacia tu mejor versión.")})]})]})]})},hH=[{id:1,name:"Cosmic Ray Analyzer",description:"A tool for visualizing cosmic ray data from various observatories.",tech:["React","D3.js","Python"]},{id:2,name:"Stellar Navigation UI",description:"Next-generation user interface for interstellar spacecraft.",tech:["TypeScript","WebGL","Rust"]},{id:3,name:"Planet Colonization Sim",description:"A simulation game about establishing a colony on a new planet.",tech:["C#","Unity","Blender"]}],fH=()=>{const{t}=mt();return u.jsxs(Cc,{className:"container mx-auto px-space-md py-12",children:[u.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-primary",children:t("projectsTitle")}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-space-xl",children:hH.map((e,n)=>u.jsxs(Ae.div,{className:"bg-surface p-space-lg rounded-radius-lg shadow-lg hover:shadow-xl transition-shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},children:[u.jsx("h2",{className:"text-2xl font-semibold mb-space-sm text-primary",children:e.name}),u.jsx("p",{className:"text-text-muted mb-space-md",children:e.description}),u.jsx("div",{className:"flex flex-wrap gap-space-sm",children:e.tech.map(r=>u.jsx("span",{className:"px-2 py-1 bg-primary/20 text-primary-dark dark:bg-primary/30 dark:text-primary-light text-xs rounded-radius-full",children:r},r))})]},e.id))})]})},mH=({className:t})=>u.jsxs("svg",{width:"100%",height:"200",viewBox:"0 0 400 200",className:`bg-neutral-surface dark:bg-neutral-border ${t||""}`,xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{width:"400",height:"200",fill:"currentColor"}),u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"sans-serif",fontSize:"24px",className:"fill-text-muted dark:fill-text-muted-dark",children:"Image"})]}),pH=({title:t,description:e,imageUrl:n,price:r,actionText:i,onAction:o,tags:c})=>u.jsxs(Ae.div,{className:"bg-surface rounded-radius-lg shadow-lg overflow-hidden flex flex-col h-full",whileHover:{y:-5,scale:1.05},transition:{type:"spring",stiffness:300},children:[n?u.jsx("img",{src:n,alt:t,className:"w-full h-48 object-cover"}):u.jsx(mH,{className:"h-48"}),u.jsxs("div",{className:"p-space-md flex flex-col flex-grow",children:[u.jsx("h3",{className:"text-xl font-semibold text-primary dark:text-primary-dark mb-space-xs",children:t}),u.jsx("p",{className:"text-text-muted text-sm mb-space-sm flex-grow min-h-[60px]",children:e}),c&&c.length>0&&u.jsx("div",{className:"mb-space-sm flex flex-wrap gap-space-xs",children:c.map((d,f)=>u.jsx("span",{className:"text-xs bg-accent/20 text-accent-dark dark:bg-accent/30 dark:text-accent-light px-2 py-1 rounded-radius-full",children:d},f))}),r&&u.jsx("p",{className:"text-lg font-bold text-text-default dark:text-text-default-dark mb-space-md",children:r}),i&&o&&u.jsx("button",{onClick:o,className:"mt-auto w-full bg-primary hover:opacity-90 text-white font-semibold py-space-sm px-space-md rounded-radius-md transition-opacity","aria-label":`${i} for ${t}`,children:i})]})]}),gH=[{title:"Cosmic Explorer Subscription",description:"Unlock exclusive access to our premium content, tools, and community features. Explore the universe like never before.",imageUrl:"https://images.pexels.com/photos/998641/pexels-photo-998641.jpeg?auto=compress&cs=tinysrgb&w=400&h=200&dpr=1",price:"$29.99/month",actionText:"Subscribe Now",onAction:()=>alert("Subscribe Now clicked for Cosmic Explorer!"),tags:["Subscription","Premium","Space"]},{title:"Starship Model Kit",description:"Build your own detailed replica of the famous XS-1 Starship. Perfect for hobbyists and collectors.",price:"$79.99",actionText:"Add to Cart",onAction:()=>alert("Add to Cart clicked for Starship Model!"),tags:["Model Kit","Collectibles"]},{title:"Nebula Observation Guide",description:"A comprehensive digital guide to observing and understanding various nebulae. Includes charts and expert tips.",imageUrl:"https://images.pexels.com/photos/1169754/pexels-photo-1169754.jpeg?auto=compress&cs=tinysrgb&w=400&h=200&dpr=1",price:"$14.99",actionText:"View Details",onAction:()=>alert("View Details for Nebula Guide!"),tags:["Digital","Guide","Astronomy"]},{title:"Zero-G Coffee Mug",description:"The perfect mug for your space adventures (or just your morning coffee). Spill-proof technology not included.",price:"$24.50",actionText:"Buy Now",onAction:()=>alert("Zero-G Mug purchased!"),tags:["Merchandise","Fun"]},{title:"Galaxy Mapping Service",description:"Professional service to map uncharted regions of your newly discovered galaxy. Includes detailed star charts.",imageUrl:"https://images.pexels.com/photos/1274260/pexels-photo-1274260.jpeg?auto=compress&cs=tinysrgb&w=400&h=200&dpr=1",price:"Contact for Quote",actionText:"Request Info",onAction:()=>alert("Info requested for Galaxy Mapping!"),tags:["Service","Professional"]},{title:"Anti-Gravity Boots (Prototype)",description:"Experimental footwear for brief periods of reduced gravitational effect. Use with caution. Not liable for ceiling impacts.",price:"$999.99 (Pre-order)",actionText:"Pre-order Now",onAction:()=>alert("Anti-Gravity Boots pre-ordered!"),tags:["Experimental","Tech","Limited"]}],xH=()=>{const{t}=mt();return u.jsxs(Cc,{className:"container mx-auto px-space-md py-12",children:[u.jsx("h1",{className:"text-4xl font-bold mb-space-lg text-center text-primary dark:text-primary-dark",children:t("catalogTitle","Our Products & Services")}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-space-lg",children:gH.map((e,n)=>u.jsx(pH,{title:t(e.title.toLowerCase().replace(/\s+/g,"_"),e.title),description:t(e.description.toLowerCase().replace(/\s+/g,"_"),e.description),imageUrl:e.imageUrl,price:e.price,actionText:e.actionText?t(e.actionText.toLowerCase().replace(/\s+/g,"_"),e.actionText):void 0,onAction:e.onAction,tags:e.tags},e.title+n))})]})},yH=()=>{const{t}=mt(),e=new Date().toLocaleDateString(Gt.language,{year:"numeric",month:"long",day:"numeric"}),n="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",r="Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.";return u.jsxs(Cc,{className:"container mx-auto px-space-md py-12",children:[u.jsxs("header",{className:"text-center mb-space-lg",children:[u.jsx("h1",{className:"text-4xl font-bold text-primary dark:text-primary-dark",children:t("legalPageTitle","Legal Information")}),u.jsxs("p",{className:"text-sm text-text-muted mt-space-xs",children:[t("lastUpdated","Last Updated"),": ",e]})]}),u.jsxs("div",{className:"max-w-prose mx-auto space-y-space-xl",children:[u.jsxs("section",{"aria-labelledby":"terms-of-use-heading",children:[u.jsx("h2",{id:"terms-of-use-heading",className:"text-2xl md:text-3xl font-semibold text-text-default dark:text-text-default-dark mb-space-md",children:t("termsOfUseTitle","Terms of Use")}),u.jsxs("div",{className:"space-y-space-md text-text-muted dark:text-text-muted-dark text-base leading-relaxed",children:[u.jsx("p",{children:n}),u.jsx("p",{children:r}),u.jsx("p",{children:n})]})]}),u.jsxs("section",{"aria-labelledby":"privacy-policy-heading",children:[u.jsx("h2",{id:"privacy-policy-heading",className:"text-2xl md:text-3xl font-semibold text-text-default dark:text-text-default-dark mb-space-md",children:t("privacyPolicyTitle","Privacy Policy")}),u.jsxs("div",{className:"space-y-space-md text-text-muted dark:text-text-muted-dark text-base leading-relaxed",children:[u.jsx("p",{children:n}),u.jsx("p",{children:n}),u.jsx("p",{children:r})]})]})]})]})},vH=()=>{const{t}=mt();return u.jsx(Cc,{className:"min-h-full",children:u.jsxs("div",{className:"container mx-auto px-4 py-8 text-text-default dark:text-text-default-dark min-h-full flex flex-col",children:[u.jsx("h1",{className:"text-4xl font-bold text-center mb-12 text-primary dark:text-primary-dark",children:t("servicesPageMainHeading","Nuestros Servicios")}),u.jsxs("section",{className:"mb-12",children:[u.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesPersonalTrainingTitle","Entrenamiento Personalizado")}),u.jsx("p",{className:"mb-4",children:t("servicesPersonalTrainingDesc1","Ofrecemos programas de entrenamiento individualizados, diseñados específicamente para ayudarte a alcanzar tus metas de fitness. Ya sea que busques perder peso, ganar masa muscular, mejorar tu rendimiento deportivo o simplemente adoptar un estilo de vida más activo, trabajaremos contigo para crear un plan que se ajuste a tus necesidades, habilidades y preferencias.")}),u.jsx("p",{children:t("servicesPersonalTrainingDesc2","Nuestras sesiones de entrenamiento personalizado incluyen seguimiento continuo, ajustes programáticos basados en tu progreso y la motivación necesaria para superar tus límites. Contáctanos para una consulta inicial y descubre cómo podemos transformar tu cuerpo y mente.")})]}),u.jsxs("section",{className:"mb-12",children:[u.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesOnlineRoutinesTitle","Rutinas Online")}),u.jsx("p",{className:"mb-4",children:t("servicesOnlineRoutinesDesc1","Accede a nuestros programas de entrenamiento desde cualquier lugar y en cualquier momento con nuestras rutinas online. Perfectas para quienes prefieren la flexibilidad de entrenar en casa o mientras viajan, nuestras rutinas digitales vienen con guías detalladas, videos explicativos y soporte para asegurar que ejecutes cada ejercicio de manera segura y efectiva.")}),u.jsx("p",{children:t("servicesOnlineRoutinesDesc2","Ofrecemos una variedad de rutinas que se adaptan a diferentes niveles de experiencia y objetivos, desde programas de fuerza y acondicionamiento hasta rutinas de movilidad y bienestar general. Todo accesible a través de nuestra plataforma intuitiva.")})]}),u.jsxs("section",{className:"mb-12",children:[u.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesNutritionalCoachingTitle","Asesoramiento Nutricional")}),u.jsx("p",{className:"mb-4",children:t("servicesNutritionalCoachingDesc1","El complemento perfecto para tu entrenamiento. Nuestro servicio de asesoramiento nutricional te enseñará cómo alimentar tu cuerpo de manera inteligente para maximizar tus resultados y mejorar tu salud general. No se trata de dietas restrictivas, sino de construir hábitos alimenticios sostenibles.")}),u.jsx("p",{children:t("servicesNutritionalCoachingDesc2","Desarrollamos planes de comidas personalizados, te educamos sobre la importancia de los macronutrientes y micronutrientes, y te ofrecemos el apoyo continuo para que la nutrición se convierta en una parte integral y placentera de tu estilo de vida saludable.")})]}),u.jsxs("section",{className:"mb-12",children:[u.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesGroupTrainingTitle","Entrenamiento Grupal")}),u.jsx("p",{className:"mb-4",children:t("servicesGroupTrainingDesc1","Únete a nuestras sesiones de entrenamiento grupal donde la motivación y el compañerismo se combinan para crear una experiencia de fitness excepcional. Nuestras clases están diseñadas para todos los niveles, desde principiantes hasta atletas avanzados, y ofrecen una variedad de formatos que incluyen HIIT, entrenamiento funcional, yoga y más.")}),u.jsx("p",{children:t("servicesGroupTrainingDesc2","El entrenamiento grupal no solo te ayuda a mantener la consistencia, sino que también te conecta con una comunidad de personas que comparten tus objetivos de fitness. Nuestros instructores certificados aseguran que cada participante reciba la atención necesaria mientras mantienen el dinamismo y la energía de la clase.")})]}),u.jsxs("section",{className:"mb-12",children:[u.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesRehabilitationTitle","Rehabilitación y Recuperación")}),u.jsx("p",{className:"mb-4",children:t("servicesRehabilitationDesc1","Nuestro programa de rehabilitación y recuperación está diseñado para ayudarte a recuperarte de lesiones y mejorar tu movilidad funcional. Trabajamos en estrecha colaboración con fisioterapeutas y profesionales de la salud para crear programas personalizados que aceleren tu recuperación y prevengan futuras lesiones.")}),u.jsx("p",{children:t("servicesRehabilitationDesc2","Utilizamos técnicas avanzadas de movilidad, ejercicios de estabilización y progresiones graduales para restaurar tu rango de movimiento, fuerza y confianza. Nuestro objetivo es no solo recuperarte, sino hacerte más fuerte y resistente que antes de la lesión.")})]}),u.jsxs("section",{className:"mb-12",children:[u.jsx("h2",{className:"text-3xl font-semibold mb-4 text-primary dark:text-primary-dark",children:t("servicesSportsPerformanceTitle","Rendimiento Deportivo")}),u.jsx("p",{className:"mb-4",children:t("servicesSportsPerformanceDesc1","Especializado en mejorar el rendimiento deportivo de atletas de todos los niveles. Nuestros programas están diseñados para optimizar la fuerza, velocidad, agilidad y resistencia específicas de tu deporte. Utilizamos análisis biomecánico y evaluaciones de rendimiento para crear programas que maximicen tu potencial atlético.")}),u.jsx("p",{children:t("servicesSportsPerformanceDesc2","Ya seas un atleta recreativo o competitivo, nuestro enfoque basado en la ciencia te ayudará a mejorar tu técnica, prevenir lesiones y alcanzar nuevos niveles de rendimiento. Trabajamos con deportistas de fútbol, baloncesto, tenis, atletismo y muchos otros deportes.")})]}),u.jsxs("section",{className:"mt-space-xl p-space-lg bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50 rounded-lg border border-neutral-border-light/30 dark:border-neutral-border-dark/30",children:[u.jsx("h2",{className:"text-2xl font-bold text-center mb-space-md text-primary dark:text-primary-dark",children:t("servicesCTATitle","¿Listo para Comenzar tu Transformación?")}),u.jsx("p",{className:"text-center text-text-muted-light dark:text-text-muted-dark mb-space-md",children:t("servicesCTADesc","Cada servicio está diseñado para adaptarse a tus necesidades específicas. Contáctanos para una consulta gratuita y descubre cómo podemos ayudarte a alcanzar tus objetivos de fitness.")}),u.jsx("div",{className:"text-center",children:u.jsx("button",{className:"bg-primary text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors duration-300",children:t("servicesCTAButton","Solicitar Consulta Gratuita")})})]})]})})},bH=()=>{const{t}=mt(),e=[{id:1,name:"María García",position:"CEO, TechStart",content:"Excelente trabajo en nuestro proyecto. El equipo demostró profesionalismo y entregó resultados excepcionales.",rating:5,avatar:"👩‍💼"},{id:2,name:"Carlos Rodríguez",position:"Director de Marketing",content:"La calidad del servicio superó nuestras expectativas. Definitivamente volveremos a trabajar juntos.",rating:5,avatar:"👨‍💼"},{id:3,name:"Ana Martínez",position:"Fundadora, InnovateLab",content:"Proceso transparente y comunicación constante. El resultado final fue exactamente lo que necesitábamos.",rating:5,avatar:"👩‍🔬"},{id:4,name:"Luis Fernández",position:"CTO, DigitalCorp",content:"Técnicamente sólido y entregado a tiempo. Un partner confiable para proyectos tecnológicos.",rating:5,avatar:"👨‍💻"},{id:5,name:"Sofia López",position:"Diseñadora Senior",content:"Creatividad y atención al detalle excepcionales. El diseño final fue perfecto para nuestra marca.",rating:5,avatar:"👩‍🎨"},{id:6,name:"Diego Morales",position:"Product Manager",content:"Colaboración fluida y resultados medibles. Transformaron nuestra visión en realidad.",rating:5,avatar:"👨‍💼"}],n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return u.jsx(Ae.div,{initial:"hidden",animate:"visible",variants:n,className:"py-8 min-h-full",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs(Ae.div,{variants:r,className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:t("testimonialsTitle","Lo que dicen nuestros clientes")}),u.jsx("p",{className:"text-lg text-text-muted max-w-2xl mx-auto",children:t("testimonialsSubtitle","Descubre por qué nuestros clientes confían en nosotros para sus proyectos más importantes")})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>u.jsxs(Ae.div,{variants:r,className:"bg-surface rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsx("div",{className:"flex mb-4",children:[...Array(i.rating)].map((o,c)=>u.jsx("span",{className:"text-yellow-400 text-xl",children:"⭐"},c))}),u.jsxs("p",{className:"text-text-muted mb-6 italic",children:['"',i.content,'"']}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"text-3xl mr-3",children:i.avatar}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-text-primary",children:i.name}),u.jsx("p",{className:"text-sm text-text-muted",children:i.position})]})]})]},i.id))}),u.jsx(Ae.div,{variants:r,className:"text-center mt-16",children:u.jsxs("div",{className:"bg-gradient-to-r from-primary-DEFAULT to-accent-DEFAULT dark:from-primary-dark dark:to-accent-dark rounded-lg p-8 text-text-default-dark dark:text-text-default-light transition-colors duration-300",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:t("testimonialsCTA","¿Listo para ser nuestro próximo caso de éxito?")}),u.jsxs("p",{className:"mb-6 text-lg opacity-90",children:[" ",t("testimonialsCTASubtitle","Únete a nuestros clientes satisfechos y transforma tu visión en realidad")]}),u.jsx("button",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark text-primary-dark dark:text-primary-light px-8 py-3 rounded-lg font-semibold hover:bg-neutral-border-light dark:hover:bg-neutral-border-dark transition-colors",children:t("testimonialsCTAButton","Comienza tu proyecto")})]})})]})})},wH=[{icon:"📧",titleKey:"contactEmailTitle",defaultTitle:"Email",valueKey:"contactEmail",defaultValue:"gonorte@fitness.com",link:"mailto:gonorte@fitness.com"},{icon:"📱",titleKey:"contactPhoneTitle",defaultTitle:"Teléfono",valueKey:"contactPhone",defaultValue:"+34 600 123 456",link:"tel:+34600123456"},{icon:"📍",titleKey:"contactLocationTitle",defaultTitle:"Ubicación",valueKey:"contactLocation",defaultValue:"Madrid, España"},{icon:"⏰",titleKey:"contactHoursTitle",defaultTitle:"Horarios",valueKey:"contactHours",defaultValue:"Lun-Vie: 6:00-22:00"}],TH=[{icon:"📘",name:"Facebook",url:"#",color:"hover:bg-blue-500"},{icon:"📷",name:"Instagram",url:"#",color:"hover:bg-pink-500"},{icon:"🐦",name:"Twitter",url:"#",color:"hover:bg-blue-400"},{icon:"💼",name:"LinkedIn",url:"#",color:"hover:bg-blue-600"}],kH=()=>{const{t}=mt(),[e,n]=C.useState({name:"",email:"",phone:"",message:"",service:"",experience:"",goals:""}),[r,i]=C.useState(!1),[o,c]=C.useState("idle"),d=m=>{const{name:x,value:v}=m.target;n(b=>({...b,[x]:v}))},f=async m=>{m.preventDefault(),i(!0);try{await new Promise(x=>setTimeout(x,2e3)),c("success"),n({name:"",email:"",phone:"",message:"",service:"",experience:"",goals:""})}catch{c("error")}finally{i(!1)}};return u.jsx("div",{className:"min-h-full bg-gradient-to-br from-neutral-background-light via-neutral-background-light to-primary-light/20 dark:from-neutral-background-dark dark:via-neutral-background-dark dark:to-primary-dark/20 transition-colors duration-300",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-20",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[u.jsx("div",{children:u.jsxs("div",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark rounded-2xl p-8 shadow-xl border-2 border-gray-300 dark:border-neutral-border-dark transition-colors duration-300",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-text-default-light dark:text-text-default-dark",children:t("contactFormTitle","Envíame un Mensaje")}),o==="success"&&u.jsx("div",{className:"mb-6 p-4 bg-semantic-success-light/20 dark:bg-semantic-success-dark/20 border border-semantic-success-light dark:border-semantic-success-dark text-semantic-success-light dark:text-semantic-success-dark rounded-xl",children:t("contactSuccess","¡Mensaje enviado con éxito! Te responderemos pronto.")}),o==="error"&&u.jsx("div",{className:"mb-6 p-4 bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 border border-semantic-error-light dark:border-semantic-error-dark text-semantic-error-light dark:text-semantic-error-dark rounded-xl",children:t("contactError","Hubo un error al enviar el mensaje. Por favor, inténtalo de nuevo.")}),u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:[t("contactFormName","Nombre")," *"]}),u.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:d,required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark transition-colors duration-300",placeholder:t("contactFormNamePlaceholder","Tu nombre completo")})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:[t("contactFormEmail","Email")," *"]}),u.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:d,required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark transition-colors duration-300",placeholder:t("contactFormEmailPlaceholder","tu@email.com")})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("contactFormPhone","Teléfono")}),u.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:d,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark transition-colors duration-300",placeholder:t("contactFormPhonePlaceholder","+34 600 123 456")})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"service",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("contactFormService","Servicio de Interés")}),u.jsxs("select",{id:"service",name:"service",value:e.service,onChange:d,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark transition-colors duration-300 appearance-none cursor-pointer [&>option]:bg-neutral-surface-light [&>option]:dark:bg-neutral-surface-dark [&>option]:text-text-default-light [&>option]:dark:text-text-default-dark [&>option]:py-2 [&>option]:px-3 [&>option]:hover:bg-gray-100 [&>option]:dark:hover:bg-gray-700 [&>option]:border-b [&>option]:border-gray-200 [&>option]:dark:border-gray-600",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[u.jsx("option",{value:"",children:t("contactFormServicePlaceholder","Selecciona un servicio")}),u.jsx("option",{value:"personal-training",children:t("service1Title","Entrenamiento Personalizado")}),u.jsx("option",{value:"nutrition-coaching",children:t("service2Title","Asesoría Nutricional")}),u.jsx("option",{value:"online-classes",children:t("service3Title","Clases Online")}),u.jsx("option",{value:"rehabilitation",children:t("service4Title","Rehabilitación y Recuperación")}),u.jsx("option",{value:"sports-training",children:t("service5Title","Entrenamiento Deportivo")}),u.jsx("option",{value:"group-sessions",children:t("service6Title","Sesiones Grupales")})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"experience",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:"Nivel de Experiencia"}),u.jsxs("select",{id:"experience",name:"experience",value:e.experience,onChange:d,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark transition-colors duration-300 appearance-none cursor-pointer [&>option]:bg-neutral-surface-light [&>option]:dark:bg-neutral-surface-dark [&>option]:text-text-default-light [&>option]:dark:text-text-default-dark [&>option]:py-2 [&>option]:px-3 [&>option]:hover:bg-gray-100 [&>option]:dark:hover:bg-gray-700 [&>option]:border-b [&>option]:border-gray-200 [&>option]:dark:border-gray-600",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[u.jsx("option",{value:"",children:"Selecciona tu nivel"}),u.jsx("option",{value:"beginner",children:"Principiante"}),u.jsx("option",{value:"intermediate",children:"Intermedio"}),u.jsx("option",{value:"advanced",children:"Avanzado"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"goals",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:"Objetivos Principales"}),u.jsx("textarea",{id:"goals",name:"goals",value:e.goals,onChange:d,rows:3,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark resize-none transition-colors duration-300",placeholder:"Ej: Perder peso, ganar músculo, mejorar resistencia..."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:[t("contactFormMessage","Mensaje")," *"]}),u.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:d,required:!0,rows:5,className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-neutral-border-dark rounded-xl focus:ring-2 focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-transparent bg-neutral-surface-light dark:bg-neutral-surface-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark resize-none transition-colors duration-300",placeholder:t("contactFormMessagePlaceholder","Cuéntame sobre tus objetivos y cómo puedo ayudarte...")})]}),u.jsx(Ae.button,{type:"submit",disabled:r,className:"w-full bg-primary text-black dark:text-white font-semibold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.02},whileTap:{scale:.98},children:r?t("contactSending","Enviando..."):t("contactFormSubmit","Enviar Mensaje")})]})]})}),u.jsxs("div",{className:"h-full flex flex-col justify-between space-y-6",children:[u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:wH.map(m=>u.jsx(Ae.div,{className:"bg-gray-200 dark:bg-neutral-surface-dark rounded-xl p-4 shadow-lg border-2 border-gray-300 dark:border-neutral-border-dark hover:shadow-xl transition-all duration-300",whileHover:{y:-4,scale:1.02},transition:{duration:.3},children:u.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[u.jsx("div",{className:"text-2xl icon-primary",children:m.icon}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-100",children:t(m.titleKey,m.defaultTitle)}),m.link?u.jsx("a",{href:m.link,className:"text-xs text-primary-700 dark:text-primary-300 hover:text-primary-900 dark:hover:text-primary-100 transition-colors",children:t(m.valueKey,m.defaultValue)}):u.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:t(m.valueKey,m.defaultValue)})]})]})},m.titleKey))}),u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:TH.map(m=>u.jsx(Ae.a,{href:m.url,className:"bg-gray-200 dark:bg-neutral-surface-dark rounded-xl p-4 shadow-lg border-2 border-gray-300 dark:border-neutral-border-dark hover:shadow-xl transition-all duration-300 group",whileHover:{y:-4,scale:1.02},whileTap:{scale:.95},children:u.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[u.jsx("div",{className:"text-2xl icon-primary",children:m.icon}),u.jsx("div",{children:u.jsx("h4",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-100",children:m.name})})]})},m.name))}),u.jsxs("div",{className:"bg-gray-200 dark:bg-neutral-surface-dark rounded-xl p-8 shadow-lg border-2 border-gray-300 dark:border-neutral-border-dark flex-1 flex flex-col",children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-text-default-light dark:text-text-default-dark",children:"Ubicación"}),u.jsx("div",{className:"bg-neutral-background-light dark:bg-neutral-background-dark rounded-xl flex-1 flex items-center justify-center",children:u.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3180.1234567890123!2d-3.9237!3d37.4627!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd6dd7b8b8b8b8b8%3A0x8b8b8b8b8b8b8b8!2sAlcal%C3%A1%20la%20Real%2C%20Ja%C3%A9n!5e0!3m2!1ses!2ses!4v1234567890123&maptype=roadmap&zoom=15&disableDefaultUI=true&zoomControl=false&mapTypeControl=false&scaleControl=false&streetViewControl=false&rotateControl=false&fullscreenControl=false",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"rounded-xl"})})]})]})]})})})},_H=()=>{const{t}=mt();return u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center min-h-screen bg-background",children:u.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[u.jsx(Ae.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-8xl font-bold text-primary mb-4",children:"404"}),u.jsx(Ae.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-3xl font-bold text-text-primary mb-4",children:t("pageNotFoundTitle","Página No Encontrada")}),u.jsx(Ae.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-lg text-text-muted mb-8",children:t("pageNotFoundMessage","Lo sentimos, la página que buscas no existe.")}),u.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx(zt,{to:"/",className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition-colors",children:t("navHome","Inicio")}),u.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 border border-primary text-primary rounded-lg font-semibold hover:bg-primary hover:text-white transition-colors",children:t("goBackButton","Volver")})]}),u.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-12",children:[u.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:t("helpfulLinks","Enlaces útiles")}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsx(zt,{to:"/about",className:"text-primary hover:text-primary-dark transition-colors",children:t("navAbout","Sobre Mí")}),u.jsx(zt,{to:"/services",className:"text-primary hover:text-primary-dark transition-colors",children:t("navServices","Servicios")}),u.jsx(zt,{to:"/contact",className:"text-primary hover:text-primary-dark transition-colors",children:t("navContact","Contacto")})]})]})]})})};var nC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pE=Cs.createContext&&Cs.createContext(nC),EH=["attr","size","title"];function SH(t,e){if(t==null)return{};var n=NH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(this,arguments)}function gE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(n),!0).forEach(function(r){AH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AH(t,e,n){return e=CH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CH(t){var e=jH(t,"string");return typeof e=="symbol"?e:e+""}function jH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rC(t){return t&&t.map((e,n)=>Cs.createElement(e.tag,Nm({key:n},e.attr),rC(e.child)))}function We(t){return e=>Cs.createElement(RH,Sm({attr:Nm({},t.attr)},e),rC(t.child))}function RH(t){var e=n=>{var{attr:r,size:i,title:o}=t,c=SH(t,EH),d=i||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Cs.createElement("svg",Sm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:f,style:Nm(Nm({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Cs.createElement("title",null,o),t.children)};return pE!==void 0?Cs.createElement(pE.Consumer,null,n=>e(n)):e(nC)}function aC(t){return We({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function Gs(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function PH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function sd(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function Ha(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function IH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function DH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h288c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-64zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function MH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function ac(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function OH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function xa(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Wd(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function iC(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function xE(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function tr(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(t)}function dp(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function hp(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function LH(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function VH(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function UH(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function yE(t){return We({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function sC(t){return We({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function $f(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function zH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function FH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function BH(t){return We({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(t)}function qH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Kf(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function ic(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Rd(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function oC(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function HH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function GH(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(t)}function $s(t){return We({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function $H(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Pd(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function KH(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function xc(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(t)}function YH(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"},child:[]}]})(t)}function lC(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(t)}function QH(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function XH(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function Ni(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function od(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function WH(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 64h-25.98C438.44 92.28 448 125.01 448 160c0 105.87-86.13 192-192 192S64 265.87 64 160c0-34.99 9.56-67.72 25.98-96H64C28.71 64 0 92.71 0 128v320c0 35.29 28.71 64 64 64h384c35.29 0 64-28.71 64-64V128c0-35.29-28.71-64-64-64zM256 320c88.37 0 160-71.63 160-160S344.37 0 256 0 96 71.63 96 160s71.63 160 160 160zm-.3-151.94l33.58-78.36c3.5-8.17 12.94-11.92 21.03-8.41 8.12 3.48 11.88 12.89 8.41 21l-33.67 78.55C291.73 188 296 197.45 296 208c0 22.09-17.91 40-40 40s-40-17.91-40-40c0-21.98 17.76-39.77 39.7-39.94z"},child:[]}]})(t)}const ZH=()=>{var O,M;const{t}=mt(),{loginWithEmailPassword:e,loginWithGoogle:n}=rr(),r=Yo(),i=mr(),[o,c]=C.useState(""),[d,f]=C.useState(""),[m,x]=C.useState(null),[v,b]=C.useState(!1),T=((M=(O=i.state)==null?void 0:O.from)==null?void 0:M.pathname)||"/dashboard/client",E=async z=>{z.preventDefault(),x(null),b(!0);try{await e(o,d),r(T,{replace:!0})}catch(L){let q=t("login.errorDefault","An unknown error occurred. Please try again.");if(L.code)switch(L.code){case"auth/user-not-found":case"auth/invalid-credential":q=t("login.errorInvalidCredentials","Invalid email or password. Please try again.");break;case"auth/wrong-password":q=t("login.errorWrongPassword","Incorrect password. Please try again.");break;case"auth/invalid-email":q=t("login.errorInvalidEmail","The email address is not valid.");break;case"auth/user-disabled":q=t("login.errorUserDisabled","This account has been disabled.");break;case"auth/network-request-failed":q=t("login.errorNetwork","A network error occurred. Please check your connection and try again.");break;default:q=t("login.errorDefault","Login failed. Please try again.")}else L.message&&(q=L.message);x(q),console.error("Login Page Error (Email):",L)}finally{b(!1)}},j=async()=>{x(null),b(!0);try{await n(),r(T,{replace:!0})}catch(z){let L=t("login.errorDefaultGoogle","An error occurred during Google Sign-In. Please try again.");if(z.code)switch(z.code){case"auth/popup-closed-by-user":L=t("login.errorPopupClosed","Google Sign-In was cancelled.");break;case"auth/cancelled-popup-request":L=t("login.errorPopupCancelled","Google Sign-In was cancelled.");break;case"auth/popup-blocked":L=t("login.errorPopupBlocked","Google Sign-In popup was blocked by the browser. Please enable popups for this site.");break;case"auth/network-request-failed":L=t("login.errorNetworkGoogle","A network error occurred during Google Sign-In. Please check your connection.");break;default:L=t("login.errorGoogleDefault","Google Sign-In failed. Please try again.")}else z.message&&(L=z.message);x(L),console.error("Login Page Error (Google):",z)}finally{b(!1)}};return u.jsx("div",{className:"flex items-center justify-center min-h-full bg-neutral-background dark:bg-neutral-background-dark py-16 selection:bg-primary selection:text-white",children:u.jsxs("div",{className:"w-full max-w-md p-6 sm:p-8 space-y-6 bg-neutral-surface dark:bg-neutral-surface-dark rounded-radius-lg shadow-2xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text-default dark:text-text-default-dark",children:t("login.clientTitle","Client Login")}),u.jsx("p",{className:"mt-2 text-sm sm:text-base text-text-muted dark:text-text-muted-dark",children:t("login.clientSubtitle","Access your personal dashboard.")})]}),m&&u.jsx("div",{className:"p-3 text-sm text-semantic-error dark:text-semantic-error-dark bg-red-100 dark:bg-red-900/30 rounded-radius-md",role:"alert",children:m}),u.jsxs("form",{onSubmit:E,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("login.emailLabel","Email Address")}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:z=>c(z.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:t("login.emailPlaceholder","you@example.com")})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("login.passwordLabel","Password")}),u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:d,onChange:z=>f(z.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:"••••••••"})]}),u.jsx("div",{className:"flex items-center justify-end",children:u.jsx("div",{className:"text-sm",children:u.jsx(zt,{to:"/forgot-password",className:"font-medium text-primary hover:text-primary-dark dark:text-primary-light dark:hover:text-primary transition-colors duration-300 ease-in-out",children:t("login.forgotPasswordLink","Forgot your password?")})})}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:v,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-radius-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",children:v?t("login.loggingIn","Logging in..."):t("login.loginButton","Log In")})})]}),u.jsxs("div",{className:"relative my-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:u.jsx("div",{className:"w-full border-t border-neutral-border dark:border-neutral-border-dark"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-neutral-surface dark:bg-neutral-surface-dark text-text-muted dark:text-text-muted-dark",children:t("login.orContinueWith","Or continue with")})})]}),u.jsx("div",{children:u.jsxs("button",{type:"button",onClick:j,disabled:v,className:"w-full flex items-center justify-center py-2.5 px-4 border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm text-sm font-medium text-text-default dark:text-text-default-dark bg-neutral-surface dark:bg-neutral-surface-dark hover:bg-neutral-background dark:hover:bg-neutral-background-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",children:[u.jsx(aC,{className:"w-5 h-5 mr-2 text-primary"}),t("login.googleButton","Sign in with Google")]})}),u.jsx("div",{className:"text-sm text-center space-y-2"})]})})},JH=()=>{const{t}=mt(),{loginWithGoogle:e}=rr(),n=Yo(),[r,i]=C.useState(""),[o,c]=C.useState(""),[d,f]=C.useState(""),[m,x]=C.useState(""),[v,b]=C.useState(null),[T,E]=C.useState(!1),j=async M=>{if(M.preventDefault(),b(null),o!==d){b(t("register.errorPasswordMismatch","Passwords do not match."));return}if(o.length<6){b(t("register.errorPasswordTooShort","Password should be at least 6 characters."));return}E(!0);try{const L=(await pN(Ts,r,o)).user,q=Vt(ht,"users",L.uid),V={uid:L.uid,email:L.email,displayName:m||L.displayName||"",role:"client",registrationDate:Ft.now(),lastLoginDate:Ft.now()};await qv(q,V),n("/dashboard/client",{replace:!0})}catch(z){let L=t("register.errorDefault","An unknown error occurred. Please try again.");if(z.code)switch(z.code){case"auth/email-already-in-use":L=t("register.errorEmailExists","This email address is already in use.");break;case"auth/invalid-email":L=t("register.errorInvalidEmail","The email address is not valid.");break;case"auth/weak-password":L=t("register.errorPasswordTooShort","Password is too weak. It should be at least 6 characters.");break;case"auth/network-request-failed":L=t("register.errorNetwork","A network error occurred. Please check your connection.");break;default:L=t("register.errorDefault","Registration failed. Please try again.")}else z.message&&(L=z.message);b(L),console.error("Registration Page Error (Email):",z)}finally{E(!1)}},O=async()=>{b(null),E(!0);try{await e(),n("/dashboard/client",{replace:!0})}catch(M){let z=t("login.errorDefaultGoogle","An error occurred during Google Sign-In. Please try again.");if(M.code)switch(M.code){case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":z=t("login.errorPopupClosed","Google Sign-In was cancelled.");break;case"auth/popup-blocked":z=t("login.errorPopupBlocked","Google Sign-In popup was blocked. Please enable popups.");break;default:z=t("login.errorGoogleDefault","Google Sign-In failed. Please try again.")}b(z),console.error("Registration Page Error (Google):",M)}finally{E(!1)}};return u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-neutral-background dark:bg-neutral-background-dark p-4 selection:bg-primary selection:text-white",children:u.jsxs("div",{className:"w-full max-w-md p-6 sm:p-8 space-y-6 bg-neutral-surface dark:bg-neutral-surface-dark rounded-radius-lg shadow-2xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text-default dark:text-text-default-dark",children:t("register.title","Create Account")}),u.jsx("p",{className:"mt-2 text-sm sm:text-base text-text-muted dark:text-text-muted-dark",children:t("register.subtitle","Join us and start your fitness journey!")})]}),v&&u.jsx("div",{className:"p-3 text-sm text-semantic-error dark:text-semantic-error-dark bg-red-100 dark:bg-red-900/30 rounded-radius-md",role:"alert",children:v}),u.jsxs("form",{onSubmit:j,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("register.displayNameLabel","Full Name (Optional)")}),u.jsx("input",{id:"displayName",name:"displayName",type:"text",autoComplete:"name",value:m,onChange:M=>x(M.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:t("register.displayNamePlaceholder","Your Name")})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("login.emailLabel","Email Address")}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:M=>i(M.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:t("login.emailPlaceholder","you@example.com")})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("login.passwordLabel","Password")}),u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:o,onChange:M=>c(M.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:"••••••••"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("register.confirmPasswordLabel","Confirm Password")}),u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:d,onChange:M=>f(M.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:"••••••••"})]}),u.jsx("div",{className:"pt-2",children:u.jsx("button",{type:"submit",disabled:T,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-radius-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",children:T?t("register.registering","Creating Account..."):t("register.registerButton","Create Account")})})]}),u.jsxs("div",{className:"relative my-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:u.jsx("div",{className:"w-full border-t border-neutral-border dark:border-neutral-border-dark"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-neutral-surface dark:bg-neutral-surface-dark text-text-muted dark:text-text-muted-dark",children:t("login.orContinueWith","Or continue with")})})]}),u.jsx("div",{children:u.jsxs("button",{type:"button",onClick:O,disabled:T,className:"w-full flex items-center justify-center py-2.5 px-4 border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm text-sm font-medium text-text-default dark:text-text-default-dark bg-neutral-surface dark:bg-neutral-surface-dark hover:bg-neutral-background dark:hover:bg-neutral-background-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",children:[u.jsx(aC,{className:"w-5 h-5 mr-2 text-primary"}),t("login.googleButton","Sign up with Google")]})}),u.jsx("div",{className:"text-sm text-center",children:u.jsxs("p",{className:"text-text-muted dark:text-text-muted-dark",children:[t("register.alreadyHaveAccount","Already have an account?")," "," ",u.jsx(zt,{to:"/login",className:"font-medium text-primary hover:text-primary-dark dark:text-primary-light dark:hover:text-primary transition-colors duration-300 ease-in-out",children:t("login.loginButton","Log In")})]})})]})})},eG=()=>{const{t}=mt(),[e,n]=C.useState(""),[r,i]=C.useState(null),[o,c]=C.useState(null),[d,f]=C.useState(!1),m=async x=>{x.preventDefault(),i(null),c(null),f(!0);try{await AL(Ts,e),c(t("forgotPassword.successMessage","If an account exists for this email, a password reset link has been sent. Please check your inbox (and spam folder)."))}catch(v){let b=t("forgotPassword.errorDefault","Failed to send password reset email. Please try again.");if(v.code)switch(v.code){case"auth/invalid-email":b=t("forgotPassword.errorInvalidEmail","The email address is not valid.");break;case"auth/user-not-found":c(t("forgotPassword.successMessage","If an account exists for this email, a password reset link has been sent. Please check your inbox (and spam folder).")),f(!1);return;case"auth/network-request-failed":b=t("forgotPassword.errorNetwork","A network error occurred. Please check your connection.");break;default:b=t("forgotPassword.errorDefault","Failed to send password reset email. Please try again.")}i(b),console.error("Forgot Password Error:",v)}finally{f(!1)}};return u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-neutral-background dark:bg-neutral-background-dark p-4 selection:bg-primary selection:text-white",children:u.jsxs("div",{className:"w-full max-w-md p-6 sm:p-8 space-y-6 bg-neutral-surface dark:bg-neutral-surface-dark rounded-radius-lg shadow-2xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(hp,{className:"mx-auto h-12 w-12 text-primary dark:text-primary-light mb-4"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text-default dark:text-text-default-dark",children:t("forgotPassword.title","Forgot Your Password?")}),u.jsx("p",{className:"mt-2 text-sm sm:text-base text-text-muted dark:text-text-muted-dark",children:t("forgotPassword.subtitle","No problem! Enter your email address below and we'll send you a link to reset it.")})]}),r&&u.jsx("div",{className:"p-3 text-sm text-semantic-error dark:text-semantic-error-dark bg-red-100 dark:bg-red-900/30 rounded-radius-md",role:"alert",children:r}),o&&u.jsx("div",{className:"p-3 text-sm text-semantic-success dark:text-semantic-success-dark bg-green-100 dark:bg-green-900/30 rounded-radius-md",role:"status",children:o}),!o&&u.jsxs("form",{onSubmit:m,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default dark:text-text-default-dark",children:t("login.emailLabel","Email Address")}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:x=>n(x.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-surface dark:bg-neutral-background-dark border border-neutral-border dark:border-neutral-border-dark rounded-radius-md shadow-sm placeholder-text-muted dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary dark:focus:ring-primary-light focus:border-primary dark:focus:border-primary-light sm:text-sm text-text-default dark:text-text-default-dark",placeholder:t("login.emailPlaceholder","you@example.com")})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-radius-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",children:d?t("forgotPassword.sendingButton","Sending Link..."):t("forgotPassword.sendButton","Send Reset Link")})})]}),u.jsx("div",{className:"text-sm text-center mt-6",children:u.jsx(zt,{to:"/login",className:"font-medium text-primary hover:text-primary-dark dark:text-primary-light dark:hover:text-primary transition-colors duration-300 ease-in-out",children:t("forgotPassword.backToLogin","Back to Log In")})})]})})},tG=()=>{var At,le,Qe;const{t}=mt(),{userId:e}=JR(),{currentUser:n,userRole:r,loading:i}=rr(),o=Yo(),c=mr(),[d,f]=C.useState(null),[m,x]=C.useState(!0),[v,b]=C.useState(null),[T,E]=C.useState(!1),[j,O]=C.useState(""),[M,z]=C.useState(""),[L,q]=C.useState(""),[V,I]=C.useState(""),[P,N]=C.useState(""),[S,D]=C.useState(""),[B,$]=C.useState(null),[U,ye]=C.useState(""),[ke,Y]=C.useState(!1),[ie,te]=C.useState(null),ve=we=>we.split(" ").map(ue=>ue.charAt(0)).join("").toUpperCase().slice(0,2),F=we=>{switch(we){case"admin":return u.jsx(XH,{className:"w-5 h-5"});case"coach":return u.jsx(lC,{className:"w-5 h-5"});case"client":return u.jsx(Ni,{className:"w-5 h-5"});default:return u.jsx(Ni,{className:"w-5 h-5"})}},ne=we=>{switch(we){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 border-red-200 dark:border-red-800";case"coach":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 border-blue-200 dark:border-blue-800";case"client":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border-green-200 dark:border-green-800";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300 border-gray-200 dark:border-gray-800"}};C.useEffect(()=>{if(!e){b(t("profile.errorNoUserId","User ID not found.")),x(!1);return}(async()=>{var ue,Oe;x(!0),b(null);try{const et=Vt(ht,"users",e),Ct=await gc(et);if(Ct.exists()){const Dt=Ct.data();f(Dt),O(Dt.displayName||""),z(Dt.phoneNumber||""),Dt.role==="client"&&(q(((ue=Dt.weight)==null?void 0:ue.toString())||""),I(((Oe=Dt.bodyFatPercentage)==null?void 0:Oe.toString())||""),N(Dt.notes||""),D(Dt.assignedPlanId||""))}else b(t("profile.errorNotFound","User profile not found."))}catch(et){console.error("Error fetching profile:",et),b(t("profile.errorFetching","Failed to fetch profile."))}finally{x(!1)}})()},[e,t]),C.useEffect(()=>{new URLSearchParams(c.search).get("edit")==="1"&&E(!0)},[c.search]);const pe=()=>i||!n||!d?!1:n.uid===e||r==="admin"||r==="coach"&&d.role==="client",oe=()=>{var we,ue;pe()&&(T&&d&&(O(d.displayName||""),z(d.phoneNumber||""),d.role==="client"&&(q(((we=d.weight)==null?void 0:we.toString())||""),I(((ue=d.bodyFatPercentage)==null?void 0:ue.toString())||""),N(d.notes||""),D(d.assignedPlanId||""))),E(!T))},Te=we=>{we.target.files&&we.target.files[0]&&($(we.target.files[0]),te(null))},Ie=async we=>{if(we.preventDefault(),!B||!n||!e||!(r==="admin"||r==="coach")){te(t("profile.coachUpload.noFileOrAuth","File or proper authorization missing."));return}if(B.size>10*1024*1024){te(t("profile.coachUpload.fileTooLarge","File is too large. Max 10MB."));return}Y(!0),te(null);const ue=B.name.split(".").pop(),Oe=`${n.uid}_${Date.now()}.${ue}`,et=`userFiles/${e}/coachUploads/${Oe}`,Ct=R6(eC,et);try{const Dt=await C6(Ct,B),Bi=await j6(Dt.ref),An=Vt(ht,"users",e),ia={url:Bi,fileName:B.name,uploadedAt:Ft.now(),uploadedBy:n.uid,fileType:B.type||ue||"unknown",description:U||""};await Rr(An,{coachUploadedFiles:ey(ia)}),f(sa=>sa?{...sa,coachUploadedFiles:[...sa.coachUploadedFiles||[],{...ia,uploadedAt:ia.uploadedAt instanceof Ft?ia.uploadedAt.toDate():ia.uploadedAt}]}:null),$(null),ye("")}catch(Dt){console.error("Error uploading file for coach/admin:",Dt),te(t("profile.coachUpload.uploadFailed","File upload failed. Error: "+Dt.message))}finally{Y(!1)}},Pe=async we=>{if(we.preventDefault(),!pe()||!e)return;x(!0),b(null);const ue={displayName:j,phoneNumber:M||null};(d==null?void 0:d.role)==="client"&&(ue.weight=L!==""?parseFloat(L):null,ue.bodyFatPercentage=V!==""?parseFloat(V):null,ue.notes=P||null,(r==="admin"||r==="coach")&&d.role==="client"&&(ue.assignedPlanId=S.trim()||null));try{const Oe=Vt(ht,"users",e);await Rr(Oe,ue),f(et=>et?{...et,...ue}:null),E(!1)}catch(Oe){console.error("Error updating profile:",Oe),b(t("profile.errorUpdating","Failed to update profile."))}finally{x(!1)}};return i||m?u.jsx("div",{className:"container mx-auto p-4 text-center",children:t("loading","Loading...")}):v?u.jsx("div",{className:"container mx-auto p-4 text-center text-red-500",children:v}):d?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[((At=c.state)==null?void 0:At.from)&&u.jsxs("button",{onClick:()=>o(c.state.from),className:"mb-6 flex items-center text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark transition-colors duration-300",children:[u.jsx(Gs,{className:"mr-2"}),t("common.back","Volver atrás")]}),v&&u.jsx("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30",children:v}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 mb-8 transition-colors duration-500",children:u.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:d!=null&&d.displayName?ve(d.displayName):"U"}),(d==null?void 0:d.role)&&u.jsx("div",{className:`absolute -bottom-2 -right-2 p-2 rounded-full border-2 border-white dark:border-slate-800 ${ne(d.role)}`,children:F(d.role)})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-2",children:(d==null?void 0:d.displayName)||t("profile.noName","Usuario")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark mb-3",children:d==null?void 0:d.email}),(d==null?void 0:d.role)&&u.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${ne(d.role)}`,children:[F(d.role),u.jsx("span",{className:"ml-2",children:t(`roles.${d.role}`,d.role)})]})]})]}),pe()&&u.jsx("button",{onClick:oe,className:`mt-6 lg:mt-0 flex items-center px-6 py-3 rounded-xl font-medium transition-all duration-300 transform hover:scale-105 shadow-lg
                  ${T?"bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark":"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white"}`,children:T?u.jsxs(u.Fragment,{children:[u.jsx($s,{className:"mr-2"}),t("profile.cancelButton","Cancelar")]}):u.jsxs(u.Fragment,{children:[u.jsx(dp,{className:"mr-2"}),t("profile.editButton","Editar Perfil")]})})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 transition-colors duration-500",children:[u.jsxs("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6 flex items-center",children:[u.jsx(Ni,{className:"mr-3 text-teal-600 dark:text-teal-400"}),t("profile.personalInfo","Información Personal")]}),T?u.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.displayName","Nombre Completo")}),u.jsx("input",{type:"text",id:"displayName",value:j,onChange:we=>O(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("profile.form.displayNamePlaceholder","Tu nombre completo")})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.email","Correo Electrónico")}),u.jsx("input",{type:"email",id:"email",value:(d==null?void 0:d.email)||"",disabled:!0,className:"w-full px-4 py-3 bg-gray-100 dark:bg-slate-600 border border-gray-200 dark:border-slate-600 rounded-xl text-text-muted-light dark:text-text-muted-dark cursor-not-allowed transition-all duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.phone","Teléfono")}),u.jsx("input",{type:"tel",id:"phoneNumber",value:M,onChange:we=>z(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("profile.form.phonePlaceholder","+34 600 000 000")})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:oe,className:"px-6 py-3 rounded-xl font-medium transition-all duration-300 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark",children:t("profile.form.cancelButton","Cancelar")}),u.jsxs("button",{type:"submit",disabled:m,className:"px-6 py-3 rounded-xl font-medium transition-all duration-300 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white disabled:opacity-50 flex items-center",children:[u.jsx(Rd,{className:"mr-2"}),m?t("profile.form.savingButton","Guardando..."):t("profile.form.saveButton","Guardar")]})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx(ki,{icon:u.jsx(Ni,{className:"w-5 h-5"}),label:t("profile.display.displayName","Nombre Completo"),value:d==null?void 0:d.displayName,t}),u.jsx(ki,{icon:u.jsx(hp,{className:"w-5 h-5"}),label:t("profile.display.email","Correo Electrónico"),value:d==null?void 0:d.email,t}),u.jsx(ki,{icon:u.jsx(qH,{className:"w-5 h-5"}),label:t("profile.display.phone","Teléfono"),value:d==null?void 0:d.phoneNumber,t}),(d==null?void 0:d.registrationDate)&&u.jsx(ki,{icon:u.jsx(Ha,{className:"w-5 h-5"}),label:t("profile.display.registrationDate","Miembro Desde"),value:d.registrationDate instanceof Date?d.registrationDate.toLocaleDateString():"",t}),(d==null?void 0:d.lastLoginDate)&&u.jsx(ki,{icon:u.jsx(Wd,{className:"w-5 h-5"}),label:t("profile.display.lastLogin","Último Acceso"),value:d.lastLoginDate instanceof Date?d.lastLoginDate.toLocaleString():"",t})]})]}),(d==null?void 0:d.role)==="client"&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 transition-colors duration-500",children:[u.jsxs("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6 flex items-center",children:[u.jsx(tr,{className:"mr-3 text-teal-600 dark:text-teal-400"}),t("profile.clientDataTitle","Datos del Cliente")]}),T?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.weight","Peso (kg)")}),u.jsx("input",{type:"number",step:"0.1",id:"weight",value:L,onChange:we=>q(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:"70.5"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"bodyFatPercentage",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.bodyFat","Grasa Corporal (%)")}),u.jsx("input",{type:"number",step:"0.1",id:"bodyFatPercentage",value:V,onChange:we=>I(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:"15.0"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"clientNotes",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.clientNotes","Notas del Cliente")}),u.jsx("textarea",{id:"clientNotes",rows:3,value:P,onChange:we=>N(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300 resize-none",placeholder:t("profile.form.clientNotesPlaceholder","Notas sobre el progreso, objetivos, etc.")})]}),(r==="admin"||r==="coach")&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"assignedPlanId",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.form.assignedPlanId","Plan de Entrenamiento Asignado")}),u.jsx("input",{type:"text",id:"assignedPlanId",value:S,onChange:we=>D(we.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("profile.form.planIdPlaceholder","Ej: P001")}),u.jsx("p",{className:"mt-1 text-xs text-text-muted-light dark:text-text-muted-dark",children:t("profile.form.planIdHelp","ID del plan asignado. Los detalles se gestionan por separado.")})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx(ki,{icon:u.jsx(WH,{className:"w-5 h-5"}),label:t("profile.display.weight","Peso (kg)"),value:(le=d.weight)==null?void 0:le.toString(),t}),u.jsx(ki,{icon:u.jsx(BH,{className:"w-5 h-5"}),label:t("profile.display.bodyFat","Grasa Corporal (%)"),value:(Qe=d.bodyFatPercentage)==null?void 0:Qe.toString(),t}),u.jsx(ki,{icon:u.jsx(GH,{className:"w-5 h-5"}),label:t("profile.display.clientNotes","Notas del Cliente"),value:d.notes,isBlock:!0,t}),u.jsx(ki,{icon:u.jsx(tr,{className:"w-5 h-5"}),label:t("profile.display.assignedPlanId","Plan Asignado"),value:d.assignedPlanId,t})]})]})]}),(d==null?void 0:d.role)==="client"&&d.coachUploadedFiles&&d.coachUploadedFiles.length>0&&u.jsx("div",{className:"mt-8",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 transition-colors duration-500",children:[u.jsxs("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6 flex items-center",children:[u.jsx(xE,{className:"mr-3 text-teal-600 dark:text-teal-400"}),t("profile.coachUploadedFiles.title","Archivos del Entrenador")]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.coachUploadedFiles.map((we,ue)=>u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl border border-gray-200 dark:border-slate-600 hover:shadow-md transition-all duration-300",children:[u.jsx("div",{className:"flex items-start justify-between mb-3",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark mb-1",children:we.fileName}),we.description&&u.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark mb-2",children:we.description}),u.jsxs("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:[t("profile.coachUploadedFiles.uploadedAt","Subido:")," ",we.uploadedAt instanceof Date?we.uploadedAt.toLocaleDateString():""]})]})}),u.jsxs("a",{href:we.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 text-xs font-medium text-teal-700 dark:text-teal-300 hover:text-teal-800 dark:hover:text-teal-200 border border-teal-200 dark:border-teal-700 rounded-lg hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-all duration-300",title:t("profile.coachUploadedFiles.downloadTooltip","Descargar/Ver Archivo"),children:[u.jsx(xE,{className:"mr-1.5 h-3 w-3"}),t("profile.coachUploadedFiles.downloadButton","Ver/Descargar")]})]},ue))})]})}),T&&(r==="admin"||r==="coach")&&(d==null?void 0:d.role)==="client"&&u.jsx("div",{className:"mt-8",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 transition-colors duration-500",children:[u.jsxs("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6 flex items-center",children:[u.jsx(yE,{className:"mr-3 text-teal-600 dark:text-teal-400"}),t("profile.coachUpload.title","Subir Archivo para Cliente")]}),u.jsxs("form",{onSubmit:Ie,className:"space-y-4 p-6 border-2 border-dashed border-gray-200 dark:border-slate-600 rounded-xl bg-gray-50 dark:bg-slate-700/50",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"coachFile",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.coachUpload.selectFileLabel","Seleccionar Archivo (Máx 10MB)")}),u.jsx("input",{type:"file",id:"coachFile",onChange:Te,className:`w-full text-sm text-text-muted-light dark:text-text-muted-dark\r
                      file:mr-4 file:py-2 file:px-4\r
                      file:rounded-full file:border-0\r
                      file:text-sm file:font-semibold\r
                      file:bg-teal-600 file:text-white\r
                      hover:file:bg-teal-700 transition-colors`}),B&&u.jsxs("p",{className:"mt-2 text-xs text-text-muted-light dark:text-text-muted-dark",children:[t("profile.coachUpload.selectedFile","Seleccionado:")," ",B.name]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"coachFileDescription",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("profile.coachUpload.descriptionLabel","Descripción del Archivo (Opcional)")}),u.jsx("input",{type:"text",id:"coachFileDescription",value:U,onChange:we=>ye(we.target.value),className:"w-full px-4 py-3 bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("profile.coachUpload.descriptionPlaceholder","Ej: Plan de Dieta Semanal, Notas de Forma")})]}),ie&&u.jsx("p",{className:"text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 p-3 rounded-lg",children:ie}),u.jsx("div",{children:u.jsxs("button",{type:"submit",disabled:ke||!B||m,className:"w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:opacity-50 transition-all duration-300",children:[u.jsx(yE,{className:"mr-2 h-4 w-4"}),ke?t("profile.coachUpload.uploadingButton","Subiendo..."):t("profile.coachUpload.uploadButton","Subir Archivo")]})})]})]})})]})}):u.jsx("div",{className:"container mx-auto p-4 text-center",children:t("profile.errorNotFound","User profile not found.")})},ki=({icon:t,label:e,value:n,isBlock:r,t:i})=>((n==null||n.trim()==="")&&(n=i("profile.notSet",{defaultValue:"No establecido"})),u.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 dark:bg-slate-700/50 rounded-xl border border-gray-200 dark:border-slate-600 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-teal-100 dark:bg-teal-900/30 rounded-lg flex items-center justify-center text-teal-600 dark:text-teal-400",children:t}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("dt",{className:"text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wide mb-1",children:e}),u.jsx("dd",{className:`text-sm text-text-default-light dark:text-text-default-dark ${r?"whitespace-pre-wrap":""}`,children:n})]})]})),nG=()=>{const{t}=mt(),{currentUser:e,loading:n}=rr(),[r,i]=C.useState(""),[o,c]=C.useState(null),[d,f]=C.useState(""),[m,x]=C.useState(!1),[v,b]=C.useState(null),[T,E]=C.useState(null),j=async z=>{if(z.preventDefault(),!(!e||!r.trim())){x(!0),E(null);try{const L=Vt(ht,"users",e.uid);await Rr(L,{trainingHistory:ey({date:Ft.now(),notes:r,type:"text_update"})}),i("")}catch(L){console.error("Error submitting text progress:",L),E(t("dashboard.client.progressError","Failed to submit progress."))}finally{x(!1)}}},O=z=>{z.target.files&&z.target.files[0]&&(c(z.target.files[0]),b(null))},M=async z=>{if(z.preventDefault(),!o||!e){b(t("dashboard.client.photoUpload.noFileError","Please select a photo to upload."));return}if(o.size>5*1024*1024){b(t("dashboard.client.photoUpload.fileTooLargeError","File is too large. Max 5MB."));return}x(!0),b(null);const L=o.name.split(".").pop(),q=`${e.uid}_${Date.now()}.${L}`,V=R6(eC,`userFiles/${e.uid}/progressPhotos/${q}`);try{const I=await C6(V,o),P=await j6(I.ref),N=Vt(ht,"users",e.uid);await Rr(N,{progressPhotos:ey({url:P,caption:d||"",uploadedAt:Ft.now(),fileName:q})}),c(null),f("")}catch(I){console.error("Error uploading photo:",I),b(t("dashboard.client.photoUpload.uploadFailedError","Photo upload failed. Please try again. Error: "+I.message))}finally{x(!1)}};return n||!e?u.jsx("div",{className:"container mx-auto p-4 text-center",children:t("loading","Loading...")}):u.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:u.jsxs("div",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark shadow-xl rounded-lg p-6 md:p-8 transition-colors duration-300",children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("dashboard.client.title",{name:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"Cliente"})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-primary-light/30 dark:bg-primary-dark/30 p-6 rounded-lg shadow transition-colors duration-300",children:[u.jsx("h2",{className:"text-xl font-semibold text-primary-dark dark:text-primary-light mb-3",children:t("dashboard.client.profileSummaryTitle","Profile Summary")}),u.jsxs("p",{className:"text-text-default-light dark:text-text-default-dark",children:[u.jsx("strong",{children:t("profile.display.email","Email:")})," ",e.email]}),u.jsxs("p",{className:"text-text-default-light dark:text-text-default-dark",children:[u.jsx("strong",{children:t("profile.display.phone","Phone:")})," ",e.phoneNumber||t("profile.notSet","Not set")]}),u.jsx("div",{className:"mt-4",children:u.jsxs(zt,{to:`/profile/${e.uid}`,className:"text-sm font-medium text-primary-dark hover:text-primary-DEFAULT dark:text-primary-light dark:hover:text-primary-DEFAULT transition-colors",children:[t("dashboard.client.viewEditProfile","View/Edit Full Profile")," →"]})})]}),u.jsxs("div",{className:"bg-secondary-light/30 dark:bg-secondary-dark/30 p-6 rounded-lg shadow transition-colors duration-300",children:[u.jsx("h2",{className:"text-xl font-semibold text-secondary-dark dark:text-secondary-light mb-3",children:t("dashboard.client.assignedRoutineTitle","Your Current Routine")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:e.assignedPlanId?t("dashboard.client.currentPlanInfo",`Details for plan ID: ${e.assignedPlanId} will be shown here.`):t("dashboard.client.noPlanAssigned","No training plan assigned yet. Contact your coach!")}),e.assignedPlanId&&u.jsx("div",{className:"mt-4",children:u.jsxs(zt,{to:"/training-plan",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-medium rounded-lg transition-all duration-300",children:[u.jsx(Kf,{className:"mr-2"}),t("dashboard.client.viewPlanDetails","Ver Plan de Entrenamiento")]})})]}),u.jsxs("div",{className:"bg-accent-light/30 dark:bg-accent-dark/30 p-6 rounded-lg shadow transition-colors duration-300",children:[u.jsx("h2",{className:"text-xl font-semibold text-accent-dark dark:text-accent-light mb-3",children:t("dashboard.client.trainingHistoryTitle","Training History")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.client.historyPlaceholder","Your recent workouts and completed routines will appear here.")}),u.jsx("div",{className:"mt-4",children:u.jsxs(zt,{to:"/training-history",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-sm font-medium rounded-lg transition-all duration-300",children:[u.jsx($f,{className:"mr-2"}),t("dashboard.client.viewFullHistory","Ver Historial Completo")]})})]}),u.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-6 rounded-lg shadow transition-colors duration-300",children:[u.jsx("h2",{className:"text-xl font-semibold text-orange-800 dark:text-orange-200 mb-3",children:t("dashboard.client.notificationsTitle","Notificaciones")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.client.notificationsDescription","Mantente al día con tus alertas y mensajes importantes.")}),u.jsx("div",{className:"mt-4",children:u.jsxs(zt,{to:"/notifications",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white text-sm font-medium rounded-lg transition-all duration-300",children:[u.jsx(sd,{className:"mr-2"}),t("dashboard.client.viewNotifications","Ver Notificaciones")]})})]}),u.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-6 rounded-lg shadow transition-colors duration-300",children:[u.jsx("h2",{className:"text-xl font-semibold text-purple-800 dark:text-purple-200 mb-3",children:t("dashboard.client.settingsTitle","Configuración")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.client.settingsDescription","Gestiona tus preferencias y configuración de cuenta.")}),u.jsx("div",{className:"mt-4",children:u.jsxs(zt,{to:"/settings",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white text-sm font-medium rounded-lg transition-all duration-300",children:[u.jsx(iC,{className:"mr-2"}),t("dashboard.client.viewSettings","Ver Configuración")]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8 pt-6 border-t border-neutral-border-light dark:border-neutral-border-dark transition-colors duration-300",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text-default-light dark:text-text-default-dark mb-4",children:t("dashboard.client.progressUpdateTitle","Log Your Progress (Text)")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-4",children:t("dashboard.client.progressUpdateDesc","Share how you're feeling, any achievements, or challenges.")}),u.jsxs("form",{onSubmit:j,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"progressUpdate",className:"sr-only",children:t("dashboard.client.progressNotesLabel","Progress Notes")}),u.jsx("textarea",{id:"progressUpdate",rows:4,value:r,onChange:z=>i(z.target.value),className:"w-full p-3 border border-neutral-border-light dark:border-neutral-border-dark rounded-md shadow-sm focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark transition-colors duration-300",placeholder:t("dashboard.client.progressPlaceholder","E.g., Felt strong today, hit a new PR on squats!")})]}),T&&u.jsx("p",{className:"text-sm text-semantic-error-light dark:text-semantic-error-dark",children:T}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:m||!r.trim(),className:"px-6 py-2 bg-primary-DEFAULT text-text-default-dark dark:text-text-default-light font-medium rounded-md hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-dark dark:focus:ring-primary-light disabled:opacity-50 transition-colors duration-300",children:m?t("dashboard.client.submittingProgress","Submitting..."):t("dashboard.client.submitProgressButton","Submit Text Update")})})]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-text-default-light dark:text-text-default-dark mb-4",children:t("dashboard.client.photoUpload.title","Upload Progress Photo")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-4",children:t("dashboard.client.photoUpload.desc","Visually track your transformation. Photos are visible to you and your coach.")}),u.jsxs("form",{onSubmit:M,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"progressPhoto",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark",children:t("dashboard.client.photoUpload.selectLabel","Select Photo (Max 5MB)")}),u.jsx("input",{type:"file",id:"progressPhoto",accept:"image/png, image/jpeg, image/webp",onChange:O,className:`mt-1 block w-full text-sm text-text-muted-light dark:text-text-muted-dark\r
                    file:mr-4 file:py-2 file:px-4\r
                    file:rounded-full file:border-0\r
                    file:text-sm file:font-semibold\r
                    file:bg-primary-light file:text-primary-dark dark:file:bg-primary-dark dark:file:text-primary-light\r
                    hover:file:bg-primary-DEFAULT dark:hover:file:bg-primary-hover transition-colors duration-300`}),o&&u.jsxs("p",{className:"mt-1 text-xs text-text-muted-light dark:text-text-muted-dark",children:[t("dashboard.client.photoUpload.selectedFile","Selected:")," ",o.name]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"photoCaption",className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark",children:t("dashboard.client.photoUpload.captionLabel","Caption (Optional)")}),u.jsx("input",{type:"text",id:"photoCaption",value:d,onChange:z=>f(z.target.value),className:"mt-1 block w-full px-3 py-2 bg-neutral-background-light dark:bg-neutral-background-dark border border-neutral-border-light dark:border-neutral-border-dark rounded-md shadow-sm text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark sm:text-sm transition-colors duration-300",placeholder:t("dashboard.client.photoUpload.captionPlaceholder","E.g., Week 4 - Front View")})]}),v&&u.jsx("p",{className:"text-sm text-semantic-error-light dark:text-semantic-error-dark",children:v}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:m||!o,className:"px-6 py-2 bg-secondary-DEFAULT text-text-default-dark dark:text-text-default-light font-medium rounded-md hover:bg-secondary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary-dark dark:focus:ring-secondary-light disabled:opacity-50 transition-colors duration-300",children:m?t("dashboard.client.photoUpload.uploadingButton","Uploading..."):t("dashboard.client.photoUpload.uploadButton","Upload Photo")})})]})]})]})]})})},rG=()=>{const{t}=mt(),{currentUser:e,userRole:n}=rr(),r=[{id:"users",title:t("dashboard.coach.users.title","Gestión de Usuarios"),description:t("dashboard.coach.users.description","Ver y gestionar todos los usuarios del sistema"),icon:u.jsx(od,{className:"w-8 h-8"}),link:"/admin/users",color:"from-blue-500 to-cyan-600",hoverColor:"from-blue-600 to-cyan-700",available:n==="admin"||n==="coach"},{id:"plans",title:t("dashboard.coach.plans.title","Planes de Entrenamiento"),description:t("dashboard.coach.plans.description","Crear y gestionar planes de entrenamiento"),icon:u.jsx(tr,{className:"w-8 h-8"}),link:"/admin/plans",color:"from-teal-500 to-cyan-600",hoverColor:"from-teal-600 to-cyan-700",available:n==="admin"||n==="coach"},{id:"analytics",title:t("dashboard.coach.analytics.title","Analíticas"),description:t("dashboard.coach.analytics.description","Ver estadísticas y progreso de clientes"),icon:u.jsx(ac,{className:"w-8 h-8"}),link:"/analytics",color:"from-purple-500 to-pink-600",hoverColor:"from-purple-600 to-pink-700",available:n==="admin"||n==="coach"},{id:"schedule",title:t("dashboard.coach.schedule.title","Calendario"),description:t("dashboard.coach.schedule.description","Gestionar horarios y citas"),icon:u.jsx(Ha,{className:"w-8 h-8"}),link:"/dashboard/coach/schedule",color:"from-orange-500 to-red-600",hoverColor:"from-orange-600 to-red-700",available:n==="admin"||n==="coach"}];return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(lC,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("dashboard.coach.title","Panel de Coach")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.subtitle","Bienvenido, {{name}}",{name:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"Coach"})})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.stats.totalUsers","Total Usuarios")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:"24"})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:u.jsx(od,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.stats.activePlans","Planes Activos")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:"8"})]}),u.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-xl flex items-center justify-center",children:u.jsx(tr,{className:"w-6 h-6 text-teal-600 dark:text-teal-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.stats.thisWeek","Esta Semana")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:"12"})]}),u.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center",children:u.jsx(ac,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.stats.sessions","Sesiones")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:"5"})]}),u.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:u.jsx(Ha,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:r.map(i=>u.jsxs(zt,{to:i.link,className:`group block bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 transition-all duration-500 hover:shadow-2xl hover:scale-105 ${i.available?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-6",children:[u.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${i.color} rounded-2xl flex items-center justify-center text-white shadow-lg group-hover:shadow-xl transition-all duration-300`,children:i.icon}),u.jsx(PH,{className:"w-6 h-6 text-text-muted-light dark:text-text-muted-dark group-hover:text-text-default-light dark:group-hover:text-text-default-dark transition-colors duration-300"})]}),u.jsx("h3",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-3",children:i.title}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-6",children:i.description}),i.id==="plans"&&u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-medium rounded-lg transition-all duration-300 flex items-center",children:[u.jsx(ic,{className:"w-4 h-4 mr-2"}),t("dashboard.coach.plans.createNew","Crear Nuevo")]})})]},i.id))}),u.jsx("div",{className:"mt-12",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 transition-colors duration-500",children:[u.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("dashboard.coach.recentActivity.title","Actividad Reciente")}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:u.jsx(od,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:t("dashboard.coach.recentActivity.newUser","Nuevo usuario registrado")}),u.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.recentActivity.timeAgo","Hace 2 horas")})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:u.jsx(tr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:t("dashboard.coach.recentActivity.planAssigned","Plan asignado a cliente")}),u.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.recentActivity.timeAgo","Hace 1 día")})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:u.jsx(ac,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:t("dashboard.coach.recentActivity.progressUpdate","Actualización de progreso")}),u.jsx("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark",children:t("dashboard.coach.recentActivity.timeAgo","Hace 3 días")})]})]})]})]})})]})})},aG=()=>{const{t}=mt(),{currentUser:e}=rr(),[n,r]=C.useState(null),[i,o]=C.useState(!0),[c,d]=C.useState(null),[f,m]=C.useState(new Set),[x,v]=C.useState(!1),[b,T]=C.useState(!1);C.useEffect(()=>{E(),j()},[e]);const E=async()=>{if(!(e!=null&&e.assignedPlanId)){o(!1);return}o(!0),d(null);try{const q=await gc(Vt(ht,"trainingPlans",e.assignedPlanId));q.exists()?r({id:q.id,...q.data()}):d(t("clientTrainingPlan.planNotFound","Plan no encontrado"))}catch(q){console.error("Error fetching plan:",q),d(t("clientTrainingPlan.errorFetching","Error al cargar el plan"))}finally{o(!1)}},j=async()=>{if(!(!e||!e.assignedPlanId))try{const q=await gc(Vt(ht,"users",e.uid));if(q.exists()){const V=q.data();if(V.trainingProgress&&V.trainingProgress[e.assignedPlanId]){const I=V.trainingProgress[e.assignedPlanId];I.completedExercises&&m(new Set(I.completedExercises))}}}catch(q){console.error("Error fetching progress:",q)}},O=async()=>{if(!(!e||!n||f.size===0)){v(!0),d(null);try{const q=`session_${Date.now()}`,V={date:bn(),completedExercises:Array.from(f),planId:n.id,sessionId:q},I=Vt(ht,"users",e.uid);await Rr(I,{[`trainingProgress.${n.id}`]:V,updatedAt:bn()}),T(!0),setTimeout(()=>T(!1),3e3)}catch(q){console.error("Error saving progress:",q),d(t("clientTrainingPlan.errorSavingProgress","Error al guardar el progreso"))}finally{v(!1)}}},M=q=>{m(V=>{const I=new Set(V);return I.has(q)?I.delete(q):I.add(q),I}),T(!1)},z=q=>{switch(q){case"beginner":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"intermediate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"advanced":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},L=()=>!n||n.exercises.length===0?0:Math.round(f.size/n.exercises.length*100);return i?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})}):e!=null&&e.assignedPlanId?c?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx($s,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("clientTrainingPlan.errorTitle","Error al cargar el plan")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark mb-8",children:c}),u.jsxs("button",{onClick:E,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[u.jsx(Kf,{className:"mr-2"}),t("common.retry","Reintentar")]})]})})}):n?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(tr,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:n.name}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingPlan.yourPlan","Tu Plan de Entrenamiento")})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[f.size>0&&u.jsxs("button",{onClick:O,disabled:x,className:`px-4 py-2 rounded-xl transition-all duration-300 flex items-center ${b?"bg-green-500 text-white":"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white"} disabled:opacity-50`,children:[u.jsx(Rd,{className:"mr-2"}),x?t("clientTrainingPlan.saving","Guardando..."):b?t("clientTrainingPlan.saved","¡Guardado!"):t("clientTrainingPlan.saveProgress","Guardar Progreso")]}),u.jsxs(zt,{to:"/dashboard/client",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[u.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})]})}),c&&u.jsx("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30",children:c}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("clientTrainingPlan.planInfo","Información del Plan")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-6",children:n.description}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:u.jsx(Ha,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingPlan.duration","Duración")}),u.jsxs("p",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:[n.duration," ",t("clientTrainingPlan.weeks","semanas")]})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:u.jsx(Ni,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingPlan.difficulty","Dificultad")}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z(n.difficulty)}`,children:t(`adminPlans.difficulty.${n.difficulty}`,n.difficulty)})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:u.jsx(tr,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingPlan.exercises","Ejercicios")}),u.jsx("p",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:n.exercises.length})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("clientTrainingPlan.progress","Progreso")}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-4",children:[u.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[u.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200 dark:text-gray-700"}),u.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-L()/100)}`,className:"text-teal-500 transition-all duration-500"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("span",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:[L(),"%"]})})]}),u.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[f.size," / ",n.exercises.length," ",t("clientTrainingPlan.completed","completados")]})]}),f.size>0&&u.jsx("div",{className:"text-center",children:u.jsxs("button",{onClick:O,disabled:x,className:"w-full px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-medium rounded-lg transition-all duration-300 flex items-center justify-center disabled:opacity-50",children:[u.jsx(Rd,{className:"mr-2"}),x?t("clientTrainingPlan.saving","Guardando..."):t("clientTrainingPlan.saveProgress","Guardar Progreso")]})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("clientTrainingPlan.exercises","Ejercicios")}),u.jsx("div",{className:"space-y-4",children:n.exercises.map((q,V)=>u.jsx("div",{className:`p-6 rounded-xl border-2 transition-all duration-300 ${f.has(q.id)?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-slate-600 hover:border-teal-300 dark:hover:border-teal-600"}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx("span",{className:"w-8 h-8 bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 rounded-full flex items-center justify-center text-sm font-medium",children:V+1}),u.jsx("h3",{className:"text-lg font-semibold text-text-default-light dark:text-text-default-dark",children:q.name}),f.has(q.id)&&u.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[u.jsx(xa,{className:"w-3 h-3 mr-1"}),t("clientTrainingPlan.completed","Completado")]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(tr,{className:"w-4 h-4 text-text-muted-light dark:text-text-muted-dark"}),u.jsxs("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[t("clientTrainingPlan.sets","Series"),": ",u.jsx("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:q.sets})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Kf,{className:"w-4 h-4 text-text-muted-light dark:text-text-muted-dark"}),u.jsxs("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[t("clientTrainingPlan.reps","Repeticiones"),": ",u.jsx("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:q.reps})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Wd,{className:"w-4 h-4 text-text-muted-light dark:text-text-muted-dark"}),u.jsxs("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[t("clientTrainingPlan.rest","Descanso"),": ",u.jsx("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:q.rest})]})]})]}),q.notes&&u.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark bg-gray-50 dark:bg-slate-700 p-3 rounded-lg",children:[u.jsxs("strong",{children:[t("clientTrainingPlan.notes","Notas"),":"]})," ",q.notes]})]}),u.jsx("button",{onClick:()=>M(q.id),className:`ml-4 p-3 rounded-lg transition-all duration-300 ${f.has(q.id)?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50":"bg-gray-100 text-gray-600 dark:bg-slate-700 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-slate-600"}`,title:f.has(q.id)?t("clientTrainingPlan.markIncomplete","Marcar como incompleto"):t("clientTrainingPlan.markComplete","Marcar como completo"),children:f.has(q.id)?u.jsx(xa,{className:"w-5 h-5"}):u.jsx(Kf,{className:"w-5 h-5"})})]})},q.id))})]})]})}):null:u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(tr,{className:"w-12 h-12 text-white"})}),u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("clientTrainingPlan.noPlanTitle","No tienes un plan asignado")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark mb-8",children:t("clientTrainingPlan.noPlanDescription","Contacta con tu coach o administrador para que te asigne un plan de entrenamiento personalizado.")}),u.jsxs(zt,{to:"/dashboard/client",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[u.jsx(Gs,{className:"mr-2"}),t("common.backToDashboard","Volver al Dashboard")]})]})})})},iG=()=>{const{t}=mt(),{currentUser:e}=rr(),[n,r]=C.useState([]),[i,o]=C.useState({}),[c,d]=C.useState(!0),[f,m]=C.useState(null);C.useEffect(()=>{x()},[e]);const x=async()=>{if(!e){d(!1);return}d(!0),m(null);try{const L=await gc(Vt(ht,"users",e.uid));if(L.exists()){const V=L.data().trainingProgress||{},I=Object.values(V);I.sort((S,D)=>D.date.toDate()-S.date.toDate()),r(I);const P=[...new Set(I.map(S=>S.planId))],N={};for(const S of P)try{const D=await gc(Vt(ht,"trainingPlans",S));D.exists()&&(N[S]={id:D.id,...D.data()})}catch(D){console.error(`Error fetching plan ${S}:`,D)}o(N)}}catch(L){console.error("Error fetching training history:",L),m(t("clientTrainingHistory.errorFetching","Error al cargar el historial"))}finally{d(!1)}},v=L=>L?(L.toDate?L.toDate():new Date(L)).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Fecha desconocida",b=L=>{var q;return((q=i[L])==null?void 0:q.name)||L},T=(L,q)=>{const V=i[L];if(!V)return q;const I=V.exercises.find(P=>P.id===q);return(I==null?void 0:I.name)||q},E=L=>{const q=i[L.planId];return!q||q.exercises.length===0?0:Math.round(L.completedExercises.length/q.exercises.length*100)},j=()=>n.length,O=()=>n.reduce((L,q)=>L+q.completedExercises.length,0),M=()=>{if(n.length===0)return 0;const L=n.reduce((q,V)=>q+E(V),0);return Math.round(L/n.length)},z=()=>{if(n.length===0)return 0;const L=new Date;L.setHours(0,0,0,0);let q=0,V=new Date(L);for(;n.some(P=>{const N=P.date.toDate();return N.setHours(0,0,0,0),N.getTime()===V.getTime()});)q++,V.setDate(V.getDate()-1);return q};return c?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})}):f?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx($s,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("clientTrainingHistory.errorTitle","Error al cargar el historial")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark mb-8",children:f}),u.jsxs("button",{onClick:x,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[u.jsx($f,{className:"mr-2"}),t("common.retry","Reintentar")]})]})})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx($f,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("clientTrainingHistory.title","Historial de Entrenamiento")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.subtitle","Tu progreso y sesiones completadas")})]})]}),u.jsxs(zt,{to:"/dashboard/client",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[u.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.stats.totalSessions","Sesiones Totales")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:j()})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:u.jsx(tr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.stats.exercisesCompleted","Ejercicios Completados")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:O()})]}),u.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:u.jsx(xa,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.stats.averageCompletion","Promedio de Completado")}),u.jsxs("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:[M(),"%"]})]}),u.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center",children:u.jsx(ac,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.stats.streak","Racha Actual")}),u.jsxs("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:[z()," ",t("clientTrainingHistory.stats.days","días")]})]}),u.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:u.jsx(sC,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("clientTrainingHistory.sessionsTitle","Sesiones de Entrenamiento")}),n.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx($f,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),u.jsx("h3",{className:"text-xl font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("clientTrainingHistory.noSessions","No hay sesiones registradas")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-6",children:t("clientTrainingHistory.noSessionsDescription","Comienza a entrenar y verás tu historial aquí")}),u.jsxs(zt,{to:"/training-plan",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[u.jsx(tr,{className:"mr-2"}),t("clientTrainingHistory.startTraining","Comenzar Entrenamiento")]})]}):u.jsx("div",{className:"space-y-6",children:n.map((L,q)=>u.jsxs("div",{className:"border border-gray-200 dark:border-slate-600 rounded-xl p-6 transition-colors duration-300 hover:bg-gray-50 dark:hover:bg-slate-700",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-teal-600 dark:text-teal-400",children:n.length-q})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-text-default-light dark:text-text-default-dark",children:b(L.planId)}),u.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark flex items-center",children:[u.jsx(Ha,{className:"w-4 h-4 mr-2"}),v(L.date)]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("clientTrainingHistory.completion","Completado")}),u.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded-full text-xs font-medium",children:[E(L),"%"]})]}),u.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[L.completedExercises.length," ",t("clientTrainingHistory.exercises","ejercicios")]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:[t("clientTrainingHistory.completedExercises","Ejercicios Completados"),":"]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:L.completedExercises.map(V=>u.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded-full text-xs font-medium",children:[u.jsx(xa,{className:"w-3 h-3 mr-1"}),T(L.planId,V)]},V))})]})]},L.sessionId))})]})]})})},sG=()=>{const{t}=mt(),{currentUser:e,userRole:n}=rr(),[r,i]=C.useState([]),[o,c]=C.useState({}),[d,f]=C.useState([]),[m,x]=C.useState(!0),[v,b]=C.useState(null),[T,E]=C.useState("month");C.useEffect(()=>{j()},[e,T]);const j=async()=>{var V;if(!e){x(!1);return}x(!0),b(null);try{const I=ga(ht,"users"),P=qs(I,jd("role","==","client"),Hs("displayName")),N=await Li(P),S=ga(ht,"trainingPlans"),D=await Li(S),B={};D.docs.forEach(ye=>{B[ye.id]={id:ye.id,...ye.data()}}),c(B);const $=[],U={};for(const ye of N.docs){const ke=ye.data(),Y=await O(ye.id,ke,B);if($.push(Y),ke.assignedPlanId){const ie=ke.assignedPlanId;U[ie]||(U[ie]={planId:ie,planName:((V=B[ie])==null?void 0:V.name)||ie,assignedCount:0,activeCount:0,averageCompletion:0,totalCompletion:0}),U[ie].assignedCount++,Y.isActive&&U[ie].activeCount++,U[ie].totalCompletion+=Y.averageCompletion}}Object.values(U).forEach(ye=>{ye.assignedCount>0&&(ye.averageCompletion=Math.round(ye.totalCompletion/ye.assignedCount)),delete ye.totalCompletion}),i($),f(Object.values(U))}catch(I){console.error("Error fetching analytics:",I),b(t("coachAnalytics.errorFetching","Error al cargar las analíticas"))}finally{x(!1)}},O=async(V,I,P)=>{var te;const N=I.trainingProgress||{},S=Object.values(N),D=new Date,B=S.filter(ve=>{const F=ve.date.toDate();switch(T){case"week":const ne=new Date(D.getTime()-6048e5);return F>=ne;case"month":const pe=new Date(D.getTime()-30*24*60*60*1e3);return F>=pe;default:return!0}}),$=B.length,U=B.reduce((ve,F)=>ve+F.completedExercises.length,0);let ye=0;if($>0&&I.assignedPlanId){const ve=P[I.assignedPlanId];if(ve&&ve.exercises.length>0){const F=$*ve.exercises.length;ye=Math.round(U/F*100)}}const ke=B.length>0?B[0].date:null,Y=M(S),ie=ke&&D.getTime()-ke.toDate().getTime()<7*24*60*60*1e3;return{uid:V,displayName:I.displayName||"Sin nombre",email:I.email||"",assignedPlanId:I.assignedPlanId||"",planName:I.assignedPlanId?((te=P[I.assignedPlanId])==null?void 0:te.name)||I.assignedPlanId:"Sin plan",totalSessions:$,totalExercisesCompleted:U,averageCompletion:ye,lastSessionDate:ke,streakDays:Y,isActive:ie}},M=V=>{if(V.length===0)return 0;const I=new Date;I.setHours(0,0,0,0);let P=0,N=new Date(I);for(;V.some(D=>{const B=D.date.toDate();return B.setHours(0,0,0,0),B.getTime()===N.getTime()});)P++,N.setDate(N.getDate()-1);return P},z=V=>V?(V.toDate?V.toDate():new Date(V)).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Nunca",L=()=>{const V=r.length,I=r.filter(S=>S.isActive).length,P=r.reduce((S,D)=>S+D.totalSessions,0),N=V>0?Math.round(r.reduce((S,D)=>S+D.averageCompletion,0)/V):0;return{totalClients:V,activeClients:I,totalSessions:P,averageCompletion:N}};if(m)return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})});if(v)return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx($s,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:t("coachAnalytics.errorTitle","Error al cargar las analíticas")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark mb-8",children:v}),u.jsxs("button",{onClick:j,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[u.jsx(ac,{className:"mr-2"}),t("common.retry","Reintentar")]})]})})});const q=L();return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(ac,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("coachAnalytics.title","Analíticas de Clientes")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.subtitle","Progreso y estadísticas de tus clientes")})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("select",{value:T,onChange:V=>E(V.target.value),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 transition-all duration-300",children:[u.jsx("option",{value:"week",children:t("coachAnalytics.timeframe.week","Esta Semana")}),u.jsx("option",{value:"month",children:t("coachAnalytics.timeframe.month","Este Mes")}),u.jsx("option",{value:"all",children:t("coachAnalytics.timeframe.all","Todo el Tiempo")})]}),u.jsxs(zt,{to:"/dashboard/coach",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[u.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.stats.totalClients","Total Clientes")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:q.totalClients})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:u.jsx(od,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.stats.activeClients","Clientes Activos")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:q.activeClients})]}),u.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:u.jsx(xc,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.stats.totalSessions","Sesiones Totales")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:q.totalSessions})]}),u.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center",children:u.jsx(tr,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.stats.averageCompletion","Promedio Completado")}),u.jsxs("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:[q.averageCompletion,"%"]})]}),u.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:u.jsx(KH,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),d.length>0&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("coachAnalytics.planStats.title","Estadísticas por Plan")}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(V=>u.jsxs("div",{className:"border border-gray-200 dark:border-slate-600 rounded-xl p-4",children:[u.jsx("h3",{className:"font-semibold text-text-default-light dark:text-text-default-dark mb-3",children:V.planName}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-text-muted-light dark:text-text-muted-dark",children:[t("coachAnalytics.planStats.assigned","Asignado"),":"]}),u.jsx("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:V.assignedCount})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-text-muted-light dark:text-text-muted-dark",children:[t("coachAnalytics.planStats.active","Activos"),":"]}),u.jsx("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:V.activeCount})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-text-muted-light dark:text-text-muted-dark",children:[t("coachAnalytics.planStats.avgCompletion","Promedio"),":"]}),u.jsxs("span",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:[V.averageCompletion,"%"]})]})]})]},V.planId))})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("coachAnalytics.clientProgress.title","Progreso de Clientes")}),r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(od,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),u.jsx("h3",{className:"text-xl font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachAnalytics.noClients","No hay clientes registrados")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("coachAnalytics.noClientsDescription","Los clientes aparecerán aquí cuando se registren")})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-600",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.client","Cliente")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.plan","Plan")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.sessions","Sesiones")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.completion","Completado")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.streak","Racha")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.lastSession","Última Sesión")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachAnalytics.table.status","Estado")})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-600",children:r.map(V=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:V.displayName}),u.jsx("div",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:V.email})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-default-light dark:text-text-default-dark",children:V.planName}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-default-light dark:text-text-default-dark",children:V.totalSessions}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V.averageCompletion>=80?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":V.averageCompletion>=60?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:[V.averageCompletion,"%"]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-default-light dark:text-text-default-dark",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(sC,{className:"w-4 h-4 text-orange-500 mr-1"}),V.streakDays," ",t("coachAnalytics.table.days","días")]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-muted-light dark:text-text-muted-dark",children:z(V.lastSessionDate)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${V.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}`,children:V.isActive?u.jsxs(u.Fragment,{children:[u.jsx(xc,{className:"w-3 h-3 mr-1"}),t("coachAnalytics.table.active","Activo")]}):u.jsxs(u.Fragment,{children:[u.jsx(YH,{className:"w-3 h-3 mr-1"}),t("coachAnalytics.table.inactive","Inactivo")]})})})]},V.uid))})]})})]})]})})},oG=()=>{const{t}=mt(),{currentUser:e}=rr(),[n,r]=C.useState([]),[i,o]=C.useState([]),[c,d]=C.useState(!0),[f,m]=C.useState(null),[x,v]=C.useState(!1),[b,T]=C.useState(null),[E,j]=C.useState("week"),[O,M]=C.useState(new Date),[z,L]=C.useState(""),[q,V]=C.useState(""),[I,P]=C.useState(""),[N,S]=C.useState("training"),[D,B]=C.useState(""),[$,U]=C.useState(""),[ye,ke]=C.useState(60);C.useEffect(()=>{Y(),ie()},[e]);const Y=async()=>{if(!e){d(!1);return}d(!0),m(null);try{const le=ga(ht,"appointments"),Qe=qs(le,jd("createdBy","==",e.uid),Hs("startTime","asc")),ue=(await Li(Qe)).docs.map(Oe=>({id:Oe.id,...Oe.data()}));r(ue)}catch(le){console.error("Error fetching appointments:",le),m(t("coachSchedule.errorFetching","Error al cargar las citas"))}finally{d(!1)}},ie=async()=>{try{const le=ga(ht,"users"),Qe=qs(le,jd("role","==","client"),Hs("displayName")),ue=(await Li(Qe)).docs.map(Oe=>({uid:Oe.id,...Oe.data()}));o(ue)}catch(le){console.error("Error fetching clients:",le)}},te=async le=>{if(le.preventDefault(),!(!e||!I)){d(!0),m(null);try{const Qe=i.find(et=>et.uid===I);if(!Qe)throw new Error("Cliente no encontrado");const we=new Date(`${D}T${$}`),ue=new Date(we.getTime()+ye*6e4),Oe={title:z,description:q,clientId:I,clientName:Qe.displayName||"Sin nombre",clientEmail:Qe.email||"",startTime:bn(),endTime:bn(),status:"scheduled",type:N,createdBy:e.uid,createdAt:bn(),updatedAt:bn()};await d6(ga(ht,"appointments"),Oe),L(""),V(""),P(""),S("training"),B(""),U(""),ke(60),v(!1),await Y()}catch(Qe){console.error("Error creating appointment:",Qe),m(t("coachSchedule.errorCreating","Error al crear la cita"))}finally{d(!1)}}},ve=async le=>{if(le.preventDefault(),!!b){d(!0),m(null);try{const Qe=i.find(et=>et.uid===I);if(!Qe)throw new Error("Cliente no encontrado");const we=new Date(`${D}T${$}`),ue=new Date(we.getTime()+ye*6e4),Oe=Vt(ht,"appointments",b.id);await Rr(Oe,{title:z,description:q,clientId:I,clientName:Qe.displayName||"Sin nombre",clientEmail:Qe.email||"",startTime:bn(),endTime:bn(),type:N,updatedAt:bn()}),T(null),L(""),V(""),P(""),S("training"),B(""),U(""),ke(60),await Y()}catch(Qe){console.error("Error updating appointment:",Qe),m(t("coachSchedule.errorUpdating","Error al actualizar la cita"))}finally{d(!1)}}},F=async le=>{if(confirm(t("coachSchedule.confirmDelete","¿Estás seguro de que quieres eliminar esta cita?"))){d(!0),m(null);try{await km(Vt(ht,"appointments",le)),await Y()}catch(Qe){console.error("Error deleting appointment:",Qe),m(t("coachSchedule.errorDeleting","Error al eliminar la cita"))}finally{d(!1)}}},ne=async(le,Qe)=>{d(!0),m(null);try{const we=Vt(ht,"appointments",le);await Rr(we,{status:Qe,updatedAt:bn()}),await Y()}catch(we){console.error("Error updating appointment status:",we),m(t("coachSchedule.errorUpdatingStatus","Error al actualizar el estado de la cita"))}finally{d(!1)}},pe=le=>{T(le),L(le.title),V(le.description||""),P(le.clientId),S(le.type);const Qe=le.startTime.toDate();B(Qe.toISOString().split("T")[0]),U(Qe.toTimeString().slice(0,5));const we=Math.round((le.endTime.toDate().getTime()-Qe.getTime())/6e4);ke(we)},oe=()=>{v(!1),T(null),L(""),V(""),P(""),S("training"),B(""),U(""),ke(60),m(null)},Te=le=>{switch(le){case"scheduled":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},Ie=le=>{switch(le){case"consultation":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"training":return"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-300";case"follow-up":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300";case"assessment":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},Pe=le=>le?(le.toDate?le.toDate():new Date(le)).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Fecha no disponible",At=()=>{const le=new Date;return n.filter(Qe=>Qe.startTime.toDate()>=le&&Qe.status==="scheduled").slice(0,5)};return c&&n.length===0?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(Ha,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("coachSchedule.title","Calendario de Citas")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.subtitle","Gestiona horarios y citas con tus clientes")})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("button",{onClick:()=>v(!0),className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[u.jsx(ic,{className:"mr-2"}),t("coachSchedule.createAppointment","Nueva Cita")]}),u.jsxs(zt,{to:"/dashboard/coach",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[u.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})]})}),f&&u.jsx("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30",children:f}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex items-center space-x-2 bg-white dark:bg-slate-800 rounded-xl p-1 shadow-lg",children:[u.jsxs("button",{onClick:()=>j("day"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${E==="day"?"bg-teal-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[u.jsx(IH,{className:"mr-2"}),t("coachSchedule.view.day","Día")]}),u.jsxs("button",{onClick:()=>j("week"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${E==="week"?"bg-teal-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[u.jsx(DH,{className:"mr-2"}),t("coachSchedule.view.week","Semana")]}),u.jsxs("button",{onClick:()=>j("month"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${E==="month"?"bg-teal-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[u.jsx(MH,{className:"mr-2"}),t("coachSchedule.view.month","Mes")]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.stats.total","Total Citas")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:n.length})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:u.jsx(Ha,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.stats.scheduled","Programadas")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:n.filter(le=>le.status==="scheduled").length})]}),u.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:u.jsx(Wd,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.stats.completed","Completadas")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:n.filter(le=>le.status==="completed").length})]}),u.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center",children:u.jsx(xa,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.stats.clients","Clientes Únicos")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:new Set(n.map(le=>le.clientId)).size})]}),u.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:u.jsx(Ni,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 mb-8",children:[u.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("coachSchedule.upcoming","Próximas Citas")}),At().length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Ha,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:t("coachSchedule.noUpcoming","No hay citas programadas próximamente")})]}):u.jsx("div",{className:"space-y-4",children:At().map(le=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-xl flex items-center justify-center",children:u.jsx(Ni,{className:"w-6 h-6 text-teal-600 dark:text-teal-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:le.title}),u.jsxs("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:[le.clientName," • ",Pe(le.startTime)]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ie(le.type)}`,children:t(`coachSchedule.type.${le.type}`,le.type)}),u.jsx("button",{onClick:()=>ne(le.id,"completed"),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:t("coachSchedule.markCompleted","Marcar como completada"),children:u.jsx(xa,{className:"w-4 h-4"})})]})]},le.id))})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("coachSchedule.allAppointments","Todas las Citas")}),n.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(Ha,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),u.jsx("h3",{className:"text-xl font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.noAppointments","No hay citas programadas")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-6",children:t("coachSchedule.noAppointmentsDescription","Crea tu primera cita para comenzar")}),u.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300",children:[u.jsx(ic,{className:"mr-2"}),t("coachSchedule.createFirstAppointment","Crear Primera Cita")]})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-600",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.title","Título")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.client","Cliente")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.date","Fecha")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.type","Tipo")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.status","Estado")}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("coachSchedule.table.actions","Acciones")})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-600",children:n.map(le=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:le.title}),le.description&&u.jsx("div",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:le.description})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:le.clientName}),u.jsx("div",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:le.clientEmail})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-default-light dark:text-text-default-dark",children:Pe(le.startTime)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ie(le.type)}`,children:t(`coachSchedule.type.${le.type}`,le.type)})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te(le.status)}`,children:t(`coachSchedule.status.${le.status}`,le.status)})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[u.jsx("button",{onClick:()=>pe(le),className:"text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 p-1 rounded transition-colors",title:t("coachSchedule.edit","Editar"),children:u.jsx(dp,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>F(le.id),className:"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 p-1 rounded transition-colors",title:t("coachSchedule.delete","Eliminar"),children:u.jsx(Pd,{className:"w-4 h-4"})}),le.status==="scheduled"&&u.jsx("button",{onClick:()=>ne(le.id,"completed"),className:"text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 p-1 rounded transition-colors",title:t("coachSchedule.markCompleted","Marcar como completada"),children:u.jsx(xa,{className:"w-4 h-4"})})]})]},le.id))})]})})]}),(x||b)&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 dark:bg-black/80 z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl m-4",children:[u.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:u.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:b?t("coachSchedule.editAppointment","Editar Cita"):t("coachSchedule.createAppointment","Nueva Cita")})}),u.jsxs("form",{onSubmit:b?ve:te,className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.title","Título de la Cita")}),u.jsx("input",{type:"text",value:z,onChange:le=>L(le.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("coachSchedule.form.titlePlaceholder","Ej: Entrenamiento de Fuerza"),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.type","Tipo de Cita")}),u.jsxs("select",{value:N,onChange:le=>S(le.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",children:[u.jsx("option",{value:"consultation",children:t("coachSchedule.type.consultation","Consulta")}),u.jsx("option",{value:"training",children:t("coachSchedule.type.training","Entrenamiento")}),u.jsx("option",{value:"follow-up",children:t("coachSchedule.type.follow-up","Seguimiento")}),u.jsx("option",{value:"assessment",children:t("coachSchedule.type.assessment","Evaluación")})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.description","Descripción (Opcional)")}),u.jsx("textarea",{value:q,onChange:le=>V(le.target.value),rows:3,className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300 resize-none",placeholder:t("coachSchedule.form.descriptionPlaceholder","Detalles adicionales sobre la cita")})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.client","Cliente")}),u.jsxs("select",{value:I,onChange:le=>P(le.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",required:!0,children:[u.jsx("option",{value:"",children:t("coachSchedule.form.selectClient","Seleccionar Cliente")}),i.map(le=>u.jsxs("option",{value:le.uid,children:[le.displayName||"Sin nombre"," (",le.email,")"]},le.uid))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.date","Fecha")}),u.jsx("input",{type:"date",value:D,onChange:le=>B(le.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.time","Hora")}),u.jsx("input",{type:"time",value:$,onChange:le=>U(le.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("coachSchedule.form.duration","Duración (minutos)")}),u.jsxs("select",{value:ye,onChange:le=>ke(parseInt(le.target.value)),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",children:[u.jsxs("option",{value:30,children:["30 ",t("coachSchedule.form.minutes","minutos")]}),u.jsxs("option",{value:45,children:["45 ",t("coachSchedule.form.minutes","minutos")]}),u.jsxs("option",{value:60,children:["60 ",t("coachSchedule.form.minutes","minutos")]}),u.jsxs("option",{value:90,children:["90 ",t("coachSchedule.form.minutes","minutos")]}),u.jsxs("option",{value:120,children:["120 ",t("coachSchedule.form.minutes","minutos")]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-slate-700",children:[u.jsx("button",{type:"button",onClick:oe,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300",children:t("common.cancel","Cancelar")}),u.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center disabled:opacity-50",children:c?t("common.saving","Guardando..."):b?t("common.save","Guardar"):t("common.create","Crear")})]})]})]})})]})})},lG=()=>{const{t}=mt(),{currentUser:e}=rr(),[n,r]=C.useState([]),[i,o]=C.useState(!0),[c,d]=C.useState(null),[f,m]=C.useState("all");C.useEffect(()=>{x()},[e]);const x=async()=>{if(!e){o(!1);return}o(!0),d(null);try{const V=ga(ht,"notifications"),I=qs(V,jd("userId","==",e.uid),Hs("createdAt","desc")),N=(await Li(I)).docs.map(S=>({id:S.id,...S.data()}));r(N)}catch(V){console.error("Error fetching notifications:",V),d(t("notifications.errorFetching","Error al cargar las notificaciones"))}finally{o(!1)}},v=async V=>{o(!0),d(null);try{const I=Vt(ht,"notifications",V);await Rr(I,{read:!0,updatedAt:bn()}),await x()}catch(I){console.error("Error marking notification as read:",I),d(t("notifications.errorMarkingRead","Error al marcar como leída"))}finally{o(!1)}},b=async()=>{o(!0),d(null);try{const I=n.filter(P=>!P.read).map(P=>{const N=Vt(ht,"notifications",P.id);return Rr(N,{read:!0,updatedAt:bn()})});await Promise.all(I),await x()}catch(V){console.error("Error marking all notifications as read:",V),d(t("notifications.errorMarkingAllRead","Error al marcar todas como leídas"))}finally{o(!1)}},T=async V=>{if(confirm(t("notifications.confirmDelete","¿Estás seguro de que quieres eliminar esta notificación?"))){o(!0),d(null);try{await km(Vt(ht,"notifications",V)),await x()}catch(I){console.error("Error deleting notification:",I),d(t("notifications.errorDeleting","Error al eliminar la notificación"))}finally{o(!1)}}},E=async()=>{if(confirm(t("notifications.confirmClearAll","¿Estás seguro de que quieres eliminar todas las notificaciones leídas?"))){o(!0),d(null);try{const I=n.filter(P=>P.read).map(P=>km(Vt(ht,"notifications",P.id)));await Promise.all(I),await x()}catch(V){console.error("Error clearing read notifications:",V),d(t("notifications.errorClearing","Error al eliminar las notificaciones leídas"))}finally{o(!1)}}},j=V=>{switch(V){case"success":return u.jsx(OH,{className:"w-5 h-5 text-green-500"});case"warning":return u.jsx(LH,{className:"w-5 h-5 text-yellow-500"});case"error":return u.jsx($s,{className:"w-5 h-5 text-red-500"});case"info":default:return u.jsx(zH,{className:"w-5 h-5 text-blue-500"})}},O=V=>{switch(V){case"success":return"border-l-green-500 bg-green-50 dark:bg-green-900/20";case"warning":return"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";case"error":return"border-l-red-500 bg-red-50 dark:bg-red-900/20";case"info":default:return"border-l-blue-500 bg-blue-50 dark:bg-blue-900/20"}},M=V=>{if(!V)return"Fecha no disponible";const I=V.toDate?V.toDate():new Date(V),N=Math.floor((new Date().getTime()-I.getTime())/(1e3*60*60));if(N<1)return t("notifications.justNow","Justo ahora");if(N<24)return t("notifications.hoursAgo","Hace {{hours}} horas",{hours:N});{const S=Math.floor(N/24);return t("notifications.daysAgo","Hace {{days}} días",{days:S})}},z=n.filter(V=>f==="unread"?!V.read:f==="read"?V.read:!0),L=n.filter(V=>!V.read).length,q=n.filter(V=>V.read).length;return i&&n.length===0?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(sd,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("notifications.title","Notificaciones")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("notifications.subtitle","Mantente al día con tus alertas y mensajes")})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[L>0&&u.jsxs("button",{onClick:b,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[u.jsx(xa,{className:"mr-2"}),t("notifications.markAllRead","Marcar Todo como Leído")]}),q>0&&u.jsxs("button",{onClick:E,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[u.jsx(Pd,{className:"mr-2"}),t("notifications.clearRead","Limpiar Leídas")]}),u.jsxs(zt,{to:"/dashboard/client",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[u.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})]})}),c&&u.jsx("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30",children:c}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("notifications.stats.total","Total")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:n.length})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:u.jsx(sd,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("notifications.stats.unread","No Leídas")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:L})]}),u.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:u.jsx(hp,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-xl transition-colors duration-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-text-muted-light dark:text-text-muted-dark",children:t("notifications.stats.read","Leídas")}),u.jsx("p",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:q})]}),u.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:u.jsx(xa,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex items-center space-x-2 bg-white dark:bg-slate-800 rounded-xl p-1 shadow-lg",children:[u.jsxs("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${f==="all"?"bg-blue-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[t("notifications.filter.all","Todas")," (",n.length,")"]}),u.jsxs("button",{onClick:()=>m("unread"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${f==="unread"?"bg-blue-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[t("notifications.filter.unread","No Leídas")," (",L,")"]}),u.jsxs("button",{onClick:()=>m("read"),className:`px-4 py-2 rounded-lg transition-all duration-300 flex items-center ${f==="read"?"bg-blue-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[t("notifications.filter.read","Leídas")," (",q,")"]})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6",children:z.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(sd,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),u.jsx("h3",{className:"text-xl font-medium text-text-default-light dark:text-text-default-dark mb-2",children:f==="all"?t("notifications.noNotifications","No hay notificaciones"):f==="unread"?t("notifications.noUnread","No hay notificaciones sin leer"):t("notifications.noRead","No hay notificaciones leídas")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark",children:f==="all"?t("notifications.noNotificationsDescription","Las notificaciones aparecerán aquí cuando las recibas"):f==="unread"?t("notifications.noUnreadDescription","¡Excelente! Estás al día con todas tus notificaciones"):t("notifications.noReadDescription","Las notificaciones leídas aparecerán aquí")})]}):u.jsx("div",{className:"space-y-4",children:z.map(V=>u.jsx("div",{className:`p-6 rounded-xl border-l-4 transition-all duration-300 ${V.read?"bg-white dark:bg-slate-700 border-l-gray-300 dark:border-l-gray-600":O(V.type)}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[u.jsx("div",{className:"flex-shrink-0 mt-1",children:j(V.type)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("h3",{className:`text-lg font-semibold ${V.read?"text-text-muted-light dark:text-text-muted-dark":"text-text-default-light dark:text-text-default-dark"}`,children:V.title}),!V.read&&u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),u.jsx("p",{className:`text-sm mb-3 ${V.read?"text-text-muted-light dark:text-text-muted-dark":"text-text-default-light dark:text-text-default-dark"}`,children:V.message}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("span",{className:"text-xs text-text-muted-light dark:text-text-muted-dark flex items-center",children:[u.jsx(Wd,{className:"w-3 h-3 mr-1"}),M(V.createdAt)]}),V.actionUrl&&V.actionText&&u.jsx(zt,{to:V.actionUrl,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:V.actionText})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[!V.read&&u.jsx("button",{onClick:()=>v(V.id),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:t("notifications.markAsRead","Marcar como leída"),children:u.jsx(xa,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>T(V.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:t("notifications.delete","Eliminar"),children:u.jsx(Pd,{className:"w-4 h-4"})})]})]})},V.id))})})]})})},cG=()=>{var N;const{t}=mt(),{currentUser:e,userRole:n}=rr(),[r,i]=C.useState({notifications:{email:!0,push:!0,trainingReminders:!0,progressUpdates:!0,weeklyReports:!1},privacy:{profileVisibility:"coaches",showProgress:!0,showStats:!0,allowMessages:!0},preferences:{language:"es",theme:"auto",timezone:"Europe/Madrid",units:"metric"}}),[o,c]=C.useState(!1),[d,f]=C.useState(null),[m,x]=C.useState(null),[v,b]=C.useState("notifications"),[T,E]=C.useState(!1),[j,O]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""});C.useEffect(()=>{M()},[e]);const M=async()=>{if(e)try{console.log("Loading user settings...")}catch(S){console.error("Error loading user settings:",S),f(t("settings.errorLoading","Error al cargar la configuración"))}},z=async()=>{if(e){c(!0),f(null),x(null);try{const S=Vt(ht,"users",e.uid);await Rr(S,{settings:r,updatedAt:bn()}),x(t("settings.savedSuccessfully","Configuración guardada correctamente")),setTimeout(()=>x(null),3e3)}catch(S){console.error("Error saving settings:",S),f(t("settings.errorSaving","Error al guardar la configuración"))}finally{c(!1)}}},L=async S=>{if(S.preventDefault(),j.newPassword!==j.confirmPassword){f(t("settings.passwordMismatch","Las contraseñas no coinciden"));return}if(j.newPassword.length<6){f(t("settings.passwordTooShort","La contraseña debe tener al menos 6 caracteres"));return}c(!0),f(null);try{console.log("Changing password..."),x(t("settings.passwordChanged","Contraseña cambiada correctamente")),O({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>x(null),3e3)}catch(D){console.error("Error changing password:",D),f(t("settings.errorChangingPassword","Error al cambiar la contraseña"))}finally{c(!1)}},q=(S,D,B)=>{i($=>({...$,[S]:{...$[S],[D]:B}}))},V=(S,D)=>{i(B=>({...B,[S]:{...B[S],[D]:!B[S][D]}}))},I=(S,D)=>u.jsx("button",{onClick:D,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 ${S?"bg-teal-600":"bg-gray-200 dark:bg-gray-700"}`,children:u.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${S?"translate-x-6":"translate-x-1"}`})}),P=[{id:"notifications",label:t("settings.tabs.notifications","Notificaciones"),icon:u.jsx(sd,{className:"w-5 h-5"})},{id:"privacy",label:t("settings.tabs.privacy","Privacidad"),icon:u.jsx(HH,{className:"w-5 h-5"})},{id:"preferences",label:t("settings.tabs.preferences","Preferencias"),icon:u.jsx(FH,{className:"w-5 h-5"})},{id:"account",label:t("settings.tabs.account","Cuenta"),icon:u.jsx(Ni,{className:"w-5 h-5"})}];return e?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(iC,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("settings.title","Configuración")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("settings.subtitle","Gestiona tus preferencias y configuración de cuenta")})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("button",{onClick:z,disabled:o,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl disabled:opacity-50",children:[u.jsx(Rd,{className:"mr-2"}),o?t("common.saving","Guardando..."):t("common.save","Guardar")]}),u.jsxs(zt,{to:"/dashboard/client",className:"px-4 py-2 bg-white dark:bg-slate-800 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[u.jsx(Gs,{className:"mr-2"}),t("common.back","Volver")]})]})]})}),d&&u.jsxs("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30 flex items-center",children:[u.jsx($s,{className:"mr-2"}),d]}),m&&u.jsxs("div",{className:"mb-6 p-4 text-sm text-semantic-success-light dark:text-semantic-success-dark bg-semantic-success-light/20 dark:bg-semantic-success-dark/20 rounded-xl border border-semantic-success-light/30 dark:border-semantic-success-dark/30 flex items-center",children:[u.jsx(xa,{className:"mr-2"}),m]}),u.jsx("div",{className:"mb-8",children:u.jsx("div",{className:"flex items-center space-x-2 bg-white dark:bg-slate-800 rounded-xl p-1 shadow-lg",children:P.map(S=>u.jsxs("button",{onClick:()=>b(S.id),className:`px-4 py-3 rounded-lg transition-all duration-300 flex items-center space-x-2 ${v===S.id?"bg-teal-500 text-white":"text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark"}`,children:[S.icon,u.jsx("span",{children:S.label})]},S.id))})}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8",children:[v==="notifications"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("settings.notifications.title","Configuración de Notificaciones")}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.notifications.email","Notificaciones por Email")}),u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.notifications.emailDesc","Recibe notificaciones importantes por correo electrónico")})]}),I(r.notifications.email,()=>V("notifications","email"))]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.notifications.push","Notificaciones Push")}),u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.notifications.pushDesc","Recibe notificaciones en tiempo real en tu dispositivo")})]}),I(r.notifications.push,()=>V("notifications","push"))]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.notifications.trainingReminders","Recordatorios de Entrenamiento")}),u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.notifications.trainingRemindersDesc","Recibe recordatorios para tus sesiones de entrenamiento")})]}),I(r.notifications.trainingReminders,()=>V("notifications","trainingReminders"))]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.notifications.progressUpdates","Actualizaciones de Progreso")}),u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.notifications.progressUpdatesDesc","Recibe notificaciones sobre tu progreso y logros")})]}),I(r.notifications.progressUpdates,()=>V("notifications","progressUpdates"))]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.notifications.weeklyReports","Reportes Semanales")}),u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.notifications.weeklyReportsDesc","Recibe un resumen semanal de tu actividad")})]}),I(r.notifications.weeklyReports,()=>V("notifications","weeklyReports"))]})]})]}),v==="privacy"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("settings.privacy.title","Configuración de Privacidad")}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.privacy.profileVisibility","Visibilidad del Perfil")}),u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark mb-4",children:t("settings.privacy.profileVisibilityDesc","Controla quién puede ver tu perfil")}),u.jsxs("select",{value:r.privacy.profileVisibility,onChange:S=>q("privacy","profileVisibility",S.target.value),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",children:[u.jsx("option",{value:"public",children:t("settings.privacy.public","Público")}),u.jsx("option",{value:"coaches",children:t("settings.privacy.coaches","Solo Coaches")}),u.jsx("option",{value:"private",children:t("settings.privacy.private","Privado")})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.privacy.showProgress","Mostrar Progreso")}),u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.privacy.showProgressDesc","Permite que otros vean tu progreso de entrenamiento")})]}),I(r.privacy.showProgress,()=>V("privacy","showProgress"))]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.privacy.showStats","Mostrar Estadísticas")}),u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.privacy.showStatsDesc","Permite que otros vean tus estadísticas de entrenamiento")})]}),I(r.privacy.showStats,()=>V("privacy","showStats"))]}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:t("settings.privacy.allowMessages","Permitir Mensajes")}),u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.privacy.allowMessagesDesc","Permite que otros usuarios te envíen mensajes")})]}),I(r.privacy.allowMessages,()=>V("privacy","allowMessages"))]})]})]}),v==="preferences"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("settings.preferences.title","Preferencias Generales")}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.preferences.language","Idioma")}),u.jsxs("select",{value:r.preferences.language,onChange:S=>q("preferences","language",S.target.value),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",children:[u.jsx("option",{value:"es",children:"Español"}),u.jsx("option",{value:"en",children:"English"}),u.jsx("option",{value:"fr",children:"Français"})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.preferences.theme","Tema")}),u.jsxs("select",{value:r.preferences.theme,onChange:S=>q("preferences","theme",S.target.value),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",children:[u.jsx("option",{value:"light",children:t("settings.preferences.light","Claro")}),u.jsx("option",{value:"dark",children:t("settings.preferences.dark","Oscuro")}),u.jsx("option",{value:"auto",children:t("settings.preferences.auto","Automático")})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.preferences.timezone","Zona Horaria")}),u.jsxs("select",{value:r.preferences.timezone,onChange:S=>q("preferences","timezone",S.target.value),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",children:[u.jsx("option",{value:"Europe/Madrid",children:"Madrid (GMT+1)"}),u.jsx("option",{value:"America/New_York",children:"New York (GMT-5)"}),u.jsx("option",{value:"America/Los_Angeles",children:"Los Angeles (GMT-8)"}),u.jsx("option",{value:"Europe/London",children:"London (GMT+0)"})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsx("h3",{className:"font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.preferences.units","Unidades")}),u.jsxs("select",{value:r.preferences.units,onChange:S=>q("preferences","units",S.target.value),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",children:[u.jsx("option",{value:"metric",children:t("settings.preferences.metric","Métrico (kg, km)")}),u.jsx("option",{value:"imperial",children:t("settings.preferences.imperial","Imperial (lb, mi)")})]})]})]})]}),v==="account"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-6",children:t("settings.account.title","Configuración de Cuenta")}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsx("h3",{className:"text-lg font-medium text-text-default-light dark:text-text-default-dark mb-4",children:t("settings.account.information","Información de la Cuenta")}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Ni,{className:"w-5 h-5 text-gray-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.account.name","Nombre")}),u.jsx("p",{className:"text-text-default-light dark:text-text-default-dark",children:e.displayName||t("settings.account.notSet","No establecido")})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(hp,{className:"w-5 h-5 text-gray-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.account.email","Email")}),u.jsx("p",{className:"text-text-default-light dark:text-text-default-dark",children:e.email})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Ha,{className:"w-5 h-5 text-gray-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:t("settings.account.memberSince","Miembro desde")}),u.jsx("p",{className:"text-text-default-light dark:text-text-default-dark",children:(N=e.metadata)!=null&&N.creationTime?new Date(e.metadata.creationTime).toLocaleDateString():t("settings.account.unknown","Desconocido")})]})]})]})]}),u.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[u.jsx("h3",{className:"text-lg font-medium text-text-default-light dark:text-text-default-dark mb-4",children:t("settings.account.changePassword","Cambiar Contraseña")}),u.jsxs("form",{onSubmit:L,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.account.currentPassword","Contraseña Actual")}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:T?"text":"password",value:j.currentPassword,onChange:S=>O(D=>({...D,currentPassword:S.target.value})),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 pr-10",required:!0}),u.jsx("button",{type:"button",onClick:()=>E(!T),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:T?u.jsx(VH,{className:"w-4 h-4"}):u.jsx(UH,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.account.newPassword","Nueva Contraseña")}),u.jsx("input",{type:"password",value:j.newPassword,onChange:S=>O(D=>({...D,newPassword:S.target.value})),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("settings.account.confirmPassword","Confirmar Nueva Contraseña")}),u.jsx("input",{type:"password",value:j.confirmPassword,onChange:S=>O(D=>({...D,confirmPassword:S.target.value})),className:"w-full px-4 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),u.jsx("button",{type:"submit",disabled:o||!j.currentPassword||!j.newPassword||!j.confirmPassword,className:"px-6 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-lg transition-all duration-300 disabled:opacity-50",children:o?t("common.saving","Guardando..."):t("settings.account.updatePassword","Actualizar Contraseña")})]})]})]})]})]})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})})},uG=()=>{const{t}=mt(),{currentUser:e,userRole:n}=rr(),[r,i]=C.useState([]),[o,c]=C.useState(!0),[d,f]=C.useState(null),[m,x]=C.useState(""),[v,b]=C.useState(!1),[T,E]=C.useState({displayName:"",email:"",password:"",role:"client",phoneNumber:""}),[j,O]=C.useState(!1),[M,z]=C.useState(null),[L,q]=C.useState([]),[V,I]=C.useState(!1),[P,N]=C.useState(null),[S,D]=C.useState(""),B=Yo();mr(),C.useEffect(()=>{const te=async()=>{c(!0),f(null);try{const F=ga(ht,"users"),ne=qs(F,Hs("registrationDate","desc")),oe=(await Li(ne)).docs.map(Te=>({...Te.data(),uid:Te.id}));i(oe)}catch(F){console.error("Error fetching users:",F),f(t("adminUsers.errorFetching","Failed to fetch users."))}finally{c(!1)}},ve=async()=>{try{const F=ga(ht,"trainingPlans"),ne=qs(F,Hs("name")),oe=(await Li(ne)).docs.map(Te=>({id:Te.id,...Te.data()}));q(oe)}catch(F){console.error("Error fetching plans:",F)}};te(),ve()},[t,n,e]);const $=C.useMemo(()=>m?r.filter(te=>{var ve,F,ne;return(((ve=te.displayName)==null?void 0:ve.toLowerCase())||"").includes(m.toLowerCase())||(((F=te.email)==null?void 0:F.toLowerCase())||"").includes(m.toLowerCase())||(((ne=te.role)==null?void 0:ne.toLowerCase())||"").includes(m.toLowerCase())}):r,[r,m]),U=async te=>{if(n!=="admin"){alert(t("adminUsers.deleteForbidden","Only admins can delete users."));return}window.confirm(t("adminUsers.deleteConfirm",`Are you sure you want to delete user ${te}? This action cannot be undone.`))&&(console.log(`TODO: Implement delete for user ${te}`),alert(t("adminUsers.deleteNotImplemented","Delete functionality not yet fully implemented.")))},ye=async te=>{te.preventDefault(),O(!0),z(null);try{let ve;Ik().some(oe=>oe.name==="Secondary")?ve=Ik().find(oe=>oe.name==="Secondary"):ve=Xy(Xd.options,"Secondary");const F=NN(ve),pe=(await pN(F,T.email,T.password)).user;await qv(Vt(ht,"users",pe.uid),{uid:pe.uid,email:T.email,displayName:T.displayName,phoneNumber:T.phoneNumber,role:T.role,registrationDate:bn()}),b(!1),E({displayName:"",email:"",password:"",role:"client",phoneNumber:""}),await F.signOut()}catch(ve){z(ve.message||"Error al crear usuario")}finally{O(!1)}},ke=async te=>{if(te.preventDefault(),!(!P||!S)){O(!0),f(null);try{const ve=Vt(ht,"users",P.uid);await Rr(ve,{assignedPlanId:S,updatedAt:bn()}),i(F=>F.map(ne=>ne.uid===P.uid?{...ne,assignedPlanId:S}:ne)),N(null),D(""),I(!1),alert(t("adminUsers.planAssignedSuccess","Plan asignado correctamente"))}catch(ve){console.error("Error assigning plan:",ve),f(t("adminUsers.errorAssigningPlan","Error al asignar el plan"))}finally{O(!1)}}},Y=te=>{N(te),D(te.assignedPlanId||""),I(!0)},ie=te=>{const ve=L.find(F=>F.id===te);return ve?ve.name:te};return o?u.jsx("div",{className:"container mx-auto p-4 text-center",children:t("loading","Loading users...")}):d?u.jsx("div",{className:"container mx-auto p-4 text-center text-red-500",children:d}):u.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:u.jsxs("div",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark shadow-xl rounded-lg p-6 md:p-8 transition-colors duration-300",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("adminUsers.title","User Management")}),n==="admin"&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>b(!0),className:"flex items-center px-4 py-2 bg-semantic-success-light dark:bg-semantic-success-dark text-text-default-dark dark:text-text-default-light rounded-lg hover:bg-semantic-success-light/80 dark:hover:bg-semantic-success-dark/80 transition-colors text-sm font-medium",children:[u.jsx(QH,{className:"mr-2 icon-default"})," ",t("adminUsers.addUserButton","Añadir Nuevo Usuario")]}),v&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 dark:bg-black/80 z-50 backdrop-blur-sm",children:u.jsxs("form",{onSubmit:ye,className:"bg-neutral-surface-light dark:bg-neutral-surface-dark p-8 rounded-xl shadow-2xl w-full max-w-md space-y-6 border border-neutral-border-light dark:border-neutral-border-dark transition-colors duration-300",children:[u.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark mb-4",children:"Añadir Usuario"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-text-default-light dark:text-text-default-dark font-semibold mb-1",children:"Nombre"}),u.jsx("input",{type:"text",placeholder:"Nombre",value:T.displayName,onChange:te=>E({...T,displayName:te.target.value}),required:!0,className:"w-full p-2 border border-neutral-border-light dark:border-neutral-border-dark rounded bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-text-default-light dark:text-text-default-dark font-semibold mb-1",children:"Email"}),u.jsx("input",{type:"email",placeholder:"Email",value:T.email,onChange:te=>E({...T,email:te.target.value}),required:!0,className:"w-full p-2 border border-neutral-border-light dark:border-neutral-border-dark rounded bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-text-default-light dark:text-text-default-dark font-semibold mb-1",children:"Contraseña"}),u.jsx("input",{type:"password",placeholder:"Contraseña",value:T.password,onChange:te=>E({...T,password:te.target.value}),required:!0,minLength:6,className:"w-full p-2 border border-neutral-border-light dark:border-neutral-border-dark rounded bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-text-default-light dark:text-text-default-dark font-semibold mb-1",children:"Teléfono"}),u.jsx("input",{type:"tel",placeholder:"Teléfono",value:T.phoneNumber,onChange:te=>E({...T,phoneNumber:te.target.value}),className:"w-full p-2 border border-neutral-border-light dark:border-neutral-border-dark rounded bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-text-default-light dark:text-text-default-dark font-semibold mb-1",children:"Rol"}),u.jsxs("select",{value:T.role,onChange:te=>E({...T,role:te.target.value}),className:"w-full p-2 border border-neutral-border-light dark:border-neutral-border-dark rounded bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300",children:[u.jsx("option",{value:"client",children:"Cliente"}),u.jsx("option",{value:"coach",children:"Coach"}),u.jsx("option",{value:"admin",children:"Admin"})]})]}),M&&u.jsx("div",{className:"text-semantic-error-light dark:text-semantic-error-dark font-semibold",children:M}),u.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[u.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 rounded bg-neutral-border-light dark:bg-neutral-border-dark text-text-default-light dark:text-text-default-dark font-semibold hover:opacity-80 transition-opacity",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 rounded bg-semantic-success-light dark:bg-semantic-success-dark text-text-default-dark dark:text-text-default-light font-semibold hover:bg-semantic-success-light/80 dark:hover:bg-semantic-success-dark/80 transition disabled:opacity-60",children:j?"Creando...":"Crear"})]})]})})]})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(oC,{className:"h-5 w-5 text-text-muted-light dark:text-text-muted-dark icon-default"})}),u.jsx("input",{type:"text",placeholder:t("adminUsers.searchPlaceholder","Search by name, email, or role..."),value:m,onChange:te=>x(te.target.value),className:"block w-full pl-10 pr-3 py-2 border border-neutral-border-light dark:border-neutral-border-dark rounded-md leading-5 bg-neutral-background-light dark:bg-neutral-background-dark text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark sm:text-sm transition-colors duration-300"})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-neutral-border-light dark:divide-neutral-border-dark transition-colors duration-300",children:[u.jsx("thead",{className:"bg-neutral-surface-light/50 dark:bg-neutral-surface-dark/50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.name","Name")}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.email","Email")}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.role","Role")}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.phone","Phone")}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.assignedPlan","Assigned Plan")}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.registered","Registered")}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-muted-light dark:text-text-muted-dark uppercase tracking-wider",children:t("adminUsers.table.actions","Actions")})]})}),u.jsx("tbody",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark divide-y divide-neutral-border-light dark:divide-neutral-border-dark transition-colors duration-300",children:$.length>0?$.map(te=>u.jsxs("tr",{className:"hover:bg-neutral-background-light dark:hover:bg-neutral-background-dark/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-text-default-light dark:text-text-default-dark",children:te.displayName||t("adminUsers.noName","N/A")})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:te.email})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${te.role==="admin"?"bg-semantic-error-light/30 text-semantic-error-dark dark:bg-semantic-error-dark/30 dark:text-semantic-error-light":te.role==="coach"?"bg-accent-light/30 text-accent-dark dark:bg-accent-dark/30 dark:text-accent-light":te.role==="client"?"bg-semantic-success-light/30 text-semantic-success-dark dark:bg-semantic-success-dark/30 dark:text-semantic-success-light":"bg-neutral-border-light text-text-muted-light dark:bg-neutral-border-dark dark:text-text-muted-dark"}`,children:te.role?t(`roles.${te.role}`,te.role):t("roles.unknown","Unknown")})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-muted-light dark:text-text-muted-dark",children:te.phoneNumber||"-"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[te.assignedPlanId?u.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-300",children:[u.jsx(tr,{className:"w-3 h-3 mr-1"}),ie(te.assignedPlanId)]}):u.jsx("span",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:"-"}),(n==="admin"||n==="coach")&&te.role==="client"&&u.jsx("button",{onClick:()=>Y(te),className:"p-1 text-teal-600 dark:text-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/20 rounded transition-colors",title:t("adminUsers.assignPlan","Asignar Plan"),children:u.jsx(xc,{className:"w-4 h-4"})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-muted-light dark:text-text-muted-dark",children:te.registrationDate?te.registrationDate.toDate().toLocaleDateString():"-"}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[u.jsx("button",{onClick:()=>B(`/profile/${te.uid}?edit=1`,{state:{from:"/admin/users"}}),className:"text-primary-DEFAULT hover:text-primary-dark dark:text-primary-light dark:hover:text-primary-DEFAULT mr-2 transition-colors",title:t("adminUsers.editTooltip","Edit User"),children:u.jsx(dp,{className:"inline h-5 w-5 icon-primary"})}),n==="admin"&&te.uid!==(e==null?void 0:e.uid)&&u.jsx("button",{onClick:()=>U(te.uid),className:"text-semantic-error-light hover:text-semantic-error-dark dark:text-semantic-error-dark dark:hover:text-semantic-error-light transition-colors",title:t("adminUsers.deleteTooltip","Delete User"),children:u.jsx($H,{className:"inline h-5 w-5 icon-default"})})]})]},te.uid)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-text-muted-light dark:text-text-muted-dark",children:m?t("adminUsers.noResults","No users found matching your search."):t("adminUsers.noUsers","No users found.")})})})]})}),V&&P&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 dark:bg-black/80 z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-neutral-surface-light dark:bg-neutral-surface-dark rounded-xl shadow-2xl w-full max-w-md m-4 border border-neutral-border-light dark:border-neutral-border-dark transition-colors duration-300",children:[u.jsx("div",{className:"p-6 border-b border-neutral-border-light dark:border-neutral-border-dark",children:u.jsxs("h2",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark",children:[t("adminUsers.assignPlanTo","Asignar Plan a")," ",P.displayName||P.email]})}),u.jsxs("form",{onSubmit:ke,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminUsers.selectPlan","Seleccionar Plan")}),u.jsxs("select",{value:S,onChange:te=>D(te.target.value),className:"w-full p-3 bg-neutral-background-light dark:bg-neutral-background-dark border border-neutral-border-light dark:border-neutral-border-dark rounded-lg text-text-default-light dark:text-text-default-dark focus:ring-primary-DEFAULT dark:focus:ring-primary-dark focus:border-primary-DEFAULT dark:focus:border-primary-dark transition-colors duration-300",children:[u.jsx("option",{value:"",children:t("adminUsers.noPlan","Sin plan asignado")}),L.map(te=>u.jsxs("option",{value:te.id,children:[te.name," (",t(`adminPlans.difficulty.${te.difficulty}`,te.difficulty),")"]},te.id))]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-border-light dark:border-neutral-border-dark",children:[u.jsx("button",{type:"button",onClick:()=>{I(!1),N(null),D("")},className:"px-4 py-2 bg-neutral-border-light dark:bg-neutral-border-dark text-text-default-light dark:text-text-default-dark font-medium rounded-lg transition-colors duration-300",children:t("common.cancel","Cancelar")}),u.jsxs("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-lg transition-all duration-300 flex items-center disabled:opacity-50",children:[u.jsx(xc,{className:"mr-2"}),j?t("common.assigning","Asignando..."):t("adminUsers.assignPlan","Asignar Plan")]})]})]})]})})]})})},dG=()=>{const{t}=mt(),{currentUser:e,userRole:n}=rr(),[r,i]=C.useState([]),[o,c]=C.useState([]),[d,f]=C.useState(!0),[m,x]=C.useState(null),[v,b]=C.useState(!1),[T,E]=C.useState(!1),[j,O]=C.useState(null),[M,z]=C.useState(null),[L,q]=C.useState(""),[V,I]=C.useState(""),[P,N]=C.useState(""),[S,D]=C.useState(""),[B,$]=C.useState("beginner"),[U,ye]=C.useState(4),[ke,Y]=C.useState([]);C.useEffect(()=>{ie(),te()},[]);const ie=async()=>{f(!0),x(null);try{const ue=ga(ht,"trainingPlans"),Oe=qs(ue,Hs("createdAt","desc")),Ct=(await Li(Oe)).docs.map(Dt=>({id:Dt.id,...Dt.data()}));i(Ct)}catch(ue){console.error("Error fetching plans:",ue),x(t("adminPlans.errorFetching","Error al cargar los planes"))}finally{f(!1)}},te=async()=>{try{const ue=ga(ht,"users"),Oe=qs(ue,jd("role","==","client"),Hs("displayName")),Ct=(await Li(Oe)).docs.map(Dt=>({uid:Dt.id,...Dt.data()}));c(Ct)}catch(ue){console.error("Error fetching clients:",ue)}},ve=async ue=>{if(ue.preventDefault(),!!e){f(!0),x(null);try{const Oe={name:P,description:S,difficulty:B,duration:U,exercises:ke,createdBy:e.uid,createdAt:bn(),updatedAt:bn()};await d6(ga(ht,"trainingPlans"),Oe),N(""),D(""),$("beginner"),ye(4),Y([]),b(!1),await ie()}catch(Oe){console.error("Error creating plan:",Oe),x(t("adminPlans.errorCreating","Error al crear el plan"))}finally{f(!1)}}},F=async ue=>{if(ue.preventDefault(),!!j){f(!0),x(null);try{const Oe=Vt(ht,"trainingPlans",j.id);await Rr(Oe,{name:P,description:S,difficulty:B,duration:U,exercises:ke,updatedAt:bn()}),O(null),N(""),D(""),$("beginner"),ye(4),Y([]),await ie()}catch(Oe){console.error("Error updating plan:",Oe),x(t("adminPlans.errorUpdating","Error al actualizar el plan"))}finally{f(!1)}}},ne=async ue=>{if(confirm(t("adminPlans.confirmDelete","¿Estás seguro de que quieres eliminar este plan?"))){f(!0),x(null);try{await km(Vt(ht,"trainingPlans",ue)),await ie()}catch(Oe){console.error("Error deleting plan:",Oe),x(t("adminPlans.errorDeleting","Error al eliminar el plan"))}finally{f(!1)}}},pe=async ue=>{if(ue.preventDefault(),!(!M||!L)){f(!0),x(null);try{const Oe=Vt(ht,"users",L);await Rr(Oe,{assignedPlanId:M.id,updatedAt:bn()}),z(null),q(""),E(!1),await te(),alert(t("adminPlans.planAssignedSuccess","Plan asignado correctamente"))}catch(Oe){console.error("Error assigning plan:",Oe),x(t("adminPlans.errorAssigning","Error al asignar el plan"))}finally{f(!1)}}},oe=ue=>{z(ue),q(""),E(!0)},Te=()=>{const ue={id:Date.now().toString(),name:"",sets:3,reps:"10-12",rest:"60s",notes:""};Y([...ke,ue])},Ie=(ue,Oe,et)=>{Y(ke.map(Ct=>Ct.id===ue?{...Ct,[Oe]:et}:Ct))},Pe=ue=>{Y(ke.filter(Oe=>Oe.id!==ue))},At=ue=>{O(ue),N(ue.name),D(ue.description),$(ue.difficulty),ye(ue.duration),Y([...ue.exercises])},le=()=>{b(!1),E(!1),O(null),z(null),q(""),N(""),D(""),$("beginner"),ye(4),Y([]),x(null)},Qe=ue=>{switch(ue){case"beginner":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"intermediate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"advanced":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},we=o.filter(ue=>{var Oe,et;return((Oe=ue.displayName)==null?void 0:Oe.toLowerCase().includes(V.toLowerCase()))||((et=ue.email)==null?void 0:et.toLowerCase().includes(V.toLowerCase()))});return d&&r.length===0?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"text-center",children:t("loading","Cargando...")})})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-8 transition-colors duration-500",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(tr,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-text-default-light dark:text-text-default-dark",children:t("adminPlans.title","Planes de Entrenamiento")}),u.jsx("p",{className:"text-lg text-text-muted-light dark:text-text-muted-dark",children:t("adminPlans.subtitle","Gestiona los planes de entrenamiento")})]})]}),u.jsxs("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center shadow-lg hover:shadow-xl",children:[u.jsx(ic,{className:"mr-2"}),t("adminPlans.createPlan","Crear Plan")]})]})}),m&&u.jsx("div",{className:"mb-6 p-4 text-sm text-semantic-error-light dark:text-semantic-error-dark bg-semantic-error-light/20 dark:bg-semantic-error-dark/20 rounded-xl border border-semantic-error-light/30 dark:border-semantic-error-dark/30",children:m}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(ue=>u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 transition-all duration-500 hover:shadow-2xl hover:scale-105",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold text-text-default-light dark:text-text-default-dark mb-2",children:ue.name}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark text-sm mb-3",children:ue.description})]})}),u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Qe(ue.difficulty)}`,children:t(`adminPlans.difficulty.${ue.difficulty}`,ue.difficulty)}),u.jsxs("span",{className:"flex items-center text-xs text-text-muted-light dark:text-text-muted-dark",children:[u.jsx(Wd,{className:"mr-1"}),ue.duration," ",t("adminPlans.weeks","semanas")]})]}),u.jsx("div",{className:"mb-4",children:u.jsxs("p",{className:"text-xs text-text-muted-light dark:text-text-muted-dark mb-2",children:[t("adminPlans.exercises","Ejercicios"),": ",ue.exercises.length]})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>At(ue),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:t("adminPlans.edit","Editar"),children:u.jsx(dp,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>ne(ue.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:t("adminPlans.delete","Eliminar"),children:u.jsx(Pd,{className:"w-4 h-4"})})]}),u.jsxs("button",{onClick:()=>oe(ue),className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-medium rounded-lg transition-all duration-300 flex items-center",title:t("adminPlans.assign","Asignar a Cliente"),children:[u.jsx(xc,{className:"w-4 h-4 mr-2"}),t("adminPlans.assign","Asignar")]})]})]},ue.id))}),r.length===0&&!d&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(tr,{className:"w-16 h-16 text-text-muted-light dark:text-text-muted-dark mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.noPlans","No hay planes creados")}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mb-6",children:t("adminPlans.noPlansDescription","Crea tu primer plan de entrenamiento para comenzar")}),u.jsxs("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center mx-auto",children:[u.jsx(ic,{className:"mr-2"}),t("adminPlans.createFirstPlan","Crear Primer Plan")]})]}),(v||j)&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 dark:bg-black/80 z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto m-4",children:[u.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:j?t("adminPlans.editPlan","Editar Plan"):t("adminPlans.createPlan","Crear Plan")}),u.jsx("button",{onClick:le,className:"p-2 text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark rounded-lg transition-colors",children:u.jsx($s,{className:"w-6 h-6"})})]})}),u.jsxs("form",{onSubmit:j?F:ve,className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.form.name","Nombre del Plan")}),u.jsx("input",{type:"text",value:P,onChange:ue=>N(ue.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("adminPlans.form.namePlaceholder","Ej: Plan de Fuerza Básica"),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.form.difficulty","Dificultad")}),u.jsxs("select",{value:B,onChange:ue=>$(ue.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",children:[u.jsx("option",{value:"beginner",children:t("adminPlans.difficulty.beginner","Principiante")}),u.jsx("option",{value:"intermediate",children:t("adminPlans.difficulty.intermediate","Intermedio")}),u.jsx("option",{value:"advanced",children:t("adminPlans.difficulty.advanced","Avanzado")})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.form.description","Descripción")}),u.jsx("textarea",{value:S,onChange:ue=>D(ue.target.value),rows:3,className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300 resize-none",placeholder:t("adminPlans.form.descriptionPlaceholder","Describe el objetivo y enfoque del plan"),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.form.duration","Duración (semanas)")}),u.jsx("input",{type:"number",min:"1",max:"52",value:U,onChange:ue=>ye(parseInt(ue.target.value)),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",required:!0})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-text-default-light dark:text-text-default-dark",children:t("adminPlans.form.exercises","Ejercicios")}),u.jsxs("button",{type:"button",onClick:Te,className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white text-sm font-medium rounded-lg transition-all duration-300 flex items-center",children:[u.jsx(ic,{className:"w-4 h-4 mr-2"}),t("adminPlans.form.addExercise","Agregar Ejercicio")]})]}),u.jsx("div",{className:"space-y-4",children:ke.map((ue,Oe)=>u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700 rounded-xl border border-gray-200 dark:border-slate-600",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h4",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:[t("adminPlans.form.exercise","Ejercicio")," ",Oe+1]}),u.jsx("button",{type:"button",onClick:()=>Pe(ue.id),className:"p-1 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:u.jsx(Pd,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:t("adminPlans.form.exerciseName","Nombre")}),u.jsx("input",{type:"text",value:ue.name,onChange:et=>Ie(ue.id,"name",et.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-sm text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("adminPlans.form.exerciseNamePlaceholder","Ej: Sentadillas"),required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:t("adminPlans.form.sets","Series")}),u.jsx("input",{type:"number",min:"1",value:ue.sets,onChange:et=>Ie(ue.id,"sets",parseInt(et.target.value)),className:"w-full px-3 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-sm text-text-default-light dark:text-text-default-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:t("adminPlans.form.reps","Repeticiones")}),u.jsx("input",{type:"text",value:ue.reps,onChange:et=>Ie(ue.id,"reps",et.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-sm text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:"10-12",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:t("adminPlans.form.rest","Descanso")}),u.jsx("input",{type:"text",value:ue.rest,onChange:et=>Ie(ue.id,"rest",et.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-sm text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:"60s",required:!0})]})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("label",{className:"block text-xs font-medium text-text-muted-light dark:text-text-muted-dark mb-1",children:t("adminPlans.form.notes","Notas (Opcional)")}),u.jsx("input",{type:"text",value:ue.notes||"",onChange:et=>Ie(ue.id,"notes",et.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 rounded-lg text-sm text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("adminPlans.form.notesPlaceholder","Notas adicionales sobre el ejercicio")})]})]},ue.id))})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-slate-700",children:[u.jsx("button",{type:"button",onClick:le,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300",children:t("common.cancel","Cancelar")}),u.jsxs("button",{type:"submit",disabled:d,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center disabled:opacity-50",children:[u.jsx(Rd,{className:"mr-2"}),d?t("common.saving","Guardando..."):j?t("common.save","Guardar"):t("common.create","Crear")]})]})]})]})}),T&&M&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 dark:bg-black/80 z-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl m-4",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold text-text-default-light dark:text-text-default-dark",children:t("adminPlans.assignPlan","Asignar Plan")}),u.jsx("button",{onClick:le,className:"p-2 text-text-muted-light dark:text-text-muted-dark hover:text-text-default-light dark:hover:text-text-default-dark rounded-lg transition-colors",children:u.jsx($s,{className:"w-6 h-6"})})]}),u.jsx("p",{className:"text-text-muted-light dark:text-text-muted-dark mt-2",children:t("adminPlans.assignPlanDescription",'Asignar "{{planName}}" a un cliente',{planName:M.name})})]}),u.jsxs("form",{onSubmit:pe,className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-default-light dark:text-text-default-dark mb-2",children:t("adminPlans.selectClient","Seleccionar Cliente")}),u.jsxs("div",{className:"relative mb-4",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(oC,{className:"h-5 w-5 text-text-muted-light dark:text-text-muted-dark"})}),u.jsx("input",{type:"text",value:V,onChange:ue=>I(ue.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-xl text-text-default-light dark:text-text-default-dark placeholder-text-muted-light dark:placeholder-text-muted-dark focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-400 focus:border-transparent transition-all duration-300",placeholder:t("adminPlans.searchClients","Buscar clientes...")})]}),u.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:we.map(ue=>u.jsx("div",{className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ${L===ue.uid?"border-teal-500 bg-teal-50 dark:bg-teal-900/20":"border-gray-200 dark:border-slate-600 hover:border-teal-300 dark:hover:border-teal-600"}`,onClick:()=>q(ue.uid),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-text-default-light dark:text-text-default-dark",children:ue.displayName||t("adminPlans.noName","Sin nombre")}),u.jsx("p",{className:"text-sm text-text-muted-light dark:text-text-muted-dark",children:ue.email})]}),ue.assignedPlanId&&u.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 px-2 py-1 rounded-full",children:t("adminPlans.alreadyAssigned","Ya tiene plan")})]})},ue.uid))})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-slate-700",children:[u.jsx("button",{type:"button",onClick:le,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-text-default-light dark:text-text-default-dark font-medium rounded-xl transition-all duration-300",children:t("common.cancel","Cancelar")}),u.jsxs("button",{type:"submit",disabled:d||!L,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-medium rounded-xl transition-all duration-300 flex items-center disabled:opacity-50",children:[u.jsx(xc,{className:"mr-2"}),d?t("common.assigning","Asignando..."):t("adminPlans.assignPlan","Asignar Plan")]})]})]})]})})]})})},hG=()=>u.jsxs("div",{className:"container mx-auto p-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Admin - Platform Settings"}),u.jsx("p",{children:"Platform-wide settings will be configured here."})]}),Ou=({allowedRoles:t,loginPath:e="/login",unauthorizedPath:n="/"})=>{const{isAuthenticated:r,loading:i,userRole:o}=rr(),c=mr();return i?u.jsx("div",{children:"Loading authentication status..."}):r?t&&t.length>0&&(!o||!t.includes(o))?u.jsx(lT,{to:n,state:{from:c},replace:!0}):u.jsx(KE,{}):u.jsx(lT,{to:e,state:{from:c},replace:!0})},fG=[{path:"/",element:u.jsx(Bq,{}),children:[{index:!0,element:u.jsx(uH,{})},{path:"about",element:u.jsx(dH,{})},{path:"projects",element:u.jsx(fH,{})},{path:"catalog",element:u.jsx(xH,{})},{path:"services",element:u.jsx(vH,{})},{path:"legal",element:u.jsx(yH,{})},{path:"testimonials",element:u.jsx(bH,{})},{path:"contact",element:u.jsx(kH,{})},{path:"login",element:u.jsx(ZH,{})},{path:"register",element:u.jsx(JH,{})},{path:"forgot-password",element:u.jsx(eG,{})},{element:u.jsx(Ou,{allowedRoles:["client","coach","admin"],loginPath:"/login"}),children:[{path:"profile/:userId",element:u.jsx(tG,{})}]},{element:u.jsx(Ou,{allowedRoles:["client"],loginPath:"/login"}),children:[{path:"dashboard/client",element:u.jsx(nG,{})},{path:"training-plan",element:u.jsx(aG,{})},{path:"training-history",element:u.jsx(iG,{})},{path:"notifications",element:u.jsx(lG,{})},{path:"settings",element:u.jsx(cG,{})}]},{element:u.jsx(Ou,{allowedRoles:["coach","admin"],loginPath:"/login"}),children:[{path:"dashboard/coach",element:u.jsx(rG,{})},{path:"analytics",element:u.jsx(sG,{})},{path:"schedule",element:u.jsx(oG,{})}]},{element:u.jsx(Ou,{allowedRoles:["admin","coach"],loginPath:"/login"}),children:[{path:"admin/users",element:u.jsx(uG,{})},{path:"admin/plans",element:u.jsx(dG,{})}]},{element:u.jsx(Ou,{allowedRoles:["admin"],loginPath:"/login"}),children:[{path:"admin/settings",element:u.jsx(hG,{})}]}]},{path:"*",element:u.jsx(_H,{})}],mG=BP(fG),pG=()=>u.jsx(e5,{router:mG});B3.createRoot(document.getElementById("root")).render(u.jsx(C.StrictMode,{children:u.jsx(C.Suspense,{fallback:"Loading...",children:u.jsx(VM,{children:u.jsx(Iq,{children:u.jsx(pG,{})})})})}));
